function AnimationsManager(gameRef){function create_(obj,frameName,speed,loopOrNumber,kill){return 2==phaserVer_?obj.animations.add(frameName):game.anims.create({key:obj.name_+"_"+frameName,frames:game.anims.generateFrameNames(obj.name_),frameRate:speed?speed:24,repeat:0==loopOrNumber?0:1==loopOrNumber?-1:void 0!=loopOrNumber&&loopOrNumber,hideOnComplete:void 0==kill||kill}),obj}function play_(obj,frameName,speed,loopOrNumber,kill,cb,cbPar){2==phaserVer_?obj.animations.play(frameName,speed,loopOrNumber,kill,cb,cbPar):(obj.play(obj.name_+"_"+frameName),cb&&obj.on("animationcomplete",cb,cbPar))}function setFrame_(obj,frame){2==phaserVer_||obj.anims.pause(obj.anims.currentAnim.frames[frame])}function pause_(obj,frame){2==phaserVer_||obj.anims.pause()}function setScale_(obj,x,y){2==phaserVer_&&(obj.scale.x=x,obj.scale.y=y)}function setAnchor_(obj,x,y){2==phaserVer_&&obj.setAnchor(x,y)}var game=gameRef,me={create:create_,play:play_,pause:pause_,setFrame:setFrame_,setScale:setScale_,setAnchor:setAnchor_};return me}function AutoPlay(gameRef,gameClass){function toggleAutoPlay_(){isAutoPlay_?(getIsInAutoPlay_()&&stopOnFeature&&isFeature_&&framework.updateSmallMessageText(Translate["do"]("Autoplay stopped, you entered a feature.")),clearInterval(iTout_),isAutoPlay_=!1,void 0!=buttonManager_.getButton(frameworkSettings.buttons.autoButton.id)&&buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).setText(autoPlayNum_)):(autoplayMessage_="",currentApNum_=0,isAutoPlay_=!0,buttonManager_.applyState("SPIN"),startBalance_=balanceManager_.getTrueBalance(),lastBal=startBalance_-balanceManager_.getCoinValue(),iTout_=setTimeout(gameClass_.realDoSpin,1e3,[!1])),logger("toggle autoplay "+isAutoPlay_)}function updateApNum_(){var fs=freeSpinsManager_.getIsInFs(),fsWon=freeSpinsManager_.getFsWon();ReelConfig.newUI?!isAutoPlay_||0!=fs||0!=fsWon||null!=gameClass_.getIsRespin&&0!=gameClass_.getIsRespin()||(window.newUI.autospin().text=autoPlayNum_-(currentApNum_+1)):!isAutoPlay_||0!=fs||0!=fsWon||void 0==buttonManager_.getButton(frameworkSettings.buttons.autoButton.id)||null!=gameClass_.getIsRespin&&0!=gameClass_.getIsRespin()||buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).setText(autoPlayNum_-(currentApNum_+1))}function getAutoPlayEval_(){if(logger("get autoplay eval "+isAutoPlay_),isAutoPlay_){var bal=balanceManager_.getTrueBalance();lastWin_=Util.formatNumber(bal-lastBal,2),lastBal=bal;var chk=thresHoldCheck_(bal);if(lastBal=bal-balanceManager_.getCoinValue(),0==chk){if(currentApNum_<autoPlayNum_-1)return 0!=freeSpinsManager_.getIsInFs()||null!=gameClass_.getIsRespin&&0!=gameClass_.getIsRespin()||currentApNum_++,!0;framework.setAutoPlayState(0)}else 1==chk?autoplayMessage_=Translate["do"]("Autoplay stopped, you won:")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(bal-startBalance_,2):2==chk?autoplayMessage_=Translate["do"]("Autoplay stopped, you lost:")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(startBalance_-bal,2):3==chk?(autoplayMessage_=Translate["do"]("Autoplay stopped, you entered a feature."),framework.updateSmallMessageText(autoplayMessage_)):4==chk&&(autoplayMessage_=Translate["do"]("Autoplay stopped, you won:")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(lastWin_,2))}return!1}function getPreAutoPlayAutoriz_(){var chk=0;if(isAutoPlay_){var bal=balanceManager_.getTrueBalance(),diff=bal-startBalance_;if(logger("stop on loss of "+loseTH+" diff: "+Math.abs(diff)),stopOnLose&&diff<0&&Math.abs(diff)>=loseTH&&loseTH>0&&(autoplayMessage_=Translate["do"]("Autoplay stopped, lost limit reached."),chk=2),chk>0)return toggleAutoPlay_(),framework.setAutoPlayState(0),!1}return!0}function showAPMessage_(cb){framework.updateSmallMessageText(autoplayMessage_),unlock_(cb)}function unlock_(callback){isAutoPlay_=!1,framework.setAutoPlayState(0),buttonManager_.applyRestore(),null!=callback&&callback(),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START")}function thresHoldCheck_(bal){var diff=Number(bal)-Number(startBalance_);if(logger("in autoplay check, cash up: "+diff),stopOnAnyWin&&(logger("stop on any win"),Number(lastWin_)>0))return 4;if(stopOnSingleWin){if(logger("stop on win of "+singleWinTH+" lastWin: "+lastWin_),Number(lastWin_)>=Number(singleWinTH)&&Number(singleWinTH)>0)return 4;if(0==Number(singleWinTH))return 9}if(stopOnWin){if(logger("stop on cash up of "+winTH+" cashUP: "+diff),diff>=Number(winTH)&&Number(winTH)>0)return 9;if(0==Number(winTH))return 1}return stopOnLose&&(logger("stop on loss of "+loseTH+" diff: "+Math.abs(diff)),diff<0&&Math.abs(diff)>=Number(loseTH)&&Number(loseTH)>0)?2:stopOnFeature&&(logger("stop on feature  "),1==fsWon||freeSpinsManager_.getFsWon()||isFeature_||freeSpinsManager_.getIsInFs())?3:0}function setWinThreshold_(amount){winTH=amount}function setLoseThreshold_(amount){var tooltip;$(".autoplayStopOnCashDownAmountTooltip").removeClass("show"),$(".autoplayStopOnCashDownTooltip").removeClass("show"),$(".autoplayLowerThanCashDownAmountTooltip").removeClass("show"),$("#autoPlayCashDownLimitMobile").html(amount),$("#autoPlayCashDownLimit").html(amount),ReelConfig.newUI&&framework.isTouch()&&(tooltip=window.newUI.autospin()["interface"].settings.cashDecreasesBy.tooltip,tooltip.classList.add("hidden")),amount>balanceManager_.getCoinValue()?(loseTH=amount,"uk"===loginVars.getRegParams().jurisdiction&&(amount<=balanceManager_.getBalance()?(loseTH=amount,ReelConfig.newUI&&framework.isTouch()&&tooltip.classList.add("hidden")):(loseTH=-100,$(".autoplayLowerThanCashDownAmountTooltip").addClass("show"),ReelConfig.newUI&&framework.isTouch()&&(tooltip.innerHTML=Translate["do"]("Must be lower than balance"),tooltip.classList.contains("hidden")&&tooltip.classList.remove("hidden"))))):""===amount?(loseTH=-100,$(".autoplayStopOnCashDownTooltip").addClass("show"),ReelConfig.newUI&&framework.isTouch()&&(tooltip.innerHTML=Translate["do"]("Must be set to a value"),tooltip.classList.contains("hidden")&&tooltip.classList.remove("hidden"))):(loseTH=-100,$(".autoplayStopOnCashDownAmountTooltip").addClass("show"),ReelConfig.newUI&&framework.isTouch()&&(tooltip.innerHTML=Translate["do"]("Must be greater than current stake"),tooltip.classList.contains("hidden")&&tooltip.classList.remove("hidden")))}function setSingleWinThreshold_(amount){singleWinTH=amount}function toggleStopOnFeature_(stopFS){0!=gameParams.clientName&&""!=gameParams.clientName&&gameParams.clientName.indexOf("theHub_malta_playtech")>=0?(stopOnFeature=!1,$("#autoplayFeatureStop").prop("checked",!1)):stopOnFeature=stopFS}function toggleStopOnWin_(stopWin){stopOnWin=stopWin}function toggleStopOnSingleWin_(stopWin){stopOnSingleWin=stopWin}function toggleStopOnLose_(stopLose){"uk"===loginVars.getRegParams().jurisdiction?stopOnLose=!0:($(".autoplayStopOnCashDownTooltip").removeClass("show"),stopOnLose=stopLose,stopOnLose||$(".autoplayStopOnCashDownAmountTooltip").removeClass("show"))}function toggleStopOnAnyWin_(stopAny){stopOnAnyWin=stopAny}function getIsInAutoPlay_(){return isAutoPlay_}function getAutoPlayNum_(){return autoPlayNum_-currentApNum_}function getCurrentApNum_(){return currentApNum_}function setAutoPlayValue_(newValue){autoPlayNum_=newValue;try{}catch(e){}}var startBalance_,lastWin_,lastBal,gameClass_=gameClass,autoPlayNum_=500,currentApNum_=0,isAutoPlay_=!1,stopOnFeature=!1,isFeature_=!1,stopOnWin=!1,stopOnLose="uk"===loginVars.getRegParams().jurisdiction,stopOnAnyWin=!1,stopOnSingleWin=!1,winTH=-100,loseTH=-100,singleWinTH=-100,fsWon=!1,iTout_=0,autoplayMessage_="",canAP_=!0;logger("HERE:",loginVars.getRegParams().jurisdiction,"uk"===loginVars.getRegParams().jurisdiction,stopOnLose),stopOnLose?($("#autoplayStopOnCashDown").addClass("active"),$("#autoplayStopOnCashDownMobile").addClass("active"),$("#autoplayStopOnCashDown").prop("checked",!0),$("#autoplayStopOnCashDownMobile").prop("checked",!0)):($("#autoplayStopOnCashDown").prop("checked",!1),$("#autoplayStopOnCashDownMobile").prop("checked",!1));var me={setCanAp:function(value){canAP_=value},getCanAp:function(){return canAP_},toggleAutoPlay:toggleAutoPlay_,getIsInAutoPlay:getIsInAutoPlay_,getAutoPlayEval:getAutoPlayEval_,getAutoPlayNum:getAutoPlayNum_,getCurrentApNum:getCurrentApNum_,getStopOnAnyWin:function(){return stopOnAnyWin},getStopOnSingleWin:function(){return stopOnSingleWin},getStopOnWin:function(){return stopOnWin},getStopOnLose:function(){return stopOnLose},updateApNum:updateApNum_,setAutoPlayValue:setAutoPlayValue_,setWinThreshold:setWinThreshold_,setLoseThreshold:setLoseThreshold_,toggleStopOnLose:toggleStopOnLose_,toggleStopOnWin:toggleStopOnWin_,toggleStopOnAnyWin:toggleStopOnAnyWin_,toggleStopOnFeature:toggleStopOnFeature_,setSingleWinThreshold:setSingleWinThreshold_,toggleStopOnSingleWin:toggleStopOnSingleWin_,showAPMessage:showAPMessage_,getPreAutoPlayAutoriz:getPreAutoPlayAutoriz_,getIsFeature:function(){return isFeature_},toggleFeature:function(val){isFeature_=val,getIsInAutoPlay_()&&stopOnFeature&&1==isFeature_&&(framework.updateSmallMessageText(Translate["do"]("Autoplay stopped, you entered a feature.")),toggleAutoPlay_(),framework.setAutoPlayState(0))},getStopOnFeature:function(){return stopOnFeature},validStopOnLose:function(){return!stopOnLose||loseTH>0},setStopOnLose:function(){"uk"===loginVars.getRegParams().jurisdiction&&(stopOnLose=!0,$("#autoplayStopOnCashDown").prop("checked",!0),$("#autoplayStopOnCashDownMobile").prop("checked",!0))},mobToggleStopOnLose:function(){"uk"===loginVars.getRegParams().jurisdiction?stopOnLose=!0:($(".autoplayStopOnCashDownTooltip").removeClass("show"),stopOnLose=!stopOnLose,stopOnLose||$(".autoplayStopOnCashDownAmountTooltip").removeClass("show"))}};return me}function BalanceManager(gameRef,gameClass){function initClass_(){coinValue_=ReelConfig.bet,"false"==guiConfig.showInCredit&&(shoInCredits_=!1),balanceField_=displayManager_.getText("creditValue"),writeBalance_(getCurrencySmb_()+""+Util.formatNumber(Number(balance_.cash),2)),"real"===gameParams.fun_real?framework.updateSmallMessageText(Translate["do"]("Playing for real")):framework.updateSmallMessageText(Translate["do"]("Playing for fun")),window.addEventListener("message",receiveMessage,!1)}function receiveMessage(event){"refresh1x2GameBalance"===event.data&&communicationManager_.sendBalanceReq()}function unBet_(amt){return bBet_=!1,1==freeSpinsManager_.getIsInFs()||(1==freeRoundsManager_.getIsInFr()||("tumble"==communicationManager_.getResumeStatus().status.type||("convert"==communicationManager_.getResumeStatus().status.type||(void 0==amt?balance_.cash>=coinValue_&&(balance_.cash=balance_.cash+coinValue_,balance_.trueCash=balance_.cash):balance_.cash>=amt&&(balance_.cash=balance_.cash+amt,balance_.trueCash=balance_.cash),void balanceUpdate_(!0)))))}function processBalanceBet_(cb){return 1==freeSpinsManager_.getIsInFs()?void cb(!0):1==freeRoundsManager_.getIsInFr()?void cb(!0):"freespins"!=communicationManager_.getResumeStatus().status.hand||"tumble"!=communicationManager_.getResumeStatus().status.type&&"convert"!=communicationManager_.getResumeStatus().status.type?null!=gameClass_.getIsRespin&&gameClass_.getIsRespin()?void cb(!0):void cb(cashCheck_()):void cb(!0)}function processBalanceBuyFeatureBet_(cb,par){cb(cashBuyFeatureCheck_(par),parBuyFeature_)}function buyFeatureBet_(cb,par){return bBet_=!0,parBuyFeature_=par,1==updateBal_()?communicationManager_.getBalance().then(function(response){isNaN(response)||""==response||void 0==response||null==response||(balance_.cash=Number(response)),processBalanceBuyFeatureBet_(cb,par.buyInValue/100)},function(responseError){processBalanceBuyFeatureBet_(cb,par.buyInValue/100)}):void processBalanceBuyFeatureBet_(cb,par.buyInValue/100)}function bet_(cb){return bBet_=!0,1==updateBal_()?communicationManager_.getBalance().then(function(response){isNaN(response)||""==response||void 0==response||null==response||(balance_.cash=Number(response)),processBalanceBet_(cb)},function(responseError){processBalanceBet_(cb)}):void processBalanceBet_(cb)}function updateBal_(){return"true"==gameParams.balanceBeforeSpin&&"real"==gameParams.fun_real}function cashBuyFeatureCheck_(par){return balance_.cash>=par?(balance_.cash=balance_.cash-par,balance_.trueCash=balance_.cash,gcmCalls_("BALANCE",balance_.cash),balanceUpdate_(),updatable_=!1,!0):(clientMessageSend("no-funds"),checkFailed_(),!1)}function cashCheck_(){return balance_.cash>=coinValue_?(balance_.cash=balance_.cash-coinValue_,balance_.trueCash=balance_.cash,balanceUpdate_(),updatable_=!1,!0):(clientMessageSend("no-funds"),checkFailed_(),!1)}function checkFailed_(){autoPlayManager_.getIsInAutoPlay()&&autoPlayManager_.toggleAutoPlay(),framework.setAutoPlayState(0),buttonManager_.applyState("NH")}function parse_(json){if(""!=json.newBalance&&0==isNaN(json.newBalance)&&null!=json.newBalance&&"not sent"!=json.newBalance){if(balance_.balanceFromServer=!0,1==freeSpinsManager_.getIsInFs()&&freeSpinsManager_.getFsNumber()>0&&"tumble"!=freeSpinsManager_.getType()&&"convert"!=freeSpinsManager_.getType())return!0;balance_.cash=Number(json.newBalance),balance_.trueCash=balance_.cash}if(1==freeSpinsManager_.getIsInFs())return!0;if(void 0==gameClass_.getBuyIn||1!=gameClass_.getBuyIn()){if(1==freeRoundsManager_.getIsInFr())return void freeRoundsManager_.parse(json);updatable_&&(writeBalance_(0==shoInCredits_?getCurrencySmb_()+""+Util.formatNumber(Number(balance_.cash),2):getCurrencySmb_()+""+Util.formatNumber(Number(balance_.cash)/coinValue_*lineManager_.getLinesNumber(),0)),gcmCalls_("BALANCE",balance_.cash)),""!=json.newBalance&&1!=isNaN(json.newBalance)&&null!=json.newBalance&&1!=freeRoundsManager_.getIsInFr()||(balance_.cash=balance_.cash+json.value,balance_.trueCash=balance_.cash),updated_=!1,logger("new balance  "+balance_.cash)}}function forceBalance_(val){0==balance_.balanceFromServer&&(balance_.cash=balance_.cash-val,balance_.trueCash=balance_.trueCash-val)}function forceBalanceAfterFS_(val){if(!("7012"==gameParams.gameID&&freeRoundsManager_.getIsInFr()&&freeRoundsManager_.getFrNumber()>0||"7014"==gameParams.gameID&&freeRoundsManager_.getIsInFr()&&freeRoundsManager_.getFrNumber()>0||"7015"==gameParams.gameID&&freeRoundsManager_.getIsInFr()&&freeRoundsManager_.getFrNumber()>0)){if(0==balance_.balanceFromServer&&(0==freeRoundsManager_.getIsInFr()||freeRoundsManager_.getFrNumber()<=0)){if(1==freeRoundsManager_.getIsInFr()&&0==updated_)return void(updated_=!0);balance_.cash=balance_.cash+val,balance_.trueCash=balance_.cash}balanceUpdated_=!1,logger("fs force new balance  "+balance_.cash),balanceUpdate_(!0)}}function forceBalanceAfterFR_(val){if(0==balance_.balanceFromServer&&(0==freeRoundsManager_.getIsInFr()||freeRoundsManager_.getFrNumber()<=0)){if(0==updated_){if(gameInfo.accountID.indexOf("755")>=0)return void(updated_=!0);updated_=!0}balance_.cash=balance_.cash+val,balance_.trueCash=balance_.cash}logger("fs force new balance  "+balance_.cash),balanceUpdate_(!0)}function toggleCredits_(){shoInCredits_=!shoInCredits_,writeBalance_(0==shoInCredits_?getCurrencySmb_()+""+Util.formatNumber(Number(balance_.cash),2):getCurrencySmb_()+""+Util.formatNumber(Number(balance_.cash)/coinValue_*lineManager_.getLinesNumber(),0)),framework.updateSmallMessageText(""),1==winAmtManager_.getInterruptedWinAnim()&&(winAmtManager_.forceToComplete(),lineManager_.clearLineAfterValue()),lineManager_.idle(!0),winManager_.getWinAmt()>0?0==shoInCredits_?displayManager_.getText("winValue").setText(ReelConfig.additionalPreText+Translate["do"]("WIN")+" "+getCurrencySmb_()+Util.formatNumber(winManager_.getWinAmt(),2)+ReelConfig.additionalPostText):displayManager_.getText("winValue").setText(ReelConfig.additionalPreText+Translate["do"]("WIN")+" "+getCurrencySmb_()+Util.formatNumber(winManager_.getWinAmt(),0)+ReelConfig.additionalPostText):displayManager_.getText("winValue").setText("")}function getBalance_(){return Number(1==shoInCredits_?balance_.cash/coinValue_:balance_.cash)}function getTrueBalance_(){return Number(balance_.trueCash)}function getCurrencySmb_(){if(void 0==balance_.currency){var message=new MessageScreen("We were unable to retrieve the game setup parameters","fatal-error","Error Loading Game Currencies:"+balance_.currency,[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0));return""}return 1==shoInCredits_?"":balance_.currency}function geBalanceObj_(){return balance_}function setCoinValue_(value){void 0!=value&&(coinValue_=Util.getNumericValue(value),balanceUpdate_())}function getCoinValue_(){return coinValue_}function setCanUpdate_(value){updatable_=value}function getCanUpdate_(){return updatable_}function forceBalanceUpdate_(){updatable_=!0,balanceUpdate_()}function balanceUpdate_(force){logger(updatable_+" update balance  "+balance_.cash),(updatable_||force)&&(writeBalance_(0==shoInCredits_?getCurrencySmb_()+""+Util.formatNumber(Number(balance_.cash),2):getCurrencySmb_()+""+Util.formatNumber(Number(balance_.cash)/coinValue_*lineManager_.getLinesNumber(),0)),balance_.display=balance_.cash,bBet_||gcmCalls_("BALANCE",balance_.cash),bBet_=!1),0==balanceUpdated_&&(gcmCalls_("ANIMATION_END",null,!0),clientMessageSend("play-end")),balanceUpdated_=!0}function balanceBonusUpdate_(amt,unsAmt){if(gameInfo.freeRoundsAvailable){var p={};return void(p.value=amt+unsAmt)}0==balance_.balanceFromServer&&(balance_.cash+=unsAmt,balance_.trueCash=balance_.cash),updatable_&&(writeBalance_(0==shoInCredits_?getCurrencySmb_()+""+Util.formatNumber(Number(balance_.display),2):getCurrencySmb_()+""+Util.formatNumber(Number(balance_.display)/coinValue_*lineManager_.getLinesNumber(),0)),gcmCalls_("BALANCE",balance_.display))}function setBalance_(_amt){balance_.cash=_amt,balance_.trueCash=balance_.cash,balanceUpdate_()}function balanceBeforeSpin_(){return new Promise(function(resolve,reject){"true"!==gameParams.balanceBeforeSpin||"real"!==gameParams.fun_real?resolve(getBalance_()):communicationManager_.getBalance().done(function(data){data&&setBalance_(data),resolve(getBalance_())})})}function writeBalance_(amt){ReelConfig.newUI?window.innerHeight>window.innerWidth?$("#footer-bottom-balance").html("&nbsp;&nbsp;&nbsp;"+amt):$("#footer-bottom-balance").html(amt):balanceField_.setText(amt)}var balanceField_,gameClass_=gameClass,coinValue_=0,shoInCredits_=!1,updatable_=!0,updated_=!1,bBet_=!1,balanceUpdated_=!0,balance_={cash:loginVars.getLoginParams().balance,trueCash:loginVars.getLoginParams().balance,display:loginVars.getLoginParams().balance,balanceFromServer:!1,bonus:0,currency:loginVars.getCurrencySmb()},parBuyFeature_=[],me={parse:parse_,getBalance:getBalance_,forceBalanceUpdate:forceBalanceUpdate_,getTrueBalance:getTrueBalance_,toggleCredits:toggleCredits_,getCurrencySmb:getCurrencySmb_,geBalanceObj:geBalanceObj_,setCoinValue:setCoinValue_,getCoinValue:getCoinValue_,setCanUpdate:setCanUpdate_,getCcanUpdate:getCanUpdate_,balanceUpdate:balanceUpdate_,balanceBonusUpdate:balanceBonusUpdate_,forceBalanceAfterFS:forceBalanceAfterFS_,forceBalanceAfterFR:forceBalanceAfterFR_,forceBalance:forceBalance_,buyFeatureBet:buyFeatureBet_,bet:bet_,unBet:unBet_,balanceBeforeSpin:balanceBeforeSpin_,setBalanceUpdated:function(val){balanceUpdated_=val},getShowIncredits:function(){return shoInCredits_},getDisplayBalance:function(){return balance_.display},setBalance:setBalance_};return initClass_(),me}function CashCreditsDisplay(gameRef,gameClass){function initClass_(){}function toggleCreditsDisplay_(){shoInCredits_=!shoInCredits_,balanceManager_.toggleCredits(),gameClass_.changeBet(balanceManager_.getCoinValue()),shoInCredits_?(displayManager_.getText("betLabel").setText(Translate["do"]("Coins")),displayManager_.getText("creditLabel").setText(Translate["do"]("Coins:"))):(displayManager_.getText("betLabel").setText(Translate["do"]("Cash")),displayManager_.getText("creditLabel").setText(Translate["do"]("Cash:")))}var gameClass_=gameClass,shoInCredits_=!0,me={toggleCreditsDisplay:toggleCreditsDisplay_};return initClass_(),me}function BuyFeatureReqBox(gameRef){function initClass_(){mainGroup_=displayManager_.getGroup("msgBoxFeature"),mainTextGroup_=displayManager_.getTexts(),void 0!=mainGroup_&&(initMsgBox_(),buttonG=game_.add.group(),mainGroup_.addChild(buttonG))}function showSingleMessage_(msg,msg1,cb,cb2,args){selectedValue_=-1,selectedRoundIndex_=-1,selectedFR_=-1;for(var a in displayManager.groups.msgBoxFeature.buttons)mainButtonGroup_[a].frame=2;fillFileds_(1,msg,msg1,cb,cb2,null,args)}function showMultipleMessage_(msg,msg1,msg2,cb,cb2,args){selectedValue_=-1;for(var a in displayManager.groups.msgBoxFeature.buttons)mainButtonGroup_[a].frame=2;fillMultiFileds_(1,msg,msg1,msg2,cb,cb2,null,args)}function showMultipleMessageMWJ_(msg,msg1,msg2,cb,cb2,args){selectedValue_=-1;for(var a in displayManager.groups.msgBoxFeature.buttons)mainButtonGroup_[a].frame=2;fillMultiFiledsMWJ_(1,msg,msg1,msg2,cb,cb2,null,args)}function showMessageYN_(msg,msg1,cb1,cb2,cb3,args){fillFileds_(1,msg,msg1,cb1,cb2,cb3,args)}function fillFileds_(type,msg,msg1,cb1,cb2,cb3,args){if(isOn=!0,mainButtonGroup_.ok.visible=!1,mainButtonGroup_.yes.visible=!1,mainButtonGroup_.no.visible=!1,2==type?mainButtonGroup_.ok.visible=!0:0==type?(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.no.visible=!1,mainButtonGroup_.yes.x=640):(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.yes.x=displayManager.groups.msgBoxFeature.buttons.yes.x,mainButtonGroup_.no.visible=!0),mainTextGroup_.msgF1.y=displayManager.groups.msgBoxFeature.texts.msgF1.y+120,mainTextGroup_.msgF2.y=displayManager.groups.msgBoxFeature.texts.msgF2.y+150,mainTextGroup_.msgF1.setText(Translate["do"](msg)),mainTextGroup_.msgF2.setText(Translate["do"](msg1)),mainTextGroup_.msgF3.setText(""),mainTextGroup_.priceF.setText(""),void 0!=mainTextGroup_.msgF4&&(mainTextGroup_.msgF4.visible=!1),void 0!=mainTextGroup_.msgF45&&(mainTextGroup_.msgF45.visible=!1),void 0!=mainTextGroup_.msgF5&&(mainTextGroup_.msgF5.visible=!1),void 0!=mainTextGroup_.msgF51&&(mainTextGroup_.msgF51.visible=!1),selectedValue_<0){buttonG.visible=!0;for(var i=0;i<args.length;i++){var b=game.add.button((space+btnW)*i,yOrigin,"container-btn",onClick,this,1,2,0,0);b.anchor.set(0,.5),b.name="btn"+i,b.index=i,b.value=args[i].lockedReels,b.inputEnabled=!0,b.selected=!1,b.onInputOver.add(over,b),b.onInputOut.add(out,b);var t=new Phaser.Text(game,b.width/2,3,args[i].rounds+" = "+balanceManager_.geBalanceObj().currency+Util.formatNumber(args[i].cost,Util.getNubersOfDecimal()),{font:"16px FuturaPT-Book",fill:displayManager.groups.msgBoxFeature.textCol});t.anchor.set(.5,.5),b.addChild(t),buttons.push(b),buttonG.add(b)}buttonG.centerX=640,buttonG.x=displayManager.groups.msgBoxFeature.selectorX-args.length*(btnW/2+space/2),buttonG.y=displayManager.groups.msgBoxFeature.selectorY,arguments_=args}else buttonG.visible=!1;mainGroup_.visible=!0,msgCB1_=cb1,msgCB2_=cb2,msgCB3_=cb3}function fillMultiFileds_(type,msg,msg1,msg2,cb1,cb2,cb3,args){if(selectedValue_=-2,selectedRoundIndex_=-2,selectedFR_=-2,confirm_=!1,isOn=!0,mainButtonGroup_.ok.visible=!1,mainButtonGroup_.yes.visible=!1,mainButtonGroup_.no.visible=!1,framework.hideFramework(),2==type?mainButtonGroup_.ok.visible=!0:0==type?(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.no.visible=!1,mainButtonGroup_.yes.x=640):(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.yes.x=displayManager.groups.msgBoxFeature.buttons.yes.x,mainButtonGroup_.no.visible=!0),mainTextGroup_.msgF1.y=displayManager.groups.msgBoxFeature.texts.msgF1.y,mainTextGroup_.msgF2.y=displayManager.groups.msgBoxFeature.texts.msgF2.y,mainTextGroup_.msgF1.setText(Translate["do"](msg)),mainTextGroup_.msgF2.setText(Translate["do"](msg1)),mainTextGroup_.msgF3.setText(Translate["do"](msg2)),mainTextGroup_.msgF4.visible=!0,mainTextGroup_.msgF45.visible=!0,mainTextGroup_.msgF5.visible=!0,mainTextGroup_.priceF.setText(""),selectedValue_<0){buttonG.visible=!0;for(var i=0;i<args.length;i++){var b=game.add.button((space+btnW)*i,yOrigin,"feature-Fn-btn",onClick,this,1,2,0,0);b.anchor.set(0,.5),b.name="btn"+i,b.type="btn",b.index=i,b.value=args[i].round,b.inputEnabled=!0,b.selected=!1,b.onInputOver.add(over,b),b.onInputOut.add(out,b);var t=new Phaser.Text(game,b.width/2,(-6),args[i].rounds,{font:"20px FuturaPT-Book",fill:displayManager.groups.msgBoxFeature.textCol});t.anchor.set(.5,.5),b.addChild(t),buttons.push(b),buttonG.add(b)}for(var i=0;i<args.length;i++)if(void 0!=args[i].lockedReels){var b=game.add.button((space+btnW)*i+100,yOrigin+115,"feature-Rn-btn",onClickLr,this,1,2,0,0);b.anchor.set(0,.5),b.name="btnL"+i,b.type="btnL",b.index=i,b.value=args[i].lockedReels,b.inputEnabled=!0,b.selected=!1,b.onInputOver.add(over,b),b.onInputOut.add(out,b);var t=new Phaser.Text(game,b.width/2,(-6),args[i].lockedReels,{font:"20px FuturaPT-Book",fill:displayManager.groups.msgBoxFeature.textCol});t.anchor.set(.5,.5),b.addChild(t),buttons.push(b),buttonG.add(b)}buttonG.centerX=640,buttonG.x=displayManager.groups.msgBoxFeature.selectorX-args.length*(btnW/2+space/2),buttonG.y=displayManager.groups.msgBoxFeature.selectorY}else buttonG.visible=!1;mainGroup_.visible=!0,msgCB1_=cb1,msgCB2_=cb2,msgCB3_=cb3,arguments_=args}function fillMultiFiledsMWJ_(type,msg,msg1,msg2,cb1,cb2,cb3,args){selectedValue_=-2,selectedRoundIndex_=-2,selectedFR_=-2,confirm_=!1,isOn=!0;var allExceed=!0;for(var a in buttonG.children)buttonG.remove(buttonG.children[a]);for(var a in buttonG.children)buttonG.remove(buttonG.children[a]);for(var a in buttonG.children)buttonG.remove(buttonG.children[a]);for(var a in buttonG.children)buttonG.remove(buttonG.children[a]);for(var a in buttonG.children)buttonG.remove(buttonG.children[a]);if(mainButtonGroup_.ok.visible=!1,mainButtonGroup_.yes.visible=!1,mainButtonGroup_.no.visible=!1,framework.hideFramework(),2==type?mainButtonGroup_.ok.visible=!0:0==type?(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.no.visible=!1,mainButtonGroup_.yes.x=640):(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.yes.x=displayManager.groups.msgBoxFeature.buttons.yes.x,mainButtonGroup_.no.visible=!0),mainTextGroup_.msgF1.y=displayManager.groups.msgBoxFeature.texts.msgF1.y,mainTextGroup_.msgF2.y=displayManager.groups.msgBoxFeature.texts.msgF2.y,mainTextGroup_.msgF1.setText(Translate["do"](msg)),mainTextGroup_.msgF2.setText(Translate["do"](msg1)),mainTextGroup_.msgF3.setText(Translate["do"](msg2)),void 0!=mainTextGroup_.msgF4&&(mainTextGroup_.msgF4.visible=!0),void 0!=mainTextGroup_.msgF45&&(mainTextGroup_.msgF45.visible=!0),void 0!=mainTextGroup_.msgF5&&(mainTextGroup_.msgF5.visible=!0),mainTextGroup_.priceF.setText(""),void 0!=mainTextGroup_.msgF51&&(mainTextGroup_.msgF51.visible=!0),selectedValue_<0){buttonG.visible=!0;var s=btnW/2-20;yOrigin=80;for(var i=0;i<args.length;i++){s=s+space+btnW;var b=game.add.button(100+s,yOrigin,"feature-Fn-btn",onClickMWJ,this,1,2,0,0);s>500&&(yOrigin+=90,s=btnW/2-20),b.anchor.set(0,.5),b.name="btn"+i,b.type="btn",b.index=i,b.value=args[i].round;var limit=void 0!=args.limit?args.limit:1500;void 0!=gameInfo.exchangeRate&&(gameInfo.exchangeRate*Number(balanceManager_.getCoinValue())*args[i].price<=limit?(b.inputEnabled=!0,b.selected=!1,b.onInputOver.add(over,b),b.onInputOut.add(out,b),b.alpha=1,allExceed=!1):b.alpha=.4);var t=new Phaser.Text(game,b.width/2,(-6),args[i].rounds+" "+args[i].extra,{font:"20px FuturaPT-Book",fill:displayManager.groups.msgBoxFeature.textCol});t.anchor.set(.5,.5),b.addChild(t),buttons.push(b),buttonG.add(b)}buttonG.centerX=640,buttonG.x=displayManager.groups.msgBoxFeature.selectorX-args.length*(btnW/2+space/2),buttonG.y=displayManager.groups.msgBoxFeature.selectorY}else buttonG.visible=!1;mainGroup_.visible=!0,msgCB1_=cb1,msgCB2_=cb2,msgCB3_=cb3,arguments_=args,allExceed&&mainTextGroup_.priceF.setText(Translate["do"]("All the options")+" "+Translate["do"]("Exceedes the bet limit, lower the bet."))}function onClick(dd){dd.selected=!0,dd.frame=2,selectedValue_=arguments_[dd.index].rounds,selectedRoundIndex_=dd.index,selectedRoundIndex_>=0&&selectedFR_>=0&&mainTextGroup_.priceF.setText(Translate["do"]("Total price:")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(Number(balanceManager_.getCoinValue())*arguments_[selectedRoundIndex_].scaleF[selectedFR_],Util.getNubersOfDecimal()));for(var i=0;i<buttons.length;i++)"btn"==buttons[i].type&&buttons[i].name!=dd.name&&(buttons[i].selected=!1,buttons[i].frame=2)}function onClickMWJ(dd){if(dd.alpha<1)return void mainTextGroup_.priceF.setText(Translate["do"]("Exceedes the bet limit, lower the bet."));dd.selected=!0,dd.frame=2,selectedValue_=arguments_[dd.index].rounds,selectedRoundIndex_=dd.index,mainTextGroup_.priceF.setText(Translate["do"]("Total price:")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(Number(balanceManager_.getCoinValue())*arguments_[selectedRoundIndex_].price,Util.getNubersOfDecimal()));for(var i=0;i<buttons.length;i++)"btn"==buttons[i].type&&buttons[i].name!=dd.name&&(buttons[i].selected=!1,buttons[i].frame=2)}function onClickLr(dd){dd.selected=!0,dd.frame=2,selectedFR_=arguments_[dd.index].lockedReels,selectedRoundIndex_>=0&&selectedFR_>=0&&mainTextGroup_.priceF.setText(Translate["do"]("Total price:")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(Number(balanceManager_.getCoinValue())*arguments_[selectedRoundIndex_].scaleF[selectedFR_],Util.getNubersOfDecimal()));for(var i=0;i<buttons.length;i++)"btnL"==buttons[i].type&&buttons[i].name!=dd.name&&(buttons[i].selected=!1,buttons[i].frame=2)}function over(dd){dd.alpha<1||dd.selected&&(dd.frame=0)}function out(dd){dd.alpha<1||dd.selected&&(dd.frame=0)}function doOk_(){0==confirm_?selectedValue_<0?(mainGroup_.visible=!1,messageBox_.showMessage("game",Translate["do"]("Select the Free Spins number"),"",closeMsg)):selectedFR_<0?(mainGroup_.visible=!1,messageBox_.showMessage("game",Translate["do"]("Select the locked reels number"),"",closeMsg)):(arguments_.nLocked=selectedFR_,arguments_.nSpins=selectedValue_,arguments_.buyInValue=100*Number(balanceManager_.getCoinValue())*arguments_[selectedRoundIndex_].scaleF[selectedFR_],arguments_.price=selectedValue_*selectedFR_,mainGroup_.visible=!1,confirm_=!0,showMessageYN_(Translate["do"]("Do you want to buy")+" "+selectedValue_+" "+Translate["do"]("Free Spins with")+"\r"+selectedFR_+" "+Translate["do"]("locked reels"),Translate["do"]("for a total price of")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(Number(balanceManager_.getCoinValue())*arguments_[selectedRoundIndex_].scaleF[selectedFR_],Util.getNubersOfDecimal()),msgCB1_,doKo2_,msgCB2_,arguments_)):buyFeature()}function doOkMWJ_(){0==confirm_?selectedRoundIndex_<0?(mainGroup_.visible=!1,messageBox_.showMessage("game",Translate["do"]("Select the Free Spins number"),"",closeMsg)):(arguments_.index=selectedRoundIndex_+1,arguments_.buyInValue=100*Number(balanceManager_.getCoinValue())*arguments_[selectedRoundIndex_].price,arguments_.nSpins=selectedRoundIndex_,arguments_.price=arguments_.buyInValue,mainGroup_.visible=!1,confirm_=!0,showMessageYN_(Translate["do"]("Do you want to buy")+" "+selectedValue_+" "+Translate["do"]("Free Spins"),Translate["do"]("for a total price of")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(Number(balanceManager_.getCoinValue())*arguments_[selectedRoundIndex_].price,Util.getNubersOfDecimal()),msgCB1_,doKo2_,msgCB2_,arguments_)):buyFeature()}function buyFeature(){null!=msgCB1_&&msgCB1_(arguments_),mainGroup_.visible=!1,framework.showFramework()}function closeMsg(){mainGroup_.visible=!0}function doKo_(){0==confirm_?(null!=msgCB2_&&msgCB2_(arguments_),mainGroup_.visible=!1,framework.showFramework()):doKo2_()}function doKo2_(){null!=msgCB3_&&msgCB3_(arguments_),mainGroup_.visible=!1,framework.showFramework()}function initMsgBox_(){var bgButton=new Phaser.Button(game_,0,0,null);bgButton.width=1920,bgButton.height=1080,mainGroup_.add(bgButton);for(var a in displayManager.groups.msgBoxFeature.buttons){var buttonE=new Phaser.Button(game_,displayManager.groups.msgBoxFeature.buttons[a].x,displayManager.groups.msgBoxFeature.buttons[a].y,displayManager.groups.msgBoxFeature.buttons[a].name,me[displayManager.groups.msgBoxFeature.buttons[a].evt],this,1,2,0,0);
if(mainButtonGroup_[a]=buttonE,buttonE.anchor.set(.5,.5),mainGroup_.add(buttonE),null!=displayManager.groups.msgBoxFeature.buttons[a].texts)for(var t in displayManager.groups.msgBoxFeature.buttons[a].texts){var txt=new Phaser.Text(game_,displayManager.groups.msgBoxFeature.buttons[a].texts[t].x,displayManager.groups.msgBoxFeature.buttons[a].texts[t].y,"",{font:displayManager.groups.msgBoxFeature.buttons[a].texts[t].font,fill:displayManager.groups.msgBoxFeature.buttons[a].texts[t].fill,boundsAlignH:displayManager.groups.msgBoxFeature.buttons[a].texts[t].align,fontWeight:null==displayManager.groups.msgBoxFeature.buttons[a].texts[t].weight?"normal":displayManager.groups.msgBoxFeature.buttons[a].texts[t].weight});txt.anchor.set(void 0!=displayManager.groups.msgBoxFeature.buttons[a].texts[t].anchorX?displayManager.groups.msgBoxFeature.buttons[a].texts[t].anchorX:0,void 0!=displayManager.groups.msgBoxFeature.buttons[a].texts[t].anchorY?displayManager.groups.msgBoxFeature.buttons[a].texts[t].anchorY:0),void 0!=displayManager.groups.msgBoxFeature.buttons[a].texts[t].text&&txt.setText(Translate["do"](displayManager.groups.msgBoxFeature.buttons[a].texts[t].text)),null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),buttonE.addChild(txt),mainTextGroup_[t]=txt}}mainGroup_.visible=!1}var mainGroup_,mainTextGroup_,msgCB1_,msgCB2_,msgCB3_,arguments_,buttonG,game_=gameRef,isOn=!1,mainButtonGroup_=[],buttons=[],btnW=210,yOrigin=80,space=-20,selectedValue_=-2,selectedRoundIndex_=-2,selectedFR_=-2,confirm_=!1,me={showMessageYN:showMessageYN_,showMultipleMessage:showMultipleMessage_,showMultipleMessageMWJ:showMultipleMessageMWJ_,showSingleMessage:showSingleMessage_,doOk:doOk_,doOkMWJ:doOkMWJ_,doKo:doKo_,getIsOnMessage:function(){return isOn}};return initClass_(),me}function Communication(gameRef){function initClass_(){}function sendNHReq_(obj){}function sendBonusReq_(obj){}function sendServleForceSpinReq_(mode,args,tumble){try{if(forceDemoID_>0)return spin=!0,void setTimeout(processForceDemo_,200);var page=gameParams.path+gameParams.slotEngine+"?mode="+mode;if(1==ReelConfig.newComm){if(""!=document.getElementsByName("ch1")[0].checked&&(page+=document.getElementsByName("ch1")[0].value),null!=args&&void 0!=document.getElementsByName("chForceEnable")&&1==document.getElementsByName("chForceEnable")[0].checked){page+="&forceFeatures=1&reelContents=";for(var i=0;i<ReelConfig.numReels;i++)page+=args[i].toString().replace(/r/g,"-1")+","}}else null!=args&&void 0!=document.getElementsByName("chForceEnable")&&1==document.getElementsByName("chForceEnable")[0].checked&&(page+="&manual=1",null!=args[0]&&(page+="&row1="+args[0]),null!=args[1]&&(page+="&row2="+args[1]),null!=args[2]&&(page+="&row3="+args[2]),null!=args[3]&&(page+="&row4="+args[3]),null!=args[4]&&(page+="&row5="+args[4]),null!=args[5]&&(page+="&row6="+args[5]),null!=args[6]&&(page+="&row7="+args[6]),null!=args[args.length-1]&&(page+="&egg="+args[args.length-1])),""!=document.getElementsByName("seed")[0].value&&(page+="&forceReelHeights="+document.getElementsByName("seed")[0].value),document.getElementsByName("ch1")[0].checked&&(page+="&forceHarpID=1",page+="&forceHarpValue=2"),document.getElementsByName("ch2")[0].checked&&(page+="&forceHarpID=1",page+="&forceHarpValue=4"),document.getElementsByName("ch3")[0].checked&&(page+="&forceHarpID=1",page+="&forceHarpValue=8"),document.getElementsByName("ch4")[0].checked&&(page+="&forceHarpID=2",page+="&forceHarpValue=5"),document.getElementsByName("ch5")[0].checked&&(page+="&forceHarpID=3",page+="&forceHarpValue=2"),document.getElementsByName("ch6")[0].checked&&(page+="&forceHarpID=4",page+="&forceHarpValue=1"),document.getElementsByName("ch7")[0].checked&&(page+="&forceHarpID=5",page+="&forceHarpValue=2"),document.getElementsByName("ch8")[0].checked&&(page+="&forceHarpID=7",page+="&forceHarpValue=1");page+="&gameID="+gameParams.gameID,page+="&accountID="+gameInfo.accountID,page+="&customerID="+gameInfo.customerID,page+="&username="+gameInfo.username,page+="&currency="+gameInfo.currency,page+="&site="+gameParams.site,page+="&version="+gameParams.version,page+="&ex_rate="+gameInfo.exchangeRate,page+="&fun_real="+gameInfo.playMode,page+="&conf="+gameParams.confType,page+="&mobile="+framework.isTouch(),page+="&jurisdiction="+loginVars.getRegParams().jurisdiction,page+="&gameType=PREMIUMSLOTS",0==freeRoundsManager_.getIsInFr()?(page+="&isPromoRound=0",page+="&promoActivationID=0",page+="&promoCampaignID=0",page+="&promoType=0"):(page+="&isPromoRound=1",page+="&promoActivationID="+freeRoundsManager_.getActivationID(),page+="&promoCampaignID="+freeRoundsManager_.getCampaignID(),page+="&promoType=0");var bet=0;"spin"===mode&&(bet=100*Number(balanceManager_.getCoinValue()),page+="&lines="+lineManager_.getRealLinesNumber()),page+="&stake="+bet,logger("req "+page),$.post(page,{func:"SlotEngineRequest"},function(data){var errorCode=data.response.errorcode;if(0===errorCode||null==errorCode)"IntegratedSlots"==ReelConfig.slotEngine&&(data.response.type=mode),getResponse_(data.response);else{var desc=data.response.errordesc;if(f1x2.GcmError(desc,errorCode))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen(desc,"fatal-error","Error Loading Game Setup",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Home"}],(!1),(!0))}},"json").fail(function(){if(f1x2.GcmError("We were unable to retrieve the game setup parameters",-2))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen("We were unable to retrieve the game setup parameters","fatal-error","Error Loading Game Setup",[{action:function(){message.destroy(),window.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))})}catch(E){if(f1x2.GcmError("Apparently we\u2019re having some trouble, please try again later.",-2))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen("Apparently we\u2019re having some trouble, please try again later.","fatal-error","Something went wrong!",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))}}function freeRoundsRequest_(paramString){var page=gameParams.path+"freeRounds.jsp?"+paramString;return page+="&accountID="+gameInfo.accountID,page+="&gameID="+gameParams.gameID,$.getJSON(page).then(function(response){return response},function(responseError){return!1})}function uniqueBetValuesRequest_(){var page=gameParams.path+"getBetValues.jsp?";return page+="&siteID="+gameParams.site,page+="&gameID="+gameParams.gameID,page+="&ex_rate="+gameInfo.exchangeRate,page+="&currency="+gameInfo.currency,page+="&jurisdiction="+loginVars.getRegParams().jurisdiction,$.getJSON(page).then(function(response){return response},function(responseError){return!1})}function getBalance_(){var page=gameParams.path+"getBalance.jsp?";return page+="&siteID="+gameParams.site,page+="&gameID="+gameParams.gameID,page+="&accountID="+gameInfo.accountID,page+="&customerID="+gameInfo.customerID,page+="&username="+gameInfo.username,$.get(page).then(function(data){return 0===Number(getParam(data,"error_code"))&&Number(getParam(data,"balance"))},function(responseError){return!1})}function processForceDemo_(){"IntegratedSlots"==ReelConfig.slotEngine&&(forceDemo["win"+forceDemoID_][forceProgressive_].response.type="spin"),getResponse_(forceDemo["win"+forceDemoID_][forceProgressive_].response),forceProgressive_++,forceDemo["win"+forceDemoID_].length<=forceProgressive_&&(forceProgressive_=0,forceDemoID_=-1)}function sendServletRequest_(mode,args){var spin=!1;try{if(forceDemoID_>0)return spin=!0,void setTimeout(processForceDemo_,200);"IntegratedSlots"==ReelConfig.slotEngine?gameParams.slotEngine=ReelConfig.slotEngine:Number(gameParams.gameID)>=7014?gameParams.slotEngine=ReelConfig.slotEngine+"0":gameParams.slotEngine=ReelConfig.slotEngine+Util.getRandomInt(0,null!=ReelConfig.engineNumbers&&0!=gameParams.clientName&&(gameParams.clientName.indexOf("NYX")>=0||gameParams.clientName.indexOf("Quickfire")>=0)?ReelConfig.engineNumbers:3);var page=gameParams.path+gameParams.slotEngine+"?mode="+mode;page+="&accountID="+gameInfo.accountID,page+="&customerID="+gameInfo.customerID,page+="&username="+gameInfo.username,page+="&currency="+gameInfo.currency,page+="&site="+gameParams.site,page+="&jurisdiction="+loginVars.getRegParams().jurisdiction,"undefined"!=gameParams.version&&(page+="&version="+gameParams.version),page+="&gameID="+gameParams.gameID,page+="&ex_rate="+gameInfo.exchangeRate,page+="&fun_real="+gameInfo.playMode,page+="&conf="+gameParams.confType,page+="&mobile="+framework.isTouch(),page+="&gameType=PREMIUMSLOTS",void 0==freeRoundsManager_||0==freeRoundsManager_.getIsInFr()?(page+="&isPromoRound=0",page+="&promoActivationID=0",page+="&promoCampaignID=0",page+="&promoType=0"):(page+="&isPromoRound=1",page+="&promoActivationID="+freeRoundsManager_.getActivationID(),page+="&promoCampaignID="+freeRoundsManager_.getCampaignID(),page+="&promoType=0");var bet=0;"spin"===mode?(spin=!0,bet=100*Number(balanceManager_.getCoinValue()),page+="&lines="+lineManager_.getRealLinesNumber()):"bonus"===mode||"choose"===mode||"CHOICE"===mode?page+=args:"replay"===mode&&(page+="&"+args),page+="&stake="+bet,logger("req "+page),$.post(page,{func:"SlotEngineRequest"},function(data){var errorCode=data.response.errorcode;if("login"!=data.response.type,0===errorCode||null==errorCode)"IntegratedSlots"==ReelConfig.slotEngine&&(data.response.type=mode),getResponse_(data.response);else{spin&&(balanceManager_.unBet(),balanceManager_.forceBalanceUpdate());var desc=Translate["do"](data.response.errordesc);f1x2.GcmError(desc,errorCode)?(autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),spinManager_.getSpinned()&&spinManager_.stopSpinForError(),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START")):errorCode<=-700&&errorCode>=-799?window.f1x2.messageHandlerInit.check(function(){resetGameFunction()},"error"):MessageScreen.showMessageFromServer(desc,errorCode)}},"json").fail(function(){if(f1x2.GcmError("Apparently we\u2019re having some trouble, please try again later.",-2))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen("Apparently we\u2019re having some trouble, please try again later.","fatal-error","Something went wrong!",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))})}catch(E){if(f1x2.GcmError("Apparently we\u2019re having some trouble, please try again later.",-2))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen("Apparently we\u2019re having some trouble, please try again later.","fatal-error","Something went wrong!",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))}}function resetGameFunction(){autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START")}function sendServletBfRequest_(mode,args){var spin=!1;try{"IntegratedSlots"==ReelConfig.slotEngine?gameParams.slotEngine=ReelConfig.slotEngine:"7014"==gameParams.gameID||"7015"==gameParams.gameID||"7016"==gameParams.gameID||"7019"==gameParams.gameID||"7022"==gameParams.gameID?gameParams.slotEngine=ReelConfig.slotEngine+"0":gameParams.slotEngine=ReelConfig.slotEngine+Util.getRandomInt(0,null!=ReelConfig.engineNumbers&&0!=gameParams.clientName&&(gameParams.clientName.indexOf("NYX")>=0||gameParams.clientName.indexOf("Quickfire")>=0)?ReelConfig.engineNumbers:3);var page=gameParams.path+gameParams.slotEngine+"?mode="+mode;page+="&accountID="+gameInfo.accountID,page+="&customerID="+gameInfo.customerID,page+="&username="+gameInfo.username,page+="&currency="+gameInfo.currency,page+="&site="+gameParams.site,page+="&version="+gameParams.version,page+="&ex_rate="+gameInfo.exchangeRate,page+="&fun_real="+gameInfo.playMode,page+="&conf="+gameParams.confType,page+="&mobile="+framework.isTouch(),page+="&jurisdiction="+loginVars.getRegParams().jurisdiction,void 0==freeRoundsManager_||0==freeRoundsManager_.getIsInFr()?(page+="&isPromoRound=0",page+="&promoActivationID=0",page+="&promoCampaignID=0",page+="&promoType=0"):(page+="&isPromoRound=1",page+="&promoActivationID="+freeRoundsManager_.getActivationID(),page+="&promoCampaignID="+freeRoundsManager_.getCampaignID(),page+="&promoType=0");var bet=0;"spin"===mode&&("IntegratedSlots"==ReelConfig.slotEngine?(page+="&gameID="+gameParams.gameID,page+="&ex_rate="+gameInfo.exchangeRate,page+="&fun_real="+gameInfo.playMode,page+="&conf="+gameParams.confType,page+="&mobile="+framework.isTouch(),page+="&gameType=PREMIUMSLOTS",spin=!0,bet=100*Number(balanceManager_.getCoinValue()),page+="&lines="+lineManager_.getRealLinesNumber(),page+="&buyIn=true",page+="&buyInValue="+args.buyInValue,page+="&selection_0="+(args.index-1),page+="&nSpins="+args.nSpins):(spin=!0,bet=100*Number(balanceManager_.getCoinValue()),page+="&lines="+lineManager_.getRealLinesNumber(),page+="&buyin=true",page+="&buyInValue="+args.buyInValue,page+="&nSpins="+args.nSpins,void 0!=args.index?page+="&buyID="+args.index:(page+="&nLocked="+args.nLocked,page+="&nSpins="+args.nSpins,page+="&buyInValue="+args.buyInValue))),page+="&stake="+bet,logger("req "+page),$.post(page,{func:"SlotEngineRequest"},function(data){var errorCode=data.response.errorcode;if(0===errorCode||null==errorCode)data.response.startBuyIn=!0,"IntegratedSlots"==ReelConfig.slotEngine&&(data.response.type=mode),getResponse_(data.response);else{spin&&(balanceManager_.unBet(),balanceManager_.forceBalanceUpdate());var desc=Translate["do"](data.response.errordesc);f1x2.GcmError(desc,errorCode)?(autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),spinManager_.getSpinned()&&spinManager_.stopSpinForError(),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START")):MessageScreen.showMessageFromServer(desc,errorCode)}},"json").fail(function(){if(f1x2.GcmError("Apparently we\u2019re having some trouble, please try again later.",-2))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen("Apparently we\u2019re having some trouble, please try again later.","fatal-error","Something went wrong!",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))})}catch(E){if(f1x2.GcmError("Apparently we\u2019re having some trouble, please try again later.",-2))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen("Apparently we\u2019re having some trouble, please try again later.","fatal-error","Something went wrong!",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))}}function getResponse_(json){1==ReelConfig.newComm&&(json=communicationWrapper_(json)),"login"==json.type&&(status_=json,framework.doSetup(json)),earlyResponse_(json)}function earlyResponse_(json){void 0!=spinManager_?("replay"==json.type&&framework.doReplay(json),"spin"==json.type&&(1!=framework.isTouch()||hasFocus_||(window.focus(),soundManager_.resumeAllFocus()),"real"==gameParams.fun_real&&window.f1x2.messageHandlerInit.use()&&json.bet>0?window.f1x2.messageHandlerInit.check(function(){1==json.startBuyIn?gameClass_.getBuyInResponse(json):(null!=document.getElementsByName("lastSeed")[0]&&(document.getElementsByName("lastSeed")[0].value=json.status.indices),spinManager_.parse(json),freeSpinsManager_.parse(json),scatterManager_.parse(json))},"place"):1==json.startBuyIn?gameClass_.getBuyInResponse(json):(null!=document.getElementsByName("lastSeed")[0]&&(document.getElementsByName("lastSeed")[0].value=json.status.indices),spinManager_.parse(json),freeSpinsManager_.parse(json),scatterManager_.parse(json))),"bonusSetup"==json.type&&bonusManager_.initBonus(json),"doubleSetup"==json.type&&bonusManager_.initBonus(json),"bonus"==json.type&&bonusManager_.parse(json),"collect"==json.type&&bonusManager_.collectCallBack(json),"double"==json.type&&sendServletRequest_("doubleSetup"),"choose"==json.type&&(freeSpinsManager_.parse(json),gameClass_.startFS()),null!=json.balance&&balanceManager_.parse(json.balance)):setTimeout(earlyResponse_,200,json)}function sendBalanceReq_(){var paramString="username="+gameInfo.username+"&accountID="+gameParams.accountID+"&gameID="+gameParams.gameID+"&siteID="+gameParams.site+"&installID="+gameParams.installID,page=gameParams.path+"/getAccountInfo.jsp?"+paramString;$.post(page,{func:"getAccountInfo"},function(data){var errorCode=getParam(data,"error_code");if("0"==errorCode)balanceManager_.setBalance(Number(getParam(data,"balance")));else{var desc=Translate["do"](getParam(data,"error_description"));if(f1x2.GcmError(desc,errorCode))autoPlayManager_.getIsInAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen(desc,"fatal-error","Error Loading Account Info",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))}},"text").fail(function(){if(f1x2.GcmError("We were unable to retrieve your account information",-2))autoPlayManager_.getIsInAutoPlay()&&autoPlayManager_.toggleAutoPlay(),spinManager_.stopSpinForError(),framework.setAutoPlayState(0),buttonManager_.applyState("NH"),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START");else var message=new MessageScreen("We were unable to retrieve your account information","fatal-error","Error Loading Account Info",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))})}function getParam(url,name){name+="=";var firstSplit=url.split("&"),returnedString="";for(i=0;i<firstSplit.length;i++)if(firstSplit[i].indexOf(name)!=-1){var a=firstSplit[i].split("=");logger("a: "+a.length);for(var j=1;j<a.length;j++)returnedString+=a[j],j<a.length-1&&(returnedString+="=")}return returnedString}function communicationWrapper_(json){var ret={},reelObj=ret,tumbler=!1;if(ret.status={},void 0!=json.startBuyIn&&(ret.startBuyIn=!0),ret.type="login",void 0!=json.config){if(reelObj=ret.status={},ret.status.hasBuyIn=!1,void 0!=json.config.betValues&&(ret.betValues=json.config.betValues),void 0!=json.config.autoPlayValues&&(ret.autoPlayValues=json.config.autoPlayValues),void 0!=json.config.paytable&&(ret.paytable=json.config.paytable),void 0!=json.config.defaultBetVal&&(ret.status.stake=100*Number(json.config.defaultBetVal)),void 0!=json.config.win&&(ret.status.totalWin=json.config.win.total),1!=json.config.disableBuyIn&&(ret.status.hasBuyIn=!0,void 0!=json.config.buyInSetup)){ret.status.buyInSetup={},ret.status.buyInSetup.options=[];for(var a in json.config.buyInSetup.options[0].price)ret.status.buyInSetup.options[a]={},ret.status.buyInSetup.options[a].rounds=json.config.buyInSetup.options[0].price[a].spins,ret.status.buyInSetup.options[a].price=json.config.buyInSetup.options[0].price[a].stakeScale,ret.status.buyInSetup.options[a].extra=""}if(void 0!=json.config.lines){ret.lines=[];for(var a=0;a<json.config.lines.length;a++){var o={};o.id=Number(a)+1,o.config=json.config.lines[a],ret.lines.push(o)}}}else ret.type=json.type,ret.spin={},reelObj=ret.spin;if(void 0!=json.bet&&(ret.balance={},ret.balance.value=0,void 0!=json.bet.addBalance&&(ret.balance.value=json.bet.addBalance),void 0!=json.bet.balance&&(ret.balance.newBalance=json.bet.balance)),void 0!=json.results&&"replay"!=json.type&&void 0!=json.results.reels){reelObj.reels=[],reelObj.reel=[];for(var a=0;a<json.results.reels.length;a++){var o={};o.id=a,o.smb=[];for(var b=0;b<json.results.reels[a].length;b++){var oo={};oo.id=b,oo.smb=json.results.reels[a][b].smbID,oo.prevsmb=void 0!=json.results.reels[a][b].prevSmbID?json.results.reels[a][b].prevSmbID:null,oo.anim=void 0!=json.results.reels[a][b].anim||null,oo.trigger=void 0!=json.results.reels[a][b].trigger||null,oo.animate=void 0!=json.results.reels[a][b].animate&&json.results.reels[a][b].animate,oo.special=null!=json.results.reels[a][b].special?json.results.reels[a][b].special:"n/a",oo.special=null!=json.results.reels[a][b].explode?"tumble":oo.special,json.results.reels[a][b].explode&&(tumbler=!0),o.smb.push(oo)}reelObj.reels.push(o),reelObj.reel.push(o)}}if(void 0!=json.results&&void 0!=balanceManager_&&"replay"!=json.type){if(ret.win={},ret.win.total=json.results.win.total*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),ret.win.jackpot="0",ret.win.bonus="0",void 0!=json.results.win.symbolWin&&"login"!=ret.type){ret.win.lineWin=json.results.win.symbolWin.coins*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),ret.win.line=[];for(var a=0;a<json.results.win.symbolWin.symbols.length;a++){var o={};o.id=Number(json.results.win.symbolWin.symbols[a].lineID)+1,o.amt=json.results.win.symbolWin.symbols[a].amt*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),o.wild=[],o.config=[0,0,0,0,0];for(var b=0;b<Number(json.results.win.symbolWin.symbols[a].num);b++)o.config[b]=1;o.config=o.config.join(""),ret.win.line.push(o)}}void 0!=json.state&&void 0!=json.state.status&&(ret.bonus={},ret.bonus.wonBonus=0,ret.bonus.baseMult=0,ret.bonus.curWin=0,ret.state=json.state,"CHOICE"==json.state.status?(ret.freeSpin={},ret.freeSpin.won=10,ret.freeSpin.multiplier=1,ret.freeSpin.num=10):"FREESPINS_TRIGGER"==json.state.status?(ret.freeSpin={},ret.freeSpin.won=json.state.freespinsRemaining,ret.freeSpin.multiplier=json.state.mult,ret.freeSpin.num=json.state.freespinsRemaining,ret.freeSpin.totalWin=json.state.totalWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),7023==gameParams.gameID&&(ret.freeSpin.type="FREESPINS_TRIGGER"==json.state.status?"freespins":"tumble")):"FREESPINS"==json.state.status&&(ret.freeSpin={},ret.freeSpin.won=json.state.wonAdditionalSpins>0?json.state.wonAdditionalSpins:0,ret.freeSpin.multiplier=json.state.mult,ret.freeSpin.num=json.state.freespinsRemaining,ret.freeSpin.totalWin=json.state.totalWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),ret.freeSpin.object=json.state,ret.freeSpin.type="spin"),tumbler&&json.results.win.total>0&&(ret.status.type="tumble",ret.freeSpin={},ret.freeSpin.type="tumble",ret.freeSpin.won=json.state.wonAdditionalSpins>0?json.state.wonAdditionalSpins:0,ret.freeSpin.multiplier=json.state.mult,ret.freeSpin.num=json.state.freespinsRemaining,ret.freeSpin.totalWin=json.state.totalWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),ret.freeSpin.object=json.state))}else if(void 0!=json.results&&"replay"!=json.type)ret.status.state=json.state.status,void 0!=json.bet&&void 0!=json.bet.stake&&(ret.status.stake=100*json.bet.stake),"setup"==json.type&&(ret.status.type="normal"),void 0!=json.config.win,ret.freeSpin={},"FREESPINS_TRIGGER"==json.state.status?(ret.freeSpin={},ret.freeSpin.won=json.state.freespinsRemaining,ret.freeSpin.multiplier=json.state.mult,ret.freeSpin.num=json.state.freespinsRemaining):"FREESPINS"==json.state.status&&(ret.freeSpin={},ret.freeSpin.won=json.state.wonAdditionalSpins>0?json.state.wonAdditionalSpins:0,ret.freeSpin.multiplier=json.state.mult,ret.freeSpin.num=json.state.freespinsRemaining,ret.freeSpin.totalWin=json.state.totalWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),ret.freeSpin.object=json.state);else if("replay"==json.type){ret.scatter={},ret.total=json.results.total,ret.spins=[],ret.spins[0]={},reelObj=ret.spins[0],reelObj.bonus=0,reelObj.jackpot=0,reelObj.line={},reelObj.scatter={},reelObj.reel=[];for(var a=0;a<json.results.reels.length;a++){var o={};o.id=a,o.smb=[];for(var b=0;b<json.results.reels[a].length;b++){var oo={};oo.id=b,oo.smb=json.results.reels[a][b].smbID,o.smb.push(oo)}reelObj.reel.push(o)}for(var a=0;a<json.results.win.symbolWin.symbols.length;a++){var o={};o.amt=json.results.win.symbolWin.symbols[a].amt*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()),o.count=json.results.win.symbolWin.symbols[a].num,o.id=Number(json.results.win.symbolWin.symbols[a].lineID)+1,o.smb=Number(json.results.win.symbolWin.symbols[a].lineID)+1,o.mult=json.results.win.symbolWin.symbols[a].mult,o.multiplier=o.mult,o.wild=[],reelObj.line[Number(json.results.win.symbolWin.symbols[a].lineID)+1]=o}for(var a=0;a<json.results.win.scatterWin.scatters.length;a++){var o={};o.amt=json.results.win.scatterWin.scatters[a].amt,o.type=json.results.win.scatterWin.scatters[a].bonusWon.toLowerCase(),o.win=0,o.multiplier=json.results.win.scatterWin.scatters[a].mult,o.numSymbols=json.results.win.scatterWin.scatters[a].num,o.fsAwarded=void 0!=json.results.win.scatterWin.scatters[a].bonusWonValue?json.results.win.scatterWin.scatters[a].bonusWonValue:0,o.reels=[1,1,1,1,1],reelObj.scatter[json.results.win.scatterWin.scatters[a].smbID]=o}}return ret}var status_,forceDemoID_=-1,forceProgressive_=0,me={sendNHReq:sendNHReq_,sendBonusReq:sendBonusReq_,sendServletRequest:sendServletRequest_,sendServletBfRequest:sendServletBfRequest_,sendServleForceSpinReq:sendServleForceSpinReq_,sendBalanceReq:sendBalanceReq_,freeRoundsRequest:freeRoundsRequest_,uniqueBetValuesRequest:uniqueBetValuesRequest_,getBalance:getBalance_,getResumeStatus:function(){return status_},resetResumeStatus:function(){return status_.status.type=""},startForceDemo:function(id){forceDemoID_=id,forceProgressive_=0}};return initClass_(),me}function CurrencyManager(){function initClass_(){}function getCurrencySym_(currency_code,pathCDN){currencyCode=currency_code;var url=pathCDN+"f1x2games/getCurrencySymbol.jsp?",paramString="currency_code="+currency_code;$.post(url+paramString,{func:"getCurrencySymbol"},function(data){var obj=JSON.parse(data);currencySymbol_=obj.currency_symbol[0].symbol,currencySymbolEsc_=htmlDecode(currencySymbol_)},"text").fail(function(){currencySymbol_=currencyFallBack(currency_code),currencySymbolEsc_=htmlDecode(currencySymbol_)})}function currencyFallBack(currency){var currencySym="";switch(currency){case"FUN":currencySym="FUN";break;case"ARS":currencySym="$";break;case"AUD":currencySym="$";break;case"BBD":currencySym="$";break;case"BRL":currencySym="$";break;case"GBP":currencySym="\xa3";break;case"CAD":currencySym="$";break;case"CLP":currencySym="$";break;case"CNY":currencySym="\u5143";break;case"CZK":currencySym="K";break;case"DKK":currencySym="kr";break;case"XCD":currencySym="$";break;case"EGP":currencySym="\xa3";break;case"EEK":currencySym="k";break;case"EUR":currencySym="\u20ac";break;case"HKD":currencySym="\u5143";break;case"HUF":currencySym="F";break;case"ISK":currencySym="k";break;case"INR":currencySym="\u20a8";break;case"IDR":currencySym="R";break;case"ILS":currencySym="\u20aa";break;case"JMD":currencySym="$";break;case"JPY":currencySym="\xa5";break;case"LVL":currencySym="L";break;case"LBP":currencySym="\xa3";break;case"LTL":currencySym="L";break;case"MYR":currencySym="R";break;case"MXN":currencySym="$";break;case"NAD":currencySym="$";break;case"NPR":currencySym="\u20a8";break;case"NZD":currencySym="$";break;case"NOK":currencySym="k";break;case"PHP":currencySym="P";break;case"PLN":currencySym="Z";break;case"SGD":currencySym="$";break;case"ZAR":currencySym="R";break;case"KRW":currencySym="\u20a9";break;case"LKR":currencySym="\u20a8";break;case"SEK":currencySym="K";break;case"CHF":currencySym="F";break;case"THB":currencySym="\u0e3f";break;case"TRY":currencySym="L";break;case"USD":currencySym="$";break;case"VEF":currencySym="B"}return currencySym}function getSymbol_(){return currencySymbolEsc_?currencySymbolEsc_:currencyFallBack(currencyCode)}function htmlDecode(input){var e=document.createElement("div");return e.innerHTML=input,0===e.childNodes.length?"":e.childNodes[0].nodeValue}var currencySymbol_,currencySymbolEsc_,currencyCode,currency={getCurrencySymbol:getCurrencySym_,getSymbol:getSymbol_};return initClass_(),currency}function LaunchParams(){function initClass_(){gameParams_={path:getParameterByName("path"),installID:getParameterByName("installID"),accountID:getParameterByName("acc_id"),site:getParameterByName("site"),version:getParameterByName("gameVersion"),gameID:getParameterByName("gameID"),lang:getParameterByName("language"),pathCDN:getParameterByName("pathCDN"),lobbyurl:getParameterByName("lobbyUrl"),gcmEnv:getParameterByName("NYX_GCM_ENV"),gcmParams:getParameterByName("NYX_GCM_PARAMS"),ukGCLink:getParameterByName("ukGCLink"),channel:getParameterByName("channel"),fun_real:getParameterByName("playMode"),gameName:getParameterByName("gameName"),gameType:getParameterByName("gameType"),folderName:getParameterByName("folderName"),force:getParameterByName("force"),seeding:getParameterByName("seeding"),singleTexts:getParameterByName("singleTexts"),confType:getParameterByName("confType")||2,doLog:getParameterByName("log")||!1,clientName:getParameterByName("clientName")||!1,forceMobile:getParameterByName("forceMobile")||!1,slotEngine:"",balanceBeforeSpin:getParameterByName("balanceBeforeSpin")||!1,setChannel:function(str){setChannel_(str)}},isNaN(gameParams_.confType)&&(gameParams_.confType=2),"paint"===gameParams_.folderName&&(gameParams_.confType=1),"null"===gameParams_.lobbyurl&&(gameParams_.lobbyurl=window.location.href),regParams_={jurisdiction:getParameterByName("jurisdiction"),realitycheck_uk_elapsed:getParameterByName("realitycheck_uk_elapsed"),realitycheck_uk_limit:getParameterByName("realitycheck_uk_limit"),realitycheck_uk_proceed:getParameterByName("realitycheck_uk_proceed"),realitycheck_uk_exit:getParameterByName("realitycheck_uk_exit"),realitycheck_uk_history:getParameterByName("realitycheck_uk_history"),realitycheck_uk_autospin:getParameterByName("realitycheck_uk_autospin")};for(var longLanguages=["de","es","fr","gr","it","jp","no","pl","pt","ru","se","tr"],i=0;i<longLanguages.length;i++)if(gameParams_.lang===longLanguages[i]){$("html").addClass("has--long--text");break}$("body").attr({"data-jurisdiction":regParams_.jurisdiction,"data-playMode":gameParams_.fun_real})}function setChannel_(str){gameParams_.channel=str}function setMobile_(isMobile){if(isMobile&&"-"!==gameParams_.site.split("")[0]){var s="1";null!=gameParams_.site&&"null"!=gameParams_.site&&""!=gameParams_.site&&(s=gameParams_.site),gameParams_.site="-"+s}}function doLogin_(){login_=new Login(gameParams_,regParams_)}function getGameParams_(){return gameParams_}function getRegParams_(){return regParams_}function getLoginParams_(){return login_.gameInfo}function getCurrencySmb_(){return logger("login: "+login_.getCurrencySmb()),login_.getCurrencySmb();
}function getParameterByName(name){var ret="";if(sessionStorage.getItem(name))return ret=sessionStorage.getItem(name),"gameName"===name&&(ret=ret.replace(/%20/g," ")),ret;name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return ret=null===results?"":decodeURIComponent(results[1].replace(/\+/g," ")),"gameName"===name&&(ret=ret.replace(/%20/g," ")),ret}var gameParams_,regParams_,login_,params={getGameParams:getGameParams_,getRegParams:getRegParams_,getLoginParams:getLoginParams_,getCurrencySmb:getCurrencySmb_,setMobile:setMobile_,setChannel:setChannel_,doLogin:doLogin_};return initClass_(),params}function Login(launchVars,regVars){function initClass_(launchVars){if("real"===launchVars.fun_real){var paramString="accountID="+launchVars.accountID+"&gameID="+launchVars.gameID+"&siteID="+launchVars.site+"&installID="+launchVars.installID,page=launchVars.path+"/getAccountInfo.jsp?"+paramString;loginReal(page)}else{var page1=launchVars.path+"/getGuestID.jsp";loginFun(page1)}}function loginReal(page){$.post(page,{func:"getAccountInfo"},function(data){var errorCode=getParam(data,"error_code");if("0"==errorCode){if(gameInfo_.accountID=getParam(data,"accountID"),gameInfo_.customerID=getParam(data,"customerID"),gameInfo_.username=getParam(data,"username"),gameInfo_.currency=getParam(data,"iso_code"),gameInfo_.exchangeRate=Number(getParam(data,"exchange_rate")),gameInfo_.balance=Number(getParam(data,"balance")),gameInfo_.playMode=1,gameInfo_.sessionID=getParam(data,"sessionID"),gameInfo_.minStakeMultiplier=Number(getParam(data,"minStakeMultiplier")),gameInfo_.maxStakeMultiplier=Number(getParam(data,"maxStakeMultiplier")),gameInfo_.maxLiabilityMultiplier=Number(getParam(data,"maxLiabilityMultiplier")),gameInfo_.maxStake*=gameInfo_.maxStakeMultiplier,gameInfo_.minStake*=gameInfo_.minStakeMultiplier,gameInfo_.maxPayout*=gameInfo_.maxLiabilityMultiplier,gameInfo_.freeRoundsAvailable="true"===getParam(data,"freeroundsAvailable"),currencyManager_.getCurrencySymbol(gameInfo_.currency,launchVars.pathCDN),gameInfo=gameInfo_,"IT"===regVars.jurisdiction.toUpperCase()&&""!=gameParams.clientName&&gameParams.clientName.indexOf("NYX")<0){var aamsSession=getQueryString("AAMS_SESSION",data),aamsTicket=getQueryString("AAMS_TICKET",data),aamsLink=getQueryString("AAMS_LINK",data),respLink=getQueryString("RESPONSIBLE_LINK",data);$(".resp__link").attr("href",respLink),$(".aams__link").attr("href",aamsLink),$("#aams_part_id").html(aamsTicket),$("#aams_sess_id").html(aamsSession),$("#aams_part_id_name").html(getQueryString("AAMS_TICKET_LABEL",data)+": "),$("#aams_sess_id_name").html(getQueryString("AAMS_SESSION_LABEL",data)+": ");var showSession="true"===getQueryString("SHOW_AAMS_SESSION",data),showTicket="true"===getQueryString("SHOW_AAMS_TICKET",data);showSession||$(".aams__ids li").eq(1).hide(),showTicket||$(".aams__ids li").eq(0).hide();var showAamsBar=!("true"===getParam(data,"hideAamsBar"));showAamsBar&&($(".aams__container").css("display","flex"),""!=gameParams.clientName&&gameParams.clientName.indexOf("NYX")>=0&&431==Math.abs(Number(gameParams.site))?($(".aams__logos_Sisal").show(),$(".aams__logos").hide()):($(".aams__logos").show(),$(".aams__logos_Sisal").hide()))}communicationManager_=new Communication(game),communicationManager_.sendServletRequest("setup")}else{var desc=getParam(data,"error_description");if(!f1x2.GcmError(desc,errorCode))var message=new MessageScreen(desc,"fatal-error","Error Loading Account Info",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))}},"text").fail(function(){if(!f1x2.GcmError("Error Loading Account Info",-2))var message=new MessageScreen("We were unable to retrieve your account information","fatal-error","Error Loading Account Info",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))})}function loginFun(page){gameInfo_.accountID="guest",gameInfo_.customerID="guest",gameInfo_.username="guest",gameInfo_.currency="FUN",gameInfo_.exchangeRate=1,gameInfo_.balance=5e3,gameInfo_.playMode=-1,gameInfo_.minStakeMultiplier=1,gameInfo_.maxStakeMultiplier=1,gameInfo_.maxLiabilityMultiplier=1,gameInfo_.maxStake*=gameInfo_.maxStakeMultiplier,gameInfo_.minStake*=gameInfo_.minStakeMultiplier,gameInfo_.maxPayout*=gameInfo_.maxLiabilityMultiplier,currencyManager_.getCurrencySymbol(gameInfo_.currency,launchVars.pathCDN),$.post(page,{func:"getFunInfo"},function(data){gameInfo_.accountID=getParam(data,"guestID"),gameInfo_.customerID="guest"+gameInfo_.accountID,gameInfo=gameInfo_,communicationManager_=new Communication(game),communicationManager_.sendServletRequest("setup")},"text").fail(function(){if(!f1x2.GcmError("Error Loading Account Info",-2))var message=new MessageScreen("We were unable to retrieve your account information","fatal-error","Error Loading Account Info",[{action:function(){message.destroy(),window.top.location.replace(gameParams.lobbyurl)},label:"Lobby"}],(!1),(!0))})}function getQueryString(field,url){var href=url?url:window.location.href,reg=new RegExp("[?&]"+field+"=([^&#]*)","i"),string=reg.exec(href);return string?string[1]:null}function getParam(url,name){name+="=";var firstSplit=url.split("&"),returnedString="";for(i=0;i<firstSplit.length;i++)if(firstSplit[i].indexOf(name)!=-1){var a=firstSplit[i].split("=");logger("a: "+a.length);for(var j=1;j<a.length;j++)returnedString+=a[j],j<a.length-1&&(returnedString+="=")}return returnedString}function getCurrencySmb_(){return logger("currencyManager_: "+currencyManager_+" sym: "+currencyManager_.getSymbol()),currencyManager_.getSymbol()}var currencyManager_=new CurrencyManager,gameInfo_={},login={gameInfo:gameInfo_,getCurrencySmb:getCurrencySmb_};return initClass_(launchVars),login}function DisplayManager(gameRef){function initClass_(){for(var a in displayManager.groups){if(null!=displayManager.groups[a].parent){var g=game_.add.container();g.y=displayManager.groups[a].y,g.x=displayManager.groups[a].x,gameGroups_[a]=getGroup_(displayManager.groups[a].parent).add(g)}else gameGroups_[a]=addGroup();if(null!=displayManager.groups[a].graphAsset){if(1==displayManager.groups[a].fakeButton){var bgButton=new Phaser_Button(game_,null,0,0);bgButton.width=1920,bgButton.height=1080,gameGroups_[a].add(bgButton)}gameGroups_[a].eventBlock=null!=displayManager.groups[a].eventBlock&&displayManager.groups[a].eventBlock;for(var ga in displayManager.groups[a].graphAsset){if(gameGroups_[a][ga]=addGroup(),"group"!=ga){var sp=spriteManager_.addSprite(displayManager.groups[a].graphAsset[ga].x,displayManager.groups[a].graphAsset[ga].y,displayManager.groups[a].graphAsset[ga].name);if(null!=displayManager.groups[a].graphAsset[ga].width&&(sp.width=displayManager.groups[a].graphAsset[ga].width),null!=displayManager.groups[a].graphAsset[ga].height&&(sp.height=displayManager.groups[a].graphAsset[ga].height),null!=displayManager.groups[a].graphAsset[ga].angle&&(sp.angle=displayManager.groups[a].graphAsset[ga].angle),null!=displayManager.groups[a].graphAsset[ga].scaleX&&(sp.scale.x=displayManager.groups[a].graphAsset[ga].scaleX),null!=displayManager.groups[a].graphAsset[ga].scaleY&&(sp.scale.y=displayManager.groups[a].graphAsset[ga].scaleY),sp.setAnchor(void 0!=displayManager.groups[a].graphAsset[ga].anchorX?displayManager.groups[a].graphAsset[ga].anchorX:0,void 0!=displayManager.groups[a].graphAsset[ga].anchorY?displayManager.groups[a].graphAsset[ga].anchorY:0),sp.defX=displayManager.groups[a].graphAsset[ga].x,sp.defY=displayManager.groups[a].graphAsset[ga].y,gameGroups_[a].add(gameGroups_[a][ga]),gameGroups_[a][ga].add(sp),gameGroups_[a].visible=null==displayManager.groups[a].visible||displayManager.groups[a].visible,null!=displayManager.groups[a].graphAsset[ga].visible&&(sp.visible=displayManager.groups[a].graphAsset[ga].visible),null!=displayManager.groups[a].graphAsset[ga].alpha&&(sp.alpha=displayManager.groups[a].graphAsset[ga].alpha),void 0!=displayManager.groups[a].graphAsset[ga].texts)for(var t in displayManager.groups[a].graphAsset[ga].texts){var txt=null;if(null!=displayManager.groups[a].graphAsset[ga].texts[t].font?txt=spriteManager_.addText(displayManager.groups[a].graphAsset[ga].x+displayManager.groups[a].graphAsset[ga].texts[t].x,displayManager.groups[a].graphAsset[ga].y+displayManager.groups[a].graphAsset[ga].texts[t].y,"",displayManager.groups[a].graphAsset[ga].texts[t].anchorX,displayManager.groups[a].graphAsset[ga].texts[t].anchorY,{font:displayManager.groups[a].graphAsset[ga].texts[t].font,fill:displayManager.groups[a].graphAsset[ga].texts[t].fill,align:displayManager.groups[a].graphAsset[ga].texts[t].align,fontWeight:null==displayManager.groups[a].graphAsset[ga].texts[t].weight?"normal":displayManager.groups[a].graphAsset[ga].texts[t].weight,fontVariant:null==displayManager.groups[a].graphAsset[ga].texts[t].variant?"normal":displayManager.groups[a].graphAsset[ga].texts[t].variant,backgroundColor:displayManager.groups[a].graphAsset[ga].texts[t].backgroundColor}):null!=displayManager.groups[a].graphAsset[ga].texts[t].bmpFont&&(logger(t+" disp manager BMP font "+displayManager.groups[a].graphAsset[ga].texts[t].bmpFont),txt=spriteManager_.addBMPText(displayManager.groups[a].graphAsset[ga].x+displayManager.groups[a].graphAsset[ga].texts[t].x,displayManager.groups[a].graphAsset[ga].y+displayManager.groups[a].graphAsset[ga].texts[t].y,displayManager.groups[a].graphAsset[ga].texts[t].bmpFont,"",displayManager.groups[a].graphAsset[ga].texts[t].size,displayManager.groups[a].graphAsset[ga].texts[t].align)),null!=txt){if(txt.defX=displayManager.groups[a].graphAsset[ga].texts[t].x,txt.defY=displayManager.groups[a].graphAsset[ga].texts[t].y,null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),txt.setAnchor(void 0!=displayManager.groups[a].graphAsset[ga].texts[t].anchorX?displayManager.groups[a].graphAsset[ga].texts[t].anchorX:0,void 0!=displayManager.groups[a].graphAsset[ga].texts[t].anchorY?displayManager.groups[a].graphAsset[ga].texts[t].anchorY:0),void 0!=displayManager.groups[a].graphAsset[ga].texts[t].text&&txt.setText(Translate["do"](displayManager.groups[a].graphAsset[ga].texts[t].text)),void 0!=displayManager.groups[a].graphAsset[ga].texts[t].shadow&&1==displayManager.groups[a].graphAsset[ga].texts[t].shadow){var shadowDim=jQuery.isArray(displayManager.groups[a].graphAsset[ga].texts[t].shadowDim)?displayManager.groups[a].graphAsset[ga].texts[t].shadowDim:[displayManager.groups[a].graphAsset[ga].texts[t].shadowDim,displayManager.groups[a].graphAsset[ga].texts[t].shadowDim];txt.setShadow(shadowDim[0],shadowDim[1],displayManager.groups[a].graphAsset[ga].texts[t].shadow.shadowColor,displayManager.groups[a].graphAsset[ga].texts[t].shadowBlur)}void 0!=displayManager.groups[a].graphAsset[ga].texts[t].stroke&&(txt.stroke=displayManager.groups[a].graphAsset[ga].texts[t].stroke,txt.strokeThickness=displayManager.groups[a].graphAsset[ga].texts[t].stroke_tick),void 0!=displayManager.groups[a].graphAsset[ga].texts[t].visible&&(txt.visible=displayManager.groups[a].graphAsset[ga].texts[t].visible);var mod=Translate.langModifier(ga,t,displayManager.groups[a].graphAsset[ga].texts[t].text);null!=mod&&(null!=mod.font&&(txt.fontSize=mod.font),null!=mod.x&&(txt.x=txt.x+mod.x),null!=mod.y&&(txt.y=txt.y+mod.y)),gameGroups_[a][ga].add(txt),gameText_[t]=txt}}}else gameGroups_[a].add(gameGroups_[a][ga]);if(null!=displayManager.groups[a].graphAsset[ga].portrait){var portraitObject_={};if(portraitObject_.group=gameGroups_[a][ga],portraitObject_.anchorX=void 0!=displayManager.groups[a].graphAsset[ga].anchorX?displayManager.groups[a].graphAsset[ga].anchorX:0,portraitObject_.anchorY=void 0!=displayManager.groups[a].graphAsset[ga].anchorY?displayManager.groups[a].graphAsset[ga].anchorY:0,portraitObject_.scaleX=void 0!=displayManager.groups[a].graphAsset[ga].scaleX?displayManager.groups[a].graphAsset[ga].scaleX:1,portraitObject_.scaleY=void 0!=displayManager.groups[a].graphAsset[ga].scaleY?displayManager.groups[a].graphAsset[ga].scaleY:1,portraitObject_.sprite=sp,portraitObject_.normalAsset=displayManager.groups[a].graphAsset[ga].name,Number(gameParams.gameID)<7022)portraitObject_.portraitAsset=spriteManager_.getSpritePath(displayManager.groups[a].graphAsset[ga].name)+"-Portrait";else{var s=spriteManager_.getSpritePath(displayManager.groups[a].graphAsset[ga].name).substr(0,spriteManager_.getSpritePath(displayManager.groups[a].graphAsset[ga].name).lastIndexOf("/"))+"/mobile"+spriteManager_.getSpritePath(displayManager.groups[a].graphAsset[ga].name).substr(spriteManager_.getSpritePath(displayManager.groups[a].graphAsset[ga].name).lastIndexOf("/"),spriteManager_.getSpritePath(displayManager.groups[a].graphAsset[ga].name).length);portraitObject_.portraitAsset=s}portraitAssets_.push(portraitObject_)}}}if(null!=displayManager.groups[a].animAsset)for(var ga in displayManager.groups[a].animAsset){gameGroups_[a][ga]=addGroup();var sp=spriteManager_.addSprite(displayManager.groups[a].animAsset[ga].x,displayManager.groups[a].animAsset[ga].y,displayManager.groups[a].animAsset[ga].name,displayManager.groups[a].animAsset[ga].anchorX,displayManager.groups[a].animAsset[ga].anchorY);null!=displayManager.groups[a].animAsset[ga].width&&(sp.width=displayManager.groups[a].animAsset[ga].width),null!=displayManager.groups[a].animAsset[ga].height&&(sp.height=displayManager.groups[a].animAsset[ga].height),null!=displayManager.groups[a].animAsset[ga].angle&&(sp.angle=displayManager.groups[a].animAsset[ga].angle),null!=displayManager.groups[a].animAsset[ga].scaleX&&(sp.scale.x=displayManager.groups[a].animAsset[ga].scaleX),null!=displayManager.groups[a].animAsset[ga].scaleY&&(sp.scale.y=displayManager.groups[a].animAsset[ga].scaleY),null!=displayManager.groups[a].animAsset[ga].visible&&(sp.visible=displayManager.groups[a].animAsset[ga].visible),sp.setAnchor(void 0!=displayManager.groups[a].animAsset[ga].anchorX?displayManager.groups[a].animAsset[ga].anchorX:0,void 0!=displayManager.groups[a].animAsset[ga].anchorY?displayManager.groups[a].animAsset[ga].anchorY:0),gameGroups_[a].add(gameGroups_[a][ga]),gameGroups_[a][ga].add(sp),void 0!=displayManager.groups[a].animAsset[ga].autoplay&&1!=displayManager.groups[a].animAsset[ga].autoplay||(sp.animations.add("anim"),sp.animations.play("anim",displayManager.groups[a].animAsset[ga].fps,!0)),gameGroups_[a].visible=null==displayManager.groups[a].visible||displayManager.groups[a].visible}var ua=window.navigator.userAgent;if(null!=displayManager.groups[a].videoAsset&&ua.indexOf("iPhone")==-1)for(var ga in displayManager.groups[a].videoAsset){gameGroups_[a][ga]=addGroup();var sp=new Phaser.Video(game_,displayManager.groups[a].videoAsset[ga].name),sprite=sp.addToWorld(displayManager.groups[a].videoAsset[ga].x,displayManager.groups[a].videoAsset[ga].y,.5,.5);null!=displayManager.groups[a].videoAsset[ga].width&&(sprite.width=displayManager.groups[a].videoAsset[ga].width),null!=displayManager.groups[a].videoAsset[ga].height&&(sprite.height=displayManager.groups[a].videoAsset[ga].height),null!=displayManager.groups[a].videoAsset[ga].angle&&(sprite.angle=displayManager.groups[a].videoAsset[ga].angle),gameGroups_[a].add(gameGroups_[a][ga]),gameGroups_[a][ga].add(sprite),videos_[displayManager.groups[a].videoAsset[ga].name]=sp}if(null!=displayManager.groups[a].texts)for(var t in displayManager.groups[a].texts){var txt=null;if(null!=displayManager.groups[a].texts[t].font){var offset=0;if("uk"==loginVars.getRegParams().jurisdiction&&"theHub_malta_playtech"==gameParams.clientName&&1!=ReelConfig.newUI&&("status"!=a||"creditLabel"!=t&&"creditValue"!=t||(offset=100,0==addGc_&&(addGc_=1)),1==addGc_)){addGc_=2;var sp=spriteManager_.addSprite(10,displayManager.groups[a].texts[t].y,"gc");sp.scale.x=1,sp.scale.y=1,sp.visible=!0,sp.inputEnabled=!0,sp.events.onInputDown.add(listener,this),gameGroups_[a].add(sp)}logger(t+" disp manager font "+displayManager.groups[a].texts[t].font),txt=spriteManager_.addText(displayManager.groups[a].texts[t].x+offset,displayManager.groups[a].texts[t].y,"",displayManager.groups[a].texts[t].anchorX,displayManager.groups[a].texts[t].anchorY,{font:displayManager.groups[a].texts[t].font,fill:displayManager.groups[a].texts[t].fill,align:displayManager.groups[a].texts[t].align,fontWeight:null==displayManager.groups[a].texts[t].weight?"normal":displayManager.groups[a].texts[t].weight,fontVariant:null==displayManager.groups[a].texts[t].variant?"normal":displayManager.groups[a].texts[t].variant,backgroundColor:displayManager.groups[a].texts[t].backgroundColor})}else null!=displayManager.groups[a].texts[t].bmpFont&&(logger(t+" disp manager BMP font "+displayManager.groups[a].texts[t].bmpFont),txt=spriteManager_.addBMPText(displayManager.groups[a].texts[t].x,displayManager.groups[a].texts[t].y,displayManager.groups[a].texts[t].bmpFont,"",displayManager.groups[a].texts[t].size,displayManager.groups[a].texts[t].align));if(null!=txt){if(null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),txt.defX=displayManager.groups[a].texts[t].x,txt.defY=displayManager.groups[a].texts[t].y,txt.setAnchor(void 0!=displayManager.groups[a].texts[t].anchorX?displayManager.groups[a].texts[t].anchorX:0,void 0!=displayManager.groups[a].texts[t].anchorY?displayManager.groups[a].texts[t].anchorY:0),void 0!=displayManager.groups[a].texts[t].text&&txt.setText(Translate["do"](displayManager.groups[a].texts[t].text)),void 0!=displayManager.groups[a].texts[t].shadow&&1==displayManager.groups[a].texts[t].shadow){var shadowDim=jQuery.isArray(displayManager.groups[a].texts[t].shadowDim)?displayManager.groups[a].texts[t].shadowDim:[displayManager.groups[a].texts[t].shadowDim,displayManager.groups[a].texts[t].shadowDim];txt.setShadow(shadowDim[0],shadowDim[1],displayManager.groups[a].texts[t].shadow.shadowColor,displayManager.groups[a].texts[t].shadowBlur)}void 0!=displayManager.groups[a].texts[t].stroke&&(txt.stroke=displayManager.groups[a].texts[t].stroke,txt.strokeThickness=displayManager.groups[a].texts[t].stroke_tick),void 0!=displayManager.groups[a].texts[t].visible&&(txt.visible=displayManager.groups[a].texts[t].visible);var mod=Translate.langModifier(a,t,displayManager.groups[a].texts[t].text);null!=mod&&(null!=mod.font&&(txt.fontSize=mod.font),null!=mod.x&&(txt.x=txt.x+mod.x),null!=mod.y&&(txt.y=txt.y+mod.y)),gameGroups_[a].add(txt),gameText_[t]=txt}}if(null!=displayManager.groups[a].mainButtons)for(var b in displayManager.groups[a].mainButtons){var buttonE=new Phaser_Button(game,displayManager.groups[a].mainButtons[b].name,displayManager.groups[a].mainButtons[b].x,displayManager.groups[a].mainButtons[b].y,1,2,0,null,null,doClickButton_);if(buttonE.function_=displayManager.groups[a].mainButtons[b].evt,gameButtons_[b]=buttonE,gameGroups_[a].add(buttonE),null!=displayManager.groups[a].mainButtons[b].texts)for(var t in displayManager.groups[a].mainButtons[b].texts){var txt=spriteManager_.addText(displayManager.groups[a].mainButtons[b].x+displayManager.groups[a].mainButtons[b].texts[t].x,displayManager.groups[a].mainButtons[b].y+displayManager.groups[a].mainButtons[b].texts[t].y,Translate["do"](displayManager.groups[a].mainButtons[b].texts[t].text),displayManager.groups[a].mainButtons[b].texts[t].anchorX,displayManager.groups[a].mainButtons[b].texts[t].anchorY,{font:displayManager.groups[a].mainButtons[b].texts[t].font,fill:displayManager.groups[a].mainButtons[b].texts[t].fill,boundsAlignH:displayManager.groups[a].mainButtons[b].texts[t].align,fontWeight:null==displayManager.groups[a].mainButtons[b].texts[t].weight?"normal":displayManager.groups[a].mainButtons[b].texts[t].weight});void 0!=displayManager.groups[a].mainButtons[b].texts[t].text&&txt.setText(Translate["do"](displayManager.groups[a].mainButtons[b].texts[t].text)),buttonE.add(txt),gameText_[t]=txt}displayManager.groups[a].mainButtons[b].evtOver&&(buttonE.functionOver_=displayManager.groups[a].mainButtons[b].evtOver,buttonE.onInputOver.add(over_,this)),displayManager.groups[a].mainButtons[b].evtOut&&(buttonE.functionOut_=displayManager.groups[a].mainButtons[b].evtOut,buttonE.onInputOver.add(out_,this))}}initialOrder_=gameGroups_}function listener(){window.open(gameParams.ukGCLink,"_blank")}function doClickButton_(evt){gameClass_[evt.function_]()}function over_(evt){gameClass_[evt.functionOver_](evt)}function out_(evt){gameClass_[evt.functionOut_](evt)}function getPortraitAssets_(){return portraitAssets_}function getGroup_(name){return gameGroups_[name]}function getButton_(name){return gameButtons_[name]}function getText_(name){return gameText_[name]}function getTexts_(){return gameText_}function timedMessage_(msg,tOut,s){framework.updateSmallMessageText(msg),setTimeout(resetMsg_,tOut,s)}function resetMsg_(s){framework.updateSmallMessageText(s)}function getEventBlockWindOn_(){for(var a in gameGroups_)if(null!=gameGroups_[a].eventBlock&&1==gameGroups_[a].eventBlock&&1==gameGroups_[a].visible&&gameGroups_[a].y>=0)return!0;return!1}function getVideo_(name){return videos_[name]}var initialOrder_,game_=gameRef,gameGroups_=[],videos_=[],gameText_=[],gameButtons_=[],portraitAssets_=[],addGc_=0,me={getVideo:getVideo_,getGroup:getGroup_,getText:getText_,getTexts:getTexts_,timedMessage:timedMessage_,getEventBlockWindOn:getEventBlockWindOn_,getButton:getButton_,getPortraitAssets:getPortraitAssets_};return initClass_(),me}function SessionTimer(){function realityTimeout(){if(logger("doing reality timeout check "+ukRegs.jurisdiction),limitLegal(ukRegs.realitycheck_uk_limit)&&!elapsedLegal(ukRegs.realitycheck_uk_elapsed)&&(ukRegs.realitycheck_uk_elapsed="0"),paramLegal(ukRegs.jurisdiction)&&limitLegal(ukRegs.realitycheck_uk_limit)&&elapsedLegal(ukRegs.realitycheck_uk_elapsed)){var timeToSession=Number(ukRegs.realitycheck_uk_limit)-Number(ukRegs.realitycheck_uk_elapsed);timeToSession<=0?showRealityCheck():setTimeout(function(){showRealityCheck()},1e3*timeToSession)}else gameClass_.setMessageOnOff(!1)}function showRealityCheck(){autoPlayManager_.getIsInAutoPlay()&&autoPlayManager_.toggleAutoPlay(),framework.setAutoPlayState(0),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START"),gameClass_.setMessageOnOff(!0),document.removeEventListener("click",showRealityCheck);var sTime=((new Date).getTime()-gameStartTime)/1e3,t=""+sTime,sessionTimer=t.toHHMMSS(),buttons=[],title="",message="<p>"+Translate["do"]("The time limit you have set has expired, we recommend that you take a short break before continuing.")+"</p>";message+="<p>"+Translate["do"]("You have been playing for")+": "+sessionTimer+"</p>";var buttons=[{label:Translate["do"]("Continue Playing"),action:function(){gameClass_.setMessageOnOff(!1),realityMessage.destroy(),keepPlayingGame()}},{label:Translate["do"]("Exit Game"),action:function(){endGame()}}],but={label:Translate["do"]("Account History"),action:function(){realityMessage.destroy(),showGameHistory()}};buttons.splice(1,0,but),realityMessage=new MessageScreen(message,"message",title,buttons,(!1),(!0))}function showGameHistory(){function _callback(){realityMessage.destroy(),showRealityCheck()}if(paramLegal(ukRegs.realitycheck_uk_history)){var win=window.open(ukRegs.realitycheck_uk_history,"_blank");win.focus(),showRealityCheck()}else framework.getMenu().showHistory(_callback,!0)}function endGame(){buttonManager_.applyHide();var url=gameParams.path+"/realityChoice.jsp?rPage="+ukRegs.realitycheck_uk_exit;$.post(url,{func:"endGame"},function(response){f1x2.clientWrapperInit.send("game-close"),f1x2.clientWrapperInit.doLobbyURLNavigate&&(paramLegal(gameParams.lobbyurl)?top.location.href=gameParams.lobbyurl:top.location.href="http://www.gamblingcommission.gov.uk/")},"xml").fail(function(){f1x2.clientWrapperInit.send("game-close"),f1x2.clientWrapperInit.doLobbyURLNavigate&&(paramLegal(gameParams.lobbyurl)?top.location.href=gameParams.lobbyurl:top.location.href="http://www.gamblingcommission.gov.uk/")}),realityMessage.destroy()}function keepPlayingGame(){var page=gameParams.path+"/realityChoice.jsp?rPage="+ukRegs.realitycheck_uk_proceed;sessionCounter++,$.post(page,{func:"keepPlayingGame"},function(response){ukRegs.realitycheck_uk_elapsed=0,realityTimeout()},"xml").fail(function(){ukRegs.realitycheck_uk_elapsed=0,realityTimeout()})}function limitLegal(input){return!(!paramLegal(input)||isNaN(input))&&(input>0||void 0)}function elapsedLegal(input){return!(!paramLegal(input)||isNaN(input))}function paramLegal(input){return!!input&&("none"!==input&&"null"!==input&&""!==input&&null!==input&&void 0!==input&&input!==window.location.href)}var sessionCounter=1,realityMessage=null,ukRegs=loginVars.getRegParams(),gameStartTime=(new Date).getTime()-1e3*Number(ukRegs.realitycheck_uk_elapsed);String.prototype.toHHMMSS=function(){var sec_num=parseInt(this,10),hours=Math.floor(sec_num/3600),minutes=Math.floor((sec_num-3600*hours)/60),seconds=sec_num-3600*hours-60*minutes;hours<10&&(hours="0"+hours),minutes<10&&(minutes="0"+minutes),seconds<10&&(seconds="0"+seconds);var time=hours+":"+minutes+":"+seconds;return time},realityTimeout()}function AutoPanelValueBox(target,targetValues){function resetAp_(){buttonManager_.getButton("autoPlay").setText(""),buttonManager_.getButton("autoPlay").setBackGround(frameworkSettings.buttons.autoButton.bg),apState_=0,framework.setAutoPlayState(0),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START")}function toggleOptionsOpen_(){autoEnable_=!1,setTimeout(autoReset_,autoTout),_this.animateItem($("#autoPlaySettings"))}function autoReset_(){autoEnable_=!0}function closeSettings_(){resetAp_(),closeMenu_()}function closeMenu_(){_this.hideOptions($("#autoPlaySettings"))}ConsoleValueBox.call(this);var _this=this;this.target_=target,this.targetValues_=targetValues;var apState_=0;this.setValue=function(){this.boxInfo_.value=this.targetValues_[this.boxInfo_.step],$(this.targetValue).text(this.boxInfo_.value),autoPlayManager_.setAutoPlayValue(_this.boxInfo_.value)},this.setListeners=function(){$("#auto_amount").text(""),$("body").on("touchstart click",function(e){logger("body click"),$("#autoPlaySettings").hasClass("hidden")||1!=framework.getAutoplaySettings().getApState()||(_this.animateItem($("#autoPlaySettings")),resetAp_(),ReelConfig.newUI&&(window.newUI.autospin().text=window.AUTOSPIN_VALUES.value()),logger("hidden"))}),$("#autoPlaySettings").on("click touchstart mousedown",function(e){e.stopPropagation()}),$("#autoPlay").on("touchstart mousedown click",function(e){e.stopPropagation()}),$("#autoplayStopOnAnyWin:checkbox").change(function(){autoPlayManager_.toggleStopOnAnyWin($(this).is(":checked"))}),$("#autoplayStopOnWin:checkbox").change(function(){autoPlayManager_.toggleStopOnSingleWin($(this).is(":checked"))}),$("#autoplayStopOnCashUp:checkbox").change(function(){autoPlayManager_.toggleStopOnWin($(this).is(":checked"))}),$("#autoplayStopOnCashDown:checkbox").change(function(){autoPlayManager_.toggleStopOnLose($(this).is(":checked"))}),$("#autoplayFeatureStop:checkbox").change(function(){autoPlayManager_.toggleStopOnFeature($(this).is(":checked"))})},this.animateItem=function(target){$(target).hasClass("hidden")?fadeElement(target,"in"):fadeElement(target,"out")};var autoEnable_=!0,autoTout=400,me={closeMenu:closeMenu_,doAutoPlay:_this.doAutoPlay_,setApState:_this.setApState_,resetAp:resetAp_,getBoxInfo:function(){return _this.boxInfo_},toggleOpen:function(){toggleOptionsOpen_()},closeSettings:function(){closeSettings_()}};return this.initClass_(),me}function BetConsoleValueBox(target,targetValues){function setValueAmount_(value){logger("SET VALUE AMOUNT: "+value);for(var i=0;i<_this.targetValues_.length;i++)Number(value)===Number(_this.targetValues_[i])&&(_this.boxInfo_.value=_this.targetValues_[i],_this.boxInfo_.step=i,$(_this.targetValue).text(balanceManager_.geBalanceObj().currency+""+Util.formatNumb(value,2)),logger("SET VALUE AMOUNT: "+i+" text: "+$(_this.targetValue).text()))}function updateDisplay(){null!=balanceManager_&&framework.setBetValue(_this.boxInfo_.value)}function toggleOptionsOpen_(){_this.animateItem($("#betValueContainer"))}function closeSettings_(){_this.hideOptions($("#betValueContainer"))}ConsoleValueBox.call(this);var _this=this;this.target_=target,this.targetValues_=targetValues,this.setValue=function(){this.boxInfo_.value=this.targetValues_[this.boxInfo_.step],updateDisplay(),logger("SET VALUE AMOUNT2:  text: "+this.boxInfo_.value),$(this.targetValue).text(balanceManager_.geBalanceObj().currency+""+this.boxInfo_.value)},this.setListeners=function(){updateDisplay(),$("body").on("touchstart mousedown",function(e){logger("body click"),$("#betValueContainer").hasClass("hidden")||_this.animateItem($("#betValueContainer"))}),$("#betValueContainer").on("touchstart mousedown",function(e){e.stopPropagation()}),$("#useCash").prop("checked",!0),$("#betMaxBox").on("touchstart click",function(e){e.stopPropagation(),e.preventDefault(),_this.betMax()}),$("#useCash:checkbox").change(function(){_this.toggleCashCoins($(this).is(":checked"))}),$("#useCoins:checkbox").change(function(){_this.toggleCashCoins(!$(this).is(":checked"))})},this.betMax=function(){this.boxInfo_.step=this.targetValues_.length-1,this.setValue(),soundManager_.playSound("click"),ReelConfig.newUI&&window.BET_VALUES.max()},this.toggleCashCoins=function(useCash){$("#useCash").prop("checked",useCash),$("#useCoins").prop("checked",!useCash),1==useCash?$("#credTxt").text(""):$("#credTxt").text("Coins"),balanceManager_.toggleCredits(),updateDisplay()};var me={getBoxInfo:function(){return _this.boxInfo_},toggleOptionsOpen:function(){return toggleOptionsOpen_()},closeSettings:function(){closeSettings_()},setValueAmount:setValueAmount_};return this.initClass_(),me}function BetControl(gameRef,GUIInterface){function initClass_(){}var me={};return initClass_(),me}function CircularSelector(target,targetValues,backGround,listner,side,defaultValue,callBack,openCall,_underlay){function initClass_(listner){var deg=deg_,i=0,startDeg=90;"right"===side_&&(logger("right side"),startDeg=270),$(segments_).each(function(index){if(i<targetValues_.length){$(this).find("div").text(targetValues_[i]);var degree=deg*i*-1;degrees.push(degree+startDeg),i++,logger("betValue "+i+": "+targetValues_[i])}TweenMax.set($(this),{rotation:index*deg})});var degMul=targetValues_.length-1,minRot=deg*degMul-startDeg;logger("minRotation: "+minRot*-1);var rotationSnap=deg;dragObject=Draggable.create($(target_).find(".rotational__div"),{type:"rotation",throwProps:!0,edgeResistance:.75,bounds:{minRotation:minRot*-1,maxRotation:startDeg},snap:function(endValue){return Math.round(endValue/rotationSnap)*rotationSnap},onDrag:adjustOpacity,onDragStart:function(event){gameClass_.leaveGame(),TweenMax.set($(segments_).find("div"),{color:"white"})},onThrowUpdate:adjustOpacity,onThrowComplete:function(event){gameClass_.backToGame(),logger("released: "+this.rotation+" value: "+getValue(this.rotation))}}),adjustOpacity(0),setValue(boxInfo_.value),_underlay&&$(target_).addClass("underlay")}function toggleSelector(){open?hideSelector_():showSelector_()}function adjustOpacity(rotationAmount){gameClass_.leaveGame();for(var rotation=this.rotation||rotationAmount,i=0;i<segments_.length;i++){var distanceFromActiveRotation=(rotation-degrees[i])/100,opacity=1-Math.abs(distanceFromActiveRotation),scale=Math.max(1.2-Math.abs(distanceFromActiveRotation),1);TweenLite.set(segments_[i],{opacity:opacity}),TweenLite.set($(segments_[i]).find("div"),{scale:scale})}}function setValue(val){logger("in set value. "+val);for(var i=0;i<targetValues_.length;i++)val===targetValues_[i]&&(TweenMax.set($(target_).find(".rotational__div"),{rotation:degrees[i]}),Draggable.get($(target_).find(".rotational__div")).update(),adjustOpacity(degrees[i]),getValue(degrees[i]),logger("Setting Value: "+degrees[i]))}function getValue(rotation){for(var i=0;i<degrees.length;i++)if(rotation===degrees[i]){var item=$(segments_).eq(i).find("div");return TweenMax.to(item,.1,{color:"yellow"
}),boxInfo_.step=i,boxInfo_.value=targetValues_[i],callBack_(boxInfo_.value),boxInfo_.value}return 0}function setValueAmount_(val){logger("SET VALUE AMOUNT: "+val);for(var i=0;i<targetValues_.length;i++)if(Number(val)===Number(targetValues_[i])){logger("SET VALUE AMOUNT: "+i),TweenMax.set($(target_).find(".rotational__div"),{rotation:degrees[i]}),Draggable.get($(target_).find(".rotational__div")).update(),adjustOpacity(degrees[i]);var item=$(segments_).eq(i).find("div");TweenMax.to(item,.1,{color:"yellow"}),boxInfo_.step=i,boxInfo_.value=targetValues_[i]}}function showSelector_(){("#bet"==target_.selector||buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable())&&(fadeElement($(backGround_),"in"),open=!0,"#bet"!=target_.selector&&$("#autoPlayMobileInput").show())}function hideSelector_(){fadeElement($(backGround_),"out"),"#bet"!=target_.selector&&$("#autoPlayMobileInput").hide(),open=!1}function getBoxInfo_(){return boxInfo_}function setBackground_(imgSrc){$(target_).find(".button__center").css("background-image",imgSrc)}var dragObject,target_=target,targetValues_=targetValues,backGround_=backGround,segments_=$(target_).find(".selection__values li"),deg_=22.5,degrees=[],callBack_=callBack,boxInfo_={value:defaultValue,step:0},side_=side,open=!1,me={setBoxInfo:function(defaultValue){getBoxInfo_.value=defaultValue},getBoxInfo:getBoxInfo_,showSelector:showSelector_,hideSelector:hideSelector_,setBackground:setBackground_,setValueAmount:setValueAmount_,toggleOpen:function(){toggleSelector()}};return initClass_(listner),me}function ConsoleValueBox(target,targetValues){this.target_=target,this.targetValues_=targetValues,this.boxInfo_={value:"1.00",step:0};var _this=this;this.initClass_=function(){this.buttonUp=$(this.target_).find(".box__right"),this.buttonDown=$(this.target_).find(".box__left"),this.targetValue=$(this.target_).find(".box__value"),this.boxInfo_.value=this.targetValues_[1],this.boxInfo_.step=1,this.setValue(),this.setListeners(),$(this.buttonDown).find("img").attr("src","gui/generic/img/desktop/svg/arrow-left.svg"),$(this.buttonUp).find("img").attr("src","gui/generic/img/desktop/svg/arrow-right.svg"),$(this.buttonUp).on("touchstart click",function(e){e.stopPropagation(),e.preventDefault(),_this.valueUp(),ReelConfig.newUI&&("autoPlayNumber"===_this.target_[0].id?(window.AUTOSPIN_VALUES.increase(),window.newUI.autospin().text=window.AUTOSPIN_VALUES.value()):"betValueBox"===_this.target_[0].id&&(window.BET_VALUES.increase(),window.newUI.bet().text="<span class='bet_currency'>"+balanceManager_.geBalanceObj().currency+"</span>"+window.BET_VALUES.value()))}),$(this.buttonDown).on("touchstart click",function(e){e.stopPropagation(),e.preventDefault(),_this.valueDown(),ReelConfig.newUI&&("autoPlayNumber"===_this.target_[0].id?(window.AUTOSPIN_VALUES.decrease(),window.newUI.autospin().text=window.AUTOSPIN_VALUES.value()):"betValueBox"===_this.target_[0].id&&(window.BET_VALUES.decrease(),window.newUI.bet().text="<span class='bet_currency'>"+balanceManager_.geBalanceObj().currency+"</span>"+window.BET_VALUES.value()))})},this.animateItem=function(target){$(target).hasClass("hidden")?fadeElement(target,"in"):fadeElement(target,"out")},this.hideOptions=function(target){fadeElement(target,"out")},this.setListeners=function(){},this.valueUp=function(){logger("click: valueUp"),this.boxInfo_.step=Math.min(this.boxInfo_.step+1,this.targetValues_.length-1),this.setValue(),soundManager_.playSound("click")},this.valueDown=function(){this.boxInfo_.step=Math.max(this.boxInfo_.step-1,0),this.setValue(),soundManager_.playSound("click")},this.setValue=function(){this.boxInfo_.value=this.targetValues_[this.boxInfo_.step]}}function Framework(forceMobile){function initClass_(){if(gotBetValues_){var defaultStake=betValue>0?betValue:void 0!=betValues["default"]?betValues["default"]:betValues[0];if(window.AUTOSPIN_VALUES.init(autoPlayValues),isMobile_){GAME_WIDTH=960,GAME_HEIGHT=540,$("body").addClass("is__mobile"),$("body").removeClass("is__desktop"),ReelConfig.newUI&&(document.body.classList.add("newUI"),window.newUI.autospin().text=defaultAutoPlay),betValueSelector=new CircularSelector($("#bet"),betValues,$("#betControl"),(!1),"left",defaultStake,setBetValue_,(!1),frameworkSettings.mobileButtonUnderlay),spinButton=new CircularSelector($("#spin"),autoPlayValues,$("#spinCtrl"),(!1),"right",defaultAutoPlay,doAutoPlay,(!1),frameworkSettings.mobileButtonUnderlay),settings_=new FrameworkSettings(spinButton),menu_=new MenuMobile(me,betValueSelector,spinButton);var ua=window.navigator.userAgent;ua.indexOf("iPhone")>=0&&$(window).height()<=640&&$("body").addClass("iOs")}else"co"!=loginVars.getRegParams().jurisdiction&&"es"!=loginVars.getRegParams().jurisdiction||$("#cashOptions").addClass("hidden"),GAME_WIDTH=1920,GAME_HEIGHT=1080,$("body").removeClass("is__mobile"),$("body").addClass("is__desktop"),ReelConfig.newUI&&document.body.classList.add("newUI"),autoPlayBox=new AutoPanelValueBox($("#autoPlayNumber"),autoPlayValues),betValueBox=new BetConsoleValueBox($("#betValueBox"),betValues),settings_=new FrameworkSettings(autoPlayBox),menu_=new MenuDesktop(me,autoPlayBox,betValueBox);setBetValue_(defaultStake,!0);new Translator;$("input:checkbox").change(function(){soundManager_.playSound("slide")}),null!=paytableAssets&&$.get(gameParams.pathCDN+"f1x2games/properties/ironDog/help/"+helpFolder+"/"+gameParams.folderName+"/help_"+gameParams.lang+".html",function(data){ptHelp_=data,paytable=new Paytable(data)}).fail(function(){paytable=new Paytable}),resize_(),0==previewManager_.enabled()&&(setTimeout(gcmCalls_,200,"PAID",0,!0),setTimeout(gcmCalls_,300,"BALANCE",balanceManager_.getBalance(),!0),setTimeout(gameClass_.create,500),setTimeout(gameClass_.initGame,1e3)),new SessionTimer}else setTimeout(initClass_,500)}function setBetValue_(value,init){if(void 0!=value){betValue=value,balanceManager_.setCoinValue(value);var amountText=balanceManager_.geBalanceObj().currency+""+Util.formatNumber(balanceManager_.getCoinValue(),2);ReelConfig.newUI?(framework.isTouch()||(amountText="<span class='bet_currency'>"+balanceManager_.geBalanceObj().currency+"</span>"+Util.formatNumber(balanceManager_.getCoinValue(),2)),window.newUI.bet().text=amountText,init&&window.BET_VALUES.init(betValues,value)):(framework.isTouch()&&$("#holdText").text(Translate["do"]("HOLD")),amountText.length>8?(framework.isTouch()?($(".bet__amount").html(Translate["do"]("Bet:")+"<BR>"+amountText),$(".bet__amount").css("top","52px")):($(".bet__amount").html(Translate["do"]("Bet:")+"<BR>"+amountText),$(".bet__amount").css("top","18px"),$(".bet__amount").css("left","0px")),buttonManager_.getButton(frameworkSettings.buttons.betControl.id).applyState_MinorCurrency(!0),buttonManager_.getButton(frameworkSettings.buttons.betControl.id).setBackGround(frameworkSettings.buttons.betControl.m_bg)):(ReelConfig.newUI||(framework.isTouch()?($(".bet__amount").css("top",""),$(".bet__amount").html(amountText)):($(".bet__amount").css("top","22px"),$(".bet__amount").css("left","20px"))),$(".bet__amount").html(amountText),buttonManager_.getButton(frameworkSettings.buttons.betControl.id).applyState_MinorCurrency(!1),buttonManager_.getButton(frameworkSettings.buttons.betControl.id).setBackGround(frameworkSettings.buttons.betControl.bg))),gcmCalls_("STAKE",balanceManager_.getCoinValue()),betValueSelector&&init&&betValueSelector.setValueAmount(value),betValueBox&&init&&betValueBox.setValueAmount(value),freeSpinsManager_.resumeFsAcc()}}function doAutoPlay(value){autoPlayManager_.setAutoPlayValue(value)}function openAp_(){var btn;if(btn=ReelConfig.newUI&&framework.isTouch()?buttonManager_.getButton(frameworkSettings.buttons.autoButton.id):buttonManager_.getButton(frameworkSettings.buttons.spinButton.id),!isTouch_()||btn.isEnable()){if(freeSpinsManager_.getIsInFs()||freeRoundsManager_.getIsInFr())return;spinButton.showSelector(),buttonManager_.applyState("APNH"),setAutoPlayState_(1)}}function doSetup_(setupJson){loader_.hideLoader(initGameClasses_),setTimeout(delayedDoSetup_,500,setupJson)}function delayedDoSetup_(setupJson){setup=new Setup(setupJson),logger(setupJson),lineConfig.line&&(lineConfig.line.lines=[]);for(var a in setupJson.lines)lineConfig.line.lines[setupJson.lines[a].id]=setupJson.lines[a],null!=lineConfig.line.lineColours&&void 0!=lineConfig.line.lineColours[a]&&(lineConfig.line.lines[setupJson.lines[a].id].color=lineConfig.line.lineColours[a]);if(autoPlayValues=setupJson.autoPlayValues,"mt"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"uk"!=loginVars.getRegParams().jurisdiction&&"it"!=loginVars.getRegParams().jurisdiction&&"es"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&autoPlayValues.push(999),defaultAutoPlay=autoPlayValues[1],betValues=[],uniqueBetValues&&1!=ReelConfig.newComm)communicationManager_.uniqueBetValuesRequest().done(function(data){for(var i in data.response.betValues)betValues.push(Util.formatNumber(data.response.betValues[i],2));null!=data.response["default"]&&void 0!=data.response["default"]?betValues["default"]=Util.formatNumber(data.response["default"],2):null!=setupJson.status&&setupJson.status.stake>0?null!=setupJson.status&&setupJson.status.stake>0&&(betValues["default"]=setupJson.status.stake/100):betValues["default"]=betValues[0],loader_.hideLoader(initGameClasses_),gotBetValues_=!0});else{for(var i in setupJson.betValues)betValues.push(Util.formatNumber(setupJson.betValues[i],2));null!=setupJson.status&&setupJson.status.stake>0&&(betValues["default"]=Util.formatNumber(setupJson.status.stake/100,2)),gotBetValues_=!0}}function openBetOptions_(){isMobile_?betValueSelector.toggleOpen():betValueBox.toggleOptionsOpen()}function checkAutoPlay_(){settings_.getAutoPlaySettings().doAutoPlay()}function hideApSettings_(){isMobile_?spinButton.hideSelector():autoPlayBox.closeSettings()}function hideBetSettings_(){isMobile_?betValueSelector.hideSelector():betValueBox.closeSettings()}function closeApMenu_(){isMobile_?spinButton.hideSelector():autoPlayBox.closeMenu()}function closeBetMenu_(){isMobile_?betValueSelector.hideSelector():betValueBox.closeSettings()}function hideAllSettings_(){hideApSettings_(),hideBetSettings_()}function openPayTable_(){buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()&&(hideAllSettings_(),$("#menuContainer").hasClass("hidden")&&$("#menuMobile").hasClass("hidden")&&paytable.toggle())}function setAutoPlayState_(newState){settings_.getAutoPlaySettings().setApState(newState)}function doReplay_(json){menu_.showReplay(json)}function showLoadingScreen_(){$("#loadingScreen").removeClass("hidden"),$("#gameFramework").addClass("hidden")}function hideLoadingScreen_(){$("#loadingScreen").addClass("hidden"),$("#gameFramework").removeClass("hidden")}function showFramework_(){logger("showFramework_"),$("#gameFramework").removeClass("hidden");var footer=document.getElementById("footer");void 0!=footer&&(footer.style.zIndex=7)}function hideFramework_(){logger("hideFramework_"),$("#gameFramework").addClass("hidden")}function showBetConsole_(){$("#betconsole").removeClass("hidden")}function updateSmallMessageText_(message){if(ReelConfig.newUI)window.innerHeight>window.innerWidth?$("#footer-top-win").html(message):$("#footer-bottom-message").html(message);else{var elem=displayManager_.getText("messages");elem.setText(message)}}function resize_(_x,_y,_s){if(ReelConfig.newUI)if(1==isTouch_()&&1==ReelConfig.newUI){window.innerHeight>window.innerWidth?isMobile_?(GAME_WIDTH=1080,GAME_HEIGHT=1920,orientation="portrait"):(GAME_WIDTH=1080,GAME_HEIGHT=1920):isMobile_?(GAME_WIDTH=1920,GAME_HEIGHT=1080,orientation="landscape"):(GAME_WIDTH=1920,GAME_HEIGHT=1080);var width=_x>0?_x:window.innerWidth,height=_y>0?_y:window.innerHeight;scaleFactorX=width/GAME_WIDTH,scaleFactorY=height/GAME_HEIGHT;var scaleFactor=_s>0?_s:Math.min(scaleFactorX,scaleFactorY);if("portrait"===orientation){if($("#mainViewport").css("height",window.innerHeight+"px"),$("#mainViewport").css("width",window.innerWidth+"px"),document.getElementById("mainViewport").style.removeProperty("transform"),window.newUI){var arrL=[],arrR=[],arrT=["autospin","bet","spin"];window.newUI._settings.inverted()?(arrL.push("bet","paytable"),arrR.push("autospin","sound")):(arrL.push("autospin","sound"),arrR.push("bet","paytable")),window.newUI.buttons.forEach(function(b_){var translateX,translateY,btn=document.getElementsByClassName(b_.id)[0];translateY=scaleFactorY<scaleFactorX?0:"spin"===b_.id?350*(scaleFactorY-scaleFactorX):500*(scaleFactorY-scaleFactorX),translateX=scaleFactor>1?0:scaleFactor>.48&&scaleFactor<1?2*(100-100*scaleFactor):2.5*(100-100*scaleFactor),arrL.includes(b_.id)?btn.style.transform="scale("+scaleFactor+") translateX("+translateX+"%)":arrR.includes(b_.id)?btn.style.transform="scale("+scaleFactor+") translateX(-"+translateX+"%)":btn.style.transform="scale("+scaleFactor+")",arrT.includes(b_.id)&&(btn.style.transform+="translateY("+translateY+"%)")})}}else $("#mainViewport").css("transform","scale("+scaleFactor+") translate3d(0px,0px,0px)"),$("#mainViewport").css("height",GAME_HEIGHT+"px"),$("#mainViewport").css("width",GAME_WIDTH+"px"),window.newUI&&window.newUI.buttons.forEach(function(b_){document.getElementsByClassName(b_.id)[0].style.removeProperty("transform")});var left,actualHeight=GAME_HEIGHT*scaleFactor,actualWidth=GAME_WIDTH*scaleFactor,top=Math.ceil((height-actualHeight)/2);"landscape"===orientation?left=Math.ceil((width-actualWidth)/2)-1:(left=0,top=0),$("#mainViewport").css("top",top+"px"),$("#mainViewport").css("left",left+"px");var old=orientations.filter(function(o_){return o_!==orientation});if(1!=framework.isTouch())return;if(ReelConfig.newUI){var messageScreen=document.getElementsByClassName("message__container")[0];void 0!==messageScreen&&(messageScreen.classList.remove(old),messageScreen.classList.add(orientation))}gameGUI&&gameGUI.swipeRequest()}else{logger("RESIZE");var width=_x>0?_x:window.innerWidth,height=_y>0?_y:window.innerHeight;scaleFactorX=width/GAME_WIDTH,scaleFactorY=height/GAME_HEIGHT;var scaleFactor=_s>0?_s:Math.min(scaleFactorX,scaleFactorY);$("#mainViewport").css("transform","scale("+scaleFactor+") translate3d(0px,0px,0px)"),$("#mainViewport").css("width",GAME_WIDTH+2+"px"),$("#mainViewport").css("height","1080px");var actualHeight=GAME_HEIGHT*scaleFactor,actualWidth=GAME_WIDTH*scaleFactor,top=Math.ceil((height-actualHeight)/2),left=Math.ceil((width-actualWidth)/2)-1;$("#mainViewport").css("top",top+"px"),$("#mainViewport").css("left",left+"px")}else{var width=_x>0?_x:window.innerWidth,height=_y>0?_y:window.innerHeight;scaleFactorX=width/GAME_WIDTH,scaleFactorY=height/GAME_HEIGHT;var scaleFactor=_s>0?_s:Math.min(scaleFactorX,scaleFactorY);$("#mainViewport").css("transform","scale("+scaleFactor+") translate3d(0px,0px,0px)"),$("#mainViewport").css("width",GAME_WIDTH+2+"px"),$("#mainViewport").css("height","688px");var actualHeight=GAME_HEIGHT*scaleFactor,actualWidth=GAME_WIDTH*scaleFactor,top=Math.ceil((height-actualHeight)/2),left=Math.ceil((width-actualWidth)/2)-1;$("#mainViewport").css("top",top+"px"),$("#mainViewport").css("left",left+"px"),gameGUI&&gameGUI.swipeRequest()}}function isTouch_(){return isMobile_}function fullscreenEnabled_(){return(null==gameParams.clientName||"Quickfire_Malta_Betway"!=gameParams.clientName)&&(!(null!=gameParams.clientName&&null!=gameParams.site&&gameParams.clientName.indexOf("Quickfire_dev")>=0&&5118==Math.abs(Number(gameParams.site)))&&(!(null!=gameParams.clientName&&null!=gameParams.site&&gameParams.clientName.indexOf("Quickfire_dev")>=0&&5001==Math.abs(Number(gameParams.site)))&&(screenfull.enabled&&isMobile_)))}var scaleFactorX,scaleFactorY,orientation,GAME_WIDTH=1920,GAME_HEIGHT=1080,orientations=["landscape","portrait"],autoPlayValues=[5,10,20,30,50,75,100],betValues=["0.01","0.02","0.05","1.00","1.50","2.00","2.50","5.00"],isMobile_="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;"true"===forceMobile&&(isMobile_=!0);var helpFolder=isMobile_?"mobile":"desktop";gameParams.setChannel(helpFolder);var uniqueBetValues=!1;gameParams.clientName&&(uniqueBetValues=!0);var menu_,autoPlayBox,betValueBox,settings_,betValueSelector,paytable,setup,spinButton,ptHelp_,betValue=0,gotBetValues_=!1,defaultAutoPlay=0,me={showFramework:showFramework_,hideFramework:hideFramework_,showLoadingScreen:showLoadingScreen_,hideLoadingScreen:hideLoadingScreen_,resize:resize_,updateSmallMessageText:updateSmallMessageText_,showBetConsole:showBetConsole_,isTouch:isTouch_,closeApMenu:closeApMenu_,closeBetMenu:closeBetMenu_,checkAutoPlay:checkAutoPlay_,setAutoPlayState:setAutoPlayState_,initClass:initClass_,doSetup:doSetup_,openBetOptions:openBetOptions_,fullscreenEnabled:fullscreenEnabled_,hideApSettings:hideApSettings_,hideBetSettings:hideBetSettings_,hideAllSettings:hideAllSettings_,openPayTable:openPayTable_,doReplay:doReplay_,openAp:openAp_,setBetValue:setBetValue_,getSettings:function(){return settings_},setSound:function(val){if(void 0!=menu_){var s=menu_.getSoundSwitch();s.doSwitch(val)}},setMusic:function(val){if(void 0!=menu_){var s=menu_.getMusicSwitch();s.doSwitch(val)}},getMenu:function(){return menu_},getBetValues:function(){return betValues},hidePaytable:function(){null!=paytable&&paytable.hide()},getSetup:function(){return setup},getAutoplaySettings:function(){return settings_.getAutoPlaySettings()},GAME_WIDTH:GAME_WIDTH,GAME_HEIGHT:GAME_HEIGHT,getGameWidth:function(){return GAME_WIDTH},getGameHeight:function(){return GAME_HEIGHT},getOrientation:function(){return orientation},getScaleFactorX:function(){return scaleFactorX},getScaleFactorY:function(){return scaleFactorY}};return me}function MainMenu(){function initClass_(){var betItemClick=!0,spinItemClick=!0;$(".game__history__list").on("touchstart","li > p",function(event){betItemClick=!0}),$(".game__history__list").on("touchmove","li > p",function(event){betItemClick=!1}),$(".game__history__list").on("touchstart","li > ul > li",function(event){spinItemClick=!0}),$(".game__history__list").on("touchmove","li > ul > li",function(event){spinItemClick=!1}),$(".game__history__list").on("touchend mousedown","li > p",function(event){betItemClick&&(event.stopPropagation(),event.preventDefault(),"block"==$(event.currentTarget).siblings("ul").css("display")?$(event.currentTarget).siblings("ul").slideUp():($(".game__history__list > li > ul").slideUp(),$(event.currentTarget).siblings("ul").slideDown()))}),$(".game__history__list").on("touchend mousedown","li > ul > li",function(event){if(spinItemClick){event.stopPropagation(),event.preventDefault();var betnum=event.currentTarget.dataset.betnum,betid=event.currentTarget.dataset.betid,spinid=event.currentTarget.dataset.spinid,spinidNewEngine=event.currentTarget.dataset.spinidnew;this_.displayBet=this_.betHistory[betnum],this_.displayBet.spin=spinid,"IntegratedSlots"==ReelConfig.slotEngine?communicationManager_.sendServletRequest("replay","spinID="+spinidNewEngine+"&betID="+betid):communicationManager_.sendServletRequest("replay","betid="+betid)}}),ReelConfig.newUI?$(".game__history__replay > .__details > button").html("&xlarr;"):($(".game__history__replay > .__details > button").html('<img src="'+frameworkAssets.assets.menuBtnClose+'" alt="Back Button" />'),$(".game__history__replay > .__content .__reel").css("background-image","url('"+gameAssets.assets.bg_m+"')")),$(".game__history__replay > .__details > button").on("click",function(event){event.stopPropagation(),event.preventDefault(),fadeElement($(".game__history__replay"),"out"),fadeElement(".game__history__list","in"),fadeElement(".game__history__tip","in"),setTimeout(function(){$(".game__history__replay > .__content .__lines__nav > a").removeClass("active"),$(".game__history__replay > .__content .__lines__nav > [target = '.__wins']").addClass("active"),$(".game__history__replay > .__content .__lines > ul").removeClass("show"),$(".game__history__replay > .__content .__lines > .__wins").addClass("show"),$(".game__history__replay > .__content").scrollTop(0)},400)}),$(".game__history__replay > .__content .__lines__nav > a").on("touchmove",function(event){event.stopPropagation(),event.preventDefault()}),$(".game__history__replay > .__content .__lines__nav > a").on("click",function(event){event.stopPropagation(),event.preventDefault();var target=event.currentTarget.target;$(".game__history__replay > .__content .__lines__nav > a").removeClass("active"),$(event.currentTarget).addClass("active"),$(".game__history__replay > .__content .__lines > ul").removeClass("show"),$(".game__history__replay > .__content .__lines > "+target).addClass("show")}),Draggable.create(".game__history__replay > .scrollable__content",{type:"scrollTop",throwProps:!0,cursor:"default"})}function _ucFirst(_string){return toUpperCase(_string.charAt(0))+_string.slice(1).toLowerCase()}function _currencyLookup(currency){var currencySym="";switch(currency){case"FUN":currencySym="FUN";break;case"ARS":currencySym="$";break;case"AUD":currencySym="$";break;case"BBD":currencySym="$";break;case"BRL":currencySym="$";break;case"GBP":currencySym="\xa3";break;case"CAD":currencySym="$";break;case"CLP":currencySym="$";break;case"CNY":currencySym="\xa5";break;case"CZK":currencySym="K\u010d";break;case"DKK":currencySym="kr";break;case"XCD":currencySym="$";break;case"EGP":currencySym="\xa3";break;case"EEK":currencySym="k";break;case"EUR":currencySym="\u20ac";break;case"HKD":currencySym="\u5143";break;case"HUF":currencySym="F";break;case"ISK":currencySym="k";break;case"INR":currencySym="\u20b9";break;case"IDR":currencySym="R";break;case"ILS":currencySym="\u20aa";break;case"JMD":currencySym="$";break;case"JPY":currencySym="\xa5";break;case"LVL":currencySym="L";break;case"LBP":currencySym="\xa3";break;case"LTL":currencySym="L";break;case"MYR":currencySym="R";break;case"MXN":currencySym="$";break;case"NAD":currencySym="$";break;case"NPR":currencySym="\u20a8";break;case"NZD":currencySym="$";break;case"NOK":currencySym="kr";break;case"PHP":currencySym="P";break;case"PLN":currencySym="Z";break;case"SGD":currencySym="$";break;case"ZAR":currencySym="R";break;case"KRW":currencySym="\u20a9";break;case"LKR":currencySym="\u20a8";break;case"SEK":currencySym="Kr";break;case"CHF":currencySym="F";break;case"THB":currencySym="\u0e3f";break;case"TRY":currencySym="L";break;case"USD":currencySym="$";break;case"VEF":currencySym="B";break;case"IQD":currencySym="\u0639.\u062f";break;case"ZMW":currencySym="ZK";break;case"VND":currencySym="\u20ab";break;case"AMD":currencySym="AMD"}return currencySym}function formatDate(_date){var year=_date.getFullYear(),month=_date.getMonth()<9?"0"+(_date.getMonth()+1):_date.getMonth()+1,day=_date.getDate()<10?"0"+_date.getDate():_date.getDate(),hours=_date.getHours()<10?"0"+(_date.getHours()-isBST):_date.getHours()-isBST,minutes=_date.getMinutes()<10?"0"+_date.getMinutes():_date.getMinutes(),seconds=_date.getSeconds()<10?"0"+_date.getSeconds():_date.getSeconds();return year+"-"+month+"-"+day+" "+hours+":"+minutes+":"+seconds}function getSymbol(_sID,_bet,_smb){return mod[gameParams.gameID]?mod[gameParams.gameID](_sID,_bet,_smb)||_sID:_sID}function getSymbolPMW(_sID,_bet,_smb){return modPMW[gameParams.gameID]?modPMW[gameParams.gameID](_sID,_bet,_smb)||_sID:_sID}function getSymbolRichie(_sID,_bet,_smb){return modRichie[gameParams.gameID]?modRichie[gameParams.gameID](_sID,_bet,_smb)||_sID:_sID}function getSymbolClass(_sID,_x,_y){return classes[gameParams.gameID]?classes[gameParams.gameID](_sID,_x,_y)||"":""}function render(start,end,_callback){var callback=_callback||function(){},theBets="",count=0;if(start>0){var e=start-(end-start),l=start;theBets+=ReelConfig.newUI?window.newUI.gameHistoryManager.arrow("prev",e,l):'<li class="show__prev"><div><img src="gui/betHistoryMore.png" alt="Bet History Show Previous Icon" />'+(start-(end-start))+" - "+start+"</div></li>"}if($.each(this_.data.bet_list.bet,function(i,item){var bet=item;logger(bet.desc);var curSymb=_currencyLookup(bet.currency),when=formatDate(new Date((bet.when_placed+"Z").replace(" ","T"))),settled="null"===bet.when_settled?"N/A":formatDate(new Date((bet.when_settled+"Z").replace(" ","T")));this_.betHistory[count]={betid:bet.bet_id,desc:bet.desc,stake:(bet.stake/100).toFixed(2),buyInValue:void 0!=bet.buyInValue?(bet.buyInValue/100).toFixed(2):0,winnings:(bet.winnings/100).toFixed(2),when:when,spins:[],respins:[],status:Translate["do"](bet.status),channel:0===bet.mobile_desktop?Translate["do"]("Mobile"):Translate["do"]("Desktop"),settled:settled,currency:bet.currency,freerounds:"1"===bet.free_round};var visible=!0;visible=visible&&(!start||count>=start),visible=visible&&(!end||count<=end),theBets+="<li"+(visible?"":' style="display: none;"')+">",theBets+="<p"+(bet.aamsID&&bet.aamsTicket?' class="aams"':"")+">";var standardDetails=when;standardDetails+=" -- "+bet.bet_id,standardDetails+=" -- "+Translate["do"](bet.desc),standardDetails+=" -- "+curSymb+((bet.buyInValue>0?bet.buyInValue:bet.stake)/100).toFixed(2),standardDetails+=" -- "+curSymb+(bet.winnings/100).toFixed(2),standardDetails+=" -- "+Translate["do"](bet.status),bet.aamsID&&bet.aamsTicket?(theBets+="<span>",theBets+=Translate["do"]("AAMS ID")+": "+bet.aamsID+" -- "+Translate["do"]("AAMS Ticket")+": "+bet.aamsTicket,theBets+="</span>",theBets+="<span>"+standardDetails+"</span>"):theBets+=standardDetails,theBets+="</p><ul>",$.each(bet.spins,function(j,spin){this_.betHistory[count].spins[j]="freespins"==spin.type,this_.betHistory[count].respins[j]="respin"==spin.type,theBets+='<li class="'+spin.outcome+'" data-betnum="'+count+'" data-betid="'+bet.bet_id+'" data-spinid="'+j+'" data-spinidnew="'+spin.id+'">- ',theBets+=Translate["do"]("Spin No.")+" "+(j<9?"0":"")+(j+1)+" -- ",theBets+=("1"===bet.free_round?toUpperCase(Translate["do"]("freerounds"))+"-":"")+toUpperCase(Translate["do"](spin.type)),theBets+="win"==spin.outcome?" -- "+toUpperCase(Translate["do"]("win")):"",ReelConfig.newUI&&(theBets+="<span class='game-history-arrow'>&xrarr;</span>"),theBets+="</li>"}),theBets+="</ul>",theBets+="</li>",count+=1}),logger("Count: "+count+", Start: "+start+", End: "+end+", "),count-1>end){var e=end+2,l=end+2+(end-start);theBets+=ReelConfig.newUI?window.newUI.gameHistoryManager.arrow("more",e,l):'<li class="show__more"><div><img src="gui/betHistoryMore.png" alt="Bet History Show More Icon" />'+(end+2)+" - "+(end+2+(end-start))+"</div></li>"}if(callback(),$(".game__history__list").html(theBets),ReelConfig.newUI){if($(".game__history__list .game-history-list-arrow > svg.prev").on("touchstart mousedown",function(event){$(".game__history__list").scrollTop(0),render(start-1-(end-start),start-1)}),$(".game__history__list .game-history-list-arrow > svg.more").on("touchstart mousedown",function(event){$(".game__history__list").scrollTop(0),render(end+1,end+1+(end-start))}),framework.isTouch()){var gameHistoryList=document.getElementsByClassName("game__history__list")[0];window.newUI.orientation.children(gameHistoryList)}}else $(".game__history__list li.show__prev > div").on("touchstart mousedown",function(event){$(".game__history__list").scrollTop(0),render(start-1-(end-start),start-1)}),$(".game__history__list li.show__more > div").on("touchstart mousedown",function(event){$(".game__history__list").scrollTop(0),render(end+1,end+1+(end-start))})}function newCommWrapper_(data){var bet=[];for(var a in data){var obj={};obj.bet_id=data[a].id,obj.when_placed=data[a].placed,obj.when_settled=data[a].settled,obj.desc=data[a].desc,obj.currency=data[a].currency,obj.stake=data[a].stake,obj.winnings=data[a].winnings,obj.status=data[a].status,obj.spins=[],void 0!=data[a].buyInPrice&&(obj.buyInValue=data[a].buyInPrice);for(var b in data[a].spins){var sp={};sp.type=data[a].spins[b].type,sp.outcome=data[a].spins[b].outcome,sp.id=data[a].spins[b].id,obj.spins.push(sp)}bet.push(obj)}return bet}function toUpperCase(string){return/^[\x00-\xFF]*$/.test(string)?string.toUpperCase():string}this.menuTab;var this_=this;this_.data,this_.displayBet={},this_.betHistory=[],this.toggleMenu=function(option,target,button,isReality){if(soundManager_.playSound("click"),framework.hidePaytable(),isReality||$(target).hasClass("hidden")&&buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()){if(fadeElement(target,"in"),$("#bet").addClass("hidden"),$("#spin").addClass("hidden"),$("#paytableMobile").addClass("hidden"),option&&this_.menuTab.activateTab(option),ReelConfig.newUI)if(framework.isTouch()){document.getElementById("arch").classList.add("hidden");for(var i=0;i<window.newUI.buttons.length;i++){var button=window.newUI.buttons[i];button.visible=!1}}else window.newUI.menu().state="CLOSE",option&&(document.getElementsByClassName("game__history__replay")[1].style.opacity=0,document.getElementsByClassName("game__history__list")[1].classList.remove("hidden"),fadeElement($(".game__history__replay"),"out"),fadeElement(".game__history__list","in"),fadeElement(".game__history__tip","in"),setTimeout(function(){$(".game__history__replay > .__content .__lines__nav > a").removeClass("active"),$(".game__history__replay > .__content .__lines__nav > [target = '.__wins']").addClass("active"),$(".game__history__replay > .__content .__lines > ul").removeClass("show"),$(".game__history__replay > .__content .__lines > .__wins").addClass("show"),$(".game__history__replay > .__content").scrollTop(0)},400));else $(button).find("img").attr("src",frameworkAssets.assets.menuBtnClose);framework.hideAllSettings(),this_.requestBetHistory(),gameClass_.leaveGame()}else{if(fadeElement(target,"out"),$("#paytableMobile").removeClass("hidden"),ReelConfig.newUI)if(framework.isTouch()){document.getElementById("arch").classList.remove("hidden");for(var i=0;i<window.newUI.buttons.length;i++){var button=window.newUI.buttons[i];button.visible=!0}}else window.newUI.menu().state="MENU";else $(button).find("img").attr("src",frameworkAssets.assets.menuBtn);$("#bet").removeClass("hidden"),$("#spin").removeClass("hidden"),gameClass_.backToGame()}};var modRichie={7015:function(s_,bet_){var v=!1,s=Number(s_);return 12===s&&(v="13"),v}},modPMW={7016:function(s_,bet_){var v=!1,s=Number(s_);return 7===s&&(v="7GH"),8===s&&(v="8GH"),9===s&&(v="9GH"),v},7019:function(s_,bet_){var v=!1,s=Number(s_);return 7===s&&(v="7GH"),8===s&&(v="8GH"),9===s&&(v="9GH"),v},7022:function(s_,bet_){var v=!1,s=Number(s_);return 7===s&&(v="7GH"),8===s&&(v="8GH"),9===s&&(v="9GH"),v},7023:function(s_,bet_){var v=!1,s=Number(s_);return 5===s&&(v="5GH"),6===s&&(v="6GH"),7===s&&(v="7GH"),8===s&&(v="8GH"),9===s&&(v="9GH"),v}},mod={7010:function(s_,bet_){var v=!1,night={4:1,5:1,7:1};if(bet_.spins[bet_.spin]){var s=Number(s_);night[s]?v="_FS_"+s_:10===s&&(v="10-fs")}return v},7011:function(s_,bet_,smb_){var v=!1;return isNaN(smb_.special)||(v="_wild_"+smb_.special),v},7013:function(s_){var s=Number(s_),v=!1,big={6:1,7:1,8:1,10:1};return big[s]&&(v=s+"-s"),v}},classes={7010:function(s_,x_,y_){var v="",flip={8:{x:{0:1,1:1}}},s=Number(s_),coords=flip[s];if(coords){var use=!0;coords.x&&(use=use&&!!coords.x[x_]),coords.y&&(use=use&&!!coords.y[y_]),use&&(v="flip")}return v}};this_.requestBetHistory=function(){if(1===gameInfo.playMode){if($(".loadingSpinner").css("display","inline"),$(".game__history__list").html(""),gameParams.slotEngine==ReelConfig.slotEngine)var page=gameParams.path+"/IntegratedSlots/ISRecentSlotBets.jsp?mode=history&accountID="+gameInfo.accountID+"&gameID="+gameParams.gameID;else var page=gameParams.path+"/premiumslots/recentSlotBets.jsp?accountID="+gameInfo.accountID+"&gameID="+gameParams.gameID;$.post(page,{func:"getSlotsHistory"},function(data){if(gameParams.slotEngine==ReelConfig.slotEngine){var obj={};obj.bet=newCommWrapper_(data),this_.data={},this_.data.bet_list=obj}else this_.data=data;render(0,24,function(){$(".loadingSpinner").css("display","none")})},"json").fail(function(){var message=new MessageScreen("We were unable to retrieve your bet history","error","Error Loading Bet History",[{
action:function(){message.destroy(),this_.requestBetHistory()},label:"Try Again"}],(!0),(!0))})}else $(".game__history__list").html("<li>"+Translate["do"]("Game History only available when playing for real")+"</li>"),$("#gameHistoryTip").hide()},this.showReplay=function(json){ReelConfig.newUI&&document.getElementsByClassName("__content")[0].style.removeProperty("overflow");var curSymb=_currencyLookup(this_.displayBet.currency);if("IntegratedSlots"==ReelConfig.slotEngine)var spin=json.spins[0];else var spin=json.spins[this_.displayBet.spin];var lines=(framework.getSetup().getPaylines()||[]).length,div=spin.coinsPerBet||lines,stake=(this_.displayBet.spinDesc,this_.displayBet.stake),betPerLine=div?(stake/div).toFixed(2):0;gameParams.slotEngine==ReelConfig.slotEngine&&(betPerLine=1),ReelConfig.newUI&&(window.betPerLine=betPerLine),$(".game__history__replay > .__details > p").html("HID: "+this_.displayBet.betid+" -- "+Translate["do"]("Date")+": "+this_.displayBet.when);var extraStakeValue,betDetails="",stake=this_.displayBet.buyInValue>0?this_.displayBet.buyInValue:this_.displayBet.stake;betDetails+="<td>"+this_.displayBet.status+"</td>",betDetails+="<td>"+this_.displayBet.channel+"</td>",betDetails+="<td>"+this_.displayBet.when+"</td>",betDetails+="<td>"+this_.displayBet.settled+"</td>",betDetails+="<td>"+curSymb+stake,this_.displayBet.spins[this_.displayBet.spin]?extraStakeValue=Translate["do"]("Free Spin"):this_.displayBet.respins[this_.displayBet.spin]?extraStakeValue=Translate["do"]("respin"):this_.displayBet.freerounds&&(extraStakeValue=Translate["do"]("Free Rounds")),extraStakeValue=extraStakeValue?" ("+extraStakeValue+")":"",betDetails+=extraStakeValue+"</td>",betDetails+="<td>"+lines+"</td>",betDetails+="<td>"+curSymb+betPerLine+extraStakeValue+"</td>",betDetails+="<td>"+curSymb+this_.displayBet.winnings+"</td>",ReelConfig.newUI&&extraStakeValue&&(window.extraStakeValue=extraStakeValue),$(".game__history__replay > .__content table .__data").html(betDetails);var grid=[],reel="",feature=!1;if("7006"===gameParams.gameID){for(var i in spin.line){var line=spin.line[i];4!==Number(line.mult)||feature||(feature=gameAssets.assets.mult_4_symbol)}feature||$.isEmptyObject(spin.scatter)&&!json.bonus||(feature=gameAssets.assets.circle_symbol)}else if("7012"===gameParams.gameID){feature={};for(var i in spin.matches)for(var match=spin.matches[i],j=0;j<match.coord.length;j++){var coord=match.coord[j];feature[coord[0]+":"+coord[1]]=!0}}if($.each(spin.reel,function(columnIndex,column){grid[columnIndex]=[];for(var i=0;i<ReelConfig.numIcons;i++)"7014"===gameParams.gameID&&14==column.smb[i].smb&&(column.smb[i].smb=18),"7016"!==gameParams.gameID&&"7019"!==gameParams.gameID&&"7022"!==gameParams.gameID&&"7023"!==gameParams.gameID||void 0!=column.smb[i]?grid[columnIndex].push(column.smb[i].smb):grid[columnIndex].push(18);var expand=!1;if("7007"===gameParams.gameID||"7009"===gameParams.gameID){var wild9="9"===column.smb[0].smb&&"9"===column.smb[1].smb&&"9"===column.smb[2].smb,wild11="11"===column.smb[0].smb&&"11"===column.smb[1].smb&&"11"===column.smb[2].smb;wild9?expand={icon:9,image:gameAssets.assets.icon9_expanded}:wild11&&(expand={icon:11,image:gameAssets.assets.icon11_expanded})}if("7014"===gameParams.gameID){var wild12="12"===column.smb[1].smb;wild12&&(expand={icon:12,image:gameAssets.assets.icon12_expanded})}if(reel+="7006"===gameParams.gameID&&feature&&"glow"===column.smb[0].special?'<div style="position: relative;">':"<div>","7007"!==gameParams.gameID&&"7009"!==gameParams.gameID&&"7014"!==gameParams.gameID||!expand)for(var i=0;i<ReelConfig.numIcons;i++){var cl="";"7012"===gameParams.gameID&&(cl="moirai__match__"+!!feature[i+":"+columnIndex]),reel+='<div class="'+cl+'">',reel+="7016"===gameParams.gameID||"7019"===gameParams.gameID||"7022"===gameParams.gameID||"7023"===gameParams.gameID?'<img src="'+gameAssets.assets["icon"+getSymbolPMW(grid[columnIndex][i],this_.displayBet,column.smb[i])]+'" alt="Spin Icon '+grid[columnIndex][i]+'" class="'+getSymbolClass(grid[columnIndex][i],columnIndex,i)+'" />':'<img src="'+gameAssets.assets["icon"+getSymbol(grid[columnIndex][i],this_.displayBet,column.smb[i])]+'" alt="Spin Icon '+grid[columnIndex][i]+'" class="'+getSymbolClass(grid[columnIndex][i],columnIndex,i)+'" />',"7011"===gameParams.gameID&&"yinyang"===column.smb[i].special&&(reel+='<img style="opacity: 0.75; position: absolute; left: 6px; margin-top: -10px; width: 90% !important;" src="'+gameAssets.assets.icon8+'" alt="Special ymbol Overlay" />'),"7006"===gameParams.gameID&&feature&&"glow"===column.smb[i].special&&(reel+='<img style="position: absolute; left: 6px; margin-top: -10px; width: 90% !important;" src="'+feature+'" alt="Special ymbol Overlay" />'),reel+="</div>"}else reel+='<img class="expanded__'+expand.icon+'" src="'+expand.image+'" alt="Expanding Wild Icon"',"7014"===gameParams.gameID&&(reel+='style="width :70% !important"'),"7007"===gameParams.gameID&&11==column.smb[1].smb&&(reel+='style="width :96% !important"'),reel+="/>";reel+="</div>"}),$(".game__history__replay > .__content .__reel").html(reel),$(".game__history__replay > .__content .__reel").hasClass("_"+ReelConfig.numIcons)||$(".game__history__replay > .__content .__reel").addClass("_"+ReelConfig.numIcons),ReelConfig.winningcombinations){var content="",total=0;if(0===lineConfig.line.lines.length&&"7023"!=gameParams.gameID){if("7012"===gameParams.gameID){var vpc=Number(this_.displayBet.stake)/20,count=0;for(var i in spin.matches){var match=spin.matches[i],html="<li>",win=Number(match.amt)*vpc;total+=win,html+="<p>0"+ ++count+": ",html+="<span>"+curSymb+win.toFixed(2),html+=match.mult>1?" ("+Translate["do"]("Multiplier")+" x"+match.mult+")":"",html+="</span>",html+="</p>",html+="<div>";for(var j=0;j<match.coord.length;j++){var coord=match.coord[j],smb=spin.reel[coord[1]].smb[coord[0]].smb;html+='<img class="won" src="'+gameAssets.assets["icon"+smb]+'" alt="Spin Icon '+smb+'" />'}html+="</div></li>",content+=html}}}else{var count=1,lines={};for(var i in spin.line){var smb=spin.reel[0].smb[Number(spin.line[i].id)-1].smb;lines[smb]?(lines[smb].amt=Number(lines[smb].amt)+Number(spin.line[i].amt),lines[smb].mult=Number(lines[smb].mult)+Number(spin.line[i].mult)):lines[smb]=spin.line[i]}for(var i in lines){var line=lines[i],lineHTML="<li>",win=Number(line.amt)*betPerLine;total+=win,lineHTML+="<p>"+("0"+count++).slice(-2)+": ",lineHTML+="<span>"+curSymb,lineHTML+=win.toFixed(2),lineHTML+=Number(line.mult)>1?" ("+Translate["do"]("Multiplier")+" x"+line.mult+")":"",lineHTML+="</span></p><div>";for(var smb=spin.reel[0].smb[Number(line.id)-1].smb,j=0;j<line.count;j++)lineHTML+='<img class="won" src="'+gameAssets.assets["icon"+smb]+'" alt="Spin Icon '+smb+'" />';content+=lineHTML+"</div></li>"}}""===content&&(content=ReelConfig.newUI?'<li class="empty">'+Translate["do"]("No Winning Lines")+"</li>":"<li>"+Translate["do"]("No Winning Lines")+"</li>");var winText=Translate["do"]("win"),text=toUpperCase(winText.charAt(0))+winText.slice(1)+" - "+Translate["do"]("Winning Lines - Total: ").split(" - ")[1]+" "+curSymb+total.toFixed(2);$('.game__history__replay > .__content .__lines__nav > [target=".__wins"]').addClass("full"),$('.game__history__replay > .__content .__lines__nav > [target=".__wins"]').html(text),$('.game__history__replay > .__content .__lines__nav > [target=".__losses"]').remove(),$(".game__history__replay > .__content .__lines > .__wins").html(content),$(".game__history__replay > .__content .__lines > .__losses").remove()}else{var wins="",losses="",total=0;$.each(framework.getSetup().getPaylines(),function(lineIndex,line){var lineHTML="<li>";lineHTML+=Number(gameParams.gameID)>="7016"&&"portrait"==getOrientation()?"<p style='font-size:15px'>":"<p>",lineHTML+=Translate["do"]("Line")+" "+("0"+line.id).slice(-2)+": ",lineHTML+="<span>"+curSymb,lineHTML+=spin.line[line.id]?(spin.line[line.id].amt*betPerLine).toFixed(2):"0.00",lineHTML+=spin.line[line.id]&&spin.line[line.id].multiplier>1?" ("+Translate["do"]("Multiplier")+" x"+spin.line[line.id].multiplier+")":"",lineHTML+=spin.line[line.id]&&"7006"===gameParams.gameID&&4===Number(spin.line[line.id].mult)?" (x4)":"",lineHTML+="</span></p><div>";var count=0;$.each(line.payline,function(column,symbol){"7015"!=gameParams.gameID?(lineHTML+="<img ",lineHTML+='src="'+gameAssets.assets["icon"+getSymbol(grid[column][symbol],this_.displayBet,spin.reel[column].smb[symbol])]+'" ',lineHTML+='alt="Spin Icon '+grid[column][symbol]+'" ',lineHTML+='class="',lineHTML+=spin.line[line.id]&&count++<spin.line[line.id].count?"won ":"",lineHTML+=getSymbolClass(grid[column][symbol],column,symbol)+" ",lineHTML+='"',lineHTML+="/>"):(lineHTML+="<img ",lineHTML+='src="'+gameAssets.assets["icon"+getSymbolRichie(grid[column][symbol],this_.displayBet,spin.reel[column].smb[symbol])]+'" ',lineHTML+='alt="Spin Icon '+grid[column][symbol]+'" ',lineHTML+='class="',lineHTML+=spin.line[line.id]&&count++<spin.line[line.id].count?"won ":"",lineHTML+=getSymbolClass(grid[column][symbol],column,symbol)+" ",lineHTML+='"',lineHTML+="/>")}),lineHTML+="</div></li>",spin.line[line.id]?(wins+=lineHTML,total+=spin.line[line.id].amt*betPerLine):losses+=lineHTML}),""==wins&&(wins=ReelConfig.newUI?'<li class="empty">'+Translate["do"]("No Winning Lines")+"</li>":"<li>"+Translate["do"]("No Winning Lines")+"</li>"),""==losses&&(losses=ReelConfig.newUI?'<li class="empty">'+Translate["do"]("No Losing Lines")+"</li>":"<li>"+Translate["do"]("No Losing Lines")+"</li>"),$(".game__history__replay > .__content .__lines > .__wins").html(wins),$(".game__history__replay > .__content .__lines > .__losses").html(losses),$(".game__history__replay > .__content .__lines__nav > [target = '.__wins'] > span").html(curSymb+total.toFixed(2));for(var lines=document.getElementsByClassName("__lines__nav")[0],translations=[{text:"Winning Lines - Total: ",value:curSymb+total.toFixed(2)},{text:"Losing Lines",value:""}],i=0;i<lines.children.length;i++)lines.children[i].innerHTML=Translate["do"](translations[i].text)+" "+translations[i].value}if("7004"===gameParams.gameID){var egg={egg:!0};if(spin.egg>=0&&spin.egg<=4)if(egg.symbol=gameAssets.assets["icon"+spin.egg],spin.freeSpin)egg.freespin="10";else{egg.eggHeader=!0,egg.multiplier="+"+(spin.egg+1),egg.totalMultiplier=0,egg.count=0;for(var i=0;i<=this_.displayBet.spin;i++)for(var column in json.spins[i].reel){column=json.spins[i].reel[column].smb;for(var row in column)"collect"===column[row].special&&(egg.totalMultiplier+=spin.egg+1,i==this_.displayBet.spin&&egg.count++)}}else switch(spin.egg){case 29:egg.symbol=gameAssets.assets.icon9,egg.freespin="1";break;case 30:egg.symbol=gameAssets.assets.icon10,egg.winnings=(30*this_.displayBet.stake).toFixed(2),egg.multiplier="x30";break;case 33:egg.symbol="giftOfOstara/img/paytable/symbol-13.png",egg.multiplier="x"+spin.multiplier;break;case 34:egg.symbol="giftOfOstara/img/paytable/symbol-11.png";break;case 35:egg.symbol="giftOfOstara/img/paytable/symbol-12.png",egg.freespin="3";break;default:egg.egg=!1}if(egg.egg){var eggHTML="<p>"+Translate["do"]("Golden Eggs")+(egg.totalMultiplier?" - x"+egg.totalMultiplier+" "+Translate["do"]("Multiplier"):"")+"</p>";egg.eggHeader&&(eggHTML+='<img class="golden__egg__header" src="'+egg.symbol+'" alt="Golden Egg '+spin.egg+' Icon">'),eggHTML+="<ul>",egg.count=egg.count>=0?egg.count:1;for(var i=0;i<egg.count;i++)eggHTML+="<li>",eggHTML+='<img src="'+egg.symbol+'" alt="Golden Egg '+spin.egg+' Icon">',eggHTML+="<p>",eggHTML+=_ucFirst(Translate["do"]("win"))+": "+curSymb+(egg.winnings||"0.00"),eggHTML+=" | "+Translate["do"]("Multiplier")+": "+(egg.multiplier||"0"),eggHTML+=" | "+Translate["do"]("Free Spin")+": "+(egg.freespin||Translate["do"]("No")),eggHTML+="</p>",eggHTML+="</li>";eggHTML+="</ul>",$(".__scatters").html(eggHTML),$(".__scatters").addClass("goo__golden__eggs"),$(".__scatters").css("display","block")}else $(".__scatters").css("display","none")}else if($.isEmptyObject(spin.scatter))$(".__scatters").css("display","none");else{var scatterReel="",scatterWinningsAccum=0,multipliers=0,freespins=0,scattersList="<ul>";$.each(spin.scatter,function(scatterSymbol,details){if(scatterWinningsAccum+=details.win,multipliers+=details.multiplier?details.multiplier:0,"freespins"===details.triggers&&(freespins=spin.freeSpin?spin.freeSpin.won:0),"7010"===gameParams.gameID){var change={6:1,12:1};change[Number(scatterSymbol)]&&(scatterSymbol+="-change")}var respin=!1;("7013"===gameParams.gameID||"7015"===gameParams.gameID&&"respin"===details.type)&&(respin=!0),"7015"===gameParams.gameID?(scattersList+="<li>",scattersList+='<img src="'+gameAssets.assets["icon"+scatterSymbol]+'" alt="Spin Icon '+scatterSymbol+'" />',scattersList+="<p>",scattersList+=_ucFirst(Translate["do"]("win"))+": "+curSymb+(details.win*betPerLine).toFixed(2),scattersList+=" | "+Translate["do"]("Free Spin")+": "+Translate["do"]("freespin"===details.type||"freespins"===details.type||respin?spin.freeSpin.won:"No"),scattersList+="</p>",scattersList+="</li>"):"7019"===gameParams.gameID?(scattersList+="<li>",scattersList+="<li>",scattersList+=_ucFirst(Translate["do"]("Magic beans")),scattersList+="<br>",scattersList+='<img src="'+gameAssets.assets["icon"+scatterSymbol]+'" alt="Spin Icon '+scatterSymbol+'" />',scattersList+="<p>",scattersList+=_ucFirst(Translate["do"]("Stalk Positions"))+": "+details.numSymbols,scattersList+="</p>",scattersList+="</li>"):"7021"===gameParams.gameID?(scattersList+="<li>",scattersList+='<img src="'+gameAssets.assets["icon"+scatterSymbol]+'" alt="Spin Icon '+scatterSymbol+'" />',scattersList+="<p>",scattersList+=" | "+Translate["do"]("Multiplier")+": +"+(details.multiplier?details.multiplier:0),scattersList+=" | "+Translate["do"]("Free Spin")+": "+("retrigger"===details.type||"freespin"===details.type||"freespins"===details.type?details.fsAwarded:Translate["do"]("No")),scattersList+=" | "+Translate["do"]("respin")+": "+Translate["do"](respin?"Yes":"No"),scattersList+="</p>",scattersList+="</li>"):(scattersList+="<li>",scattersList+='<img src="'+gameAssets.assets["icon"+scatterSymbol]+'" alt="Spin Icon '+scatterSymbol+'" />',scattersList+="<p>",scattersList+=_ucFirst(Translate["do"]("win"))+": "+curSymb+(details.win*betPerLine).toFixed(2),scattersList+=" | "+Translate["do"]("Multiplier")+": +"+(details.multiplier?details.multiplier:0),scattersList+=" | "+Translate["do"]("Free Spin")+": "+Translate["do"]("freespin"===details.type||"freespins"===details.type?"Yes":"No"),scattersList+=" | "+Translate["do"]("respin")+": "+Translate["do"](respin?"Yes":"No"),scattersList+="</p>",scattersList+="</li>")}),scattersList+="</ul>","7019"!=gameParams.gameID&&(scatterReel+=ReelConfig.newUI?"<p>"+Translate["do"]("Scatters")+":<span>"+(scatterWinningsAccum>0?curSymb+(scatterWinningsAccum*betPerLine).toFixed(2):"")+(multipliers>0?"<br />"+Translate["do"]("Total Multiplier:")+" +"+multipliers:"")+(freespins>0?"<br />"+Translate["do"]("Free Spins")+": "+freespins:"")+"</span></p>":"<p>"+Translate["do"]("Scatters")+(scatterWinningsAccum>0?"<br /><br />"+curSymb+(scatterWinningsAccum*betPerLine).toFixed(2):"")+(multipliers>0?"<br />"+Translate["do"]("Total Multiplier:")+" +"+multipliers:"")+(freespins>0?"<br />"+Translate["do"]("Free Spins")+": "+freespins:"")+"</p>",scatterReel+="<div",scatterReel+=' class="__reel _'+ReelConfig.numIcons+'"',ReelConfig.newUI||(scatterReel+=" style=\"background-image: url('"+gameAssets.assets.bg_m+"');\""),scatterReel+=">","7015"!=gameParams.gameID&&$.each(spin.reel,function(columnIndex,column){scatterReel+="<div>";for(var i=0;i<ReelConfig.numIcons;i++){var scatter=!1;scatterReel+="<div>","7011"===gameParams.gameID&&"yinyang"===column.smb[i].special&&(scatterReel+='<img style="z-index: 1; opacity: 0.75; position: absolute; left: 6px; margin-top: -10px; width: 90% !important;" src="'+gameAssets.assets.icon8+'" alt="Special ymbol Overlay" />',scatter=!0),scatterReel+='<img style="opacity: ',"7015"!=gameParams.gameID?$.each(spin.scatter,function(scatterSymbol,details){scatterSymbol==grid[columnIndex][i]&&1==details.reels[columnIndex]&&(scatter=!0)}):$.each(spin.scatter,function(scatterSymbol,details){details.win>0&&(scatter=!0)}),scatterReel+=scatter?"1.0":"0.5",scatterReel+=';"',scatterReel+=' src="'+gameAssets.assets["icon"+getSymbol(grid[columnIndex][i],this_.displayBet,column.smb[i])]+'"',scatterReel+=' alt="Spin Icon '+grid[columnIndex][i]+'"',scatterReel+=' class="'+getSymbolClass(grid[columnIndex][i],columnIndex,i)+'"',scatterReel+=" /></div>"}scatterReel+="</div>"}),scatterReel+="</div>"),scatterReel+=scattersList,$(".__scatters").html(scatterReel),$(".__scatters").css("display","block")}if(void 0!=spin.harp&&void 0!=spin.harp.harpBonusID&&(scattersList="<ul>",scatterReel="",scattersList+="<li>",scattersList+=_ucFirst(Translate["do"]("ENCHANTED HARP")),scattersList+="<br>",scattersList+='<img src="'+gameAssets.assets.icon19+'" style="width:90px !important; height:150px; display:block; margin:auto"  alt="harp" />',scattersList+="<p>",1==spin.harp.harpBonusID?scattersList+=_ucFirst(Translate["do"]("Additional Wilds"))+": "+spin.harp.harpBonusValue:2==spin.harp.harpBonusID?scattersList+=_ucFirst(Translate["do"]("Multiplier"))+": "+spin.harp.harpBonusValue:3==spin.harp.harpBonusID?scattersList+=_ucFirst(Translate["do"]("Stalk Positions"))+": "+spin.harp.harpBonusValue:4==spin.harp.harpBonusID?scattersList+=_ucFirst(Translate["do"]("Respin")):5==spin.harp.harpBonusID&&(scattersList+=_ucFirst(Translate["do"]("Additional Free Spins"))+": "+spin.harp.harpBonusValue),scattersList+="</p>",scattersList+="</li>",scattersList+="</ul>",scatterReel+=scattersList,$(".__scatters").html(scatterReel),$(".__scatters").css("display","block")),json.bonus||("7016"===gameParams.gameID||"7019"===gameParams.gameID||"7022"===gameParams.gameID||"7023"===gameParams.gameID||"7008"===gameParams.gameID||"7017"===gameParams.gameID||"7014"===gameParams.gameID||"7012"===gameParams.gameID)&&(spin.bonus||spin.multiplier)||"7010"===gameParams.gameID&&(spin.freeSpin||spin.tokens||spin.collectWin)||"7013"===gameParams.gameID&&spin.drawers){var bonusHTML="";switch(gameParams.gameID){case"7002":bonusHTML+=f1x2.PaintBonusTable(json.bonus,gameAssets.assets,curSymb,this_.displayBet.stake);break;case"7003":bonusHTML+=f1x2.CherryBlastBonusTable(json.bonus,gameAssets.assets.icon13,curSymb,this_.displayBet.stake);break;case"7006":bonusHTML+=f1x2.NeonJungleBonusTable(json.bonus,gameAssets.assets.icon12,curSymb);break;case"7008":bonusHTML+=f1x2.RainbowWildFreespin(spin,this_.displayBet.spin,gameAssets.assets);break;case"7017":bonusHTML+=f1x2.RainbowWildFreespin(spin,this_.displayBet.spin,gameAssets.assets);break;case"7016":bonusHTML+=f1x2.VikingwWildsFreespin(spin,this_.displayBet.spin,gameAssets.assets);case"7019":bonusHTML+=f1x2.VikingwWildsFreespin(spin,this_.displayBet.spin,gameAssets.assets);break;case"7022":bonusHTML+=f1x2.VikingwWildsFreespin(spin,this_.displayBet.spin,gameAssets.assets);break;case"7023":bonusHTML+=f1x2.VikingwWildsFreespin(spin,this_.displayBet.spin,gameAssets.assets);break;case"7010":bonusHTML+=f1x2.WaiKikiBonusTable({fs:spin.freeSpin,tk:spin.tokens,cw:!!spin.collectWin&&curSymb+(Number(spin.collectWin)/100).toFixed(2),assets:[gameAssets.assets["icon11-expanded"],gameAssets.assets["tokens-text"]]});break;case"7012":bonusHTML+=f1x2.MoiraiBlazeFreespin(spin);break;case"7013":bonusHTML+=f1x2.CuriousCabinetFreespin(spin,gameAssets.assets,curSymb,betPerLine);break;case"7014":bonusHTML+=f1x2.VikingwWildsFreespin(spin,this_.displayBet.spin,gameAssets.assets);break;default:logger("how has this happened")}$(".__bonus").html(bonusHTML),$(".__bonus").css("display","block")}else $(".__bonus").css("display","none");fadeElement($(".game__history__list"),"out"),fadeElement($(".game__history__tip"),"out"),fadeElement($(".game__history__replay"),"in"),ReelConfig.newUI&&framework.isTouch()&&(window.newUI.gameHistoryManager.data(this_.displayBet),window.newUI.orientation.check())},initClass_(),window.currencyLookup=_currencyLookup,window.MainMenu=this_}function MenuDesktop(frameworkRef,autoPlayBox,betValueBox){function initClass_(){if(this_.menuTab=new MenuTabSet($("#menu__desktop__nav a"),$(".menu__section")),ReelConfig.newUI){for(var dtNavBar=document.getElementById("menu__desktop__nav"),i=0;i<dtNavBar.children.length;i++){var nav=dtNavBar.children[i];nav.id||(nav.id="settingsTab")}document.getElementById("exitMenuIcon").addEventListener("click",function(){this_.toggleMenu(!1,$("#menuContainer"),$(this)),document.getElementById("gameHistoryPage").removeAttribute("style"),document.getElementById("settingsTabPage").removeAttribute("style"),document.getElementsByClassName("game__history__list")[1].removeAttribute("style"),document.getElementsByClassName("game__history__replay")[1].removeAttribute("style")})}$("#menuButton").on("click",function(e){e.stopPropagation(),e.preventDefault(),ReelConfig.newUI?window.SPIN_STATE.spinning||window.AUTOSPIN_STATE.spinning||this_.toggleMenu(!1,$("#menuContainer"),$(this)):this_.toggleMenu(!1,$("#menuContainer"),$(this))}),$(".menu__button__content").on("mouseover",function(e){e.stopPropagation(),e.preventDefault(),overButtons=!0,!subMenuOpen&&buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()&&(ReelConfig.newUI?window.SPIN_STATE.spinning||(fadeElement(".sub__menu","in"),subMenuOpen=!0):(fadeElement(".sub__menu","in"),subMenuOpen=!0))}),$(".menu__button__content").on("mouseout",function(e){e.stopPropagation(),e.preventDefault(),overButtons=!1,subMenuOpen&&setTimeout(function(){overButtons||(fadeElement(".sub__menu","out"),subMenuOpen=!1)},250)}),$("#soundButton").on("click",function(e){e.stopPropagation(),e.preventDefault(),soundManager_.playSound("click"),framework_.getSettings().toggleAllSounds()}),$(".sub__menu__icon").on("click",function(e){e.stopPropagation(),e.preventDefault();var index=$(this).index();index<2?ReelConfig.newUI||this_.toggleMenu(index,$("#menuContainer"),$("#menuButton")):window.location.href=gameParams.lobbyurl,framework_.hideAllSettings()}),soundEffectSwitch=new RadioSwitch(Translate["do"]("Sound Effects"),"false"!=localStorage.getItem(gameParams.gameName+"__effects__on"),framework_.getSettings().setSoundEffects,$(".menu__section .switch__list")),backgroundSwitch=new RadioSwitch(Translate["do"]("Background Music"),"false"!=localStorage.getItem(gameParams.gameName+"__bg__on"),framework_.getSettings().setBackgroundMusic,$(".menu__section .switch__list"));new RadioSwitch(Translate["do"]("Press Space to Spin"),framework_.getSettings().getSpaceEnabled(),framework_.getSettings().setSpaceToSpin,$(".menu__section .switch__list"));showHelpScreenOnLoad=new RadioSwitch(Translate["do"]("Show help screen on load"),"false"!=localStorage.getItem("show__help__on__load__"+gameParams.folderName),framework_.getSettings().setHelpOnLoad,$(".menu__section .switch__list")),"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&0!=ReelConfig.fastPlayEnable&&(compulsivePlayer_=new RadioSwitch(Translate["do"]("Fast Play"),framework_.getSettings().getCompulsivePlayer,framework_.getSettings().setCompulsivePlayer,$(".menu__section .switch__list"))),$("#spinButton").mouseover(function(){logger("mouseover"),$("#spinButton").hasClass("disabled")||$("#spinBack").css("opacity","0.7")}).mouseout(function(){logger("mouseout"),$("#spinBack").css("opacity","0.5")})}MainMenu.call(this);var this_=this,framework_=frameworkRef,autoPlayBox_=autoPlayBox,betValueBox_=betValueBox,overButtons=!1,subMenuOpen=!1,compulsivePlayer_=!1,soundEffectSwitch=null,backgroundSwitch=null,showHelpScreenOnLoad=null,me={setCompulsivePlayer_:function(val){compulsivePlayer_.doSwitch(val)},getAutoPlay:function(){return autoPlayBox_},getBetBox:function(){return betValueBox_},getSoundSwitch:function(){return soundEffectSwitch},getMusicSwitch:function(){return backgroundSwitch},showReplay:function(json){this_.showReplay(json)},getIntroSwitch:function(){return showHelpScreenOnLoad},showHistory:function(_callback,_isReality){$("#menuContainer").addClass("hidden"),this_.toggleMenu(1,$("#menuContainer"),$("#menuButton"),_isReality),_callback&&(ReelConfig.newUI?(_isReality&&(document.getElementById("settingsTabIcon").classList.remove("active"),document.getElementById("gameHistoryIcon").classList.add("active")),document.getElementById("exitMenuIcon").addEventListener("click",function(){_callback()})):$("#menuButton").on("click.showHistory",function(){_callback(),$("#menuButton").off("click.showHistory")}))}};return initClass_(),me}function MenuMobile(frameworkRef,autoPlayBox,betValueBox){function initClass_(){this_.menuTab=new MenuTabSet($("#menuMobile footer li"),$("#menuMobile .mobile__sub__section")),ReelConfig.newUI?($("#exitMenu").on("touchstart mousedown",function(e){e.stopPropagation(),e.preventDefault(),this_.toggleMenu(!1,$("#menuMobile"),$(this))}),$(".menu").on("touchstart mousedown",function(e){e.stopPropagation(),e.preventDefault(),window.newUI.autospin()["interface"].show?(window.newUI.autospin()["interface"].show=!1,window.newUI.buttons.forEach(function(b_){b_.enable=!0,b_.visible=!0})):window.newUI.bet()["interface"].show?(window.newUI.bet()["interface"].show=!1,window.newUI.buttons.forEach(function(b_){b_.enable=!0,b_.visible=!0})):this_.toggleMenu(!1,$("#menuMobile"),$(this))})):$("#menuButton").on("touchstart mousedown",function(e){e.stopPropagation(),e.preventDefault(),this_.toggleMenu(!1,$("#menuMobile"),$(this))}),ReelConfig.newUI&&$(".sound").on("touchstart mousedown",function(e){e.stopPropagation(),e.preventDefault(),soundManager_.playSound("click"),framework_.getSettings().toggleAllSounds(),framework_.getSettings().getSounds().allSounds?window.newUI.sound().state="ON":window.newUI.sound().state="OFF"}),$(document).on("touchmove",function(evt){evt.preventDefault()}),$(".scrollable__content").on("touchmove",function(e){e.stopPropagation()}),$("input").on("blur",function(e){setTimeout(function(){$(window).resize()},500)}),soundEffectSwitch=new RadioSwitch(Translate["do"]("Sound Effects"),"false"!=localStorage.getItem("slots__sound"),framework_.getSettings().setSoundEffects,$("#soundPage .switch__list")),backgroundSwitch=new RadioSwitch(Translate["do"]("Background Music"),"false"!=localStorage.getItem("slots__sound"),framework_.getSettings().setBackgroundMusic,$("#soundPage .switch__list")),showHelpScreenOnLoad=new RadioSwitch(Translate["do"]("Show help screen on load"),"false"!=localStorage.getItem("show__help__on__load__"+gameParams.folderName),framework_.getSettings().setHelpOnLoad,$("#spinPage .switch__list"));var swipeToSpin=null;if(1==ReelConfig.canSwipe&&(swipeToSpin=new RadioSwitch(Translate["do"]("Swipe to spin"),framework_.getSettings().getSwipeToSpin(),framework_.getSettings().toggleSwipeToSpin,$("#spinPage .switch__list"))),"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&0!=ReelConfig.fastPlayEnable&&(compulsivePlayer_=new RadioSwitch(Translate["do"]("Fast Play"),framework_.getSettings().getCompulsivePlayer,framework_.getSettings().setCompulsivePlayer,$("#spinPage .switch__list"))),"co"!=loginVars.getRegParams().jurisdiction&&"es"!=loginVars.getRegParams().jurisdiction){new RadioSwitch(Translate["do"]("Display in Coins"),(!1),balanceManager_.toggleCredits,$("#betPage .switch__list"))}new RadioSwitch(Translate["do"]("Stop on any win"),(!1),autoPlayManager_.toggleStopOnAnyWin,$("#autoPage .switch__list")),new RadioSwitch(Translate["do"]("Stop on win of"),(!1),autoPlayManager_.toggleStopOnSingleWin,$("#autoPage .switch__list"),"autoPlayWinLimit"),new RadioSwitch(Translate["do"]("Stop if cash increases by"),(!1),autoPlayManager_.toggleStopOnWin,$("#autoPage .switch__list"),"autoPlayCashLimit"),new RadioSwitch(Translate["do"]("Stop if cash decreases by"),"uk"===loginVars.getRegParams().jurisdiction,autoPlayManager_.toggleStopOnLose,$("#autoPage .switch__list"),"autoPlayCashDownLimit","uk"===loginVars.getRegParams().jurisdiction?"active":"");if(0!=gameParams.clientName&&""!=gameParams.clientName&&gameParams.clientName.indexOf("theHub_malta_playtech")>=0);else{new RadioSwitch(Translate["do"]("Stop when feature entered"),(!1),autoPlayManager_.toggleStopOnFeature,$("#autoPage .switch__list"))}ReelConfig.newUI&&window.newUI.settings.init(),$("#gameContainer canvas").on("touchstart",function(){1===framework_.getSettings().getAutoPlaySettings().getApState()&&(framework_.setAutoPlayState(0),framework_.hideApSettings(),logger("nh call1"),buttonManager_.applyState("NH")),framework_.hideBetSettings()}),ReelConfig.newUI?$(".paytable").on("touchstart mousedown",function(e){e.stopPropagation(),e.preventDefault(),soundManager_.playSound("click"),framework.openPayTable()}):$("#paytableMobile").on("touchstart mousedown",function(e){e.stopPropagation(),e.preventDefault(),soundManager_.playSound("click"),framework.openPayTable()}),""==gameParams.lobbyurl&&"it"==loginVars.getRegParams().jurisdiction&&$("#goBackToLobby").addClass("hidden"),""!=gameParams.clientName&&gameParams.clientName.toUpperCase().indexOf("ISOFTBET")>=0&&$("#goBackToLobby").addClass("hidden"),""==gameParams.lobbyurl&&$("#goBackToLobby").addClass("hidden"),$("#goBackToLobby").on("touchstart mousedown",function(){window.sendCustomEvent("f1x2gan",{detail:"gameClosing"}),f1x2.clientWrapperInit.send("game-close"),f1x2.clientWrapperInit.doLobbyURLNavigate&&(top.location.href=gameParams.lobbyurl)}),Draggable.create("#autoPage > .scrollable__content",{type:"scrollTop",throwProps:!0,cursor:"default"})}MainMenu.call(this);var this_=this,framework_=frameworkRef,autoPlayBox_=autoPlayBox,betValueBox_=betValueBox,compulsivePlayer_=!1,soundEffectSwitch=null,backgroundSwitch=null,showHelpScreenOnLoad=null,me={getAutoPlay:function(){return autoPlayBox_},getBetBox:function(){return betValueBox_},showReplay:function(json){this_.showReplay(json)},setCompulsivePlayer_:function(val){compulsivePlayer_.doSwitch(val)},getSoundSwitch:function(){return soundEffectSwitch},getMusicSwitch:function(){return backgroundSwitch},getIntroSwitch:function(){return showHelpScreenOnLoad},showHistory:function(_callback,_isReality){$("#menuMobile").addClass("hidden"),this_.toggleMenu(3,$("#menuMobile"),$("#menuButton"),_isReality),_callback&&(ReelConfig.newUI?document.getElementById("exitMenu").addEventListener("touchstart",function(){_callback()}):$("#menuButton").on("touchstart.showHistory",function(){_callback(),$("#menuButton").off("touchstart.showHistory")}))}};return initClass_(),me}function MenuTabSet(navTarget,pageView){function initClass_(){$(pageView_).css({}),$(navTarget_).on("touchstart click",function(e){e.stopPropagation(),e.preventDefault(),soundManager_.playSound("click"),activateTab_($(this).index())})}function activateTab_(tab){ReelConfig.newUI?6!==tab&&($(navTarget_).removeClass("active"),$(navTarget_).eq(tab).addClass("active"),fadeElement($(pageView_),"out",function(){fadeElement($(pageView_).eq(tab),"in")})):($(navTarget_).removeClass("active"),$(navTarget_).eq(tab).addClass("active"),fadeElement($(pageView_),"out",function(){fadeElement($(pageView_).eq(tab),"in")}))}var navTarget_=navTarget,pageView_=pageView,me={activateTab:activateTab_};return initClass_(),me}function Paytable(help){function mod(n,m){return(n%m+m)%m}function handleTouchStart(evt){paytable.xDown=evt.touches[0].clientX,paytable.yDown=evt.touches[0].clientY}function handleTouchMove(evt){if(paytable.xDown&&paytable.yDown){paytable.xUp=evt.touches[0].clientX,paytable.yUp=evt.touches[0].clientY;var xDiff=paytable.xDown-paytable.xUp,yDiff=paytable.yDown-paytable.yUp;Math.abs(xDiff)>Math.abs(yDiff)&&(xDiff>0?paytable.navigate(1):paytable.navigate(-1)),paytable.xDown=null,paytable.yDown=null,paytable.xUp=null,paytable.yUp=null}}var paytable=this,help_=help||"<p>Game Guide Unavailable</p>";paytable.currentPage=0,paytable.xDown=null,paytable.yDown=null,paytable.xUp=null,paytable.yUp=null,paytable.initClass=function(help){logger("Paytable init"),$("#paytableContainer > .paytable__button").html('<img src="'+frameworkAssets.assets.menuBtnClose+'" alt="Back Button" />'),
$("#paytableContainer > .paytable__button").on("click",function(){paytable.hide()}),document.getElementById("paytable").addEventListener("touchstart",handleTouchStart,!1),document.getElementById("paytable").addEventListener("touchmove",handleTouchMove,!1);var config=paytableAssets;config.fullscreen===!0&&$("#paytableContainer").append('<div id="betConsolePaytableFill"></div>'),config.closeBtn&&($("#paytableContainer > .paytable__button").css("top",config.closeBtn.ypos+"px"),$("#paytableContainer > .paytable__button").css("left",config.closeBtn.xpos+"px")),$("#paytable").css("background-image","url("+config.bg+")"),config.top&&$("#paytableContainer").addClass("top"),paytable.navigate=function(direction){$(".paytable__page__link").removeClass("active"),fadeElement($("#paytable > #pages #page"+paytable.currentPage),"out",function(){$("#paytable > #pages #page"+paytable.currentPage).removeClass("active")}),paytable.currentPage=mod(Number(paytable.currentPage)+direction,config.pages.length),fadeElement($("#paytable > #pages #page"+paytable.currentPage),"in",function(){$("#paytable > #pages #page"+paytable.currentPage).addClass("active")}),$(".paytable__page__link.__"+paytable.currentPage).addClass("active")},$.each(config.buttons,function(button_id,button){var buttonHTML="";buttonHTML+="<button",buttonHTML+=' id="'+button.id+'"',buttonHTML+=' style="',buttonHTML+="background-image: url("+button.bg_up+");",buttonHTML+="top: "+button.ypos+"px;",buttonHTML+="left: "+button.xpos+"px;",buttonHTML+='"',buttonHTML+="></button>",$("#paytable").append(buttonHTML),$("#paytable > #"+button.id).hover(function(){$(this).css("background-image","url("+button.bg_over+")")},function(){$(this).css("background-image","url("+button.bg_up+")")}),$("#paytable > #"+button.id).on("mousedown touchstart",function(){$(this).css("background-image","url("+button.bg_down+")")}),$("#paytable > #"+button.id).on("mouseup touchend",function(){$(this).css("background-image","url("+button.bg_up+")")}),$("#paytable > #"+button.id).click(function(){paytable.navigate(button.direction)})});var pagination="<ul";pagination+=' id="paytablePagination"',pagination+=' style="',pagination+="top: "+config.pagination.ypos+"px;",pagination+="left: "+config.pagination.xpos+"px;",pagination+=config.translatePosition?"transform: translate(-170px, -115px);":"",pagination+='"',pagination+=">",$.each(config.pages,function(page_id,page){pagination+="<li",pagination+=' class="',pagination+=" paytable__page__link",pagination+=" __"+page_id,pagination+=page_id==paytable.currentPage?" active":"",pagination+='"',pagination+=' data-page="'+page_id+'"',pagination+=">",pagination+="</li>";var pageHTML='<li id="page'+page_id+'" class="page">';if(page.symbols&&$.each(page.symbols,function(symbol_id,symbol){if(pageHTML+="<div",pageHTML+=' id="'+symbol.id+'"',pageHTML+=' style="',pageHTML+="top: "+symbol.ypos+"px;",pageHTML+="left: "+symbol.xpos+"px;",pageHTML+=symbol.zpos?"z-index: "+symbol.zpos+";":"",pageHTML+='"',pageHTML+=">","style"===symbol.bgType?(pageHTML+="<div",pageHTML+=' style="',pageHTML+="height: "+symbol.height+";",pageHTML+="width: "+symbol.width+";",pageHTML+="background: "+symbol.bg+";",pageHTML+='"></div>'):(pageHTML+="<img",pageHTML+=' src="'+symbol.bg+'"',pageHTML+=' alt="'+symbol.id+' Image"',pageHTML+=' style="',pageHTML+=symbol.bgWidth?"width: "+symbol.bgWidth+";":"",pageHTML+=symbol.width?"width: "+symbol.width+";":"",pageHTML+=symbol.height?"height: "+symbol.height+";":"",pageHTML+='"',pageHTML+="/>"),void 0!=symbol.text){var textArray="[object Array]"===Object.prototype.toString.call(symbol.text.value);pageHTML+="<"+(textArray?"div":"p"),pageHTML+=' class="symbol__text"',pageHTML+=' style="',pageHTML+="top: "+symbol.text.ypos+"px;",pageHTML+="left: "+symbol.text.xpos+"px;",pageHTML+="width: "+symbol.text.width+"px;",pageHTML+="font-family: "+symbol.text.font+";",pageHTML+="font-size: "+symbol.text.size+";",pageHTML+="text-align: "+symbol.text.align+";",pageHTML+="color: "+symbol.text.fill+";",pageHTML+="text-shadow: "+symbol.text.shadow+";",pageHTML+='">';var count=0,margin=0;textArray?$.each(symbol.text.value,function(text_id,text){"string"==typeof text||text instanceof String?(pageHTML+="<p",pageHTML+=' style="',pageHTML+=symbol.text.spacing?"margin: "+symbol.text.spacing+" 0":"",pageHTML+='">',pageHTML+=Translate["do"](text),pageHTML+="</p>"):"number"==typeof text&&$.each(framework.getSetup().getSymbolValues(text),function(matches,amount){isNaN(matches)||(pageHTML+="<p>",pageHTML+=' style="',pageHTML+=symbol.text.spacing?"margin: "+symbol.text.spacing+" 0":"",pageHTML+='">',pageHTML+='<span style="font-family: '+symbol.text.font+"; margin-left: "+margin+"px; color: "+symbol.text.left_fill+';" class="__left">'+matches+".</span>",pageHTML+='<span style="font-family: '+symbol.text.font+"; color: "+symbol.text.right_fill+';">'+amount+"</span><br />",pageHTML+="</p>")})}):"string"==typeof symbol.text.value||symbol.text.value instanceof String?pageHTML+=Translate["do"](symbol.text.value):"number"==typeof symbol.text.value&&(framework.getSetup().getSymbolValues(symbol.text.value)?$.each(framework.getSetup().getSymbolValues(symbol.text.value),function(matches,amount){isNaN(matches)||(symbol.text.effect&&"slant"==symbol.text.effect.type&&(margin=symbol.text.effect.start-symbol.text.effect.increment*count++),pageHTML+='<span style="font-family: '+symbol.text.font+"; margin-left: "+margin+"px; color: "+symbol.text.left_fill+';" class="__left">'+matches+".</span>",pageHTML+='<span style="font-family: '+symbol.text.font+"; color: "+symbol.text.right_fill+';">'+amount+"</span><br />")}):pageHTML+="SYMBOL VALUES NOT FOUND"),pageHTML+="</"+(textArray?"div":"p")+">"}pageHTML+="</div>"}),page.videos)for(var i=0;i<page.videos.length;i++){var video=page.videos[i];pageHTML+='<video autoplay loop muted playsinline height="'+video.height+'" width="'+video.width+'" style="';for(var j in video.styles)pageHTML+=j+": "+video.styles[j]+";";pageHTML+='">';for(var j=0;j<video.sources.length;j++){var source=video.sources[j];pageHTML+='<source src="'+source.path+'" type="video/'+source.type+'">'}pageHTML+="</video>"}if(page.text&&$.each(page.text,function(text_id,text){var textArray="[object Array]"===Object.prototype.toString.call(text.value);pageHTML+="<"+(textArray?"div":"p"),pageHTML+=' style="',pageHTML+="position: absolute;",pageHTML+="top: "+text.ypos+"px;",pageHTML+="left: "+text.xpos+"px;",pageHTML+="border: "+text.border+";",pageHTML+="height: "+text.height+"px;",pageHTML+="width: "+text.width+"px;",pageHTML+="color: "+text.fill+";",pageHTML+="font-family: "+text.font+";",pageHTML+="font-size: "+text.size+";",pageHTML+="text-align: "+text.align+";",pageHTML+=textArray?"display: block; padding: 10px; box-sizing: border-box;":"",pageHTML+="",pageHTML+='">',textArray?$.each(text.value,function(text_id,textObj){pageHTML+="<p",pageHTML+=' style="',pageHTML+="position: absolute;",pageHTML+="top: "+textObj.ypos+"px;",pageHTML+="left: "+textObj.xpos+"px;",pageHTML+="margin: 0;",pageHTML+="height: "+textObj.height+"px;",pageHTML+="width: "+textObj.width+"px;",pageHTML+="color: "+textObj.fill+";",pageHTML+="font-family: "+textObj.font+";",pageHTML+="font-size: "+textObj.size+";",pageHTML+="text-align: "+textObj.align+";",pageHTML+='"',pageHTML+=">","string"==typeof textObj.value||textObj.value instanceof String?pageHTML+=Translate["do"](textObj.value):"number"==typeof textObj.value&&$.each(framework.getSetup().getSymbolValues(textObj.value),function(matches,amount){pageHTML+='<span style="font-family: '+symbol.text.font+"; margin-left: "+margin+"px; color: "+text.left_fill+';" class="__left">'+matches+".</span>",pageHTML+='<span style="font-family: '+symbol.text.font+"; color: "+text.right_fill+';">'+amount+"</span><br />"}),pageHTML+="</p>"}):"string"==typeof text.value||text.value instanceof String?pageHTML+=Translate["do"](text.value):"number"==typeof text.value&&$.each(framework.getSetup().getSymbolValues(text.value),function(matches,amount){pageHTML+='<span style="margin-left: '+margin+"px; color: "+text.left_fill+';" class="__left">'+matches+".</span>",pageHTML+='<span style="color: '+text.right_fill+';">'+amount+"</span><br />"}),pageHTML+="</"+(textArray?"div":"p")+">"}),page.lines){pageHTML+="<div",pageHTML+=' class="__lines"',pageHTML+='style="',pageHTML+=page.ypos?"top: "+page.ypos+"px;":"",pageHTML+=config.translatePosition?"transform: translateX(170px);":"",pageHTML+='"',pageHTML+=">";for(var i=page.lines[0];i<=page.lines[1];i++)pageHTML+='<div class="__line">',pageHTML+='<p style="font-family: '+page.font+"; color: "+page.text_colour+'">'+("0"+i).slice(-2)+"</p>",pageHTML+='<div class="__grid">',$.each(framework.getSetup().getPaylineArray(i),function(key,value){pageHTML+='<div class="__column">';for(var j=0;j<3;j++)pageHTML+="<div",pageHTML+=' style="background-color: '+(j==value?page.checked_colour:page.unchecked_colour)+';"',pageHTML+="></div>";pageHTML+="</div>"}),pageHTML+="</div></div>";pageHTML+="</div>"}if(page.gameguide&&(pageHTML+='<h2 style="position: absolute; top: '+page.title_ypos+"px; left: "+page.title_xpos+"px; color: "+page.fill+"; font-family: "+page.font+'">'+Translate["do"](page.title)+"</h2>",pageHTML+="<article",pageHTML+=' class="help"',pageHTML+=' style="',pageHTML+="top: "+page.ypos+"px;",pageHTML+="left: "+page.xpos+"px;",pageHTML+="height: "+page.height+"px;",pageHTML+="width: "+page.width+"px;",pageHTML+="font-family: "+page.font+"px;",pageHTML+='"',pageHTML+=">",pageHTML+=help,pageHTML+="<h2>"+Translate["do"]("GUI Descriptions")+"</h2>",pageHTML+='<ul class="game__guide__gui">',pageHTML+="<li><span>"+Translate["do"]("Help Button")+':</span><img src="'+("mobile"===gameParams.channel?frameworkAssets.assets.menuBtnPaytable:frameworkSettings.buttons.helpButton.bg)+'" alt="Help Button" /></li>',pageHTML+="<li><span>"+Translate["do"]("Bet Control")+':</span> <img src="'+frameworkSettings.buttons.betControl.bg+'" alt="Bet Control" /></li>',"desktop"===gameParams.channel&&(pageHTML+="<li><span>"+Translate["do"]("Autoplay Button")+':</span> <img src="'+frameworkSettings.buttons.autoButton.bg+'" alt="Autoplay Button" /></li>'),pageHTML+="<li><span>"+Translate["do"]("Autoplay Start Button")+("mobile"===gameParams.channel?" ("+Translate["do"]("HOLD")+")":"")+':</span> <img src="'+frameworkSettings.buttons.autoButton.start+'" alt="Autoplay Start Button" /></li>',pageHTML+="<li><span>"+Translate["do"]("Autoplay Stop Button")+':</span> <img src="'+frameworkSettings.buttons.autoButton.stop+'" alt="Autoplay Stop Button" /></li>',pageHTML+="<li><span>"+Translate["do"]("Spin Button")+':</span> <img src="'+frameworkSettings.buttons.spinButton.bg+'" alt="Spin Button" /></li>',pageHTML+="<li><span>"+Translate["do"]("Stop Button")+':</span> <img src="'+frameworkSettings.buttons.stopButton.bg+'" alt="Stop Button" /></li>',pageHTML+="</ul>",pageHTML+="</article>",pageHTML+="<style>#paytable h2 > sup, .help * {color: "+page.fill+"!important}</style>"),pageHTML+="</li>",$("#paytable > #pages").append(pageHTML),config.translatePosition&&$("#paytable > #pages").css("transform","translate(-170px, -115px)"),page.gameguide){var rtp=page.rtp[gameParams.confType-1];$(".help .__rtp").html(rtp?rtp:"RTP NOT FOUND"),Draggable.create(".help",{type:"scrollTop",throwProps:!0})}}),pagination+="</ul>",pagination+="<style>#paytableContainer > #paytablePagination > .paytable__page__link { background-color: "+config.pagination.unchecked+"; } #paytableContainer > #paytablePagination > .paytable__page__link.active { background-color: "+config.pagination.checked+"; } </style>",$("#paytableContainer").append(pagination),$(".paytable__page__link").on("click",function(event){$(".paytable__page__link").removeClass("active"),fadeElement($("#paytable > #pages #page"+paytable.currentPage),"out",function(){$("#paytable > #pages #page"+paytable.currentPage).removeClass("active")}),paytable.currentPage=event.target.dataset.page,fadeElement($("#paytable > #pages #page"+paytable.currentPage),"in",function(){$("#paytable > #pages #page"+paytable.currentPage).addClass("active")}),$(".paytable__page__link.__"+paytable.currentPage).addClass("active")}),$("#paytable > #pages #page"+paytable.currentPage).addClass("active")};var visible=!1;paytable.toggle=function(){visible=!visible,visible||"function"!=typeof gameClass_.closePt||gameClass_.closePt(),visible?$("#paytableMobile > img").attr("src",frameworkAssets.assets.menuBtnClose):$("#paytableMobile > img").attr("src",frameworkAssets.assets.menuBtnPaytable),fadeElement($("#paytableContainer"),visible)},paytable.hide=function(){"function"==typeof gameClass_.closePt&&gameClass_.closePt(),$("#paytableMobile > img").attr("src",frameworkAssets.assets.menuBtnPaytable),fadeElement($("#paytableContainer"),"out"),visible=!1},paytableAssets&&paytable.initClass(help_)}function Paytable(help){function mod(n,m){return(n%m+m)%m}function handleTouchStart(evt){paytable.xDown=evt.touches[0].clientX,paytable.yDown=evt.touches[0].clientY}function handleTouchMove(evt){if(paytable.xDown&&paytable.yDown){paytable.xUp=evt.touches[0].clientX,paytable.yUp=evt.touches[0].clientY;var xDiff=paytable.xDown-paytable.xUp,yDiff=paytable.yDown-paytable.yUp;Math.abs(xDiff)>Math.abs(yDiff)&&(xDiff>0?paytable.navigate(1):paytable.navigate(-1)),paytable.xDown=null,paytable.yDown=null,paytable.xUp=null,paytable.yUp=null}}function setPage(page){$(".paytable__page__link").removeClass("active"),fadeElement($("#paytable > #pages #page"+paytable.currentPage),"out",function(){$("#paytable > #pages #page"+paytable.currentPage).removeClass("active")}),paytable.currentPage=page,fadeElement($("#paytable > #pages #page"+paytable.currentPage),"in",function(){$("#paytable > #pages #page"+paytable.currentPage).addClass("active")}),$(".paytable__page__link.__"+paytable.currentPage).addClass("active")}var paytable=this,help_=help||"<p>Game Guide Unavailable</p>";paytable.currentPage=0,paytable.xDown=null,paytable.yDown=null,paytable.xUp=null,paytable.yUp=null,paytable.initClass=function(help){if(!ReelConfig.newUI){logger("Paytable init"),$("#paytableContainer > .paytable__button").html('<img src="'+frameworkAssets.assets.menuBtnClose+'" alt="Back Button" />'),$("#paytableContainer > .paytable__button").on("click",function(){paytable.hide()}),document.getElementById("paytable").addEventListener("touchstart",handleTouchStart,!1),document.getElementById("paytable").addEventListener("touchmove",handleTouchMove,!1);var config=paytableAssets;config.fullscreen===!0&&$("#paytableContainer").append('<div id="betConsolePaytableFill"></div>'),config.closeBtn&&($("#paytableContainer > .paytable__button").css("top",config.closeBtn.ypos+"px"),$("#paytableContainer > .paytable__button").css("left",config.closeBtn.xpos+"px")),$("#paytable").css("background-image","url("+config.bg+")"),config.top&&$("#paytableContainer").addClass("top"),paytable.navigate=function(direction){$(".paytable__page__link").removeClass("active"),fadeElement($("#paytable > #pages #page"+paytable.currentPage),"out",function(){$("#paytable > #pages #page"+paytable.currentPage).removeClass("active")}),paytable.currentPage=mod(Number(paytable.currentPage)+direction,config.pages.length),fadeElement($("#paytable > #pages #page"+paytable.currentPage),"in",function(){$("#paytable > #pages #page"+paytable.currentPage).addClass("active")}),$(".paytable__page__link.__"+paytable.currentPage).addClass("active")},$.each(config.buttons,function(button_id,button){var buttonHTML="";buttonHTML+="<button",buttonHTML+=' id="'+button.id+'"',buttonHTML+=' style="',buttonHTML+="background-image: url("+button.bg_up+");",buttonHTML+="top: "+button.ypos+"px;",buttonHTML+="left: "+button.xpos+"px;",buttonHTML+='"',buttonHTML+="></button>",$("#paytable").append(buttonHTML),$("#paytable > #"+button.id).hover(function(){$(this).css("background-image","url("+button.bg_over+")")},function(){$(this).css("background-image","url("+button.bg_up+")")}),$("#paytable > #"+button.id).on("mousedown touchstart",function(){$(this).css("background-image","url("+button.bg_down+")")}),$("#paytable > #"+button.id).on("mouseup touchend",function(){$(this).css("background-image","url("+button.bg_up+")")}),$("#paytable > #"+button.id).click(function(){paytable.navigate(button.direction)})});var pagination="<ul";pagination+=' id="paytablePagination"',pagination+=' style="',pagination+="top: "+config.pagination.ypos+"px;",pagination+="left: "+config.pagination.xpos+"px;",pagination+=config.translatePosition?"transform: translate(-170px, -115px);":"",pagination+='"',pagination+=">",$.each(config.pages,function(page_id,page){pagination+="<li",pagination+=' class="',pagination+=" paytable__page__link",pagination+=" __"+page_id,pagination+=page_id==paytable.currentPage?" active":"",pagination+='"',pagination+=' data-page="'+page_id+'"',pagination+=">",pagination+="</li>";var pageHTML='<li id="page'+page_id+'" class="page">';if(page.symbols&&$.each(page.symbols,function(symbol_id,symbol){if(pageHTML+="<div",pageHTML+=' id="'+symbol.id+'"',pageHTML+=' style="',pageHTML+="top: "+symbol.ypos+"px;",pageHTML+="left: "+symbol.xpos+"px;",pageHTML+=symbol.zpos?"z-index: "+symbol.zpos+";":"",pageHTML+='"',pageHTML+=">","style"===symbol.bgType?(pageHTML+="<div",pageHTML+=' style="',pageHTML+="height: "+symbol.height+";",pageHTML+="width: "+symbol.width+";",pageHTML+="background: "+symbol.bg+";",pageHTML+='"></div>'):(pageHTML+="<img",pageHTML+=' src="'+symbol.bg+'"',pageHTML+=' alt="'+symbol.id+' Image"',pageHTML+=' style="',pageHTML+=symbol.bgWidth?"width: "+symbol.bgWidth+";":"",pageHTML+=symbol.width?"width: "+symbol.width+";":"",pageHTML+=symbol.height?"height: "+symbol.height+";":"",pageHTML+=symbol.flip?"transform: scaleX(-1);":"",pageHTML+='"',pageHTML+="/>"),void 0!=symbol.text){var textArray="[object Array]"===Object.prototype.toString.call(symbol.text.value);pageHTML+="<"+(textArray?"div":"p"),pageHTML+=' class="symbol__text"',pageHTML+=' style="',pageHTML+="top: "+symbol.text.ypos+"px;",pageHTML+="left: "+symbol.text.xpos+"px;",pageHTML+="width: "+symbol.text.width+"px;",pageHTML+="font-family: "+symbol.text.font+";",pageHTML+="font-size: "+symbol.text.size+";",pageHTML+="text-align: "+symbol.text.align+";",pageHTML+="color: "+symbol.text.fill+";",pageHTML+="text-shadow: "+symbol.text.shadow+";",pageHTML+='">';var count=0,margin=0;if(textArray)$.each(symbol.text.value,function(text_id,text){"string"==typeof text||text instanceof String?(pageHTML+="<p",pageHTML+=' style="',pageHTML+="color: "+symbol.text.fill+"; ",pageHTML+=symbol.text.spacing?"margin: "+symbol.text.spacing+" 0":"",pageHTML+='">',pageHTML+=Translate["do"](text),pageHTML+="</p>"):"number"==typeof text&&$.each(framework.getSetup().getSymbolValues(text),function(matches,amount){isNaN(matches)||(pageHTML+="<p>",pageHTML+=' style="',pageHTML+=symbol.text.spacing?"margin: "+symbol.text.spacing+" 0":"",pageHTML+='">',pageHTML+='<span style="font-family: '+symbol.text.font+"; margin-left: "+margin+"px; color: "+symbol.text.left_fill+';" class="__left">'+matches+".</span>",pageHTML+='<span style="font-family: '+symbol.text.font+"; color: "+symbol.text.right_fill+';">'+amount+"</span><br />",pageHTML+="</p>")})});else if("string"==typeof symbol.text.value||symbol.text.value instanceof String)pageHTML+=Translate["do"](symbol.text.value);else if("number"==typeof symbol.text.value){var symbolValues=framework.getSetup().getSymbolValues(symbol.text.value);if(symbolValues){var payOut,symbolValuesActual={};for(var i in symbolValues)symbolValuesActual[symbolValues[i]]=1;var valuesCount=0,start=0,end=Object.keys(symbolValuesActual).length;if(symbol.text.paginate){var split=Math.ceil(end/symbol.text.paginate[0]);start=0+split*symbol.text.paginate[1],end=split*(symbol.text.paginate[1]+1)}$.each(symbolValues,function(matches,amount){!isNaN(matches)&&valuesCount>=start&&valuesCount<end&&(symbol.text.effect&&"slant"==symbol.text.effect.type&&(margin=symbol.text.effect.start-symbol.text.effect.increment*count++),amount!=payOut&&(pageHTML+='<span style="font-family: '+symbol.text.font+"; margin-left: "+margin+"px; color: "+symbol.text.left_fill+';" class="__left"> '+Translate["do"](matches+".")+"</span>",pageHTML+='<span style="font-family: '+symbol.text.font+"; color: "+symbol.text.right_fill+';">'+amount+"</span><br />"),payOut=amount),valuesCount++})}else pageHTML+="SYMBOL VALUES NOT FOUND"}pageHTML+="</"+(textArray?"div":"p")+">"}pageHTML+="</div>"}),page.videos)for(var i=0;i<page.videos.length;i++){var video=page.videos[i];pageHTML+='<video autoplay loop muted playsinline height="'+video.height+'" width="'+video.width+'" style="';for(var j in video.styles)pageHTML+=j+": "+video.styles[j]+";";pageHTML+='">';for(var j=0;j<video.sources.length;j++){var source=video.sources[j];pageHTML+='<source src="'+source.path+'" type="video/'+source.type+'">'}pageHTML+="</video>"}if(page.text&&$.each(page.text,function(text_id,text){var textArray="[object Array]"===Object.prototype.toString.call(text.value);if(pageHTML+="<"+(textArray?"div":"p"),pageHTML+=' style="',pageHTML+="position: absolute;",pageHTML+="top: "+text.ypos+"px;",pageHTML+="left: "+text.xpos+"px;",pageHTML+="border: "+text.border+";",pageHTML+="height: "+text.height+"px;",pageHTML+="width: "+text.width+"px;",pageHTML+="color: "+text.fill+";",pageHTML+="font-family: "+text.font+";",pageHTML+="font-size: "+text.size+";",pageHTML+="text-align: "+text.align+";",pageHTML+="margin: "+text.margin+";",pageHTML+=textArray?"display: block; padding: 10px; box-sizing: border-box;":"",pageHTML+="",pageHTML+='">',textArray)$.each(text.value,function(text_id,textObj){"string"==typeof textObj||textObj instanceof String?(pageHTML+='<p style="color: '+text.para_fill+";font-family: "+text.font+";margin: 0; margin-top: "+(0===text_id?0:text.spacing)+'px">',pageHTML+=Translate["do"](textObj)):"string"==typeof textObj.value||textObj.value instanceof String?(pageHTML+="<p",pageHTML+=' style="',pageHTML+="position: absolute;",pageHTML+="top: "+textObj.ypos+"px;",pageHTML+="left: "+textObj.xpos+"px;",pageHTML+="margin: 0;",pageHTML+="height: "+textObj.height+"px;",pageHTML+="width: "+textObj.width+"px;",pageHTML+="color: "+textObj.fill+";",pageHTML+="font-family: "+textObj.font+";",pageHTML+="font-size: "+textObj.size+";",pageHTML+="text-align: "+textObj.align+";",pageHTML+='"',pageHTML+=">",pageHTML+=Translate["do"](textObj.value)):"number"==typeof textObj.value&&(pageHTML+="<p",pageHTML+=' style="',pageHTML+="position: absolute;",pageHTML+="top: "+textObj.ypos+"px;",pageHTML+="left: "+textObj.xpos+"px;",pageHTML+="margin: 0;",pageHTML+="height: "+textObj.height+"px;",pageHTML+="width: "+textObj.width+"px;",pageHTML+="color: "+textObj.fill+";",pageHTML+="font-family: "+textObj.font+";",pageHTML+="font-size: "+textObj.size+";",pageHTML+="text-align: "+textObj.align+";",pageHTML+='"',pageHTML+=">",$.each(framework.getSetup().getSymbolValues(textObj.value),function(matches,amount){pageHTML+='<span style="font-family: '+symbol.text.font+"; margin-left: "+margin+"px; color: "+text.left_fill+';" class="__left">'+matches+".</span>",pageHTML+='<span style="font-family: '+symbol.text.font+"; color: "+text.right_fill+';">'+amount+"</span><br />"})),pageHTML+="</p>"});else if("string"==typeof text.value||text.value instanceof String)pageHTML+=Translate["do"](text.value);else if("number"==typeof text.value){var payOut,symbolValues=framework.getSetup().getSymbolValues(text.value),symbolValuesActual={};for(var i in symbolValues)symbolValuesActual[symbolValues[i]]=1;var valuesCount=0,start=0,end=Object.keys(symbolValuesActual).length;if(text.paginate){var split=Math.ceil(end/text.paginate[0]);start=0+split*text.paginate[1],end=split*(text.paginate[1]+1)}$.each(symbolValues,function(matches,amount){isNaN(matches)||amount==payOut||(valuesCount>=start&&valuesCount<end&&(pageHTML+='<span style="color: '+text.left_fill+";font-family: "+text.font+';" class="__left">'+Translate["do"](matches+".")+"</span>",pageHTML+='<span style="color: '+text.right_fill+";font-family: "+text.font+';">'+amount+"</span><br />"),valuesCount++),payOut=amount})}pageHTML+="</"+(textArray?"div":"p")+">"}),page.lines){pageHTML+="<div",pageHTML+=' class="__lines'+(page.small?" __small":"")+'"',pageHTML+='style="',pageHTML+=page.ypos?"top: "+page.ypos+"px;":"",pageHTML+=page.xpos?"left: "+page.xpos+"px;":"",pageHTML+=page.width?"width: "+page.width+"%;":"",pageHTML+=config.translatePosition?"transform: translateX(170px);":"",pageHTML+='"',pageHTML+=">";for(var i=page.lines[0];i<=page.lines[1];i++)pageHTML+='<div class="__line">',pageHTML+='<p style="font-family: '+page.font+"; color: "+page.text_colour+'">'+("0"+i).slice(-2)+"</p>",pageHTML+='<div class="__grid __'+ReelConfig.numIcons+'">',$.each(framework.getSetup().getPaylineArray(i),function(key,value){pageHTML+='<div class="__column">';for(var j=0;j<ReelConfig.numIcons;j++)pageHTML+="<div",pageHTML+=' style="background-color: '+(j==value?page.checked_colour:page.unchecked_colour)+';"',pageHTML+="></div>";pageHTML+="</div>"}),pageHTML+="</div></div>";pageHTML+="</div>"}if(page.gameguide&&(pageHTML+='<h2 style="position: absolute; top: '+page.title_ypos+"px; left: "+page.title_xpos+"px; color: "+page.fill+"; font-family: "+page.font+'">'+Translate["do"](page.title)+"</h2>",pageHTML+="<article",pageHTML+=' class="help"',pageHTML+=' style="',pageHTML+="top: "+page.ypos+"px;",pageHTML+="left: "+page.xpos+"px;",pageHTML+="height: "+page.height+"px;",pageHTML+="width: "+page.width+"px;",pageHTML+="font-family: "+page.font+"px;",pageHTML+='"',pageHTML+=">",pageHTML+=help,pageHTML+="<h2>"+Translate["do"]("GUI Descriptions")+"</h2>",pageHTML+='<ul class="game__guide__gui">',pageHTML+="<li><span>"+Translate["do"]("Help Button")+':</span><img src="'+("mobile"===gameParams.channel?frameworkAssets.assets.menuBtnPaytable:frameworkSettings.buttons.helpButton.bg)+'" alt="Help Button" /></li>',pageHTML+="<li><span>"+Translate["do"]("Bet Control")+':</span> <img src="'+frameworkSettings.buttons.betControl.bg+'" alt="Bet Control" /></li>',"desktop"===gameParams.channel&&(pageHTML+="<li><span>"+Translate["do"]("Autoplay Button")+':</span> <img src="'+frameworkSettings.buttons.autoButton.bg+'" alt="Autoplay Button" /></li>'),pageHTML+="<li><span>"+Translate["do"]("Autoplay Start Button")+("mobile"===gameParams.channel?" ("+Translate["do"]("HOLD")+")":"")+':</span> <img src="'+frameworkSettings.buttons.autoButton.start+'" alt="Autoplay Start Button" /></li>',pageHTML+="<li><span>"+Translate["do"]("Autoplay Stop Button")+':</span> <img src="'+frameworkSettings.buttons.autoButton.stop+'" alt="Autoplay Stop Button" /></li>',pageHTML+="<li><span>"+Translate["do"]("Spin Button")+':</span> <img src="'+frameworkSettings.buttons.spinButton.bg+'" alt="Spin Button" /></li>',"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&(pageHTML+="<li><span>"+Translate["do"]("Stop Button")+':</span> <img src="'+frameworkSettings.buttons.stopButton.bg+'" alt="Stop Button" /></li>'),pageHTML+="</ul>",pageHTML+="</article>",pageHTML+="<style>#paytable h2 > sup, .help * {color: "+page.fill+"!important}</style>"),pageHTML+="</li>",$("#paytable > #pages").append(pageHTML),config.translatePosition&&$("#paytable > #pages").css("transform","translate(-170px, -115px)"),page.gameguide){var rtp=page.rtp[gameParams.confType-1];if($(".help .__rtp").html(rtp?rtp:"RTP NOT FOUND"),"7007"===window.gameParams.gameID){var maxWin=window.framework.getSetup().getMaxWin()||"MAX WIN NOT FOUND";$(".help #max__win").html(maxWin)}Draggable.create(".help",{type:"scrollTop",throwProps:!0,cursor:"default"})}}),pagination+="</ul>",pagination+="<style>#paytableContainer > #paytablePagination > .paytable__page__link { background-color: "+config.pagination.unchecked+"; } #paytableContainer > #paytablePagination > .paytable__page__link.active { background-color: "+config.pagination.checked+"; } </style>",$("#paytableContainer").append(pagination),$(".paytable__page__link").on("click",function(event){setPage(event.target.dataset.page)}),$("#paytable > #pages #page"+paytable.currentPage).addClass("active")}};var visible=!1;paytable.toggle=function(){if(visible=!visible,visible||"function"!=typeof gameClass_.closePt||gameClass_.closePt(),visible){if(ReelConfig.newUI){if(framework.isTouch()){document.getElementById("arch").classList.add("hidden");for(var i=0;i<window.newUI.buttons.length;i++){var button=window.newUI.buttons[i];button.visible=!1}}window.newUI.paytableManager.gameGuideManager.onClick.dispatch()}else $("#paytableMobile > img").attr("src",frameworkAssets.assets.menuBtnClose);setPage(0)}else if(ReelConfig.newUI){if(framework.isTouch()){document.getElementById("arch").classList.remove("hidden");for(var i=0;i<window.newUI.buttons.length;i++){var button=window.newUI.buttons[i];button.visible=!0}}}else $("#paytableMobile > img").attr("src",frameworkAssets.assets.menuBtnPaytable);fadeElement($("#paytableContainer"),visible)},paytable.hide=function(){ReelConfig.newUI||$("#paytableMobile > img").attr("src",frameworkAssets.assets.menuBtnPaytable),fadeElement($("#paytableContainer"),"out"),visible=!1,ReelConfig.newUI&&(framework.isTouch()&&document.getElementById("arch").classList.remove("hidden"),window.newUI.buttons.forEach(function(b_){b_.enable=!0,b_.visible=!0})),"function"==typeof gameClass_.closePt&&gameClass_.closePt()},paytableAssets&&"<p>Game Guide Unavailable</p>"!=help_&&paytable.initClass(help_)}function AutoPlaySettings(autoPlayOptions){function initClass_(){$("input[name='autoPlayWinLimit']").change(function(){autoPlayManager_.setSingleWinThreshold($(this).val())}),$("input[name='autoPlayCashLimit']").change(function(){autoPlayManager_.setWinThreshold($(this).val())}),$("input[name='autoPlayCashDownLimit']").change(function(){autoPlayManager_.setLoseThreshold($(this).val())}),$("input[name='autoPlayWinLimit']").keyup(function(){autoPlayManager_.setSingleWinThreshold($(this).val())}),$("input[name='autoPlayCashLimit']").keyup(function(){autoPlayManager_.setWinThreshold($(this).val())}),$("input[name='autoPlayCashDownLimit']").keyup(function(){autoPlayManager_.setLoseThreshold($(this).val())}),$("#autoPlayCashDownLimitMobile").on("touchstart",function(e){e.stopPropagation(),e.preventDefault(),gridInput.show(function(value){$("#autoPlayCashDownLimitMobile").html(value),autoPlayManager_.setLoseThreshold(Number(value))})}),$("#autoplayStopOnCashDownMobile").parent().on("touchstart",function(e){autoPlayManager_.mobToggleStopOnLose()})}function autoReset_(){autoEnable_=!0}var apState_=0,autoPlayOptions_=autoPlayOptions,autoEnable_=!0,autoTout=100,setApState_=function(state){logger(state+" "+buttonManager_.getCurrentState()+" "+autoPlayManager_.getAutoPlayNum()),apState_=state,(1!=freeSpinsManager_.getIsInFs()&&1!=freeSpinsManager_.getFsWon()||0==state)&&(ReelConfig.newUI||void 0!=buttonManager_.getButton(frameworkSettings.buttons.autoButton.id))&&(0===state?(("APNH"==buttonManager_.getCurrentState()||"SPIN"==buttonManager_.getCurrentState()&&0==gameClass_.isSpinning())&&buttonManager_.applyState("NH"),$("#holdText").show(),ReelConfig.newUI||buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).setText(""),framework.isTouch()?(ReelConfig.newUI?window.newUI.autospin().text=AUTOSPIN_VALUES.value():buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).changeState("bg"),autoPlayManager_.getAutoPlayNum()<=0&&buttonManager_.applyStateForce("NH")):ReelConfig.newUI||buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).changeState("bg")):1===state?(framework.isTouch()||("APNH"==buttonManager_.getCurrentState()?(logger("nh call3"),buttonManager_.applyState("NH")):"NH"==buttonManager_.getCurrentState()&&buttonManager_.applyState("APNH")),$("#holdText").hide(),ReelConfig.newUI||(buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).setText(""),buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).changeState("start"))):2===state&&($("#holdText").hide(),
$("#autoPlayMobileInput").fadeOut(500),ReelConfig.newUI||buttonManager_.getButton(frameworkSettings.buttons.autoButton.id).changeState("stop")))},doAutoPlay_=function(){var tooltip;logger(apState_),ReelConfig.newUI&&framework.isTouch()&&(tooltip=window.newUI.autospin()["interface"].settings.cashDecreasesBy.tooltip),0!=autoEnable_&&(1!=freeSpinsManager_.getIsInFs()&&1!=freeSpinsManager_.getFsWon()||2==apState_)&&(autoEnable_=!1,setTimeout(autoReset_,autoTout),0===apState_?(framework.isTouch()?autoPlayOptions_.showSelector():(autoPlayOptions_.toggleOpen(),ReelConfig.newUI&&(window.newUI.autospin().state="SPIN")),setApState_(1),soundManager_.playSound("click")):1===apState_&&0==gameClass_.isSpinning()?!$("#autoPlaySettings").hasClass("hidden")||framework.isTouch()?autoPlayManager_.validStopOnLose()?(setApState_(2),framework.isTouch()?(autoPlayOptions_.hideSelector(),ReelConfig.newUI&&(window.newUI.autospin()["interface"].show=!1)):autoPlayOptions_.toggleOpen(),soundManager_.playSound("spinClick"),framework.hideBetSettings(),autoPlayManager_.toggleAutoPlay(),$(".autoplayStopOnCashDownTooltip").removeClass("show"),ReelConfig.newUI&&framework.isTouch()?tooltip.classList.add("hidden"):ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="STOP")):($(".autoplayStopOnCashDownTooltip").addClass("show"),ReelConfig.newUI&&framework.isTouch()&&(tooltip.classList.contains("hidden")&&tooltip.classList.remove("hidden"),tooltip.innerHTML.length<1&&(tooltip.innerHTML=Translate["do"]("Must be set to a value")))):(autoPlayOptions_.toggleOpen(),setApState_(1),soundManager_.playSound("click"),ReelConfig.newUI&&(window.newUI.autospin().state="STOP")):2===apState_&&(autoPlayManager_.setStopOnLose(),soundManager_.playSound("spinClick"),autoPlayManager_.toggleAutoPlay(),setApState_(0),ReelConfig.newUI&&(window.newUI.autospin().state="START")))},me={setApState:setApState_,doAutoPlay:doAutoPlay_,getApState:function(){return apState_}};return initClass_(),me}function BetSettings(){function initClass_(){}var me={};return initClass_(),me}function FrameworkSettings(apButton,autoPlayOptions){function initClass_(apButton,autoPlayOptions){ReelConfig.newUI&&framework.isTouch()&&"false"===localStorage.getItem("slots__sound")&&(sounds_.allSounds=!1),"false"!==localStorage.getItem("slots__sound")||framework.isTouch()||toggleAllSound_(),setSpaceToSpin_("true"===localStorage.getItem("space__to__spin")?!0:!1),localStorage.getItem("show__help__on__load__"+gameParams.folderName)&&setHelpOnLoad_("true"===localStorage.getItem("show__help__on__load__"+gameParams.folderName)?!0:!1),"true"===localStorage.getItem("swipe__to__spin")&&toggleSwipeToSpin_(),apSettings_=new AutoPlaySettings(apButton,autoPlayOptions)}function setCompulsivePlayer_(isOn){compulsivePlayer_=isOn,gameClass_.changeCompulsiveState(isOn)}function setSpaceToSpin_(isOn){spaceToSpin_=isOn,localStorage.setItem("space__to__spin",isOn)}function setSoundEffects_(isOn){sounds_.effects=isOn,isOn?soundManager_.resumeEffects():soundManager_.stopEffects()}function setBackgroundMusic_(isOn){sounds_.background=isOn,isOn?soundManager_.resumeBgSound():soundManager_.stopBgSound()}function toggleAllSound_(){if(sounds_.allSounds=!sounds_.allSounds,sounds_.background=sounds_.allSounds,sounds_.effects=sounds_.allSounds,sounds_.allSounds?soundManager_.resumeAll():soundManager_.stopAll(),localStorage.setItem("slots__sound",sounds_.allSounds),framework.setSound(sounds_.allSounds),framework.setMusic(sounds_.allSounds),void 0!=framework.getMenu()){var s=framework.getMenu().getSoundSwitch();s.doSwitch(sounds_.allSounds),s=framework.getMenu().getMusicSwitch(),s.doSwitch(sounds_.allSounds)}}function getSpaceEnabled_(){return spaceToSpin_}function setHelpOnLoad_(isOn){showHelpOnLoad_=isOn,localStorage.setItem("show__help__on__load__"+gameParams.folderName,isOn)}function getHelpOnLoad_(){return"true"===showHelpOnLoad_&&(showHelpOnLoad_=!0),"false"===showHelpOnLoad_&&(showHelpOnLoad_=!1),showHelpOnLoad_}function toggleSwipeToSpin_(isOn){swipeToSpin_=!swipeToSpin_}var apSettings_,spaceToSpin_=!1,showHelpOnLoad_=!0,swipeToSpin_=!1,compulsivePlayer_=!1,sounds_={effects:!0,background:!0,allSounds:!0},me={getSpaceEnabled:getSpaceEnabled_,setSpaceToSpin:setSpaceToSpin_,setSoundEffects:setSoundEffects_,setBackgroundMusic:setBackgroundMusic_,toggleAllSounds:toggleAllSound_,setHelpOnLoad:setHelpOnLoad_,getHelpOnLoad:getHelpOnLoad_,toggleSwipeToSpin:toggleSwipeToSpin_,setCompulsivePlayer:setCompulsivePlayer_,getCompulsivePlayer:function(){return compulsivePlayer_},getAutoPlaySettings:function(){return apSettings_},getSwipeToSpin:function(){return swipeToSpin_},getSounds:function(){return sounds_}};return initClass_(apButton,autoPlayOptions),me}function Setup(json){function getPaylines_(){return json_.lines}function getPayline_(lineID){return json_.lines_assoc[lineID]?json_.lines_assoc[lineID].config:void 0}function getPaylineArray_(lineID){return json_.lines_assoc[lineID]?json_.lines_assoc[lineID].payline:void 0}function getWildSymbol_(symbolID){return json_.paytable_assoc[symbolID]?json_.paytable_assoc[symbolID].wild[0]:void 0}function getSymbolValue_(symbolID,amount){return"wild"==amount.toString().toLowerCase()?getWildSymbol_(symbolID):json_.paytable_assoc[symbolID]?json_.paytable_assoc[symbolID].payout[amount]:void 0}function getSymbolValues_(symbolID){return json_.paytable_assoc[symbolID]?json_.paytable_assoc[symbolID].payout:void 0}function getMaxWin_(){return json_.status.maxWin}var json_=json;return json_.lines_assoc={},json_.paytable_assoc={},void 0!=json_.lines&&$.each(json_.lines,function(key,line){line.payline=line.config.split(""),json_.lines_assoc[line.id]={config:line.config,payline:line.config.split("")}}),$.each(json_.paytable,function(key,symbol){var payout={};$.each(symbol.payout,function(key,value){"wild"!=key&&(payout[key]=value)}),json_.paytable_assoc[symbol.id]={wild:symbol.payout.wild,payout:payout}}),{getPaylines:getPaylines_,getPayline:getPayline_,getPaylineArray:getPaylineArray_,getWildSymbol:getWildSymbol_,getSymbolValue:getSymbolValue_,getSymbolValues:getSymbolValues_,getMaxWin:getMaxWin_}}function Translator(){var this_=this;this_.elements=[{selector:"#mainViewport > #loadingScreen > #wait",content:[{type:"text",value:"Loading images please wait..."}]},{selector:"#menuContainer > .menu__content > .menu__header > h2",content:[{type:"text",value:"Menu"}]},{selector:"#menuContainer #menu__desktop__nav > a:nth-child(1)",content:[{type:"text",value:"Settings"},{type:"img",value:' <img src="gui/generic/img/desktop/svg/menu-settings-btn.svg">'}]},{selector:"#menuContainer #menu__desktop__nav > #gameHistory",content:[{type:"text",value:"Game History"},{type:"img",value:' <img src="gui/generic/img/desktop/svg/menu-history-btn.svg">'}]},{selector:"#menuContainer #gameHistoryTip",content:[{type:"text",value:"List of Bets Click One To See Spin"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(1)",content:[{type:"text",value:"Status"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(2)",content:[{type:"text",value:"Channel"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(3)",content:[{type:"text",value:"Placed"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(4)",content:[{type:"text",value:"Settled"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(5)",content:[{type:"text",value:"Bet"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(6)",content:[{type:"text",value:"Lines"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(7)",content:[{type:"text",value:"Bet/Lines"}]},{selector:"#menuContainer .game__history__replay .__content table tr:nth-child(1) > td:nth-child(8)",content:[{type:"text",value:"Total Win"}]},{selector:"#menuContainer .game__history__replay .__content .__lines__nav > a:nth-child(1)",content:[{type:"text",value:"Winning Lines - Total: "},{type:"span",value:"<span></span>"}]},{selector:"#menuContainer .game__history__replay .__content .__lines__nav > a:nth-child(2)",content:[{type:"text",value:"Losing Lines"}]},{selector:"#gamefooter .balance__holder > #displayBalance",content:[{type:"text",value:"Balance : "}]},{selector:"#gamefooter #smallMessage",content:[{type:"text",value:"Playing for real"}]},{selector:"#betconsole #betValueContainer #cashOptions .cash__options__list > li:nth-child(1) > label:nth-child(1)",content:[{type:"text",value:"Coins"}]},{selector:"#betconsole #betValueContainer #cashOptions .cash__options__list > li:nth-child(2) > label:nth-child(1)",content:[{type:"text",value:"Cash"}]},{selector:"#betconsole #betValueContainer #betMaxBox > .box__value:nth-child(1)",content:[{type:"text",value:"Bet Max"}]},{selector:"#betconsole #autoPlaySettings #autoPlayOptions > h5:nth-child(1)",content:[{type:"text",value:"Stop Autoplay"}]},{selector:"#betconsole #autoPlaySettings #autoPlayOptions > .auto__list > li:nth-child(1) > label.switch__name",content:[{type:"text",value:"On any win "}]},{selector:"#betconsole #autoPlaySettings #autoPlayOptions > .auto__list > li:nth-child(2) > label.switch__name",content:[{type:"text",value:"On single win of "}]},{selector:"#betconsole #autoPlaySettings #autoPlayOptions > .auto__list > li:nth-child(3) > label.switch__name",content:[{type:"text",value:"If cash increase by "}]},{selector:"#betconsole #autoPlaySettings #autoPlayOptions > .auto__list > li:nth-child(4) > label.switch__name",content:[{type:"text",value:"If cash decrease by "}]},{selector:"#betconsole #autoPlaySettings #autoPlayOptions > .auto__list > li:nth-child(5) > label.switch__name",content:[{type:"text",value:"When entering any feature"}]},{selector:"#menuMobile > .menu__content > header.menu__header > h2",content:[{type:"text",value:"Menu"}]},{selector:"#menuMobile > .menu__content #soundPage > h2:nth-child(1)",content:[{type:"text",value:"Sounds"}]},{selector:"#menuMobile > .menu__content #spinPage > h2:nth-child(1)",content:[{type:"text",value:"Spin Settings"}]},{selector:"#menuMobile > .menu__content #autoPage > h2:nth-child(1)",content:[{type:"text",value:"Stop Autoplay"}]},{selector:"#menuMobile > .menu__content #historyPage > h2:nth-child(1)",content:[{type:"text",value:"Game History"}]},{selector:"#menuMobile > .menu__content #historyPage > #gameHistoryTip",content:[{type:"text",value:"List of Bets Click One To See Spin"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(1)",content:[{type:"text",value:"Status"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(2)",content:[{type:"text",value:"Channel"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(3)",content:[{type:"text",value:"Placed"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(4)",content:[{type:"text",value:"Settled"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(5)",content:[{type:"text",value:"Bet"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(6)",content:[{type:"text",value:"Lines"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(7)",content:[{type:"text",value:"Bet/Lines"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content table:nth-child(1) tr:nth-child(1) > td:nth-child(8)",content:[{type:"text",value:"Total Win"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content > .__lines__nav > a:nth-child(1)",content:[{type:"text",value:"Winning Lines - Total: "},{type:"span",value:"<span></span>"}]},{selector:"#menuMobile > .menu__content #historyPage > .game__history__replay > .__content > .__lines__nav > a:nth-child(2)",content:[{type:"text",value:"Losing Lines"}]},{selector:"#menuMobile > .menu__content #betPage > h2:nth-child(1)",content:[{type:"text",value:"Bet Settings"}]},{selector:"#autoPlayMobileInput h4",content:[{type:"text",value:"Stop Autoplay"}]},{selector:"#autoPlayMobileInput .switch__name",content:[{type:"text",value:"If cash decrease by "}]},{selector:".autoplayStopOnCashDownTooltip",content:[{type:"text",value:"Must be set to a value"}]},{selector:".autoplayStopOnCashDownAmountTooltip",content:[{type:"text",value:"Must be greater than current stake"}]},{selector:".autoplayLowerThanCashDownAmountTooltip",content:[{type:"text",value:"Must be lower than balance"}]}],this_.translate=function(){for(var i=0;i<this_.elements.length;i++){for(var element=this_.elements[i],HTML="",j=0;j<element.content.length;j++){var content=element.content[j];HTML+="text"==content.type?Translate["do"](content.value):content.value}$(element.selector).html(HTML)}},this_.translate()}function MessageScreen(message,action,title,buttons,closeButton,modal){function initClass_(){logger("MessageScreen init"),element=document.createElement("div"),element.className="message__box "+(modal_?"message__modal":"message__nonmodal"),element.innerHTML=getTemplate_(),setCallbacks_(),document.getElementById("mainViewport").appendChild(element),show_()}function show_(){element.classList.remove("hidden")}function hide_(complete){element.classList.add("hidden")}function destroy_(){null!=element&&(document.getElementById("mainViewport").removeChild(element),delete element,element=null)}function getTemplate_(title,message){var orientation,template,title=title||title_,message=message||message_;return ReelConfig.newUI&&framework.isTouch()?(orientation=window.innerHeight>window.innerWidth?"portrait":"landscape",template='<div class="message__container '+orientation+'">'):template='<div class="message__container">',template+="<header><h2>"+Translate["do"](title)+"</h2>"+(closeButton_?'<button class="message__close">X</button>':"")+"</header>",template+="<section>"+Translate["do"](message)+"</section>",template+=ReelConfig.newUI&&framework.isTouch()?'<footer class="container-footer">'+getButtons_(buttons)+"</footer>":"<footer>"+getButtons_(buttons)+"</footer>",template+="</div>"}function getButtons_(buttons){for(var buttons=buttons||buttons_,buttonTemplate="",i=buttons.length-1;i>=0;i--){var button=buttons[i];buttonTemplate+=ReelConfig.newUI&&framework.isTouch()?'<div class="message__button"><span class="message__button__text">'+Translate["do"](button.label)+"</span></div>":'<div class="message__button" style="width: calc('+Math.floor(100/buttons.length)+'% - 20px);"><span class="message__button__text">'+Translate["do"](button.label)+"</span></div>"}return buttonTemplate}function setCallbacks_(){closeButton_&&element.getElementsByClassName("message__close")[0].addEventListener("click",destroy_);for(var buttonElems=element.getElementsByClassName("message__button"),buttons=buttons_.reverse(),i=0;i<buttons.length;i++)buttonElems[i].addEventListener("click",buttons[i].action)}var element,message_=decodeURI(message),title_=title,buttons_=buttons,closeButton_=closeButton,modal_=modal,me={show:show_,hide:hide_,destroy:destroy_};return initClass_(),me}function NumberInput(label,action,container,startValue,min,max){function initClass_(){var textInput=$('<input class="auto__input" type="text" min="'+min+'" max="'+max+'" name="'+label_+'">');container_.append(textInput),input_=$("input[name='"+label_+"']"),$(input_).change(function(){action_($(this).val())}),setValue_(startValue_)}function setValue_(newVal){$(input_).val(newVal)}function getValue_(){return $(input_).val()}var input_,action_=action,label_=label,container_=$(container),startValue_=startValue||0,me={setValue:setValue_,getValue:getValue_};return initClass_(),me}function RadioSwitch(label,isOn,action,container,numeric,_class){function initClass_(){function getTouches(evt){return evt.touches||evt.originalEvent.touches}function handleTouchStart(evt){const firstTouch=getTouches(evt)[0];xDown=firstTouch.clientX,yDown=firstTouch.clientY}function handleTouchMove(evt){if(xDown&&yDown){var firstTouch=getTouches(evt)[0],xUp=firstTouch.clientX,yUp=firstTouch.clientY,xDiff=xDown-xUp,yDiff=yDown-yUp;Math.abs(xDiff)>Math.abs(yDiff)&&(xDiff>0?evt.currentTarget.previousSibling.checked&&$(evt.currentTarget.previousSibling).prop("checked",!1):evt.currentTarget.previousSibling.checked||$(evt.currentTarget.previousSibling).prop("checked",!0)),xDown=null,yDown=null}}var setting=$('<li><label class="switch"><input type="checkbox"'+(_class?' class="'+_class+'"':"")+'><div class="slider round"></div></label><label class="switch__name">'+label_+"</label>"+(numeric?'<div id="'+numeric+'" class="auto__input"></div>':"")+"</li>");if(container_.append(setting),ReelConfig.newUI&&framework.isTouch()&&window.newUI.orientation.children(container[0]),$("#autoPlayWinLimit").on("touchstart",function(e){e.stopPropagation(),e.preventDefault(),gridInput.show(function(value){$("#autoPlayWinLimit").html(value),autoPlayManager_.setSingleWinThreshold(Number(value)),ReelConfig.newUI&&framework.isTouch()&&(document.getElementById("autoPlayWinLimit-new").innerHTML=value)})}),$("#autoPlayCashLimit").on("touchstart",function(e){e.stopPropagation(),e.preventDefault(),gridInput.show(function(value){$("#autoPlayCashLimit").html(value),autoPlayManager_.setWinThreshold(Number(value)),ReelConfig.newUI&&framework.isTouch()&&(document.getElementById("autoPlayCashLimit-new").innerHTML=value)})}),$("#autoPlayCashDownLimit").on("touchstart",function(e){e.stopPropagation(),e.preventDefault(),gridInput.show(function(value){$("#autoPlayCashDownLimit").html(value),autoPlayManager_.setLoseThreshold(Number(value)),ReelConfig.newUI&&framework.isTouch()&&(document.getElementById("autoPlayCashDownLimit-new").innerHTML=value)})}),input=$(setting).find("input:checkbox"),$(input).prop("checked",isOn_),$(input).change(function(){doSwitch_($(this).is(":checked"))}),!ReelConfig.newUI&&/(android)/i.test(navigator.userAgent)){var xDown=null,yDown=null,toggle=$(setting).find("div.slider.round");$(toggle).on("touchstart",handleTouchStart),$(toggle).on("touchmove",handleTouchMove)}}function doSwitch_(isChecked){ReelConfig.newUI&&permOn&&"Stop if cash decreases by"===label?$(input).prop("checked",permOn):$(input).prop("checked",isChecked),isOn_=isChecked,action_(isChecked)}var input,action_=action,label_=label,container_=$(container),isOn_=isOn,permOn=isOn,me={doSwitch:doSwitch_};return initClass_(),me}function FreeRoundsReqBox(gameRef){function initClass_(){mainGroup_=displayManager_.getGroup("msgBoxFR"),mainTextGroup_=displayManager_.getTexts(),void 0!=mainGroup_&&initMsgBox_(),buttonG=game_.add.group(),mainGroup_.addChild(buttonG)}function showMessage_(msg,msg1,cb,args){selectedValue_=0;for(var a in displayManager.groups.msgBoxFR.buttons)mainButtonGroup_[a].frame=2;if(0==isOn)fillFileds_(2,msg,msg1,cb,null,null,"",args);else{var obj={};obj.owner=owner,obj.msg=msg,obj.msg1=msg1,obj.values=args,obj.cb=cb,obj.args=args,msgQueue.push(obj)}}function showMessageYN_(msg,msg1,cb1,cb2,message,args){selectedValue_=-1;for(var a in displayManager.groups.msgBoxFR.buttons)mainButtonGroup_[a].frame=2;if(0==isOn)fillFileds_(args.canReject,msg,msg1,cb1,cb2,null,message,args);else{var obj={};obj.msg=msg,obj.msg1=msg1,obj.values=args,obj.cb=cb1,obj.cb2=cb2,obj.message=message,obj.args=args,msgYNQueue.push(obj)}}function fillFileds_(type,msg,msg1,cb1,cb2,cb3,message,args){if(isOn=!0,mainButtonGroup_.ok.visible=!1,mainButtonGroup_.yes.visible=!1,mainButtonGroup_.no.visible=!1,2==type?mainButtonGroup_.ok.visible=!0:0==type?(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.no.visible=!1,mainButtonGroup_.yes.x=640):(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.yes.x=displayManager.groups.msgBoxFR.buttons.yes.x,mainButtonGroup_.no.visible=!0),mainTextGroup_.msgFR1.setText(Translate["do"](msg)),mainTextGroup_.msgFR2.setText(Translate["do"](msg1)),selectedValue_<0){for(var i=0;i<args.length;i++){var b=game.add.button((space+btnW)*i,yOrigin,"container-btn",onClick,this,1,2,0,0);b.anchor.set(0,.5),b.name="btn"+i,b.index=i,b.value=args[i].betlevel,b.inputEnabled=!0,b.selected=!1,b.onInputOver.add(over,b),b.onInputOut.add(out,b);var t=new Phaser.Text(game,b.width/2,3,args[i].rounds+" x "+balanceManager_.geBalanceObj().currency+Util.formatNumber(args[i].betlevel,Util.getNubersOfDecimal()),{font:"16px FuturaPT-Book",fill:displayManager.groups.msgBoxFR.textCol});t.anchor.set(.5,.5),b.addChild(t),buttons.push(b),buttonG.add(b)}buttonG.centerX=640,buttonG.x=displayManager.groups.msgBoxFR.selectorX-args.length*(btnW/2+space/2),buttonG.y=displayManager.groups.msgBoxFR.selectorY}mainGroup_.visible=!0,msgCB1_=cb1,msgCB2_=cb2,msgCB3_=cb3,arguments_=args}function onClick(dd){if(dd.selected=!dd.selected,dd.selected){dd.frame=0,selectedValue_=dd.index;for(var i=0;i<arguments_.length;i++)buttons[i].name!=dd.name&&(buttons[i].selected=!1,buttons[i].frame=2)}}function over(dd){if(dd.selected)return void(dd.frame=0)}function out(dd){if(dd.selected)return void(dd.frame=0)}function doOk_(){selectedValue_==-2?(null!=msgCB1_&&msgCB1_(arguments_),checkQueue()):selectedValue_==-1?(mainGroup_.visible=!1,messageBox_.showMessage("game",Translate["do"]("Select a bet value first"),"",closeMsg)):(arguments_.betlevel=arguments_[selectedValue_].betlevel,arguments_.rounds=arguments_[selectedValue_].rounds,arguments_.id=arguments_[selectedValue_].id,void 0!=arguments_[selectedValue_].totWon&&(arguments_.totWon=arguments_[selectedValue_].totWon),mainGroup_.visible=!1,null!=msgCB1_&&msgCB1_(arguments_),checkQueue())}function closeMsg(){mainGroup_.visible=!0}function doKo_(){null!=msgCB2_&&msgCB2_(arguments_),checkQueue()}function checkQueue(){buttons=[],void 0!=mask_&&(mask_.visible=!1),mask_=null,buttonG.removeAll(),msgQueue.length>0?(fillFileds_(msgQueue[0].owner,1,msgQueue[0].msg,msgQueue[0].msg1,msgQueue[0].cb,null,msgQueue[0].args),msgQueue.shift()):msgYNQueue.length>0?(fillFileds_(msgYNQueue[0].owner,2,msgYNQueue[0].msg,msgYNQueue[0].msg1,msgYNQueue[0].cb,msgYNQueue[0].cb2,msgYNQueue[0].args),msgYNQueue.shift()):(mainGroup_.visible=!1,isOn=!1)}function initMsgBox_(){var bgButton=new Phaser.Button(game_,0,0,null);bgButton.width=1920,bgButton.height=1080,mainGroup_.add(bgButton);for(var a in displayManager.groups.msgBoxFR.buttons){var buttonE=new Phaser.Button(game_,displayManager.groups.msgBoxFR.buttons[a].x,displayManager.groups.msgBoxFR.buttons[a].y,displayManager.groups.msgBoxFR.buttons[a].name,me[displayManager.groups.msgBoxFR.buttons[a].evt],this,1,2,0,0);if(mainButtonGroup_[a]=buttonE,buttonE.anchor.set(.5,.5),mainGroup_.add(buttonE),null!=displayManager.groups.msgBoxFR.buttons[a].texts)for(var t in displayManager.groups.msgBoxFR.buttons[a].texts){var txt=new Phaser.Text(game_,displayManager.groups.msgBoxFR.buttons[a].texts[t].x,displayManager.groups.msgBoxFR.buttons[a].texts[t].y,"",{font:displayManager.groups.msgBoxFR.buttons[a].texts[t].font,fill:displayManager.groups.msgBoxFR.buttons[a].texts[t].fill,boundsAlignH:displayManager.groups.msgBoxFR.buttons[a].texts[t].align,fontWeight:null==displayManager.groups.msgBoxFR.buttons[a].texts[t].weight?"normal":displayManager.groups.msgBoxFR.buttons[a].texts[t].weight});txt.anchor.set(void 0!=displayManager.groups.msgBoxFR.buttons[a].texts[t].anchorX?displayManager.groups.msgBoxFR.buttons[a].texts[t].anchorX:0,void 0!=displayManager.groups.msgBoxFR.buttons[a].texts[t].anchorY?displayManager.groups.msgBoxFR.buttons[a].texts[t].anchorY:0),void 0!=displayManager.groups.msgBoxFR.buttons[a].texts[t].text&&txt.setText(Translate["do"](displayManager.groups.msgBoxFR.buttons[a].texts[t].text)),null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),buttonE.addChild(txt),mainTextGroup_[t]=txt}}mainGroup_.visible=!1}var mainGroup_,mainTextGroup_,msgCB1_,msgCB2_,msgCB3_,arguments_,buttonG,mask_,game_=gameRef,isOn=!1,mainButtonGroup_=[],msgQueue=[],msgYNQueue=[],buttons=[],btnW=210,yOrigin=140,space=-20,selectedValue_=-2,me={showMessage:showMessage_,showMessageYN:showMessageYN_,doOk:doOk_,doKo:doKo_,getIsOnMessage:function(){return isOn}};return initClass_(),me}function GuiFullScreen(){function initClass_(){TweenMax.set($("#swipe__up__to__hide"),{autoAlpha:0}),screenHeight=window.screen.height,$.fn.scrollEnd=function(a,b){$(this).scroll(function(){var c=$(this);c.data("scrollTimeout")&&clearTimeout(c.data("scrollTimeout")),c.data("scrollTimeout",setTimeout(a,b))})},useSwipeMessage_()&&$(window).scroll(iosSwipeCheck_()),$(window).scrollEnd(function(){if($(document).scrollTop(0),iosSwipeCheck_(),useSwipeMessage_()){var divgame=document.getElementById("gameContainer");divgame.style.width=window.innerWidth+"px",divgame.style.height=window.innerHeight+"px"}},100),framework.fullscreenEnabled()&&askFull_()}function askFull_(){isFull||goFull2_()}function goFull2_(){goFull_()}function goFull_(){}function stopFull_(){}function swipeRequest_(){iosSwipeCheck_()}function useSwipeMessage_(){var ua=window.navigator.userAgent;return ua.indexOf("iPhone")!==-1&&ua.indexOf("Safari")!==-1}function iosSwipeCheck_(){if(useSwipeMessage_()){var bodyHeight=document.body.offsetHeight,windowHeight=window.innerHeight,isLandscape=window.innerWidth>window.innerHeight,showTooltip=windowHeight<bodyHeight&&isLandscape;showTooltip?($("body").unbind("touchmove"),$("#swipe__up__to__hide").show(),TweenMax.to($("#swipe__up__to__hide"),.3,{autoAlpha:1}),TweenMax.to($("#swipe__up__to__hide"),2,{y:-75,repeat:-1,yoyo:!0,repeatDelay:.5})):(TweenMax.to($("#swipe__up__to__hide"),.2,{autoAlpha:0,delay:.2,onComplete:resetBodyHeight}),$(document).scrollTop(0),document.body.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}))}}function resetBodyHeight(){TweenMax.killTweensOf($("#swipe__up__to__hide")),TweenMax.set($("#swipe__up__to__hide"),{y:0}),TweenMax.set($("#swipe__up__to__hide"),{display:"none"})}var isFull=!1,screenHeight=0,me={askFull:askFull_,stopFull:stopFull_,swipeRequest:swipeRequest_,getIsFull:function(){return isFull}};return initClass_(),me}function Loader(gameRef){function initClass(){if(1==hasFocus_){if(3==phaserVer_?(game.forceSingleUpdate=!0,game.scale.refresh(),mainGroup_=game_.add.container(),logoGroup_=game_.add.container(),compatibilityGroup_=game_.add.container(),loaderGroup_=game_.add.container()):(game.forceSingleUpdate=!0,game.renderer.renderSession.roundPixels=!0,game.stage.disableVisibilityChange=!0,game.scale.refresh(),game.load.crossOrigin="anonymous",game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,game.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,game.scale.pageAlignHorizontally=!0,game.scale.pageAlignVertically=!0,game.scale.windowConstraints.bottom="visual",mainGroup_=addGroup(),logoGroup_=addGroup(),compatibilityGroup_=addGroup(),loaderGroup_=addGroup()),loaderGroup_.alpha=0,mainGroup_.add(logoGroup_),mainGroup_.add(loaderGroup_),null!=ReelConfig.newUI&&1==ReelConfig.isMobile){var ratio=window.innerWidth/800*window.devicePixelRatio;"portrait"==getOrientation()?(setScale(mainGroup_,ratio),mainGroup_.x=-640*ratio+window.innerWidth*window.devicePixelRatio/2):mainGroup_.x=0}if(0==checkBrowser_()&&null!=loaderAssets.loaderMc.graphAsset){compatibility_=!1;for(var ga in loaderAssets.loaderMc.graphAsset){var sp=spriteManager_.addSprite(loaderAssets.loaderMc.graphAsset[ga].x,loaderAssets.loaderMc.graphAsset[ga].y,loaderAssets.loaderMc.graphAsset[ga].name,loaderAssets.loaderMc.graphAsset[ga].width,loaderAssets.loaderMc.graphAsset[ga].height,loaderAssets.loaderMc.graphAsset[ga].anchorX,loaderAssets.loaderMc.graphAsset[ga].anchorY,.3,.3);logoGroup_.add(sp),lGroupObjs_[loaderAssets.loaderMc.graphAsset[ga].name]=sp}if(loaderAssets.loaderMc.texts)for(var t in loaderAssets.loaderMc.texts){var txt;null!=loaderAssets.loaderMc.texts[t].font&&(logger(t+" disp loader font "+loaderAssets.loaderMc.texts[t].font),txt=spriteManager_.addText(loaderAssets.loaderMc.texts[t].x,loaderAssets.loaderMc.texts[t].y,Translate["do"](loaderAssets.loaderMc.texts[t].text),loaderAssets.loaderMc.texts[t].anchorX,loaderAssets.loaderMc.texts[t].anchorY,{font:loaderAssets.loaderMc.texts[t].font,fill:loaderAssets.loaderMc.texts[t].fill,align:loaderAssets.loaderMc.texts[t].align,fontWeight:null==loaderAssets.loaderMc.texts[t].weight?"normal":loaderAssets.loaderMc.texts[t].weight,fontVariant:null==loaderAssets.loaderMc.texts[t].variant?"normal":loaderAssets.loaderMc.texts[t].variant,backgroundColor:loaderAssets.loaderMc.texts[t].backgroundColor})),logoGroup_.add(txt)}}if(ReelConfig.licence){for(var ga in loaderAssets.loaderMc.graphAssetLicence){var sp=new spriteManager_.addSprite(loaderAssets.loaderMc.graphAssetLicence[ga].x,loaderAssets.loaderMc.graphAssetLicence[ga].y,loaderAssets.loaderMc.graphAssetLicence[ga].name,loaderAssets.loaderMc.graphAssetLicence[ga].width,loaderAssets.loaderMc.graphAssetLicence[ga].height,loaderAssets.loaderMc.graphAssetLicence[ga].anchorX,loaderAssets.loaderMc.graphAssetLicence[ga].anchorY,loaderAssets.loaderMc.graphAssetLicence[ga].scaleX,loaderAssets.loaderMc.graphAssetLicence[ga].scaleY);logoGroup_.add(sp),lGroupObjs_[loaderAssets.loaderMc.graphAssetLicence[ga].name]=sp}if(loaderAssets.loaderMc.textsLicence)for(var t in loaderAssets.loaderMc.textsLicence){var txt;null!=loaderAssets.loaderMc.textsLicence[t].font&&(logger(t+" disp loader font "+loaderAssets.loaderMc.textsLicence[t].font),txt=spriteManager_.addText(loaderAssets.loaderMc.textsLicence[t].x,loaderAssets.loaderMc.textsLicence[t].y,Translate["do"](loaderAssets.loaderMc.textsLicence[t].text),loaderAssets.loaderMc.textsLicence[t].anchorX,loaderAssets.loaderMc.textsLicence[t].anchorY,{font:loaderAssets.loaderMc.textsLicence[t].font,fill:loaderAssets.loaderMc.textsLicence[t].fill,align:loaderAssets.loaderMc.textsLicence[t].align,fontWeight:null==loaderAssets.loaderMc.textsLicence[t].weight?"normal":loaderAssets.loaderMc.textsLicence[t].weight,fontVariant:null==loaderAssets.loaderMc.textsLicence[t].variant?"normal":loaderAssets.loaderMc.textsLicence[t].variant,backgroundColor:loaderAssets.loaderMc.textsLicence[t].backgroundColor})),null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),logoGroup_.add(txt)}mainGroup_.y=mainGroup_.y-80}var s=spriteManager_.addSprite(640,360,"ironDogLogo",null,null,.5,.5,1);animationManager_.create(s,"anim",24,!1,!1,fadeLogo_),animationManager_.play(s,"anim",24,!1,!1,fadeLogo_),logoGroup_.add(s);/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(null!=loaderAssets.loader.graphAsset)for(var ga in loaderAssets.loader.graphAsset){var sp=spriteManager_.addSprite(loaderAssets.loader.graphAsset[ga].x,loaderAssets.loader.graphAsset[ga].y,loaderAssets.loader.graphAsset[ga].name,loaderAssets.loader.graphAsset[ga].width,loaderAssets.loader.graphAsset[ga].height,loaderAssets.loader.graphAsset[ga].anchorX,loaderAssets.loader.graphAsset[ga].anchorY);loaderGroup_.add(sp),lGroupObjs_[loaderAssets.loader.graphAsset[ga].name]=sp}startLoading_(),TweenMax.to(loaderGroup_,.5,{alpha:1})}else setTimeout(initClass,500)}function fadeLogo_(){if(1==spriteManager_.getCache("staticLoaderLogo"))TweenMax.to(obj,.4,{alpha:0,onComplete:switchLogos_,onCompleteParams:[obj]});else{var baseTime=0;0==compatibility_&&(baseTime=5),enableStartGame1_()}}function switchLogos_(obj){obj.visible=!1;var s=spriteManager_.addSprite(640,300,"staticLoaderLogo",.5,.5,1,1);s.alpha=0,logoGroup_.add(s),TweenMax.to(s,.4,{alpha:1});var baseTime=0;0==compatibility_&&(baseTime=5),enableStartGame1_();
}function enableStartGame1_(){lockStartGame_=!1}function startLoading_(){var clientName="default";for(var a in guiConfig.images)loaderManager_.loadImage(a,guiConfig.images[a]);for(a in bitmapFonts)game.load.bitmapFont(a,bitmapFonts[a].sprite,bitmapFonts[a].font);for(a in gameAssets.importantSounds)loaderManager_.loadAudio(a,gameAssets.importantSounds[a].name);for(a in gameAssets.bgImportantSounds)loaderManager_.loadAudio(a,gameAssets.bgImportantSounds[a].name);for(a in gameAssets.video)game.load.video(a,gameAssets.video[a]);for(a in gameAssets.animations)"spine"!=gameAssets.animations[a].type?loaderManager_.loadAtlas(a,gameAssets.animations[a].sprite,gameAssets.animations[a].json):spineAssets_.push(a);for(a in gameAssets.assets)loaderManager_.loadImage(a,gameAssets.assets[a]);for(a in extScripts){var t=spriteManager_.addText(-200,-200,"webfonts preloader",0,0,{font:extScripts[a],fill:"#ffffff"});text_.push(t)}for(a in gameAssets.buttonsSpriteSheet)game.load.spritesheet(a,gameAssets.buttonsSpriteSheet[a].sprite,{frameWidth:gameAssets.buttonsSpriteSheet[a].w,frameHeight:gameAssets.buttonsSpriteSheet[a].h});if(void 0!=gameAssets.localizedAssets){for(a in gameAssets.localizedAssets.graphAsset){var file;file=gameAssets.localizedAssets.graphAsset[a].lang.indexOf(gameParams.lang)>=0?gameAssets.localizedAssets.graphAsset[a].img+"-lang-"+gameParams.lang+".png":gameAssets.localizedAssets.graphAsset[a].img+".png",loaderManager_.loadImage(a,file)}for(a in gameAssets.localizedAssets.animAssets){var sprite_,json_;gameAssets.localizedAssets.animAssets[a].lang.indexOf(gameParams.lang)>=0?(sprite_=gameAssets.localizedAssets.animAssets[a].sprite+"-lang-"+gameParams.lang+".png",json_=gameAssets.localizedAssets.animAssets[a].json+"-lang-"+gameParams.lang+".json"):(sprite_=gameAssets.localizedAssets.animAssets[a].sprite+".png",json_=gameAssets.localizedAssets.animAssets[a].json+".json"),loaderManager_.loadAtlas(a,sprite_,json_)}}if(null!=gameAssets.clientAssets){if(void 0!=gameAssets.clientAssets.conf[gameParams.gameID][gameParams.clientName])clientName=gameParams.clientName;else for(var a in gameAssets.clientAssets.conf)for(var b in gameAssets.clientAssets.conf[gameParams.gameID][a]){var cn=gameParams.pathCDN.indexOf("1x2-cloud")>=0?gameParams.clientName+"/STAGE":gameParams.clientName;if(cn.indexOf(b)>=0){var siteID=gameParams.site;if(siteID=isNaN(siteID)?"-"===siteID[0]?siteID.replace("-",""):siteID:Math.abs(siteID),gameAssets.clientAssets.conf[gameParams.gameID][a][b].indexOf(siteID.toString())>=0){clientName=a;break}}}for(a in gameAssets.clientAssets.graphAsset)file=gameAssets.clientAssets.graphAsset[a].path+clientName+"/"+gameAssets.clientAssets.graphAsset[a].name,game.load.image(a,file);for(a in gameAssets.clientAssets.animAssets){var sprite_,json_;sprite_=gameAssets.clientAssets.animAssets[a].path+clientName+"/"+gameAssets.clientAssets.animAssets[a].name+".png",json_=gameAssets.clientAssets.animAssets[a].path+clientName+"/"+gameAssets.clientAssets.animAssets[a].name+".json",game.load.atlas(a,sprite_,json_)}}for(a in frameworkSettings.buttons)null!=frameworkSettings.buttons[a].bg&&""!=frameworkSettings.buttons[a].bg&&loaderManager_.loadImage(a+"bg",frameworkSettings.buttons[a].bg),null!=frameworkSettings.buttons[a].bgDisabled&&""!=frameworkSettings.buttons[a].bgDisabled&&loaderManager_.loadImage(a+"bgDisabled",frameworkSettings.buttons[a].bgDisabled),null!=frameworkSettings.buttons[a].m_bgDisabled&&""!=frameworkSettings.buttons[a].m_bgDisabled&&loaderManager_.loadImage(a+"m_bgDisabled",frameworkSettings.buttons[a].m_bgDisabled),null!=frameworkSettings.buttons[a].start&&""!=frameworkSettings.buttons[a].start&&loaderManager_.loadImage(a+"start",frameworkSettings.buttons[a].start),null!=frameworkSettings.buttons[a].stop&&""!=frameworkSettings.buttons[a].stop&&loaderManager_.loadImage(a+"stop",frameworkSettings.buttons[a].stop);null!=lGroupObjs_.progressBar&&(lGroupObjs_.progressBar.a=animationManager_.create(lGroupObjs_.progressBar,"anim",24,!1,!1),animationManager_.play(lGroupObjs_.progressBar.a,"anim",24,!1,!1),animationManager_.pause(lGroupObjs_.progressBar.a)),3==phaserVer_?(game.load.on("progress",fileComplete),game.load.on("complete",loadComplete)):(game.load.onFileComplete.add(fileComplete2,this),game.load.onLoadComplete.add(loadComplete,this),game.load.onFileError.add(fileError,this),game.load.enableParallel=1),game.load.start()}function fileError(fileKey,file){var pos=file.url.indexOf("-lang-");if(pos>0){var obj={};obj.type=file.type,obj.key=fileKey,obj.file=file.url.replace("-lang-"+file.url.substr(pos+6,2),""),"textureatlas"==obj.type&&(obj.json=file.atlasURL.replace("-lang-"+file.atlasURL.substr(pos+6,2),"")),failed_.push(obj)}}function loadFailed_(){for(var a in failed_)"image"==failed_[a].type?loaderManager_.loadImage(failed_[a].key,failed_[a].file):"textureatlas"==failed_[a].type&&loaderManager_.loadAtlas(failed_[a].key,failed_[a].file,failed_[a].json);failed_=[],game.load.enableParallel=1,game.load.start()}function fileComplete(progress,file){if(lGroupObjs_.progressBar.anims.frame=Math.floor(.24*(progress-1)),void 0!=file){var obj=[];obj.key=file.key,obj.url=file.url,game.cache.obj.entries.set(file.key,file.url)}gcmCalls_("LOAD",progress,!0)}function loadComplete(){for(a in text_)text_[a].visible=!1;0==failed_.length?setTimeout(finalizeLoading_,500):setTimeout(loadFailed_,100)}function fileComplete2(progress,cacheKey,success,totalLoaded,totalFiles){lGroupObjs_.progressBar.animations.frame=Math.floor(.24*(progress-1)),gcmCalls_("LOAD",progress,!0)}function reallyFileComplete(progress,cacheKey,success,totalLoaded,totalFiles){}function reallyLoadComplete(){3==phaserVer_?(loadSpines_(),game.load.removeAllListeners(),game.load.on("complete",spinLoadComplete)):(game.load.onLoadComplete.remove(reallyLoadComplete,this),game.load.onLoadComplete.add(spinLoadComplete,this)),game.load.start()}function loadSpines_(){}function spinLoadComplete(){3==phaserVer_?game.load.removeAllListeners():game.load.onLoadComplete.remove(spinLoadComplete,this),initSounds_()}function hideLoader_(cb){loadingPortrait_||(TweenMax.to(loaderGroup_,.3,{alpha:0,onComplete:finalizeHideLoader_,onCompleteParams:[cb]}),TweenMax.to(logoGroup_,.3,{alpha:0}))}function finalizeHideLoader_(cb){loadingPortrait_||(cb(),loaderGroup_.visible=!1,logoGroup_.visible=!1,snd_=null)}function finalizeLoading_(){3==phaserVer_?game.load.removeAllListeners():(epsy_=game_.plugins.add(Phaser.Plugin.EPSY),game.load.onFileComplete.remove(fileComplete,this),game.load.onLoadComplete.remove(loadComplete,this));for(a in gameAssets.sounds)loaderManager_.loadAudio(a,gameAssets.sounds[a].name);for(a in gameAssets.bgSounds)loaderManager_.loadAudio(a,gameAssets.bgSounds[a].name);3==phaserVer_?(game.load.on("progress",reallyFileComplete),game.load.on("complete",reallyLoadComplete)):(game.load.onFileComplete.add(reallyFileComplete,this),game.load.onLoadComplete.add(reallyLoadComplete,this)),game.load.enableParallel=1,game.load.start(),initGame_(),gcmCalls_("GAME_READY",0,!0),clientMessageSend("load-end")}function loadPortrait_(Cb){var txt=spriteManager_.addText(loaderAssets.loaderMc.textsPortrait.port.x,loaderAssets.loaderMc.textsPortrait.port.y,Translate["do"](loaderAssets.loaderMc.textsPortrait.port.text),loaderAssets.loaderMc.textsPortrait.port.anchorX,loaderAssets.loaderMc.textsPortrait.port.anchorY,{font:loaderAssets.loaderMc.textsPortrait.port.font,fill:loaderAssets.loaderMc.textsPortrait.port.fill,align:loaderAssets.loaderMc.textsPortrait.port.align,fontWeight:null==loaderAssets.loaderMc.textsPortrait.port.weight?"normal":loaderAssets.loaderMc.textsPortrait.port.weight,fontVariant:null==loaderAssets.loaderMc.textsPortrait.port.variant?"normal":loaderAssets.loaderMc.textsPortrait.port.variant,backgroundColor:loaderAssets.loaderMc.textsPortrait.port.backgroundColor});txt.setAnchor(void 0!=loaderAssets.loaderMc.textsPortrait.port.anchorX?loaderAssets.loaderMc.textsPortrait.port.anchorX:0,void 0!=loaderAssets.loaderMc.textsPortrait.port.anchorY?loaderAssets.loaderMc.textsPortrait.port.anchorY:0),void 0!=loaderAssets.loaderMc.textsPortrait.port.text&&txt.setText(Translate["do"](loaderAssets.loaderMc.textsPortrait.port.text)),null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),logoGroup_.add(txt),void 0!=gameClass_.hideGame&&gameClass_.hideGame(!0),lGroupObjs_.progressBar.visible=!0,lGroupObjs_.progressBar.alpha=1,loaderGroup_.visible=!0,loaderGroup_.alpha=1,logoGroup_.alpha=1,mainGroup_.alpha=1,logoGroup_.visible=!0,mainGroup_.visible=!0;var pA=displayManager_.getPortraitAssets();for(var a in pA)if(Number(gameParams.gameID)<7022){var ext=pA[a].portraitAsset.indexOf(".jpg")>0?".jpg":".png";game.load.image(pA[a].normalAsset+"Portrait",pA[a].portraitAsset+ext)}else game.load.image(pA[a].normalAsset+"Portrait",pA[a].portraitAsset);3==phaserVer_?(lGroupObjs_.progressBar.anims.currentFrame.index=10,game.load.on("progress",portraitFileComplete),game.load.on("complete",portraitLoadComplete)):(lGroupObjs_.progressBar.animations.frame=10,game.load.onFileComplete.add(portraitFileComplete,this),game.load.onLoadComplete.add(portraitLoadComplete,this)),game.load.enableParallel=1,game.load.start()}function portraitFileComplete(progress,cacheKey,success,totalLoaded,totalFiles){3==phaserVer_?lGroupObjs_.progressBar.anims.currentFrame.index=Math.floor(.24*(progress-1)):lGroupObjs_.progressBar.animations.frame=Math.floor(.24*(progress-1))}function portraitLoadComplete(){gameClass_.loadedPortrait(),logoGroup_.visible=!1,mainGroup_.visible=!1,loaderGroup_.visible=!1}function switchPortrait_(port){window.innerWidth;if(null!=ReelConfig.newUI&&1==ReelConfig.isMobile){var ratio=window.innerWidth/800*window.devicePixelRatio;"portrait"==getOrientation()?(setScale(mainGroup_,ratio),mainGroup_.x=-640*ratio+window.innerWidth*window.devicePixelRatio/2):mainGroup_.x=0}}var mainGroup_,loaderGroup_,logoGroup_,mainGroup_,compatibilityGroup_,snd_,game_=gameRef,lGroupObjs_=[],lockStartGame_=!0,text_=[],compatibility_=!0,failed_=[],spineAssets_=[],loadingPortrait_=!1,me={hideLoader:hideLoader_,loadPortrait:loadPortrait_,switchPortrait:switchPortrait_,getLoadingGroup:function(){return mainGroup_}};return initClass(),me}function LoaderManager(gameRef){function loadAudio_(name,path){2==phaserVer_?game.load.audio(name,path):game.load.audio(name,path)}function loadImage_(name,path){2==phaserVer_?game.load.image(name,path):game.load.image(name,path)}function loadAtlas_(name,sprite,json){2==phaserVer_?game.load.atlas(name,sprite,json):game.load.atlas(name,sprite,json,{frameWidth:64,frameHeight:64,endFrame:23})}function loadJson_(name,path){2==phaserVer_?game.load.json(name,path):game.load.json(name,path)}var game=gameRef,me={loadAudio:loadAudio_,loadImage:loadImage_,loadAtlas:loadAtlas_,loadJson:loadJson_};return me}function MessageBox(gameRef){function initClass_(){mainGroup_=displayManager_.getGroup("msgBox"),mainTextGroup_=displayManager_.getTexts(),void 0!=mainGroup_&&initMsgBox_()}function showMessageFullScreen_(msg,msg1,cb1,cb2){isOn=!0,mainButtonSwipeGroup_.ok.visible=!0,mainTextGroup_.msg1s.setText(Translate["do"](msg)),mainTextGroup_.msg2s.setText(Translate["do"](msg1)),mainGroupSwipe_.visible=!0,msgCB1_=cb1,msgCB2_=cb2}function showMessage_(owner,msg,msg1,cb,args){for(var a in displayManager.groups.msgBox.buttons)mainButtonGroup_[a].button.setFrame(2);if(0==isOn)fillFileds_(owner,1,msg,msg1,cb,null,null,args);else{var obj={};obj.owner=owner,obj.msg=msg,obj.msg1=msg1,obj.cb=cb,obj.args=args,msgQueue.push(obj)}}function showMessageYN_(owner,msg,msg1,cb1,cb2,args){for(var a in displayManager.groups.msgBox.buttons)mainButtonGroup_[a].button.setFrame(2);if(0==isOn)fillFileds_(owner,2,msg,msg1,cb1,cb2,args);else{var obj={};obj.owner=owner,obj.msg=msg,obj.msg1=msg1,obj.cb=cb1,obj.cb2=cb2,obj.args=args,msgYNQueue.push(obj)}}function showMessageYNA_(owner,msg,msg1,cb1,cb2,cb3,args){for(var a in displayManager.groups.msgBox.buttons)mainButtonGroup_[a].button.setFrame(2);if(0==isOn)fillFileds_(owner,3,msg,msg1,cb1,cb2,cb3,args);else{var obj={};obj.owner=owner,obj.msg=msg,obj.msg1=msg1,obj.cb=cb1,obj.cb2=cb2,obj.cb3=cb3,obj.args=args,msgYNAQueue.push(obj)}}function fillFileds_(owner,type,msg,msg1,cb1,cb2,cb3,args){isOn=!0,mainButtonGroup_.ok.visible=!1,mainButtonGroup_.yes.visible=!1,mainButtonGroup_.no.visible=!1,mainButtonGroup_.myAccount.visible=!1,"game"==owner?(mainGroup_.game.list[0].visible=!0,mainGroup_.generic.list[0].visible=!1):(mainGroup_.game.list[0].visible=!1,mainGroup_.generic.list[0].visible=!0),1==type?mainButtonGroup_.ok.visible=!0:2==type?(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.no.visible=!0):(mainButtonGroup_.yes.visible=!0,mainButtonGroup_.no.visible=!0,mainButtonGroup_.myAccount.visible=!0),mainTextGroup_.msg1.setText(Translate["do"](msg)),mainTextGroup_.msg2.setText(Translate["do"](msg1)),mainGroup_.visible=!0,msgCB1_=cb1,msgCB2_=cb2,msgCB3_=cb3,arguments_=args}function doOk_(){null!=msgCB1_&&msgCB1_(arguments_),checkQueue()}function doKo_(){null!=msgCB2_&&msgCB2_(arguments_),checkQueue()}function doMyAccount_(){null!=msgCB3_&&msgCB3_(arguments_),checkQueue()}function doFull_(){return void 0==dragY_||bgButtonSwipe_.y-dragY_<100?(bgButtonSwipe_.y=0,void(dragY_=0)):(mainGroupSwipe_.visible=!1,null!=msgCB1_&&msgCB1_(),void checkQueue())}function doNotFull_(){mainGroupSwipe_.visible=!1,null!=msgCB2_&&msgCB2_(),checkQueue()}function checkQueue(){void 0!=bgButtonSwipe_&&(bgButtonSwipe_.y=0),msgQueue.length>0?(fillFileds_(msgQueue[0].owner,1,msgQueue[0].msg,msgQueue[0].msg1,msgQueue[0].cb,null,msgQueue[0].args),msgQueue.shift()):msgYNQueue.length>0?(fillFileds_(msgYNQueue[0].owner,2,msgYNQueue[0].msg,msgYNQueue[0].msg1,msgYNQueue[0].cb,msgYNQueue[0].cb2,msgYNQueue[0].args),msgYNQueue.shift()):msgYNAQueue.length>0?(fillFileds_(msgYNAQueue[0].owner,3,msgYNAQueue[0].msg,msgYNAQueue[0].msg1,msgYNAQueue[0].cb,msgYNAQueue[0].cb2,msgYNAQueue[0].cb3,msgYNAQueue[0].args),msgYNAQueue.shift()):(mainGroup_.visible=!1,isOn=!1)}function initMsgBox_(){var bgButton=new Phaser_Button(game_,null,0,0,null);bgButton.width=1920,bgButton.height=1080,mainGroup_.add(bgButton);for(var a in displayManager.groups.msgBox.buttons){var c=addGroup(),buttonE=new Phaser_Button(game_,displayManager.groups.msgBox.buttons[a].name,displayManager.groups.msgBox.buttons[a].x,displayManager.groups.msgBox.buttons[a].y,2,1,0,null,null,me[displayManager.groups.msgBox.buttons[a].evt]);if(buttonE.setAnchor(.5,.5),mainButtonGroup_[a]=c,mainButtonGroup_[a].button=buttonE,c.add(buttonE),mainGroup_.add(c),null!=displayManager.groups.msgBox.buttons[a].texts)for(var t in displayManager.groups.msgBox.buttons[a].texts){var txt=spriteManager_.addText(displayManager.groups.msgBox.buttons[a].x+displayManager.groups.msgBox.buttons[a].texts[t].x,displayManager.groups.msgBox.buttons[a].y+displayManager.groups.msgBox.buttons[a].texts[t].y,Translate["do"](displayManager.groups.msgBox.buttons[a].texts[t].text),displayManager.groups.msgBox.buttons[a].texts[t].anchorX,displayManager.groups.msgBox.buttons[a].texts[t].anchorY,{font:displayManager.groups.msgBox.buttons[a].texts[t].font,fill:displayManager.groups.msgBox.buttons[a].texts[t].fill,boundsAlignH:displayManager.groups.msgBox.buttons[a].texts[t].align,fontWeight:null==displayManager.groups.msgBox.buttons[a].texts[t].weight?"normal":displayManager.groups.msgBox.buttons[a].texts[t].weight});c.add(txt),mainTextGroup_[t]=txt}}mainGroup_.visible=!1}var mainGroup_,mainGroupSwipe_,mainTextGroup_,msgCB1_,msgCB2_,msgCB3_,arguments_,bgButtonSwipe_,dragY_,game_=gameRef,isOn=!1,mainButtonGroup_=[],mainButtonSwipeGroup_=[],msgQueue=[],msgYNQueue=[],msgYNAQueue=[],me={showMessage:showMessage_,showMessageYN:showMessageYN_,showMessageYNA:showMessageYNA_,showMessageFullScreen:showMessageFullScreen_,doOk:doOk_,doKo:doKo_,doFull:doFull_,doNotFull:doNotFull_,doMyAccount:doMyAccount_,getIsOnMessage:function(){return isOn}};return initClass_(),me}function Music(gameRef,soundManager,name,loop,volume,useMarker,objConfig){function initClass_(){3==phaserVer_?music_=game_.sound.add(name_):marker_?(music_=game_.add.audioMarker(name_),music_.addMarker("first",1,0)):music_=game_.add.sound(name_),music_.usingAudioTag=!0,music_.loop=loop_,IE=!!/Trident.*rv[ :]*11\./.test(navigator.userAgent),volume_=volumeCheck_(volume_),music_.volume=volume_}function play_(){(soundManager_.getCanPlayBg()||isSoundEffect_())&&(3==phaserVer_?music_.play():marker_?(music_.addMarker("first",1,0),music_.play("first",1,music_.volume,!0,!0,this)):music_.loopFull())}function stop_(){music_.stop()}function fadeOutBgSound_(duration,cb){clearInterval(intFadeOut_),clearInterval(intFadeIn_),volume_=music_.volume;var steps=volume_/(duration/100);intFadeOut_=setInterval(decreaseVolume_,100,steps,cb)}function fadeInBgSound_(duration,vol){if(0!=initVol_&&(0!=soundManager_.getCanPlayBg()||0!=isSoundEffect_())){clearInterval(intFadeOut_),clearInterval(intFadeIn_),volume_=0,targetVol_=null!=vol?vol:initVol_,music_.volume=volumeCheck_(volume_),play_();var steps=targetVol_/(duration/100);intFadeIn_=setInterval(increaseVolume_,100,steps)}}function decreaseVolume_(vol,cb){volume_=Number(volume_-parseFloat(vol)),music_.volume=volumeCheck_(volume_),volume_<=0&&(volume_=0,stop_(),music_.volume=0,clearInterval(intFadeOut_),null!=cb&&cb())}function immediateDecreaseVolume_(){clearInterval(intFadeOut_),clearInterval(intFadeIn_),volume_=0,stop_(),music_.volume=0}function increaseVolume_(vol){volume_+=vol,music_.volume=volumeCheck_(volume_),volume_+1e-4>=initVol_&&(music_.volume=initVol_,clearInterval(intFadeIn_))}function increaseVolumeExt_(vol){volume_+=vol,music_.volume=volumeCheck_(volume_),volume_+1e-4>=targetVol_&&(music_.volume=targetVol_,clearInterval(intFadeIn_))}function volumeCheck_(vol){return IE?vol<0?0:vol>1?1:vol:vol<0?0:vol>2?2:vol}function increaseVolExternal_(duration){if(0!=soundManager_.getCanPlayBg()||0!=isSoundEffect_()){clearInterval(intFadeOut_),clearInterval(intFadeIn_),music_.volume=Math.min(volumeCheck_(volume_),targetVol_);var steps=targetVol_/(duration/100);intFadeIn_=setInterval(increaseVolume_,100,steps)}}function increaseVolumeExternalSync_(duration,marker){if(0!=soundManager_.getCanPlayBg()||0!=isSoundEffect_()){clearInterval(intFadeOut_),clearInterval(intFadeIn_),music_.play("fade",marker,0,!0,!0,gameClass_),music_.volume=Math.min(volumeCheck_(volume_),targetVol_);var steps=targetVol_/(duration/100);intFadeIn_=setInterval(increaseVolumeExt_,100,steps)}}function increaseVolumeExternal_(duration){if(0!=soundManager_.getCanPlayBg()||0!=isSoundEffect_()){clearInterval(intFadeOut_),clearInterval(intFadeIn_),music_.volume=Math.min(volumeCheck_(volume_),targetVol_);var steps=targetVol_/(duration/100);intFadeIn_=setInterval(increaseVolumeExt_,100,steps)}}function fadeOutBgSoundExternal_(duration,vol,cb){if(soundManager_.getCanPlayBg()||isSoundEffect_()){clearInterval(intFadeOut_),clearInterval(intFadeIn_);var steps=(volume_-vol)/(duration/100);intFadeOut_=setInterval(decreaseVolumeExternal_,100,vol,steps,cb)}}function fadeInBgSoundExternal_(duration,vol,marker_,duration_,cb){if(soundManager_.getCanPlayBg()||isSoundEffect_()){if(3==phaserVer_){var marker=[];marker.name="first",marker.start=0,marker.loop=!0,music_.addMarker(marker),marker.name="fade",marker.start=marker_,marker.volume=0,marker.loop=!1,music_.addMarker(marker),music_.play("fade",marker,0,!0,!0,gameClass_),music_.on("complete",function(){music_.play("first",1,0,0)})}else music_.addMarker("first",1,0,0),music_.addMarker("fade",marker_,duration_,0),music_.play("fade",marker_,0,!0,!0,gameClass_),music_.onMarkerComplete.add(function(){firstMarkerReached_=!0},this);music_.volume=0,volume_=0,targetVol_=volumeCheck_(vol),increaseVolumeExternal_(duration)}}function fadeInBgSoundExternalJustVolSync_(duration,vol,marker){(soundManager_.getCanPlayBg()||isSoundEffect_())&&(targetVol_=vol,increaseVolumeExternalSync_(duration,marker))}function fadeInBgSoundExternalJustVol_(duration,vol){(soundManager_.getCanPlayBg()||isSoundEffect_())&&(targetVol_=vol,increaseVolumeExternal_(duration))}function decreaseVolumeExternal_(v,vol,cb){volume_=Number(volume_-parseFloat(vol)),targetVol_=volume_,music_.volume=volumeCheck_(volume_),volume_<=v&&(music_.volume=v,clearInterval(intFadeOut_),null!=cb&&cb())}function getSound_(){return music_}function isSoundEffect_(){return 1==soundManager_.getCanPlay()&&1==object_.effect}var music_,intFadeOut_,intFadeIn_,targetVol_,IE,game_=gameRef,soundManager_=soundManager,name_=name,volume_=volume,initVol_=volume,loop_=loop,firstMarkerReached_=(window.navigator.userAgent,!1),marker_=useMarker,object_=objConfig,me={play:play_,stop:stop_,immediateDecreaseVolume:immediateDecreaseVolume_,decreaseVolume:decreaseVolume_,increaseVolume:increaseVolume_,fadeOutBgSound:fadeOutBgSound_,fadeInBgSound:fadeInBgSound_,increaseVolExternal:increaseVolExternal_,fadeOutBgSoundExternal:fadeOutBgSoundExternal_,fadeInBgSoundExternal:fadeInBgSoundExternal_,fadeInBgSoundExternalJustVol:fadeInBgSoundExternalJustVol_,fadeInBgSoundExternalJustVolSync:fadeInBgSoundExternalJustVolSync_,getSound:getSound_,resetVolume:function(){music_.volume=volumeCheck_(initVol_)}};return initClass_(),me}function Sound(gameRef,soundManager,name,loop,volume){function volumeCheck_(vol){return logger(ua+"  "+IE.toString()+vol),IE?vol<0?0:vol>1?1:vol:vol}function getSound_(){return sound_}var sound_,intFadeOut_,intFadeIn_,IE,game_=gameRef,soundManager_=soundManager,name_=name,volume_=volume,initVol_=volume,loop_=loop,breake_=!1,ua=window.navigator.userAgent,initClass_=function(){sound_=game_.sound.add(name_),sound_.loop=loop_,IE=!!/Trident.*rv[ :]*11\./.test(navigator.userAgent),sound_.volume=volumeCheck_(volume_)},play_=function(){breake_=!0,soundManager_.getCanPlay()&&(logger("play sounds"+name_+" "+soundManager_.getCanPlay()),sound_.play())},stop_=function(){sound_.stop()},fadeOutBgSound_=function(duration,cb){clearInterval(intFadeOut_),clearInterval(intFadeIn_),volume_=sound_.volume;var steps=volume_/(duration/100);intFadeOut_=setInterval(decreaseVolume_,200,steps,cb),breake_=!1},fadeInBgSound_=function(duration){clearInterval(intFadeOut_),clearInterval(intFadeIn_),volume_=0,sound_.volume=0,play_();var steps=initVol_/(duration/100);intFadeIn_=setInterval(increaseVolume_,200,steps)},decreaseVolume_=function(vol,cb){return 1==breake_?(sound_.volume=volumeCheck_(initVol_),void clearInterval(intFadeOut_)):(volume_=Number(volume_-parseFloat(vol)),sound_.volume=volumeCheck_(volume_),void(volume_<=0&&(sound_.stop(),sound_.volume=volumeCheck_(initVol_),clearInterval(intFadeOut_),null!=cb&&cb())))},increaseVolume_=function(vol){volume_=Number(volume_+parseFloat(vol)),sound_.volume=volumeCheck_(volume_),volume_>=initVol_&&clearInterval(intFadeIn_)},setLoop_=function(val){sound_.loop=val},me={play:play_,stop:stop_,setLoop:setLoop_,decreaseVolume:decreaseVolume_,increaseVolume:increaseVolume_,fadeOutBgSound:fadeOutBgSound_,fadeInBgSound:fadeInBgSound_,setVolume:function(vol){sound_.volume=vol},getVolume:function(){return sound_.volume},getBaseVolume:function(){return initVol_},getSound:getSound_};return initClass_(),me}function SoundManager(gameRef,gameClass){function initClass_(){for(var a in gameAssets.importantSounds)sounds[a]=new Sound(game_,me,a,null!=gameAssets.importantSounds[a].loop&&gameAssets.importantSounds[a].loop,gameAssets.importantSounds[a].volume);for(a in gameAssets.bgImportantSounds)bgSounds[a]=new Music(game_,me,a,(!0),gameAssets.bgImportantSounds[a].volume,(!!gameAssets.bgImportantSounds[a].marker),gameAssets.bgImportantSounds[a]);"mobile"===gameParams.channel?(canPlay="false"!=localStorage.getItem("slots__sound"),canPlayBg="false"!=localStorage.getItem("slots__sound")):(canPlay="false"!=localStorage.getItem(gameParams.gameName+"__effects__on"),canPlayBg="false"!=localStorage.getItem(gameParams.gameName+"__bg__on"))}function startSounds_(){for(var a in gameAssets.sounds)if(sounds[a]=new Sound(game_,me,a,null!=gameAssets.sounds[a].loop&&gameAssets.sounds[a].loop,gameAssets.sounds[a].volume),null!=gameAssets.sounds[a].multiple)for(var b in gameAssets.sounds[a].multiple)sounds[gameAssets.sounds[a].multiple[b]]=new Sound(game_,me,a,null!=gameAssets.sounds[a].loop&&gameAssets.sounds[a].loop,gameAssets.sounds[a].volume);for(a in gameAssets.bgSounds)bgSounds[a]=new Music(game_,me,a,(!0),gameAssets.bgSounds[a].volume,(!1),gameAssets.bgSounds[a])}function getSound_(sound){return sounds[sound]}function getBGSound_(sound){return bgSounds[sound]}function mixBgSound_(sound1,duration,duration1,cb){currentBgSoundPlaying_!=sound1&&null!=bgSounds[sound1]&&(""!=currentBgSoundPlaying_?(bgSounds[currentBgSoundPlaying_].fadeOutBgSound(duration,cb),currentBgSoundPlaying_=sound1):currentBgSoundPlaying_=sound1,bgSounds[sound1].fadeInBgSound(duration1))}function stopSound_(sound){null!=sounds[sound]&&sounds[sound].fadeOutBgSound(200)}function playSound_(sound,rep_){logger("try to play sounds"+sound),null!=sounds[sound]&&sounds[sound].play()}function resumeAll_(){if(isMuted=!1,canPlayBg&&resumeBgSound_(),canPlay&&resumeEffects_(),ReelConfig.newUI?window.newUI.sound().state="ON":$("#soundButton img").attr("src",frameworkAssets.assets.menuSoundOnBtn),gcmCalls_("MUTE",!1,!0),void 0!=framework.getMenu()){var s=framework.getMenu().getSoundSwitch();s.doSwitch(!0),s=framework.getMenu().getMusicSwitch(),s.doSwitch(!0)}}function resumeAllFocus_(){isMuted||(canPlayBg&&resumeBgSound_(),canPlay&&resumeEffects_())}function playBgSound_(sound){logger("try to play "+sound),null!=bgSounds[sound]&&(logger("play"),currentBgSoundPlaying_=sound,bgSounds[sound].play())}function playOtherBgSound_(sound){logger("try to play "+sound),null!=bgSounds[sound]&&(logger("play other bg"),bgSounds[sound].play(),additionalBgSoundPlaying_.push(sound))}function playAdditionalBgSound_(sound){null!=bgSounds[sound]&&additionalBgSoundPlaying_.push(sound)}function stopBgSound_(){""!=currentBgSoundPlaying_&&bgSounds[currentBgSoundPlaying_].fadeOutBgSound(btnVolDuration);for(var a in additionalBgSoundPlaying_)""!=additionalBgSoundPlaying_[a]&&bgSounds[additionalBgSoundPlaying_[a]].fadeOutBgSound(btnVolDuration);canPlayBg=!1,localStorage.setItem(gameParams.gameName+"__bg__on",!1),0==canPlay&&(isMuted=!0,gcmCalls_("MUTE",!0,!0),1!=ReelConfig.newUI?$("#soundButton img").attr("src",frameworkAssets.assets.menuSoundOffBtn):window.newUI.sound().state="OFF")}function stopAll_(){for(var a in sounds)sounds[a].stop();""!=currentBgSoundPlaying_&&bgSounds[currentBgSoundPlaying_].fadeOutBgSound(btnVolDuration);for(var a in additionalBgSoundPlaying_)""!=additionalBgSoundPlaying_[a]&&bgSounds[additionalBgSoundPlaying_[a]].fadeOutBgSound(btnVolDuration);if(ReelConfig.newUI?window.newUI.sound().state="OFF":$("#soundButton img").attr("src",frameworkAssets.assets.menuSoundOffBtn),gcmCalls_("MUTE",!0,!0),isMuted=!0,logger("canPlayBg: "+canPlayBg+" canPlay: "+canPlay),void 0!=framework.getMenu()){var s=framework.getMenu().getSoundSwitch();s.doSwitch(!1),s=framework.getMenu().getMusicSwitch(),s.doSwitch(!1)}}function stopAllFocus_(){if(framework.isTouch()){for(var a in sounds)sounds[a].stop();""!=currentBgSoundPlaying_&&bgSounds[currentBgSoundPlaying_].fadeOutBgSound(btnVolDuration);for(var a in additionalBgSoundPlaying_)""!=additionalBgSoundPlaying_[a]&&bgSounds[additionalBgSoundPlaying_[a]].fadeOutBgSound(btnVolDuration)}}function stopEffects_(){canPlay=!1;for(var a in sounds)sounds[a].stop();localStorage.setItem(gameParams.gameName+"__effects__on",!1),0==canPlayBg&&(isMuted=!0,gcmCalls_("MUTE",!0,!0),framework.getSettings().getSounds().allSounds=!1,1!=ReelConfig.newUI?$("#soundButton img").attr("src",frameworkAssets.assets.menuSoundOffBtn):window.newUI.sound().state="OFF")}function resumeBgSound_(){canPlayBg=!0,isMuted=!1,framework.getSettings().getSounds().allSounds=!0,gcmCalls_("MUTE",!1,!0),1!=ReelConfig.newUI?$("#soundButton img").attr("src",frameworkAssets.assets.menuSoundOnBtn):window.newUI.sound().state="ON",""!=currentBgSoundPlaying_&&bgSounds[currentBgSoundPlaying_].fadeInBgSound(btnVolDuration),localStorage.setItem(gameParams.gameName+"__bg__on",!0)}function resumeEffects_(){canPlay=!0,isMuted=!1,framework.getSettings().getSounds().allSounds=!0,localStorage.setItem(gameParams.gameName+"__effects__on",!0),gcmCalls_("MUTE",!1,!0),1!=ReelConfig.newUI?$("#soundButton img").attr("src",frameworkAssets.assets.menuSoundOnBtn):window.newUI.sound().state="ON"}function startBgSound_(){}var game_=gameRef,sounds=[],bgSounds=[],canPlay=!0,canPlayBg=!0,currentBgSoundPlaying_="",additionalBgSoundPlaying_=[],btnVolDuration=400,isMuted=!1,me={getSound:getSound_,getBGSound:getBGSound_,mixBgSound:mixBgSound_,playSound:playSound_,stopSound:stopSound_,resumeAll:resumeAll_,resumeAllFocus:resumeAllFocus_,stopEffects:stopEffects_,playBgSound:playBgSound_,playOtherBgSound:playOtherBgSound_,playAdditionalBgSound_:playAdditionalBgSound_,stopBgSound:stopBgSound_,resumeBgSound:resumeBgSound_,resumeEffects:resumeEffects_,stopAll:stopAll_,stopAllFocus:stopAllFocus_,startBgSound:startBgSound_,startSounds:startSounds_,getCanPlay:function(){return canPlay&&!isMuted},getCanPlayBg:function(){return canPlayBg&&!isMuted},resetVolume:function(sound){null!=bgSounds[sound]&&bgSounds[sound].resetVolume()}};return initClass_(),me}function SpriteManager(gameRef){function addSprite_(x,y,spriteName,width,height,anchorX,anchorY,scaleX,scaleY){var obj;return 2==phaserVer_?(obj=game.add.sprite(x,y,spriteName),null!=width&&(obj.width=width),null!=height&&(obj.height=height),obj.anchor.set(void 0!=anchorX?anchorX:0,void 0!=anchorY?anchorY:0)):(obj=game.add.sprite(x,y,spriteName),null!=scaleX||null!=scaleY?obj.setScale(null!=scaleX?scaleX:null!=scaleY?scaleY:1):null==width&&null==height||(null!=width&&(obj.width=width),null!=height&&(obj.height=height)),obj.setOrigin(null!=anchorX?anchorX:0,null!=anchorY?anchorY:0)),obj.setAnchor=function(x,y){2==phaserVer_?obj.anchor.set(x,y):obj.setOrigin(x,y)},obj.name_=spriteName,obj}function addText_(x,y,text,anchorX,anchorY,attr){var obj;return null==anchorX&&(anchorX=0),null==anchorY&&(anchorY=0),2==phaserVer_?obj=new Phaser.Text(game,x,y,text,attr):(void 0==attr.fontWeight&&(attr.fontWeight="normal"),void 0==attr.fontVariant&&(attr.fontVariant="normal"),obj=game.add.text(x,y,text,attr).setOrigin(anchorX,anchorY)),obj.setAnchor=function(x,y){2==phaserVer_?obj.anchor.set(x,y):obj.setOrigin(x,y)},obj.setScale=function(x,y){2==phaserVer_?(obj.scale.x=x,obj.scale.y=void 0!=y?y:x):obj.setScale(x,y)},obj}function addBMPText_(x,y,font,text,size,align){if(2==phaserVer_)var txt=new Phaser.BitmapText(game,x,y,font,text,size,align);else var txt=game.add.dynamicBitmapText(x,y,font,text,size,align);return txt.setAnchor=function(x,y){2==phaserVer_?txt.anchor.set(x,y):txt.setOrigin(x,y)},txt}function getCache_(key){if(2==phaserVer_)return game.cache.checkImageKey(key);var ret=game.textures.get(key);return ret}function getSpritePath_(key){return 2==phaserVer_?game.cache.getImage(key).src:game.cache.obj.entries.get(key)}var game=gameRef,me={addBMPText:addBMPText_,addSprite:addSprite_,addText:addText_,getCache:getCache_,getSpritePath:getSpritePath_};return me}function FreeSpinsAccumulator(gameRef,gameClass){function initClass_(){null!=ReelConfig.accumulatorType&&("FS"==ReelConfig.accumulatorType&&(multiClass_=new FreeSpinsAccumulator(game_,gameClass_)),addAccumulator_(),updateAccumulator_(multiLevel_))}function addAccumulator_(value){if(null!=ReelConfig.accumulatorType){multipliers_.push(value);for(var a in ReelConfig.multipliers)multiClass_.addMultiplier("x"+ReelConfig.multipliers[a])}}function resetAccumulator_(){null!=ReelConfig.accumulatorType&&multiLevel_!=winManager_.getConsecutiveWinnings()&&(multiClass_.resetMultipliers(),updateMultiplier_(!1))}function updateAccumulator_(anim){null!=ReelConfig.accumulatorType&&multiLevel_!=winManager_.getConsecutiveWinnings()&&(multiLevel_=winManager_.getConsecutiveWinnings(),multiClass_.updateMultiplier(multiLevel_,anim))}var multiClass_,game_=gameRef,gameClass_=gameClass,multipliers_=[],multiLevel_=-1,me={
updateAccumulator:updateAccumulator_,resetAccumulator:resetAccumulator_};return initClass_(),me}function FreeSpinsAccumulator(gameRef,gameClass){}function BonusManager(gameRef,gameClass){function initClass_(){panelGroup_=displayManager_.getGroup("panelBonus"),null!=displayManager_.getGroup("panelBonus")&&(null!=displayManager.groups.panelBonus&&(panelToutIn_=displayManager.groups.panelBonus.configuration.durationIn),null!=displayManager.groups.panelBonus&&(panelToutOut_=displayManager.groups.panelBonus.configuration.durationOut),null!=displayManager.groups.panelBonus&&(panelSound_=displayManager.groups.panelBonus.configuration.sound),panelGroup_.visible=!1),evtManager_=new EventManager}function addBonus_(name){null!=displayManager_.getGroup(name)&&(bonusGroup_[name]=displayManager_.getGroup(name),bonusGroup_[name].visible=displayManager.groups[name].visible,bonusData_[name]={},build_(name))}function initBonus_(json){var name=json.bonusSetup.bonusType;bonusTriggered_=name,balanceManager_.setCanUpdate(!1),autoPlayManager_.toggleFeature(!0),autoPlayManager_.setCanAp(!1),lineManager_.clearLine(),buttonManager_.applyHide(),evtManager_.clearEvt(),0!=isResume_||null==json.bonusSetup.paths&&void 0!=json.bonusSetup.picks&&0!=json.bonusSetup.picks.length?evtManager_.addEvtForce(openBonus_,panelToutIn_,[name,json.bonusSetup]):(evtManager_.addEvtForce(startIconAnim_,0),evtManager_.addEvtForce(startBonusIntroMusic_,panelToutIn_),panel_?(evtManager_.addEvtForce(openPanel_,0,[Translate["do"]("Congratulation"),Translate["do"]("you won")+" "+displayManager.groups[name].name,""]),evtManager_.addEvtForce(openBonus_,panelToutOut_,[name,json.bonusSetup])):evtManager_.addEvtForce(openBonus_,0,[name,json.bonusSetup])),evtManager_.triggerEvt()}function startBonusIntroMusic_(){soundManager_.playSound("bonus-intro")}function startIconAnim_(){gameClass_.playTriggeredSmb()}function closePanel_(){panelGroup_.visible=!1}function openPanel_(par){var msg1=par[0],msg2=par[1],msg3=par[2];panelGroup_.visible=!0,panelGroup_.alpha=1,null!=panelSound_&&""!=panelSound_&&soundManager_.playSound(panelSound_),displayManager_.getText("txtChestPanel1").setText(msg1),displayManager_.getText("txtChestPanel2").setText(msg2),displayManager_.getText("txtChestPanel3").setText(msg3)}function openBonus_(par){var name=par[0],json=par[1];panelGroup_.visible=!1,bonusData_[name].bonusClass.initBonus(json),framework.hideFramework()}function closeBonus_(name,state){if(totalWon_=baseMult_*bonusMult_,null!=state.totWinCash&&winManager_.setWinAmountBonus(Number(state.totWinCash)),1==state.collect&&1==state["double"])messageBox_.showMessageYN(Translate["do"]("Congratulation, you won"),0,Translate["do"]("would you like to gamble?"),acceptGamble_,declineGamble_);else if(1==state.collect&&0==state["double"]){openPanel_(0==balanceManager_.getShowIncredits()?Number(state.baseMult)>1?[Translate["do"]("You've won"),state.baseMult+" x "+state.totMult+" x "+Util.formatNumber(state.stake,Util.getNubersOfDecimal())+" = ",""]:[Translate["do"]("You've won"),state.totMult+" x "+Util.formatNumber(state.stake,Util.getNubersOfDecimal())+" = ",""]:Number(state.baseMult)>1?[Translate["do"]("You've won"),state.baseMult+" x "+state.totMult+" x "+Util.formatNumber(Number(state.stake)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())+" = ",""]:[Translate["do"]("You've won"),state.totMult+" x "+Util.formatNumber(Number(state.stake)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())+" = ",""]);var time=lineManager_.showBonusWin(state.totWin,state.totWinCash)/2;setTimeout(declineGamble_,time+panelToutOut_)}else 0==state.collect&&1==state["double"]}function acceptGamble_(){communicationManager_.sendServletRequest("double")}function declineGamble_(){communicationManager_.sendServletRequest("collect")}function collectCallBack_(json){0==freeRoundsManager_.getIsInFr()&&balanceManager_.forceBalanceAfterFS(Number(json.status.collectTotal)/100);var p={};p.value=Number(json.status.collectTotal)/100,freeRoundsManager_.parse(p),0==balanceManager_.getShowIncredits()?lineManager_.completeBonusValue(Number(json.status.collectTotal)/100,"Bonus Win"):lineManager_.completeBonusValue(Number(json.status.collectTotal)/100/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),"Bonus Win"),setTimeout(hideBonus_,1e3,json)}function hideBonus_(json){var name=json.name,totalWon=Number(json.status.collectTotal)/100;if(balanceManager_.setCanUpdate(!0),isResume_=!1,bonusData_[name].bonusClass.hideBonus(),panelGroup_.visible=!1,bonusGroup_[name].visible=!1,bonusTriggered_="",null!=json.status,framework.showFramework(),0==totalWon)buttonManager_.applyRestore(),gameClass_.evaluateWinnings(),autoPlayManager_.toggleFeature(!1),autoPlayManager_.setCanAp(!0);else{soundManager_.stopSound("incWin");var time=lineManager_.showBonusCentralWinGreetings(totalWon/balanceManager_.getCoinValue()*lineManager_.getLinesNumber())/2;lineEvalTOut_=setTimeout(goBackAfterCentralWin_,time)}}function goBackAfterCentralWin_(){autoPlayManager_.setCanAp(!0),lineManager_.stopBigWinAnimation(),buttonManager_.applyRestore(),gameClass_.evaluateWinnings(),autoPlayManager_.toggleFeature(!1),idleCycleManager_.startIdleCycle(),null!=gameClass_.frStop&&gameClass_.frStop()}function sendRequest_(par){communicationManager_.sendServletRequest("bonus","&pick="+par)}function parse_(json){bonusData_[json.name].bonusClass.parse(json)}function build_(name){try{bonusData_[name].bonusClass=new window[name](game_,gameClass_,displayManager.groups[name],me,name)}catch(e){}}var panelGroup_,totalWon_,baseMult_,bonusMult_,panelToutIn_,panelToutOut_,panelSound_,evtManager_,game_=gameRef,gameClass_=gameClass,bonusGroup_=[],bonusData_=[],panel_=!0,bonusTriggered_="",lineEvalTOut_=0,isResume_=!1,me={initBonus:initBonus_,addBonus:addBonus_,parse:parse_,openBonus:openBonus_,closeBonus:closeBonus_,getBaseMult:function(){return baseMult_},getBonuses:function(){return bonusData_},getMultiplier:function(){return bonusMult_},sendRequest:sendRequest_,collectCallBack:collectCallBack_,getTriggeredBonus:function(){return bonusTriggered_},clearLineEval:function(){clearTimeout(lineEvalTOut_)},openPanel:openPanel_,closePanel:closePanel_,setResumeFlag:function(val){isResume_=val}};return initClass_(),me}function BubblePickBonus(gameRef,gameClass,config,parent,name){function initClass_(){var index=0;bonusGroup_=displayManager_.getGroup(bonusName_),introBonusGroup_=displayManager_.getGroup("intro"+bonusName_)?displayManager_.getGroup("intro"+bonusName_):null,splat_=game_.add.group(),bonusGroup_.add(splat_);for(var a in config_.buttons)buttons[a]=new Button(game_,gameClass_,bonusName_,config_.buttons[a],chestClick_,null,null,(!1)),chestAnim[a]=config_.buttons[a].anim;music_=config_.configuration.bgMusic,lastChestTout_=config_.configuration.tOutLastChest,chestSounds_=config_.configuration.chestSounds;for(var a in displayManager.groups[bonusName_].graphFrame){var sp;sp=new Phaser.Sprite(game_,displayManager.groups[bonusName_].graphFrame[a].x,displayManager.groups[bonusName_].graphFrame[a].y,displayManager.groups[bonusName_].graphFrame[a].name),null!=displayManager.groups[bonusName_].graphFrame[a].width&&(sp.width=displayManager.groups[bonusName_].graphFrame[a].width),null!=displayManager.groups[bonusName_].graphFrame[a].height&&(sp.height=displayManager.groups[bonusName_].graphFrame[a].height),sp.anchor.set(void 0!=displayManager.groups[bonusName_].graphFrame[a].anchorX?displayManager.groups[bonusName_].graphFrame[a].anchorX:0,void 0!=displayManager.groups[bonusName_].graphFrame[a].anchorY?displayManager.groups[bonusName_].graphFrame[a].anchorY:0),bonusGroup_.add(sp),null!=displayManager.groups[bonusName_].graphFrame[a].visible&&(sp.visible=displayManager.groups[bonusName_].graphFrame[a].visible),null!=displayManager.groups[bonusName_].graphFrame[a].alpha&&(sp.alpha=displayManager.groups[bonusName_].graphFrame[a].alpha)}for(var a in displayManager.groups[bonusName_].graphObj){var sp=new Phaser.Button(game_,displayManager.groups[bonusName_].graphObj[a].x,displayManager.groups[bonusName_].graphObj[a].y,displayManager.groups[bonusName_].graphObj[a].name,doClick_);null!=displayManager.groups[bonusName_].graphObj[a].width&&(sp.width=displayManager.groups[bonusName_].graphObj[a].width),null!=displayManager.groups[bonusName_].graphObj[a].height&&(sp.height=displayManager.groups[bonusName_].graphObj[a].height),sp.anchor.set(void 0!=displayManager.groups[bonusName_].graphObj[a].anchorX?displayManager.groups[bonusName_].graphObj[a].anchorX:0,void 0!=displayManager.groups[bonusName_].graphObj[a].anchorY?displayManager.groups[bonusName_].graphObj[a].anchorY:0),bonusGroup_.add(sp),null!=displayManager.groups[bonusName_].graphObj[a].visible&&(sp.visible=displayManager.groups[bonusName_].graphObj[a].visible),null!=displayManager.groups[bonusName_].graphObj[a].alpha&&(sp.alpha=displayManager.groups[bonusName_].graphObj[a].alpha),sp.range=displayManager.groups[bonusName_].graphObj[a].range,sp.id=a,sp.id_=index,sp.bx=displayManager.groups[bonusName_].graphObj[a].x,sp.by=displayManager.groups[bonusName_].graphObj[a].y,pickObj[a]=sp,index++}mask_=game_.add.graphics(0,0),mask_.beginFill(16777215),mask_.drawRect(232,140,809,450),splat_.mask=mask_}function stopAnimations_(){for(var a in pickObj)TweenMax.killTweensOf(pickObj[a]),pickObj[a].visible=!1}function startAnimations_(init){for(var a in pickObj)randomizePos_(pickObj[a]),init&&(pickObj[a].visible=!0)}function randomizePos_(smb){do var x=Util.getRandomInt(smb.bx-smb.range,smb.bx+smb.range),y=Util.getRandomInt(smb.by-smb.range,smb.by+smb.range);while(Math.abs(Math.abs(smb.x)-x)>10||Math.abs(Math.abs(smb.y)-y)>10);var time=(Util.getRandomInt(105,115)/100,Util.getRandomInt(85,95)/100,Util.getRandomInt(400,1e3)/1e3);tw[smb]=TweenMax.to(smb,time,{x:x,y:y,onComplete:randomizePos_,onCompleteParams:[smb],ease:RoughEase.ease.config({template:Linear.easeOut,strength:.2,points:10,taper:"both",randomize:!1,clamp:!1})})}function initBonus_(resume){var resumeFlag=!1;if(picks_=[],obj_=[],state_.close=!1,state_.collect=!1,state_["double"]=!1,displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!1),null!=music_&&""!=music_&&soundManager_.mixBgSound(music_,1e3,1e3),resume.picks.length>0){resumeFlag=!0,getValues_(resume);for(var a in picks_)openPick_(a,!0);state_.totMult=resume.totalMult}else displayManager_.getText("txtMultBonus").setText(""),startAnimations_(!0);null!=introBonusGroup_?(showIntro_(resumeFlag),setTimeout(enableBonus_,0==resumeFlag?2500:0)):enableBonus_();for(var a in displayManager.groups[bonusName_].emitters){var anim=epsy_.loadSystem(displayManager[bonusName_].emitters[a][0],500,500);displayManager.groups[bonusName_].emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function enableBonus_(){state_.canPick=!0,bonusGroup_.alpha=0,bonusGroup_.visible=!0,TweenMax.to(bonusGroup_,.5,{alpha:1,onComplete:startBonus_})}function startBonus_(){setTimeout(startAnimations_,200)}function showIntro_(resume){if(resume){introBonusGroup_.visible=!0;for(var a in displayManager.groups["intro"+bonusName_].intro){var sp=new Phaser.Sprite(game_,displayManager.groups["intro"+bonusName_].intro[a].x,displayManager.groups["intro"+bonusName_].intro[a].y,displayManager.groups["intro"+bonusName_].intro[a].name);introBonusGroup_.add(sp),obj_.push(sp),sp.scale.x=null!=displayManager.groups["intro"+bonusName_].intro[a].scaleX?displayManager.groups["intro"+bonusName_].intro[a].scaleX:1,sp.scale.y=null!=displayManager.groups["intro"+bonusName_].intro[a].scaleY?displayManager.groups["intro"+bonusName_].intro[a].scaleY:1,sp.animations.add("anim"),sp.animations.play("anim",48,!1,!1)}1==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("freeRounds"),0,{y:-200,ease:Bounce.easeIn}):TweenMax.to(displayManager_.getGroup("logo"),0,{y:-200,ease:Bounce.easeIn})}else{soundManager_.playSound("intro"+bonusName_),introBonusGroup_.visible=!0;for(var a in displayManager.groups["intro"+bonusName_].intro){var sp=new Phaser.Sprite(game_,displayManager.groups["intro"+bonusName_].intro[a].x,displayManager.groups["intro"+bonusName_].intro[a].y,displayManager.groups["intro"+bonusName_].intro[a].name);introBonusGroup_.add(sp),obj_.push(sp),sp.scale.x=null!=displayManager.groups["intro"+bonusName_].intro[a].scaleX?displayManager.groups["intro"+bonusName_].intro[a].scaleX:1,sp.scale.y=null!=displayManager.groups["intro"+bonusName_].intro[a].scaleY?displayManager.groups["intro"+bonusName_].intro[a].scaleY:1,sp.animations.add("anim"),sp.animations.play("anim",20,!1,!1)}1==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("freeRounds"),.3,{y:-200,ease:Bounce.easeIn}):TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn})}}function doClick_(){0!=state_.canPick&&null==picks_[this.id]&&(state_.canPick=!1,bonusManager_.sendRequest(this.id))}function parse_(json){getValues_(json.bonus),null!=json.bonus.totalMult&&(state_.totMult=json.bonus.totalMult),null!=json.bonus.totalWin&&(state_.totWinCash=Number(json.bonus.totalWin)/100,state_.totWin=state_.totWinCash/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),null!=json.baseMult&&(state_.baseMult=json.baseMult),null!=json.stake&&(state_.stake=Number(json.stake)/100),json.bonus.state.indexOf("play")>=0&&(state_.canPick=!0),json.bonus.state.indexOf("collect")>=0&&(state_.collect=!0),json.bonus.state.indexOf("double")>=0&&(state_.double_=!0),0==state_.canPick&&(state_.close=!0),openPick_(json.bonus.pick,!1)}function getValues_(json){for(var a in json.picks)picks_[json.picks[a].id]=json.picks[a].value>0?"x"+json.picks[a].value:"END"}function writePrize_(txt,str){txt.setText(str),splat_.add(txt),obj_.push(txt),displayManager_.getText("txtMultBonus").setText("x"+state_.totMult)}function startDrop_(color,x,y){var sp=new Phaser.Sprite(game_,x+Util.getRandomInt(-25,25),y+Util.getRandomInt(-35,35),color+"Drop");splat_.add(sp),obj_.push(sp),sp.scale.x=Util.getRandomInt(40,85)/100,sp.scale.y=Util.getRandomInt(70,100)/100,sp.animations.add("anim"),sp.animations.play("anim",Util.getRandomInt(10,15),!1,!1)}function openPick_(a,resume){pickObj[a].visible=!1;var s=new Phaser.Sprite(game_,pickObj[a].x,pickObj[a].y,pickObj[a].key.substr(0,pickObj[a].key.indexOf("#"))+"Splat");s.anchor.set(.5,.5),s.scale.x=1.4,s.scale.y=1.4,splat_.add(s),obj_.push(s);var txt=new Phaser.BitmapText(game_,pickObj[a].x,pickObj[a].y+20,"multiBmpFont","",45,"center");if(txt.anchor.set(.5,.5),resume)setTimeout(writePrize_,10,txt,picks_[a]);else{soundManager_.playSound(chestSounds_[a]),setTimeout(startDrop_,100,pickObj[a].key.substr(0,pickObj[a].key.indexOf("#")),pickObj[a].x,pickObj[a].y);var randNum=Util.getRandomInt(1,100);randNum>50&&setTimeout(startDrop_,120,pickObj[a].key.substr(0,pickObj[a].key.indexOf("#")),pickObj[a].x,pickObj[a].y),randNum>90&&setTimeout(startDrop_,140,pickObj[a].key.substr(0,pickObj[a].key.indexOf("#")),pickObj[a].x,pickObj[a].y),setTimeout(writePrize_,160,txt,picks_[a])}1==state_.close&&setTimeout(clearBonus_,lastChestTout_)}function clearBonus_(chest){bonusManager_.closeBonus(bonusName_,state_),soundManager_.playSound("winPanel"),soundManager_.mixBgSound("bgSlot",1e3,1e3),displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!0),stopAnimations_();for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[]}function hideBonus_(){introBonusGroup_.visible=!1,bonusGroup_.visible=!1,1==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("freeRounds"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut});for(var a in obj_)obj_[a].destroy()}var lastChestTout_,bonusGroup_,introBonusGroup_,splat_,game_=gameRef,gameClass_=gameClass,bonusManager_=parent,config_=config,buttons=[],chestAnim=[],bonusName_=name,music_="",chestSounds_=[],emitter_=[],pickObj=[],tw=[],picks_=[],obj_=[],state_={canPick:!1,close:!1,collect:!1,"double":!1,baseMult:0,totMult:0,totWinCash:0,totWin:0,baseMult:0,stake:0},me={initBonus:initBonus_,hideBonus:hideBonus_,parse:parse_,getState:function(){return state_}};return initClass_(),me}function MazeBonus(gameRef,gameClass,config,parent,name){function initClass_(){bonusGroup_=displayManager_.getGroup(bonusName_);for(var a in config_.buttons)buttons[a]=new Button(game_,gameClass_,bonusName_,config_.buttons[a],chestClick_,null,null,(!1)),chestAnim[a]=config_.buttons[a].anim;music_=config_.configuration.bgMusic,lastChestTout_=config_.configuration.tOutLastChest,chestSounds_=config_.configuration.chestSounds;for(var a=0;a<5;a++){var btn=new Phaser.Button(game,xPositions_[a],600,"path"+a,doClickFake_);btn.anchor.set(.5,.5),btn.onInputOver.add(doOver_,btn),btn.onInputOut.add(doOut_,btn),btn.path=a,bonusGroup_.add(btn),b.push(btn)}}function initBonus_(resume){picks_=[],obj_=[],state_.close=!1,state_.collect=!1,state_["double"]=!1,buildBonusLayout_(resume),null!=music_&&""!=music_&&soundManager_.mixBgSound(music_,1e3,1e3),displayManager_.getText("txtMultBonus").setText(""),displayManager_.getText("txtDumb").visible=!0,null!=displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!1),enableBonus_();for(var a in displayManager.groups[bonusName_].emitters){var anim=epsy_.loadSystem(displayManager[bonusName_].emitters[a][0],500,500);displayManager.groups[bonusName_].emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function backText_(){textTw_=TweenMax.to(displayManager_.getText("txtDumb").scale,.5,{x:1,y:1,onComplete:backText2_})}function backText2_(){textTw_=TweenMax.to(displayManager_.getText("txtDumb").scale,.5,{x:1.1,y:1.1,onComplete:backText_})}function buildBonusLayout_(params){var sp;paths_=params.paths,cherryA_=new Phaser.Sprite(game_,265+position_[1].x*w_,115+position_[1].y*h_,"cherryAnim"),cherryA_.anchor.set(.5,.5),cherryA_.animations.add("anim"),specialS_=[];for(var a in position_)0==params.grid[Number(a)]||1==params.grid[Number(a)]?(sp=new Phaser.Sprite(game_,265+position_[a].x*w_,155+position_[a].y*h_,"dash"),sp.special=0,sp.tint=16776960):params.grid[Number(a)]>=5&&(sp=new Phaser.Sprite(game_,265+position_[a].x*w_,155+position_[a].y*h_,"specialDash"),sp.animations.add("anim"),sp.special=1,specialS_[position_[a].index]=sp),sp.anchor.set(.5,.5),sp.scale.x=1,sp.scale.y=1,bonusGroup_.add(sp),dashes_[position_[a].index]=sp;bonusGroup_.add(cherryA_)}function enableBonus_(){bonusGroup_.alpha=0,bonusGroup_.visible=!0,TweenMax.to(bonusGroup_,.5,{alpha:1}),setTimeout(startBonus_,500)}function startBonus_(){state_.canPick=!0,messageBox_.showMessage("game",Translate["do"]("Select one from the 5 paths on the bottom")+"\r"+Translate["do"]("the lower the number the lower is the risk"),"\r"+Translate["do"]("Special symbols can hide high prize or death"),closePanel_)}function closePanel_(){displayManager_.getText("winValue").setText(""),textTw_=TweenMax.to(displayManager_.getText("txtDumb").scale,.5,{x:1.1,y:1.1,onComplete:backText_}),bonusManager_.closePanel(),over_=!0}function parse_(json){null!=json.bonus.totalMult&&(state_.totMult=json.bonus.totalMult),null!=json.bonus.totalWin&&(state_.totWinCash=Number(json.bonus.totalWin)/100,state_.totWin=state_.totWinCash/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),null!=json.stake&&(state_.stake=Number(json.stake)/100),json.bonus.state.indexOf("play")>=0&&(state_.canPick=!0),json.bonus.state.indexOf("collect")>=0&&(state_.collect=!0),json.bonus.state.indexOf("double")>=0&&(state_.double_=!0),0==state_.canPick&&(state_.close=!0);for(var a in json.bonus.path)prizes_[a]=json.bonus.path[a];prizes_.shift(),state_.totMult=0,clearTimeout(ilights),colorPath_(path);for(var a=0;a<5;a++)b[a].x=xPositions_[a],path==a?(b[a].scale.x=1,b[a].scale.y=1,b[a].alpha=1):(b[a].scale.x=.6,b[a].scale.y=.6,b[a].alpha=.6);move_()}function resetBonus_(){for(var a in dashes_)bonusGroup_.remove(dashes_[a]);cherryD_&&bonusGroup_.remove(cherryD_),cherryD_=null,cherryA_&&bonusGroup_.remove(cherryA_),cherryA_=null;for(var a=0;a<5;a++)b[a].x=xPositions_[a],b[a].scale.x=1,b[a].scale.y=1,b[a].alpha=1}function doOver_(){0!=over_&&colorPath_(this.path)}function doOut_(){0!=over_&&clearTimeout(ilights)}function doClickFake_(){0!=state_.canPick&&(displayManager_.getText("txtDumb").visible=!1,soundManager_.playSound("select"),state_.canPick=!1,path=Number(this.path),bonusManager_.sendRequest(path+1),over_=!1,clearTimeout(ilights),pos=0,prizes_=[])}function move_(txt_){if(null!=txt_){if(1!=txt_.win)return txt_.win>1?(txt_.win=1,cherryD_=new Phaser.Sprite(game_,cherryA_.x,cherryA_.y,"cherryWin"),cherryD_.anchor.set(.5,.5),cherryD_.animations.add("anim"),cherryD_.animations.play("anim",24,!1,!0,goBackToAnim_,txt_),cherryD_.scale.x=cherryA_.scale.x,cherryD_.scale.y=cherryA_.scale.y,cherryD_.angle=cherryA_.angle,bonusGroup_.add(cherryD_),void(cherryA_.visible=!1)):(txt_.alpha=1,txt_.animations.play("anim",24,!1,!0,endExplosion_,null),txt_.visible=!0,soundManager_.playSound("die"),cherryD_=new Phaser.Sprite(game_,cherryA_.x,cherryA_.y,"cherryDeath"),cherryD_.anchor.set(.5,.5),cherryD_.animations.add("anim"),cherryD_.scale.x=cherryA_.scale.x,cherryD_.scale.y=cherryA_.scale.y,cherryD_.angle=cherryA_.angle,cherryD_.visible=!1,void bonusGroup_.add(cherryD_));displayManager_.getText("txtMultBonus").setText("x"+state_.totMult),TweenMax.to(txt_,.3,{alpha:1,y:txt_.y-20,onComplete:fade_,onCompleteParams:[txt_]}),TweenMax.to(txt_.scale,.7,{x:1.5,y:1.5,onComplete:destroy_,onCompleteParams:[txt_]}),void 0!=dashes_[paths_[path][pos]]&&(dashes_[paths_[path][pos]].visible=!1)}else dashes_[paths_[path][pos]].visible=!1;if(pos<paths_[path].length){if(pos>=0){var txt;1==prizes_[pos]?(soundManager_.playSound("x1"),txt=new Phaser.BitmapText(game,265+position_[paths_[path][pos]].x*w_,155+position_[paths_[path][pos]].y*h_,"multiBmpFont","",35,"center"),txt.anchor.set(.5,.5),txt.alpha=0,txt.scale.x=.2,txt.scale.y=.2,state_.totMult+=Number(prizes_[pos]),txt.win=prizes_[pos],txt.setText("x"+prizes_[pos])):prizes_[pos]>1?(soundManager_.playSound("x1"),prizes_[pos]<20?soundManager_.playSound("x5"):soundManager_.playSound("xBig"),txt=new Phaser.BitmapText(game,265+position_[paths_[path][pos]].x*w_,155+position_[paths_[path][pos]].y*h_,"multiBmpFont","",45,"center"),txt.anchor.set(.5,.5),txt.alpha=0,txt.scale.x=.2,txt.scale.y=.2,txt.tint="0xFF2200",state_.totMult+=Number(prizes_[pos]),txt.win=prizes_[pos],txt.setText("x"+txt.win)):(soundManager_.playSound("x1"),txt=new Phaser.Sprite(game_,265+position_[paths_[path][pos]].x*w_,155+position_[paths_[path][pos]].y*h_,"cherryExplode"),txt.anchor.set(.5,.5),txt.scale.x=1,txt.scale.y=1,txt.alpha=0,txt.animations.add("anim"),txt.win=0),bonusGroup_.add(txt)}cherryA_.animations.play("anim",20,!0,!1,null,null),scaleManager_(rotation_[path][pos],cherryA_),TweenMax.to(cherryA_,interval,{x:265+position_[paths_[path][pos]].x*w_,y:152+position_[paths_[path][pos]].y*h_,onComplete:move_,onCompleteParams:[txt]}),pos++}else soundManager_.playSound("end"),cherryA_.animations.stop(),cherryD_=new Phaser.Sprite(game_,cherryA_.x,cherryA_.y,"cherryWin"),cherryD_.anchor.set(.5,.5),cherryD_.scale.x=cherryA_.scale.x,cherryD_.scale.y=cherryA_.scale.y,cherryD_.angle=cherryA_.angle,cherryD_.animations.add("anim"),cherryD_.animations.play("anim",24,!1,!1,clearBonus_,null),cherryA_.visible=!1,bonusGroup_.add(cherryD_)}function scaleManager_(position,obj){0==position?(obj.scale.x=1,obj.scale.y=1,obj.angle=0):1==position?(obj.scale.x=1,obj.scale.y=1,obj.angle=90):2==position?(obj.scale.x=-1,obj.scale.y=1,obj.angle=0):3==position?(obj.scale.x=-1,obj.scale.y=1,obj.angle=270):4==position&&(obj.scale.x=-1,obj.scale.y=1,obj.angle=90)}function goBackToAnim_(txt){cherryA_.visible=!0,move_(txt)}function endExplosion_(){cherryA_.animations.stop(),cherryA_.visible=!1,cherryD_.visible=!0,cherryD_.animations.play("anim",24,!1,!1,null,null),setTimeout(gameOver_,1e3)}function gameOver_(){go=new Phaser.Sprite(game_,640,360,"gameOver"),go.anchor.set(.5,.5),bonusGroup_.add(go),go.visible=!0,setTimeout(gameOverFade_,2e3)}function gameOverFade_(){TweenMax.to(go,1.5,{alpha:0,y:go.y-20}),clearBonus_()}function fade_(t){TweenMax.to(t,1.5,{alpha:0,y:t.y-20})}function destroy_(t){t.visible=!1,bonusGroup_.remove(t),t=null}function colorPath_(path){clearTimeout(ilights);for(var a in ilights1)clearTimeout(ilights1[a]);for(var a in specialS_)specialS_[a].animations.stop(),specialS_[a].animations.frame=0;colorSeq_(path,pathCol[path])}function colorSeq_(i,col){ilights1=[],ilights2=[];for(var a in paths_[i])void 0!=dashes_[paths_[i][a]]&&ilights1.push(setTimeout(changeColor,0,dashes_[paths_[i][a]],col));for(var a in paths_[i])ilights2.push(setTimeout(changeColor,250,dashes_[paths_[i][a]],16776960));ilights=setTimeout(colorPath_,500,i)}function changeColor(obj,col){0==obj.special?obj.tint=col:obj.animations.play("anim",24,!1,!1,null,null)}function clearBonus_(chest){bonusManager_.closeBonus(bonusName_,state_),soundManager_.playSound("winPanel"),soundManager_.mixBgSound("bgSlot",1e3,1e3);for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[]}function hideBonus_(){bonusGroup_.visible=!1,null!=displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!0),null!=textTw_&&textTw_.kill(),textTw_=null,resetBonus_(),1==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("freeRounds"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut});for(var a in obj_)obj_[a].destroy()}var lastChestTout_,bonusGroup_,game_=gameRef,gameClass_=gameClass,bonusManager_=parent,config_=config,buttons=[],chestAnim=[],bonusName_=name,music_="",chestSounds_=[],emitter_=[],picks_=[],obj_=[],specialS_=[],x="x",textTw_=null;rotation_=[[3,3,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,3,3,2,2,2,3],[1,1,0,0,0,0,0,0,1,1,2,2,2,1,1,0,1,1,2,2,2,2,1,1,0,0,0,1,1,2,2,2,3],[1,1,1,1,2,2,2,2,2,2,4,4,2,2,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,1],[1,1,1,1,0,0,0,0,0,0,4,4,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3],[1,1,1,1,0,0,0,1,1,2,2,2,2,2,2,4,4,2,2,2,3,3,3,3,3,3,0,0,0,1,1,0,0,0,1]];var path,cherryA_,cherryD_,go,position_=[{index:0,x:90,y:1e3},{index:1,x:9,y:1,position:[1,1,1,1,1]},{index:2,x:1,y:2,position:[x,x,x,2]},{index:3,x:2,y:2,position:[x,x,x,2]},{index:4,x:3,y:2,position:[2,x,x,0]},{index:5,x:4,y:2,position:[2,x,x]},{index:6,x:5,y:2,position:[2,x,x]},{index:7,x:6,y:2,position:[2,x,x]},{index:8,x:7,y:2,position:[2,x,x]},{index:9,x:8,y:2,position:[2,x,x]},{index:10,x:9,y:2,position:[1,1,1,1,1]},{index:11,x:10,y:2,position:[0,0,0]},{index:12,x:11,y:2,position:[2,0,0]},{index:13,x:12,y:2,position:[2,0,0]},{index:14,x:13,y:2,position:[2,0,0]},{index:15,x:14,y:2,position:[2,0,0]},{index:16,x:15,y:2,position:[2,0,4]},{index:17,x:16,y:2,position:[x,x,0]},{index:18,x:17,y:2,position:[x,x,0]},{index:19,x:1,y:3,position:[x,x,x,3]},{index:20,x:3,y:3,position:[3,x,x,4]},{index:21,x:9,y:3,position:[3,x,1,1,1]},{index:22,x:15,y:3,position:[3,1,4]},{index:23,x:17,y:3,position:[x,x,1]},{index:24,x:1,y:4,position:[x,x,x,3]},{index:25,x:3,y:4,position:[3,2,x,0,2]},{index:26,x:4,y:4,position:[3,2,x,0,2]},{index:27,x:5,y:4,position:[0,2,x,0,2]},{index:28,x:6,y:4,position:[0,4,x,0,4]},{index:29,x:7,y:4,position:[0,x,x,0]},{index:30,x:8,y:4,position:[0,x,x,0]},{index:31,x:9,y:4,position:[0,1,1,1,1]},{index:32,x:10,y:4,position:[0,0,0,x,0]},{index:33,x:11,y:4,position:[0,0,0,x,0]},{index:34,x:12,y:4,position:[0,2,0,x,0]},{index:35,x:13,y:4,position:[0,2,0]},{index:36,x:14,y:4,position:[0,2,0]},{index:37,x:15,y:4,position:[0,1,0]},{index:38,x:17,y:4,position:[x,x,1]},{index:39,x:1,y:5,position:[x,x,x,3]},{index:40,x:3,y:5,position:[x,3,x,x,3]},{index:41,x:6,y:5,position:[0,4,1,x,4]},{index:42,x:12,y:5,position:[x,3,3,x,1]},{index:43,x:15,y:5,position:[1,x,x]},{index:44,x:17,y:5,position:[x,x,1]},{index:45,x:1,y:6,position:[x,x,x,3]},{index:46,x:3,y:6,position:[x,3,x,x,3]},{index:47,x:5,y:6,position:[x,x,x]},{index:48,x:6,y:6,position:[x,2,x,x,2]},{index:49,x:7,y:6,position:[x,2,x,x,2]},{index:50,x:8,y:6,position:[x,2,x,x,2]},{index:51,x:9,y:6,position:[x,2,x,x,2]},{index:52,x:10,y:6,position:[x,2,x,x,2]},{index:53,x:11,y:6,position:[x,2,x,x,2]},{index:54,x:12,y:6,position:[x,3,3,x,1]},{index:55,x:13,y:6,position:[x,0,0]},{index:56,x:15,y:6,position:[1,x,x]},{index:57,x:17,y:6,position:[x,x,1]},{index:58,x:1,y:7,position:[x,x,x,3]},{index:59,x:3,y:7,position:[x,3,x,x,3]},{index:60,x:5,y:7,position:[x,x,x]},{index:61,x:13,y:7,position:[x,1,1]},{index:62,x:15,y:7,position:[1,x,x]},{index:63,x:17,y:7,position:[x,x,1]},{index:64,x:1,y:8,position:[x,x,x,3]},{index:65,x:3,y:8,position:[x,3,x,x,3]},{index:66,x:5,y:8,position:[x,x,x]},{index:67,x:6,y:8,position:[x,x,x]},{index:68,x:7,y:8,position:[x,x,x]},{index:69,x:8,y:8,position:[x,x,x]},{index:70,x:9,y:8,position:[x,2,2]},{index:71,x:10,y:8,position:[x,2,2]},{index:72,x:11,y:8,position:[x,2,2]},{index:73,x:12,y:8,position:[x,2,2]},{index:74,x:13,y:8,position:[x,2,1]},{index:75,x:15,y:8,position:[1,x,x]},{index:76,x:17,y:8,position:[x,x,1]},{index:77,x:1,y:9,position:[x,x,x,3]},{index:78,x:3,y:9,position:[x,3,x,x,3]},{index:79,x:9,y:9,position:[x,2,3]},{index:80,x:15,y:9,position:[1,3,x]},{index:81,x:17,y:9,position:[x,x,1]},{index:82,x:1,y:10,position:[x,x,x,3]},{index:83,x:3,y:10,position:[x,3,x,x,3]},{index:84,x:4,y:10,position:[x,0,x,x,0]},{index:85,x:5,y:10,position:[x,0,x,x,0]},{index:86,x:6,y:10,position:[x,0,x,x,0]},{index:87,x:7,y:10,position:[x,x,x]},{index:88,x:8,y:10,position:[x,x,x]},{index:89,x:9,y:10,position:[x,2,3]},{index:90,x:10,y:10,position:[x,0,0]},{index:91,x:11,y:10,position:[x,0,0]},{index:92,x:12,y:10,position:[2,0,0]},{index:93,x:13,y:10,position:[2,x,x]},{index:94,x:14,y:10,position:[2,x,x]},{index:95,x:15,y:10,position:[1,x,x]},{index:96,x:17,y:10,position:[x,x,1]},{index:97,x:1,y:11,position:[x,x,x,3]},{index:98,x:6,y:11,position:[x,1,x,x,1]},{index:99,x:12,y:11,position:[3,1,1]},{index:100,x:17,y:11,position:[x,x,1]},{index:101,x:1,y:12,position:[x,x,x,3]},{index:102,x:2,y:12,position:[x,x,x,0]},{index:103,x:3,y:12,position:[x,x,x,0]},{index:104,x:4,y:12,position:[x,x,x,0]},{index:105,x:5,y:12,position:[x,x,x,0]},{index:106,x:6,y:12,position:[x,1,x,0,1]},{index:107,x:7,y:12,position:[x,0,x,0,0]},{index:108,x:8,y:12,position:[x,0,x,0,0]},{index:109,x:9,y:12,position:[2,2,x,0,0]},{index:110,x:10,y:12,position:[2,2,2]},{index:111,x:11,y:12,position:[2,2,2]},{index:112,x:12,y:12,position:[3,1,2]},{index:113,x:13,y:12,position:[x,x,2]},{index:114,x:14,y:12,position:[x,x,2]},{index:115,x:15,y:12,position:[x,x,2]},{index:116,x:16,y:12,position:[x,x,2]},{index:117,x:17,y:12,position:[x,x,1]},{index:118,x:9,y:13,position:[3,3,3,1,1]}],w_=41.5,h_=30,paths_=[],prizes_=[],dashes_=[],pathCol=[13320948,13320948,13320948,13320948,13320948],xPositions_=[440,540,640,740,840],pos=0,interval=.35,ilights=0,ilights1=[],ilights2=[],b=[],over_=!0,state_={canPick:!1,close:!1,collect:!1,"double":!1,baseMult:0,totMult:0,totWinCash:0,totWin:0,baseMult:0,stake:0},me={initBonus:initBonus_,hideBonus:hideBonus_,parse:parse_,getState:function(){return state_}};return initClass_(),me}function ChestBonus(gameRef,gameClass,config,parent,name){function initClass_(){for(var a in config_.buttons)buttons[a]=new Button(game_,gameClass_,bonusName_,config_.buttons[a],chestClick_,null,null,(!1)),chestAnim[a]=config_.buttons[a].anim;music_=config_.configuration.bgMusic,lastChestTout_=config_.configuration.tOutLastChest,chestSounds_=config_.configuration.chestSounds}function initBonus_(resume){if(null!=music_&&""!=music_&&soundManager_.mixBgSound(music_,1e3,1e3),resume);else for(var a in config_.buttons)buttons[a].enable();for(var a in displayManager.groups.chestBonus.emitters){
var anim=epsy_.loadSystem(displayManager.groups.chestBonus.emitters[a][0],500,500);displayManager.groups.chestBonus.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function chestClick_(btn){var chest=btn._key;null!=chestSounds_[chest]&&""!=chestSounds_[chest]&&soundManager_.playSound(chestSounds_[chest]),buttons["chest"+chest].getButton().visible=!1,chestAnim["chest"+chest]=new Phaser.Sprite(game_,config_.buttons["chest"+chest].x,config_.buttons["chest"+chest].y,config_.buttons["chest"+chest].anim+Util.getRandomInt(1,3)),displayManager_.getGroup(bonusName_).add(chestAnim["chest"+chest]),chestAnim["chest"+chest].anchor.x=.5,chestAnim["chest"+chest].anchor.y=.5,chestAnim["chest"+chest].animations.add("anim"),chestAnim["chest"+chest].animations.play("anim",10,!1,!1,finishChest_,chest)}function clearBonus_(chest){null!=music_&&""!=music_&&soundManager_.mixBgSound("bgSlot",1e3,1e3),displayManager_.getText("txtChest"+chest).setText(""),chestAnim["chest"+chest].visible=!1,chestAnim["chest"+chest].destroy();for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[]}function finishChest_(chest){displayManager_.getText("txtChest"+chest).setText("x"+bonusManager_.getMultiplier()),setTimeout(bonusManager_.closeBonus,lastChestTout_,bonusName_),setTimeout(clearBonus_,lastChestTout_,chest)}var lastChestTout_,game_=gameRef,gameClass_=gameClass,bonusManager_=parent,config_=config,buttons=[],chestAnim=[],bonusName_=name,triggerIcon_=9,minNumTriggerIcon_=4,music_="",chestSounds_=[],emitter_=[],me={initBonus:initBonus_,getTriggerIcon:function(){return null!=triggerIcon_?triggerIcon_:999},getMinNumTriggerIcon:function(){return minNumTriggerIcon_}};return initClass_(),me}function GambleBonus(gameRef,gameClass){function initClass_(){}var me={};return initClass_(),me}function JusticeBonus(gameRef,gameClass,config,parent,name){function initClass_(){bonusGroup_=displayManager_.getGroup(bonusName_),bonusButtonsOnOff(!1),bonusGroup_.removeAll(!0)}function startAnimations_(init){framework.updateSmallMessageText(Translate["do"]("Good luck"));var bonusGroup=displayManager_.getGroup("JusticeBonus");bonusButtonsOnOff(!1),bonusGroup.y=0-gameHeight,bonusGroup.visible=!0,BonusScreen=Math.ceil(3*Math.random());var bonBG=game_.add.sprite(0,0,"bonusBG"+BonusScreen);bonusGroup.addChild(bonBG);var enSpr=[];bonusSelectHeros=[],bonusSelectEnemy=[];for(var i=0;i<enemyTeam[0].length;i++){var enemyM=game_.add.sprite(enemyPos[BonusScreen-1][i][0],enemyPos[BonusScreen-1][i][1],enemyTeam[BonusScreen-1][i]),anim=enemyM.animations.add("loop");enemyM.soundStr=enemyTeam[BonusScreen-1][i],"drone"!==enemyM.soundStr&&(anim.onStart.add(playBonusSound,this),anim.onLoop.add(playBonusSound,this)),enemyM.animations.play("loop",30,!0);var randFr=Math.round(29*Math.random());enemyM.animations.currentAnim.setFrame(randFr),bonusGroup.addChild(enemyM),enSpr.push(enemyM),bonusSelectEnemy.push(enemyM)}var bonMsk=game_.add.sprite(0,0,"bonusMask"+BonusScreen);bonusGroup.addChild(bonMsk),1===BonusScreen?(bonusGroup.addChild(enSpr[0]),bonusGroup.addChild(enSpr[1]),bonusGroup.addChild(enSpr[2])):2===BonusScreen?(bonusGroup.addChild(enSpr[1]),enSpr[2].scale.x=-.8,enSpr[2].scale.y=.8,enSpr[3].scale.x=enSpr[3].scale.y=.8,bonusGroup.addChild(enSpr[2])):(bonusGroup.addChild(enSpr[0]),bonusGroup.addChild(enSpr[1]),bonusGroup.addChild(enSpr[2]),enSpr[3].scale.x=enSpr[3].scale.y=.6);for(var i=0;i<teamMembers.length;i++){var teamM=game_.add.sprite(bonusTeamX[i],700,bonusTeam[i]+"Loop");teamM.anchor.y=1,teamArr.push(teamM);var anim=teamM.animations.add("loop");teamM.animations.play("loop",30,!0);var randFr=Math.round(20*Math.random());teamM.animations.currentAnim.setFrame(randFr),bonusGroup.addChild(teamM);var invisButton=game_.add.button(bonusTeamX[i],700,bonusTeam[i]+"Loop",bonusChoice,this);invisButton.anchor.y=1,invisButton.alpha=0,invisButton.heroNum=i,invisButton.linkedHero=teamM,bonusGroup.addChild(invisButton),bonusSelectHeros.push(invisButton)}TweenMax.to(bonusGroup,.6,{y:0,onComplete:doBonusText})}function initBonus_(resume){var botBar=displayManager_.getGroup("buttonFg");botBar.alpha=0,resumeBonus=resume,bonusGroup_.visible=!1,numClicked=0,currHero=-1,totWin=0,picks_=[],obj_=[],state_.close=!1,state_.collect=!1,state_["double"]=!1,null!=music_&&""!=music_&&soundManager_.mixBgSound(music_,1e3,1e3),buttonManager_.applyHide(),soundManager_.playSound("bonus"),soundManager_.mixBgSound("bgDashBonus",1e3,1e3),null!=introBonusGroup_?(showIntro_(resumeFlag),setTimeout(enableBonus_,0==resumeFlag?2500:0)):enableBonus_()}function enableBonus_(){bonusGroup_.alpha=0,bonusGroup_.visible=!0,TweenMax.to(bonusGroup_,.5,{alpha:1,onComplete:startBonus_})}function startBonus_(){setTimeout(startAnimations_,200)}function showIntro_(resume){resume||soundManager_.playSound("intro"+bonusName_)}function doClick_(){if(0!=state_.canPick&&null==picks_[this.id]){state_.canPick=!1;var click=returnClickableEnemy();enCLick=click,bonusManager_.sendRequest(click)}}function returnClickableEnemy(){var click=0,nums=[1,2,3,4];nums.sort(function(){return.5-Math.random()});for(var i=0;i<nums.length&&(click=nums[i],bonusSelectEnemy[click-1].active);i++);return click}function parse_(json){getValues_(json.bonus),bonJson=json.bonus,null!=json.bonus.totalMult&&(state_.preTotWin=state_.totMult,state_.totMult=json.bonus.totalMult),null!=json.bonus.totalWin&&(state_.totWinCash=Number(json.bonus.totalWin)/100,state_.totWin=state_.totWinCash/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),null!=json.baseMult&&(state_.baseMult=json.baseMult),null!=json.stake&&(state_.stake=Number(json.stake)/100),json.bonus.state.indexOf("collect")>=0&&(state_.collect=!0),json.bonus.state.indexOf("double")>=0&&(state_.double_=!0),0==state_.canPick&&(state_.close=!0),resumeFlag||openPick_(json.bonus.pick,!1)}function getValues_(json){for(var a in json.picks)picks_[json.picks[a].id]=json.picks[a].value>0?json.picks[a].value:"END"}function openPick_(a,resume){if(resumeFlag){var randHero=bonusSelectHeros[Math.floor(Math.random()*bonusSelectHeros.length)];bonusChoice(randHero)}else onLoadShoot()}function clearBonus_(chest){bonusManager_.closeBonus(bonusName_,state_),soundManager_.playSound("winPanel"),soundManager_.mixBgSound("bgSlot",1e3,1e3),displayManager_.getGroup("buttonFg").alpha=0}function hideBonus_(){bonusGroup_.visible=!1,1==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("freeRounds"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut})}function styleText(txtOb){var grd=txtOb.context.createLinearGradient(0,0,0,txtOb.height);grd.addColorStop(0,"#fff998"),grd.addColorStop(1,"#f7b80f"),txtOb.fill=grd,txtOb.stroke="#000000",txtOb.strokeThickness=4}function showTotWin(amm){var winsGroup=displayManager_.getGroup("specialWins");totWinText&&(winsGroup.remove(totWinText),winsGroup.remove(totWinTitle)),totWin+=amm,"en"==gameParams.lang?totWinText=new Phaser.BitmapText(game_,gameWidth/2,100,"bmpFont","X"+totWin,85,"center"):(totWinText=new Phaser.Text(game_,gameWidth/2,100,"X"+totWin,{font:"60px FuturaPT-Heavy",fill:"white",align:"center"}),styleText(totWinText)),totWinText.anchor.setTo(.5,.5),totWinText.scale.setTo(.3,.3),totWinText.alpha=0;var del=1.5;TweenMax.to(totWinText,.35,{alpha:1,delay:del,ease:Power2.easeOut}),TweenMax.to(totWinText.scale,.35,{x:1,y:1,delay:1,ease:Power2.easeOut}),winsGroup.add(totWinText),"en"==gameParams.lang?totWinTitle=new Phaser.BitmapText(game_,gameWidth/2-50,50,"bmpFont",Translate["do"]("bonusEnd"),40,"center"):(totWinTitle=new Phaser.Text(game_,gameWidth/2-50,50,Translate["do"]("bonusEnd"),{font:"40px FuturaPT-Heavy",fill:"white",align:"center"}),styleText(totWinTitle)),totWinTitle.anchor.setTo(.5,.5),totWinTitle.alpha=0,winsGroup.add(totWinTitle),TweenMax.to(totWinTitle,.35,{alpha:1,x:gameWidth/2,delay:del,ease:Power2.easeOut})}function doBonusText(){var winsGroup=displayManager_.getGroup("specialWins"),bonusTime=(displayManager_.getGroup("JusticeBonus"),new TimelineMax({paused:!1,onComplete:bonusSetUpComplete})),bg=drawBG(.6);winsGroup.add(bg),bonusTime.add(new TweenMax(bg.scale,.5,{y:1,ease:Power2.easeOut}),0);var txt;"en"==gameParams.lang?txt=new Phaser.BitmapText(game_,gameWidth/2,gameHeight/2-50,"bmpFont",Translate["do"]("bonusEmemies"),120,"center"):"de"==gameParams.lang?(txt=new Phaser.Text(game_,gameWidth/2,gameHeight/2-50,Translate["do"]("bonusEmemies"),{font:"75px FuturaPT-Heavy",fill:"white",align:"center"}),styleText(txt)):(txt=new Phaser.Text(game_,gameWidth/2,gameHeight/2-50,Translate["do"]("bonusEmemies"),{font:"100px FuturaPT-Heavy",fill:"white",align:"center"}),styleText(txt)),txt.anchor.setTo(.5,.5),txt.scale.setTo(.3,.3),txt.alpha=0,winsGroup.add(txt),bonusTime.add(new TweenMax(txt.scale,.3,{y:1,x:1,ease:Power2.easeOut}),.5),bonusTime.add(new TweenMax(txt,.3,{alpha:1,ease:Power2.easeOut}),.5),bonusTime.add(new TweenMax(txt,.3,{alpha:0,onComplete:removeSprite,onCompleteParams:[txt]}),4),bonusTime.add(new TweenMax(bg.scale,.5,{y:0,ease:Power2.easeOut,onComplete:removeSprite,onCompleteParams:[bg]}),4)}function bonusSetUpComplete(){if(resumeBonus.picks){if(resumeBonus.picks.length>0){resumeFlag=!0,getValues_(resumeBonus);for(var a in picks_)openPick_(a,!0);state_.totMult=resumeBonus.totalMult;var ob={x:1};TweenMax.to(ob,2,{x:2,onComplete:bonusButtonsOnOff,onCompleteParams:[!0]})}}else displayManager_.getText("txtMultBonus").setText("");resumeFlag&&(state_.preTotWin=state_.totMult-resumeBonus.picks[resumeBonus.picks.length-1]),resumeFlag=!1,bonusButtonsOnOff(!0)}function playBonusSound(snd){soundManager_.playSound(snd.soundStr)}function bonusButtonsOnOff(onOff){state_.canPick=onOff}function bonusChoice(hero){if(state_.canPick||!state_.canPick&&resumeFlag){currHero=hero;var teamaAtt=game_.add.sprite(bonusTeamAttX[currHero.heroNum][0],bonusTeamAttX[currHero.heroNum][1],bonusTeam[currHero.heroNum]+"Attack");teamaAtt.anchor.y=1,teamaAtt.heroNum=currHero.heroNum,teamaAtt.linkedHero=currHero.linkedHero;var bonusGroup=displayManager_.getGroup("JusticeBonus"),anim=teamaAtt.animations.add("loop");anim.onComplete.add(bonusAnimAttackReset,this),teamaAtt.animations.play("loop",30,!1),currHero.linkedHero.visible=!1,bonusGroup.addChild(teamaAtt),soundManager_.playSound(String("bonusHero"+(currHero.heroNum+1))),soundManager_.playSound("bonusHit"),resumeFlag?onLoadShoot():doClick_()}}function onLoadShoot(){for(var randEnemy,teamaAtt=game_.add.sprite(bonusTeamAttX[currHero.heroNum][0],bonusTeamAttX[currHero.heroNum][1],bonusTeam[currHero.heroNum]+"Attack"),i=0;i<1;i++)randEnemy=resumeFlag?resumeBonus.picks[numClicked].id-1:enCLick-1,bonusSelectEnemy[randEnemy].active?i--:bonusSelectEnemy[randEnemy].active=!0;bonusShootAnim(randEnemy,teamaAtt);var cWin;cWin=resumeFlag?resumeBonus.picks[numClicked].value:bonJson.value,numClicked++,bonusCoinWinAnim(cWin,enemyPos[BonusScreen-1][randEnemy][0],enemyPos[BonusScreen-1][randEnemy][1])}function bonusShootAnim(enemy,teamaAtt){var bonusGroup=(bonusSelectEnemy[enemy],displayManager_.getGroup("JusticeBonus")),explo=game_.add.sprite(explodePos[BonusScreen-1][enemy][0],explodePos[BonusScreen-1][enemy][1],"expode");if(bonusGroup.addChild(explo),2===BonusScreen){for(var i=0;i<teamArr.length;i++)moveToTop(teamArr[i],bonusGroup);moveToTop(teamaAtt,bonusGroup)}explo.animations.add("bang");explo.animations.play("bang",30,!1),TweenMax.to(bonusSelectEnemy[enemy],.25,{alpha:0,delay:1,onComplete:removeSprite,onCompleteParams:[bonusSelectEnemy[enemy]]}),bonusCheckComplete()}function bonusCheckComplete(){for(var isComplete=!0,i=0;i<bonusSelectEnemy.length;i++)if(!bonusSelectEnemy[i].active){isComplete=!1;break}if(isComplete){bonusButtonsOnOff(!1);var ob={x:0};TweenMax.to(ob,3,{x:1,onComplete:doBonusEnd})}else{var ob={x:1};TweenMax.to(ob,2,{x:2,onComplete:bonusButtonsOnOff,onCompleteParams:[!0]})}}function bonusAnimAttackReset(hero){hero.linkedHero.visible=!0,hero.visible=!1,removeSprite(hero)}function bonusCoinWinAnim(coinWin,x,y){x+=100,y+=75;var cWin=new Phaser.BitmapText(game_,x,y,"bmpFont","X"+coinWin,75,"center");cWin.anchor.setTo(.5,.5),cWin.scale.setTo(.3,.3),cWin.alpha=0;var cWinTime=new TimelineMax({paused:!1}),bonusGroup=displayManager_.getGroup("JusticeBonus");cWinTime.add(new TweenMax(cWin.scale,.3,{y:1,x:1,ease:Power2.easeOut,onstart:moveToTop,onStartParams:[cWin,bonusGroup],onComplete:moveToTop,onCompleteParams:[cWin,bonusGroup]}),.5),cWinTime.add(new TweenMax(cWin,1,{alpha:1,y:y-100,ease:Power2.easeOut}),.8),cWinTime.add(new TweenMax(cWin,2,{alpha:0,y:y-250,onComplete:removeSprite,onCompleteParams:[cWin]}),1.8),showTotWin(coinWin)}function doBonusEnd(){bonusButtonsOnOff(!1),game_.canvas.style.cursor="default",afterBonus()}function afterBonus(){var winsGroup=displayManager_.getGroup("specialWins");totWinText&&(winsGroup.remove(totWinText),winsGroup.remove(totWinTitle)),clearBonus_();var bonusGroup=displayManager_.getGroup("JusticeBonus");TweenMax.to(bonusGroup,.3,{y:gameHeight+gameHeight,ease:Power2.easeOut,onComplete:emptyBonus})}function emptyBonus(){var bonusGroup=displayManager_.getGroup("JusticeBonus");bonusGroup.removeAll(!0)}function drawBG(alpha){var bg=game_.add.graphics(0,0);return bg.lineStyle(0),bg.beginFill(0,alpha),bg.drawRect(0,0,gameWidth,gameHeight),bg.endFill(),bg.scale.y=0,bg}function removeSprite(spr){spr.destroy()}function moveToTop(item,parent){parent&&null!=parent.addChild&&parent.addChild(item)}var bonusGroup_,introBonusGroup_,BonusScreen,resumeBonus,bonJson,currHero,totWinText,totWinTitle,game_=gameRef,bonusManager_=parent,bonusName_=name,music_="",picks_=[],obj_=[],state_={canPick:!1,close:!1,collect:!1,"double":!1,baseMult:0,totMult:0,totWinCash:0,totWin:0,preTotWin:0,baseMult:0,stake:0},gameWidth=1920,gameHeight=1080,teamMembers=["blazer","chain","challange","demon","diviner","talisman","titan"],teamArr=[],bonusTeam=["chain","challange","blazer","demon","titan","diviner","talisman"],bonusTeamX=[133,250,400,500,620,798,937],bonusTeamAttX=[[130,712],[204,701],[356,703],[510,700],[623,697],[755,700],[872,698]],enemyTeam=[["megabot1","drone","demonWarr","soldier"],["megabot3","drone","demonWarr","soldier"],["megabot2","drone","demonWarr","soldier"]],enemyPos=[[[472,230],[650,200],[721,225],[340,250]],[[60,260],[890,300],[540,290],[555,330]],[[1e3,300],[450,250],[31,300],[320,160]]],explodePos=[[[400,150],[540,100],[645,175],[210,195]],[[60,260],[750,200],[275,220],[425,225]],[[900,250],[320,180],[-40,260],[175,70]]],numClicked=0,enCLick=-1,bonusSelectHeros=[],bonusSelectEnemy=[],resumeFlag=!1,totWin=0,me={initBonus:initBonus_,hideBonus:hideBonus_,parse:parse_,getState:function(){return state_}};return initClass_(),me}function KenoBonus(gameRef,gameClass,config,parent,name){function initClass_(){var txt,index=0;music_=config_.configuration.bgMusic,lastChestTout_=config_.configuration.tOutLastChest,balls_=[],bonusGroup_=displayManager_.getGroup(bonusName_),ballGroup_=game_.add.group(),resGroup_=game_.add.group(),txtGroup_=game_.add.group(),extrGroup_=game_.add.group(),bingoGroup_=game_.add.group(),bonusGroup_.add(resGroup_),bonusGroup_.add(ballGroup_),bonusGroup_.add(txtGroup_),bonusGroup_.add(extrGroup_);for(var c=0;c<ballsNumber_/7;c++)for(var r=0;r<7;r++){index++;var b=game_.add.button(deltaX_0+r*deltaX,c*deltaY+deltaY_0,"unS_"+Util.formatTwoDigit(index),click_);b.anchor.set(.5,.5),b.scale.x=1,b.scale.y=1,b.visible=!0,ballGroup_.add(b);var s=game_.add.button(deltaX_0+r*deltaX,c*deltaY+deltaY_0,"sel_"+Util.formatTwoDigit(index),click_);s.anchor.set(.5,.5),s.scale.x=1,s.scale.y=1,s.visible=!1,ballGroup_.add(s);var sb=game_.add.sprite(deltaX_0+r*deltaX,c*deltaY+deltaY_0,"select_bubble");sb.scale.x=1,sb.scale.y=1,sb.anchor.set(.5,.5),sb.visible=!1,ballGroup_.add(sb);var obj={};obj.ballS=s,obj.ballSb=sb,obj.ballU=b,obj.selected=!1,obj.number=index,balls_[index]=obj,b.param=obj,s.param=obj}for(var a=0;a<=pickTotNum_;a++)txt=new Phaser.Text(game_,80,110+23.2*a,a,{font:"15px Arial",fill:"#afff99",align:"right"}),txt.anchor.set(1,0),txtGroup_.add(txt),txtPrizeListA_[a]=txt,txt=new Phaser.Text(game_,80,110+23.2*a,a+" - ",{font:"15px Arial",fill:"#afff99"}),txtPrizeList_[a]=txt,txtGroup_.add(txt);txtWin_=new Phaser.Text(game,100,110+23.7*a,"",{font:"22px Arial",fill:"#ff6cd0",align:"center"}),txtWin_.anchor.set(.5,0),txtGroup_.add(txtWin_);var btnG=game_.add.group(),btn=game_.add.button(100,450,"btnRandom",btnRandomize_,null,2,1,0);btn.anchor.set(.5,.5),btnG.add(btn),btn=game_.add.button(100,520,"btnStart",btnStart_,null,2,1,0),btn.anchor.set(.5,.5),btnG.add(btn),btn=game_.add.button(100,590,"btnClear",btnClear_,null,2,1,0),btn.anchor.set(.5,.5),btnG.add(btn),bonusGroup_.add(btnG)}function btnStart_(){0!=state_.canPick&&1!=picking_&&(soundManager_.playSound("startClick"),pickCount_==pickTotNum_?(state_.canPick=!1,framework.updateSmallMessageText(Translate["do"]("Good luck")),match_=0,extraction_=0,bonusManager_.sendRequest(selected_)):framework.updateSmallMessageText(Translate["do"]("Please select")+" "+pickTotNum_+" "+Translate["do"]("numbers first, or hit Random button")))}function btnClear_(){if(0!=state_.canPick&&1!=picking_){soundManager_.playSound("clearClick"),selected_=[];for(var a in balls_)balls_[a].ballU.tint="0xFFFFFF",balls_[a].ballU.alpha=1,selectBall_(balls_[a],!0)}}function btnRandomize_(){if(0!=state_.canPick&&1!=picking_){picking_=!0,soundManager_.playSound("randomClick");for(var a in balls_)selectBall_(balls_[a],!0);for(var numbers=[],i=1;i<=ballsNumber_;i++){var obj={};obj.index=i,obj.sort=getRandom(1,1e5),numbers[i]=obj}numbers.sort(function(a,b){return a.sort-b.sort});for(var i=0;i<pickTotNum_;i++)extracted_[i]=numbers[i].index;for(var i=0;i<pickTotNum_;i++)selectBall_(balls_[extracted_[i]],!1);evalSelected_(),canStart_()}}function canStart_(){picking_=!1}function changeStatus_(obj){obj.selected?(obj.ballS.visible=!0,obj.ballSb.visible=!0,obj.ballU.visible=!1):(obj.ballS.visible=!1,obj.ballSb.visible=!1,obj.ballU.visible=!0)}function click_(){soundManager_.playSound("selection"),selectBall_(this.param,this.param.selected),evalSelected_()}function selectBall_(ball,flag){if(0==flag){if(!(pickCount_<pickTotNum_))return void framework.updateSmallMessageText(Translate["do"]("You can't select more than")+" "+pickTotNum_+", "+Translate["do"]("Unselect some numbers first"));pickCount_++,ball.selected=!0,TweenMax.to(ball.ballU.scale,.2,{x:1.1,y:1.1,ease:Elastic.easeOut,onComplete:changeStatus_,onCompleteParams:[ball]})}else 1==ball.selected&&(pickCount_-=1,ball.selected=!1,TweenMax.to(ball.ballS.scale,.2,{x:1,y:1,ease:Elastic.easeIn,onComplete:changeStatus_,onCompleteParams:[ball]}));pickCount_<pickTotNum_?framework.updateSmallMessageText(Translate["do"]("Still")+" "+(pickTotNum_-pickCount_)+"  "+Translate["do"]("to pick or Hit Random button to automatically chose for You.")):framework.updateSmallMessageText(Translate["do"]("Choice complete, you can now hit Start button."))}function evalSelected_(){selected_=[];for(var a in balls_)balls_[a].selected&&selected_.push(balls_[a].number)}function initBonus_(resume){picks_=[],obj_=[],state_.close=!1,state_.collect=!1,state_["double"]=!1,displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!1),resume.prizes&&(prize_=resume.prizes);for(var a=0;a<=pickTotNum_;a++)txtPrizeList_[a].setText(" - "+prize_[a]);state_.canPick=!0,buildBonusLayout_(resume),null!=music_&&""!=music_&&soundManager_.mixBgSound(music_,1e3,1e3),displayManager_.getText("txtMultBonus").setText(""),enableBonus_(),1==freeRoundsManager_.getIsInFr()&&TweenMax.to(displayManager_.getGroup("freeRounds"),.3,{y:-200,ease:Bounce.easeOut});for(var a in displayManager.groups[bonusName_].emitters){var anim=epsy_.loadSystem(displayManager[bonusName_].emitters[a][0],500,500);displayManager.groups[bonusName_].emitters[a][0].texture=game_.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function buildBonusLayout_(params){if(extraction_=0,match_=0,bingoGroup_.children.length>0)do bingoGroup_.remove(bingoGroup_.children[0]);while(bingoGroup_.children.length>0);if(extrGroup_.children.length>0)do extrGroup_.remove(extrGroup_.children[0]);while(extrGroup_.children.length>0);if(resGroup_.children.length>0)do resGroup_.remove(resGroup_.children[0]);while(resGroup_.children.length>0);for(a=0;a<=pickTotNum_;a++)txtPrizeList_[a].fill="#afff99",txtPrizeListA_[a].fill="#afff99";0==balanceManager_.getShowIncredits()?txtWin_.setText(balanceManager_.getCurrencySmb()+Util.formatNumber(prize_[0]/lineManager_.getLinesNumber()*balanceManager_.getCoinValue(),2)):txtWin_.setText(prize_[0]),btnClear_()}function enableBonus_(){bonusGroup_.alpha=0,bonusGroup_.visible=!0,TweenMax.to(bonusGroup_,.5,{alpha:1,onComplete:startBonus_})}function startBonus_(){framework.updateSmallMessageText(Translate["do"]("Pick 10 Numbers or Hit Random button to automatically chose for You.")),state_.canPick=!0}function parse_(json){null!=json.bonus.totalMult&&(state_.totMult=json.bonus.totalMult),null!=json.bonus.totalWin&&(state_.totWinCash=Number(json.bonus.totalWin)/100,state_.totWin=state_.totWinCash/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),json.bonus.drawn&&(extracted_=json.bonus.drawn),null!=json.stake&&(state_.stake=Number(json.stake)/100),json.bonus.state.indexOf("collect")>=0&&(state_.collect=!0),json.bonus.state.indexOf("double")>=0&&(state_.double_=!0),0==state_.canPick&&(state_.close=!0),doExtraction_()}function doExtraction_(){extractBall_()}function extractBall_(smb,ext){void 0!=smb&&(smb.visible=!1),void 0!=ext&&(ext.visible=!1);var b=game_.add.sprite(1180,550,"ball-call");b.animations.add("anim"),b.scale.x=1,b.scale.y=1,b.anchor.set(.5,.5),extrGroup_.add(b),b.animations.play("anim",24,!1,!1),soundManager_.playSound("extraction"),setTimeout(showNumber_,500,[b,extracted_[extraction_]]),extraction_++}function showNumber_(par){void 0!=extractionBall_&&(extractionBall_.visible=!1,extrGroup_.remove(extractionBall_),extractionBall_=null);var smb=par[0],num=par[1];extractionBall_=game_.add.sprite(1180,550,"bal_"+Util.formatTwoDigit(num)),extractionBall_.visible=!0,extractionBall_.scale.x=1,extractionBall_.scale.y=1,extractionBall_.anchor.set(.5,.5),extrGroup_.add(extractionBall_),updateResults_(smb,extractionBall_,num)}function updateResults_(smb,ext,index){var b,tint="0xA4A4A4";1==balls_[index].selected?(match_++,b=game_.add.sprite(balls_[index].ballS.x,balls_[index].ballS.y,"keno-stars-"+Util.formatTwoDigit(match_)),b.animations.add("anim"),b.scale.x=1,b.scale.y=1,b.anchor.set(.5,.5),resGroup_.add(b),b.animations.play("anim",24,!1,!1),tint="",soundManager_.playSound("win_"+match_)):(soundManager_.playSound("lose"),balls_[index].ballU.alpha=.7,balls_[index].ballU.tint=tint),b=extraction_<=5?game_.add.sprite(1102,116+50*(extraction_-1),"ext_"+Util.formatTwoDigit(index)):extraction_<=10?game_.add.sprite(1155,116+50*(extraction_-6),"ext_"+Util.formatTwoDigit(index)):game_.add.sprite(1208,116+50*(extraction_-11),"ext_"+Util.formatTwoDigit(index)),""!=tint&&(b.tint=tint),b.scale.x=.92,b.scale.y=.92,extrGroup_.add(b);for(var a=0;a<=pickTotNum_;a++)txtPrizeList_[a].fill="#afff99",txtPrizeListA_[a].fill="#afff99";txtPrizeList_[match_].fill="#ff6cd0",txtPrizeListA_[match_].fill="#ff6cd0",0==balanceManager_.getShowIncredits()?txtWin_.setText(balanceManager_.getCurrencySmb()+Util.formatNumber(prize_[match_]/lineManager_.getLinesNumber()*balanceManager_.getCoinValue(),2)):txtWin_.setText(prize_[match_]),extraction_>=drawnTotNum_?1==state_.close&&setTimeout(clearBonus_,lastChestTout_):setTimeout(extractBall_,500,smb,ext)}function startFade_(smb){TweenMax.to(smb,1,{delay:2.5,alpha:0})}function resetBonus_(){}function clearBonus_(chest){if(10==match_){var bingo=game_.add.sprite(640,-200,"bingo");bingo.scale.x=1,bingo.scale.y=1,bingo.anchor.set(.5,.5),bingoGroup_.add(bingo),TweenMax.to(bingo,.7,{y:220,ease:Bounce.easeOut,onComplete:startFade_,onCompleteParams:[bingo]}),game_.world.bringToTop(bingoGroup_)}displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!0),displayManager_.getText("txtChestPanel2").visible=!1,bonusManager_.closeBonus(bonusName_,state_),soundManager_.playSound("winPanel"),soundManager_.mixBgSound("bgSlot",1e3,1e3);for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[]}function hideBonus_(){bonusGroup_.visible=!1,resetBonus_(),1==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("freeRounds"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut});for(var a in obj_)obj_[a].destroy()}function getRandom(min,max){return Math.floor(Math.random()*(max-min+1))+min}var lastChestTout_,bonusGroup_,ballGroup_,txtGroup_,extrGroup_,resGroup_,bingoGroup_,txtWin_,game_=gameRef,bonusManager_=parent,config_=config,bonusName_=name,music_="",emitter_=[],picks_=[],obj_=[],ballsNumber_=28,deltaX_0=264,deltaY_0=168,deltaX=125,deltaY=132,pickTotNum_=10,drawnTotNum_=15,pickCount_=0,prize_=[],extracted_=[],selected_=[],extraction_=0,match_=0,balls_=[],txtPrizeList_=[],txtPrizeListA_=[],extractionBall_=null,picking_=!1,state_={canPick:!1,close:!1,collect:!1,"double":!1,baseMult:0,totMult:0,totWinCash:0,totWin:0,baseMult:0,stake:0},me={initBonus:initBonus_,hideBonus:hideBonus_,parse:parse_,getState:function(){return state_}};return initClass_(),me}function WheelOfFortune(gameRef,gameClass){function initClass_(){}function autoCb_(){autoSpinFlag_=check_.state,1==enable_&&(speed_=2,side_=1,Util.getRandomInt(1,10)<5&&(speed_=-2),start())}function wheelOfFortuneBuild_(drag,level){if(wheelLevel_=level,autoSpin_=1==autoSpinFlag_||!!autoPlayManager_.getIsInAutoPlay(),0==wheelLevel_?(mainGroup_=displayManager_.getGroup("wheelOfFortuneBaseGame"),mainGroupObj_=displayManager.groups.wheelOfFortuneBaseGame,wheelBg_=null,0==autoSpin_&&gameClass_.startRandomMessages()):(mainGroup_=displayManager_.getGroup("wheelOfFortuneFS"),mainGroupObj_=displayManager.groups.wheelOfFortuneFS,wheelBg_=mainGroup_.fsWbg.children[0],wheelBg_.finalYPos=mainGroupObj_.graphAsset.fsWbg.finalYPos),null!=center_&&wheelObj_.remove(center_),hlF_=[],hl_=[],wheelObj_=game_.add.group(),displayManager_.getGroup("wheelOfFortuneFS").remove(check_),displayManager_.getGroup("wheelOfFortuneBaseGame").remove(check_),check_=new PHASER_checkbox(mainGroup_,mainGroupObj_.checkbox.x,mainGroupObj_.checkbox.y,{text:Translate["do"](mainGroupObj_.checkbox.text),style:{fill:mainGroupObj_.checkbox.color,font:"20px Arial"}},mainGroupObj_.checkbox.name,autoSpin_,autoCb_),check_.x=mainGroupObj_.checkbox.x,check_.y=mainGroupObj_.checkbox.y,check_.state=autoSpin_,check_.visible=!0,void 0!=wheel_&&wheel_.children.length>0)for(var i=0;i<wheel_.children.length;i++)wheel_.children[i].kill();wheel_=new Phaser.Sprite(game_,mainGroupObj_.wheelX,mainGroupObj_.wheelY,"wheel_base_"+wheelLevel_),wheel_.anchor.set(.5,.5),wheel_.angle=0,wheelCover_=new Phaser.Sprite(game_,mainGroupObj_.wheelX,mainGroupObj_.wheelY,"wheel_cover_"+wheelLevel_),wheelCover_.anchor.set(.5,.5),wheelCover_.angle=0,posButton_.x=wheelCover_.x,posButton_.y=wheelCover_.y,wheelCover_.x=wheelCover_.x-wheelCover_.width/2,wheelCover_.y=wheelCover_.y-wheelCover_.height/2,ind_=new Phaser.Sprite(game_,239,239-wheelCover_.height/2,"arrow"),ind_.anchor.set(.5,.3),wheelObj_.add(wheel_),wheelObj_.add(ind_),wheelObj_.sendToBack(wheel_),wheelBlur_=new Phaser.Sprite(game_,wheelCover_.x,wheelCover_.y,"blurWheel_"+wheelLevel_),wheelBlur_.anchor.set(.5,.5),wheelBlur_.angle=0,wheelBlur_.alpha=0,null!=button_&&(button_.x=wheel_.x,button_.y=wheel_.y),wheelConfiguration_[0]=[],wheelConfiguration_[0][0]={},wheelConfiguration_[0][0].color="pink",wheelConfiguration_[0][1]={},wheelConfiguration_[0][1].color="green",wheelConfiguration_[0][2]={},wheelConfiguration_[0][2].color="yellow",wheelConfiguration_[0][3]={},wheelConfiguration_[0][3].color="pink",wheelConfiguration_[0][4]={},wheelConfiguration_[0][4].color="green",wheelConfiguration_[0][5]={},wheelConfiguration_[0][5].color="purple",wheelConfiguration_[0][6]={},wheelConfiguration_[0][6].color="yellow",wheelConfiguration_[0][7]={},wheelConfiguration_[0][7].color="pink",wheelConfiguration_[0][8]={},wheelConfiguration_[0][8].color="green",wheelConfiguration_[0][9]={},wheelConfiguration_[0][9].color="blue",wheelConfiguration_[1]=[],wheelConfiguration_[1][0]={},wheelConfiguration_[1][0].color="pink",wheelConfiguration_[1][1]={},wheelConfiguration_[1][1].color="green",wheelConfiguration_[1][2]={},wheelConfiguration_[1][2].color="red",wheelConfiguration_[1][3]={},wheelConfiguration_[1][3].color="pink",wheelConfiguration_[1][4]={},wheelConfiguration_[1][4].color="green",wheelConfiguration_[1][5]={},wheelConfiguration_[1][5].color="yellow",wheelConfiguration_[1][6]={},wheelConfiguration_[1][6].color="green",wheelConfiguration_[1][7]={},wheelConfiguration_[1][7].color="red",wheelConfiguration_[1][8]={},wheelConfiguration_[1][8].color="purple",wheelConfiguration_[1][9]={},wheelConfiguration_[1][9].color="blue",wheelConfiguration_[2]=[],wheelConfiguration_[2][0]={},wheelConfiguration_[2][0].color="pink",wheelConfiguration_[2][1]={},wheelConfiguration_[2][1].color="green",wheelConfiguration_[2][2]={},wheelConfiguration_[2][2].color="red",wheelConfiguration_[2][3]={},wheelConfiguration_[2][3].color="pink",wheelConfiguration_[2][4]={},wheelConfiguration_[2][4].color="green",wheelConfiguration_[2][5]={},wheelConfiguration_[2][5].color="yellow",wheelConfiguration_[2][6]={},wheelConfiguration_[2][6].color="green",wheelConfiguration_[2][7]={},wheelConfiguration_[2][7].color="pink",wheelConfiguration_[2][8]={},wheelConfiguration_[2][8].color="purple",wheelConfiguration_[2][9]={},wheelConfiguration_[2][9].color="blue",wheelConfiguration_[3]=[],wheelConfiguration_[3][0]={},wheelConfiguration_[3][0].color="pink",wheelConfiguration_[3][1]={},wheelConfiguration_[3][1].color="green",wheelConfiguration_[3][2]={},wheelConfiguration_[3][2].color="yellow",wheelConfiguration_[3][3]={},wheelConfiguration_[3][3].color="pink",wheelConfiguration_[3][4]={},wheelConfiguration_[3][4].color="blue2",wheelConfiguration_[3][5]={},wheelConfiguration_[3][5].color="yellow",wheelConfiguration_[3][6]={},wheelConfiguration_[3][6].color="green",wheelConfiguration_[3][7]={},wheelConfiguration_[3][7].color="red",wheelConfiguration_[3][8]={},wheelConfiguration_[3][8].color="purple",wheelConfiguration_[3][9]={},wheelConfiguration_[3][9].color="blue",wheel_.addChild(wheelCover_);for(var i=0;i<numIndicator_;i++){delta_[i]=360/numIndicator_*i,indicators_[i]=0;var prize=new Phaser.Sprite(game_,wheelCover_.x,wheelCover_.y,wheelConfiguration_[wheelLevel_][i].color+"_"+wheelLevel_);prize.anchor.set(.5,.95),prize.angle=36*i,hl_.push(prize),wheel_.addChild(prize);var whlf=new Phaser.Sprite(game_,wheelCover_.x,wheelCover_.y,"winframeHl");whlf.alpha=0,whlf.animations.add("anim"),whlf.anchor.set(.5,.95),whlf.angle=36*i,hlF_.push(whlf),wheel_.addChild(whlf)}if(wheel_.addChild(wheelBlur_),null==wheelBg_){drag&&0==autoSpin_?(button_=new Phaser.Button(game_,wheel_.x,wheel_.y),button_.anchor.set(.5,.5),button_.width=500,button_.height=500,button_.inputEnabled=!0,button_.input.enableDrag(),button_.events.onDragStart.add(reelDown_),button_.events.onDragStop.add(reelGo_),button_.events.onDragUpdate.add(keepControl_),button_.input.allowHorizontalDrag=!1,wheelObj_.add(button_)):(wheelObj_.remove(button_),button_=null);for(var a in mainGroupObj_.buttons)centerBtn_=new Phaser.Button(game_,mainGroupObj_.buttons[a].x,mainGroupObj_.buttons[a].y,mainGroupObj_.buttons[a].name,me[mainGroupObj_.buttons[a].evt],this,1,2,0,0),centerBtn_.anchor.set(.5,.5),centerBtn_.enabled=!0,wheelObj_.add(centerBtn_)}else autoSpin_=!0,center_=new Phaser.Sprite(game_,239,239,"goldCenter"),center_.anchor.set(.5,.5),center_.angle=0,wheelObj_.add(center_);currentRotation_=0,
wheel_.angle=currentRotation_,wheelObj_.x=mainGroupObj_.restX,wheelObj_.y=mainGroupObj_.restY,wheelObj_.scale.x=mainGroupObj_.scale,wheelObj_.scale.y=mainGroupObj_.scale,wheelObj_.angle=mainGroupObj_.angle,mainGroup_.addChild(wheelObj_)}function doOk_(btn){1==btn.enabled&&(btn.enabled=!1,speed_=2,side_=1,Util.getRandomInt(1,10)<5&&(speed_=-2),start())}function onComplete(){skip_=!1,setTimeout(resetWheel_,gameClass_.getCompulsivePlayer()?500:700),wheelConfiguration_[wheelLevel_][drawnPosition_].color.indexOf("green",0)<0&&(TweenMax.to(hl_[drawnPosition_].scale,.3,{x:1.05,y:1.05,yoyo:!0,repeat:2}),hlF_[drawnPosition_].alpha=1,hlF_[drawnPosition_].animations.play("anim",24,3,!0)),soundManager_.playSound(wheelConfiguration_[wheelLevel_][drawnPosition_].color+"_"+wheelLevel_)}function resetWheel_(){check_.y=-100,null!=wheelBg_?(TweenMax.to(wheelObj_,.5,{delay:gameClass_.getCompulsivePlayer()?.5:.7,x:mainGroupObj_.restX,y:mainGroupObj_.restY,onComplete:showPrizeWin_}),TweenMax.to(wheelBg_,.5,{delay:gameClass_.getCompulsivePlayer()?.5:.7,y:mainGroupObj_.restY})):TweenMax.to(wheelObj_,.5,{delay:gameClass_.getCompulsivePlayer()?.5:.7,x:mainGroupObj_.restX,y:mainGroupObj_.restY,onComplete:showPrizeWin_,ease:Back.easeIn})}function showPrizeWin_(){var n=hl_[drawnPosition_],show=!1;if(n.x=370,n.y=450,n.angle=0,n.anchor.set(.5,.5),displayManager_.getText("wofValue1").setText(""),0!=wheelLevel_||1!=drawnPosition_&&4!=drawnPosition_&&8!=drawnPosition_&&9!=drawnPosition_)if(1!=wheelLevel_||1!=drawnPosition_&&4!=drawnPosition_&&6!=drawnPosition_&&9!=drawnPosition_)if(2!=wheelLevel_||1!=drawnPosition_&&4!=drawnPosition_&&6!=drawnPosition_&&9!=drawnPosition_)if(3!=wheelLevel_||1!=drawnPosition_&&4!=drawnPosition_&&6!=drawnPosition_&&7!=drawnPosition_&&9!=drawnPosition_)wheelLevel_>0&&8==drawnPosition_?(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("3 Additional Free Spin")),displayManager_.getText("wofValue1").setText(""),setTimeout(freeSpinsManager_.addFs,500,-1),n.scale.x=1.5,n.scale.y=1.5,show=!0,soundManager_.playSound("winPanel")):wheelLevel_>0&&wheelLevel_<3&&2==drawnPosition_?(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("a wheel of fortune")),displayManager_.getText("wofValue1").setText(Translate["do"]("upgrade to better prizes")),n.scale.x=1.5,n.scale.y=1.5,setTimeout(freeSpinsManager_.addFs,500,-1),show=!0,soundManager_.playSound("winPanel")):1==wheelLevel_&&7==drawnPosition_?(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("a wheel of fortune")),displayManager_.getText("wofValue1").setText(Translate["do"]("upgrade to better prizes")),n.scale.x=1.5,n.scale.y=1.5,setTimeout(freeSpinsManager_.addFs,500,-1),show=!0,soundManager_.playSound("winPanel")):0==wheelLevel_&&5==drawnPosition_?(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("6")),displayManager_.getText("wofValue1").setText(Translate["do"]("Free Spins")),n.scale.x=1.5,n.scale.y=1.5,freeSpinsManager_.fsWon(6),show=!0,soundManager_.playSound("winPanel")):0!=wheelLevel_||0!=drawnPosition_&&3!=drawnPosition_&&7!=drawnPosition_?0!=wheelLevel_||2!=drawnPosition_&&6!=drawnPosition_?1!=wheelLevel_||0!=drawnPosition_&&3!=drawnPosition_&&7!=drawnPosition_?1==wheelLevel_&&5==drawnPosition_?(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional expanding wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1):2!=wheelLevel_||0!=drawnPosition_&&3!=drawnPosition_&&7!=drawnPosition_?2!=wheelLevel_||2!=drawnPosition_&&5!=drawnPosition_&&6!=drawnPosition_?3!=wheelLevel_||0!=drawnPosition_&&3!=drawnPosition_?3!=wheelLevel_||2!=drawnPosition_&&5!=drawnPosition_||(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional expanding wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1):(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1):(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional expanding wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1):(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1):(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1):(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional expanding wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1):(displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("additional wilds")),n.scale.x=1.5,n.scale.y=1.5,show=!0,show=!1);else{displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("a Scatter prize"));var amt=Util.formatNumber(winManager_.getScatterWinAmt()[0][12].amt,2);displayManager_.getText("wofValue1").setText(balanceManager_.getCurrencySmb()+""+amt),Number(amt)>0&&(show=!0),Number(amt)>320&&(n.scale.x=.9,n.scale.y=.9),show=!1}else{displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("a Scatter prize"));var amt=Util.formatNumber(winManager_.getScatterWinAmt()[0][12].amt,2);displayManager_.getText("wofValue1").setText(balanceManager_.getCurrencySmb()+""+amt),Number(amt)>0&&(show=!0),show=!1}else{displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("a Scatter prize"));var amt=Util.formatNumber(winManager_.getScatterWinAmt()[0][12].amt,2);displayManager_.getText("wofValue1").setText(balanceManager_.getCurrencySmb()+""+amt),Number(amt)>0&&(show=!0),show=!1}else{displayManager_.getText("wofWLabel").setText(Translate["do"]("You won")),displayManager_.getText("wofWLabel1").setText(Translate["do"]("a Scatter prize"));var amt=Util.formatNumber(winManager_.getScatterWinAmt()[0][12].amt,2);displayManager_.getText("wofValue1").setText(balanceManager_.getCurrencySmb()+""+amt),Number(amt)>0&&(show=!0),show=!1}show?(wheelLevel_>0||0==wheelLevel_&&5==drawnPosition_?(displayManager_.getGroup("wheelPrizeWonPanel").panelChar.children[0].visible=!1,displayManager_.getGroup("wheelPrizeWonPanel").panelChar1.children[0].visible=!0):(displayManager_.getGroup("wheelPrizeWonPanel").panelChar.children[0].visible=!0,displayManager_.getGroup("wheelPrizeWonPanel").panelChar1.children[0].visible=!1),displayManager_.getGroup("wheelPrizeWonPanel").addChild(n),displayManager_.getGroup("wheelPrizeWonPanel").y=0,displayManager_.getGroup("wheelPrizeWonPanel").alpha=0,displayManager_.getGroup("wheelPrizeWonPanel").visible=!0,setTimeout(wheelCallBack_,gameClass_.getCompulsivePlayer()?2100:2500),TweenMax.to(displayManager_.getGroup("wheelPrizeWonPanel"),.5,{alpha:1}),TweenMax.to(displayManager_.getGroup("wheelPrizeWonPanel"),.5,{delay:gameClass_.getCompulsivePlayer()?2:2.6,alpha:0,onComplete:moveWin_,onCompleteParams:[n]})):wheelCallBack_()}function moveWin_(n){displayManager_.getGroup("wheelPrizeWonPanel").y=-1e3,displayManager_.getGroup("wheelPrizeWonPanel").remove(n)}function onUpdate(){currentRotation_=Math.round(wheel_.angle)>0?Math.round(wheel_.angle):180+(180-Math.abs(Math.round(wheel_.angle))),side_>0?Math.abs(Math.round(currentRotation_+25)%(360/numIndicator_))<=7&&0==skipIndex_&&(skipIndex_=!0):Math.abs(Math.round(currentRotation_-25)%(360/numIndicator_))<=7&&0==skipIndex_&&(skipIndex_=!0),lastRotation_=currentRotation_}function keepControl_(dd){if(0!=dragStart_&&!skip_){origY_=pY_;var targetAngle=game.math.angleBetween(pX_,pY_,this.game.input.activePointer.x,this.game.input.activePointer.y);game_.input.activePointer.isDown&&dragging_&&(origX_<640?wheel_.angle=wheel_.angle-targetAngle:wheel_.angle=wheel_.angle+targetAngle,distance=game.math.distance(pX_,pY_,this.game.input.activePointer.x,this.game.input.activePointer.y),speed_=Math.min(Math.ceil(distance/15)+1,6)),game_.input.activePointer.isDown&&!dragging_&&(dragging_=!0),!game.input.activePointer.isDown&&dragging_&&(dragging_=!1),pX_=this.game.input.activePointer.x,pY_=this.game.input.activePointer.y}}function reelGo_(dd){0!=distance&&(dragStart_=!1,side_=origX_<640?this.game.input.activePointer.y-origY_>0?-1:1:this.game.input.activePointer.y-origY_>0?1:-1,start())}function reelDown_(dd){pX_=this.game.input.activePointer.x,pY_=this.game.input.activePointer.y,origX_=pX_,dragStart_=!0}function start(){if(null!=button_&&(button_.visible=!1),null!=centerBtn_&&(centerBtn_.enabled=!1),0!=enable_){enable_=!1,gameClass_.stopRandomMessages(),framework.updateSmallMessageText(Translate["do"]("Good luck")),void 0==side_&&(speed_=2),skip_=!0;for(var i=0;i<=numIndicator_;i++)indicators_[i]=0;if(null!=wheelBg_){setTimeout(setBlur_,100);var totTime=gameClass_.getCompulsivePlayer()?mainGroupObj_.time:gameClass_.getCompulsivePlayer()?1500:2e3;tw=game.add.tween(wheel_).to({angle:side_*(360*speed_)+delta_[numIndicator_-1-drawnPosition_]+360/numIndicator_+Util.getRandomInt(-12,12)},totTime,Phaser.Easing.Quartic.Out,!0),setTimeout(removeBlur_,1*totTime/2)}else{setTimeout(setBlur_,100);var totTime=gameClass_.getCompulsivePlayer()?mainGroupObj_.time:2*mainGroupObj_.time+mainGroupObj_.time/2*speed_;setTimeout(removeBlur_,1*totTime/2),0==autoSpinFlag_&&(setTimeout(soundManager_.playSound,0,"drumLoop",10),setTimeout(soundManager_.stopSound,totTime-200,"drumLoop"),setTimeout(soundManager_.playSound,totTime-200,"drumFinal")),tw=game.add.tween(wheel_).to({angle:side_*(360*speed_)+delta_[numIndicator_-1-drawnPosition_]+360/numIndicator_+Util.getRandomInt(-12,12)},totTime,Phaser.Easing.Quartic.Out,!0)}tw.onUpdateCallback(onUpdate,this),tw.onComplete.add(onComplete,this)}}function setBlur_(){wheelBlur_.alpha=1}function removeBlur_(){TweenMax.to(wheelBlur_,.3,{alpha:0})}function showWheel_(params){var time=params[0],num=params[1],callBack=params[2];null!=wheelBg_?(TweenMax.to(wheelObj_,time,{x:mainGroupObj_.activeX,y:mainGroupObj_.activeY}),TweenMax.to(wheelBg_,time,{y:wheelBg_.finalYPos})):TweenMax.to(wheelObj_,time,{x:mainGroupObj_.activeX,y:mainGroupObj_.activeY,ease:Back.easeOut}),drawnPosition_=num,enable_=!0,mainGroup_.visible=!0,wheelCallBack_=callBack,1==autoSpin_&&(speed_=null!=wheelBg_?10:5,side_=1,Util.getRandomInt(1,10)<5,setTimeout(soundManager_.playSound,gameClass_.getCompulsivePlayer()?200:600,"drumRoll"),iStart_=setTimeout(start,gameClass_.getCompulsivePlayer()?700:1100))}function spaceBarStart_(){speed_=null!=wheelBg_?10:5,side_=1,Util.getRandomInt(1,10)<5,soundManager_.playSound("drumRoll"),start()}var mainGroup_,mainGroupObj_,button_,centerBtn_,wheelObj_,wheel_,ind_,lastRotation_,wheelCover_,wheelBlur_,origY_,origX_,speed_,side_,pX_,pY_,drawnPosition_,wheelCallBack_,check_,game_=gameRef,gameClass_=gameClass,dragging_=!1,skip_=!1,skipIndex_=!1,delta_=[],numIndicator_=10,indicators_=[],currentRotation_=0,dragStart_=!1,hlF_=[],hl_=[],posButton_={},enable_=!1,wheelConfiguration_=[],wheelLevel_=0,autoSpin_=!1,autoSpinFlag_=!1,distance=0,wheelBg_=null,center_=null,me={wheelOfFortuneBuild:wheelOfFortuneBuild_,showWheel:showWheel_,doOk:doOk_,spaceBarStart:spaceBarStart_};return initClass_(),me}function Button(gameRef,gameClass,group,config,_click,_over,_out,_visible){var mainGroup_,mainTextGroup_,buttonE_,buttonD_,game_=gameRef,defGroup_=null==group?"buttons":group,clickCB=_click,overCB=_over,outCB=_out,config_=config,initStage_=_visible,init_=function(){mainGroup_=displayManager_.getGroup(defGroup_),mainTextGroup_=displayManager_.getTexts(),buttonE_=new Phaser.Button(game_,config_.x,config_.y,config_.name,onClick_,this,1,2,0,0),buttonE_.name_=config_.name;if(null!=overCB&&buttonE_.onInputOver.add(overCB,this),null!=outCB&&buttonE_.onInputOut.add(outCB,this),buttonE_._key=null!=config_.key?config_.key:config_.name,buttonE_.anchor.set(.5,.5),mainGroup_.add(buttonE_),null!=config_.graphAssetD&&(buttonD_=new Phaser.Sprite(game_,config_.x,config_.y,config_.graphAssetD),buttonD_.anchor.set(.5,.5),mainGroup_.add(buttonE_)),null!=config_.text){var txt=new Phaser.Text(game_,config_.text.x,config_.text.y,"",{font:config_.text.font,fill:config_.text.fill,boundsAlignH:config_.text.align});txt.anchor.set(void 0!=config_.text.anchorX?config_.text.anchorX:0,void 0!=config_.text.anchorY?config_.text.anchorY:0),txt._key=null!=config_.text.key?config_.text.key:config_.text.name,void 0!=config_.text.text&&txt.setText(Translate["do"](config_.text.text)),buttonE_.addChild(txt),mainTextGroup_["txt"+config_.name]=txt}if(null!=config_.texts)for(var t in config_.texts){var txt=new Phaser.Text(game_,config_.texts[t].x,config_.texts[t].y,"",{font:config_.texts[t].font,fill:config_.texts[t].fill,boundsAlignH:config_.texts[t].align});txt._key=null!=config_.texts[t].key?config_.texts[t].key:config_.texts[t].name,txt.anchor.set(void 0!=config_.texts[t].anchorX?config_.texts[t].anchorX:0,void 0!=config_.texts[t].anchorY?config_.texts[t].anchorY:0),void 0!=config_.texts[t].text&&txt.setText(Translate["do"](config_.texts[t].text)),buttonE_.addChild(txt),mainTextGroup_[t]=txt}initStage_?enable_():disable_()},applyState_=function(state){buttonE_.enable_=state,0==state&&buttonE_.setFrames(0,0,0),1==state&&buttonE_.setFrames(1,2,0),null!=config_.graphAssetD&&0==state&&(buttonD_.visible=!0),null!=config_.graphAssetD&&1==state&&(buttonD_.visible=!1)},enable_=function(){buttonE_.enable_=!0,buttonE_.visible=!0,null!=config_.graphAssetD&&(buttonD_.visible=!1)},disable_=function(){buttonE_.enable_=!1,buttonE_.visible=!1,null!=config_.graphAssetD&&(buttonD_.visible=!0)},onClick_=function(d){buttonE_.enable_&&(buttonE_.frame=0,clickCB(d))},me={applyState:applyState_,enable:enable_,disable:disable_,isButton:!0,getButton:function(){return buttonE_},isEnable:function(){return buttonE_.enable_},getName:function(){return buttonE_.name_}};return init_(),me}function ButtonHtml(gameRef,gameClass,group,config,_click,_over,_out,_visible,_hold,_id){var state_,clickCB=_click,holdCB=_hold,config_=config,buttonE_={enable_:!0,visible:_visible,name_:config.id},buttonObj_=({enable_:!0,visible:_visible,name_:config.id},$("#"+config_.id)),iPress_=0,buttonHeld=!1,minor_=!1,id=_id,init_=function(){null!=config_.bgDisabled&&setBackGround_(config_.bgDisabled),setBackGround_(config_.bg),state_="bg",$(buttonObj_).on("mousedown touchstart",function(e){e.stopPropagation(),e.preventDefault(),holdCB?(buttonHeld=!1,iPress_=setTimeout(function(){buttonHeld=!0,onHold_(e)},1e3)):onClick_(e)}),holdCB&&$(buttonObj_).on("mouseup touchend",function(e){e.stopPropagation(),e.preventDefault(),buttonHeld||(onClick_(e),buttonHeld=!1),buttonHeld=!1}),0==buttonE_.visible&&$(buttonObj_).hide()},setBackGround_=function(imgSrc){ReelConfig.newUI?window.newUI[id]().backgroundImage():(1==minor_&&(imgSrc="m_"+imgSrc),$(buttonObj_).find(".button__background").css("background-image","url("+imgSrc+")"))},setText_=function(message){$(buttonObj_).find("span").text(message)},applyState_=function(state){buttonE_.enable_=state,state?(buttonObj_.removeClass("disabled"),"bg"==state_&&setBackGround_(config_.bg)):"bg"==state_&&null!=config_.bgDisabled&&setBackGround_(config_.bgDisabled)},enable_=function(){buttonE_.enable_=!0,buttonObj_.addClass("disabled"),setBackGround_(config_.bg)},disable_=function(){buttonE_.enable_=!1,buttonObj_.removeClass("disabled"),"bg"==state_&&null!=config_.bgDisabled&&setBackGround_(config_.bgDisabled)},onClick_=function(d){clearTimeout(iPress_),buttonE_.enable_&&(buttonE_.frame=2,clickCB(d))},onHold_=function(d){"se"==loginVars.getRegParams().jurisdiction&&gameParams.clientName.indexOf("NYX")>=0&&939==Math.abs(Number(gameParams.site))||buttonE_.enable_&&buttonE_.visible&&(buttonE_.frame=2,holdCB(d))},reset_=function(d){buttonE_.enable_&&(buttonE_.frame=0)},me={applyState:applyState_,enable:enable_,disable:disable_,isButton:!0,setText:setText_,setBackGround:setBackGround_,reset:reset_,showButton:function(){buttonE_.visible=!0,$(buttonObj_).show()},hideButton:function(){buttonE_.visible=!1,$(buttonObj_).hide()},getButton:function(){return buttonE_},isEnable:function(){return buttonE_.enable_},getName:function(){return buttonE_.name_},isVisible:function(){return buttonE_.visible},applyState_MinorCurrency:function(state){minor_=state},changeState:function(state){state_=state,"bg"==state?setBackGround_(config_.bg):"start"==state?setBackGround_(config_.start):"stop"==state&&setBackGround_(config_.stop)},setText:setText_};return init_(),me}function ButtonStatesManager(gameRef,gameClass){var currentState_,btnSpin,btnStop,btnBet,btnAp,btnPt,btnMenu,btnSound,clickHandlers,game_=gameRef,gameClass_=gameClass,states=[],allButtons=[],msg=!1,initClass_=function(){ReelConfig.newUI?(clickHandlers=framework.isTouch()?{autospin:{start:framework.openAp,spin:framework.checkAutoPlay,stop:framework.checkAutoPlay},spin:{spin:gameClass.doSpin,stop:gameClass.doStop}}:{autospin:{start:framework.checkAutoPlay,spin:framework.checkAutoPlay,stop:framework.checkAutoPlay},bet:gameClass_.betSelector,paytable:gameClass_.doPt,spin:{spin:gameClass.doSpin,stop:gameClass.doStop}},new window.ButtonManager(clickHandlers),btnAp=newUI.autospin(),btnBet=newUI.bet(),btnPt=newUI.paytable(),btnSpin=newUI.spin(),btnStop=btnSpin,btnMenu=newUI.menu(),btnSound=newUI.sound()):ReelConfig.newUI||(framework.isTouch()&&(btnSpin=new ButtonHtml(game_,me,null,frameworkSettings.buttons.spinButton,gameClass_.doSpin,null,null,(!1),framework.openAp)),btnAp=new ButtonHtml(game_,me,null,frameworkSettings.buttons.autoButton,gameClass_.doAp,null,null,(!1),(!1),"autospin"),btnStop=new ButtonHtml(game_,me,null,frameworkSettings.buttons.stopButton,gameClass_.doStop,null,null,(!1),(!1),"spin"),btnBet=new ButtonHtml(game_,me,null,frameworkSettings.buttons.betControl,gameClass_.betSelector,null,null,(!1),(!1),"bet"),btnPt=new ButtonHtml(game_,me,null,frameworkSettings.buttons.helpButton,gameClass_.doPt,null,null,(!1),(!1),"paytable")),framework.isTouch()?(addState_("NH",[[{btn:btnSpin,state:!0}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!0}],[{btn:btnPt,state:!0}]]),ReelConfig.newUI&&framework.isTouch()?addState_("APNH",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}],[{btn:btnSpin,state:!1}]]):addState_("APNH",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!0}],[{btn:btnPt,state:!0}]]),addState_("APSTOPNH",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!0}]]),addState_("NHFR",[[{btn:btnSpin,state:!0}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!0}]]),addState_("APNHFR",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!0}]]),addState_("NHFS",[[{btn:btnSpin,state:!0}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NHFSFS",[[{btn:btnSpin,state:!0}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APNHFS",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!0}]]),addState_("SPIN",[[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSPIN",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("SPINFR",[[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSPINFR",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("SPINFS",[[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSPINFS",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("STOP",[[{btn:btnStop,state:!0}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSTOP",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("STOPFR",[[{btn:btnStop,state:!0}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSTOPFR",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("STOPFS",[[{btn:btnStop,state:!0}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSTOPFS",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPIN",[[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPIN",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPINWIN",[[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPINWIN",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPINFR",[[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPINFR",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPINFS",[[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPINFS",[[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NONE",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NONEFS",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NONEFR",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]])):(ReelConfig.newUI||(btnSpin=new ButtonHtml(game_,me,null,frameworkSettings.buttons.spinButton,gameClass_.doSpin,null,null,(!1),(!1),"spin")),addState_("NH",[[{btn:btnSpin,state:!0}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!0}],[{btn:btnPt,state:!0}]]),addState_("APNH",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!0}],[{btn:btnPt,state:!0}]]),addState_("NHFR",[[{btn:btnSpin,state:!0}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!0}]]),addState_("APNHFR",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!0}]]),addState_("NHFS",[[{btn:btnSpin,state:!0}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NHFSFS",[[{btn:btnSpin,state:!0}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APNHFS",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!0}]]),addState_("SPIN",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSPIN",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("SPINFR",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSPINFR",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("SPINFS",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSPINFS",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("STOP",[[{btn:btnStop,state:!0}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSTOP",[[{btn:btnStop,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("STOPFR",[[{btn:btnStop,state:!0}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSTOPFR",[[{btn:btnStop,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("STOPFS",[[{btn:btnStop,state:!0}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APSTOPFS",[[{btn:btnStop,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPIN",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPIN",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPINWIN",[[{btn:btnAp,state:!1}],[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPINWIN",[[{btn:btnAp,state:!1}],[{btn:btnSpin,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPINFR",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPINFR",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("AFTERSPINFS",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("APAFTERSPINFS",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:getEnableByJurisdictionForAP_()}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NONE",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NONEFS",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),addState_("NONEFR",[[{btn:btnSpin,state:!1}],[{btn:btnAp,state:!1}],[{btn:btnBet,state:!1}],[{btn:btnPt,state:!1}]]),displayManager_.getGroup("buttonFg").visible=!0),applyState_("NONE"),void 0!=me.getButton(frameworkSettings.buttons.autoButton.id)&&me.getButton(frameworkSettings.buttons.autoButton.id).setText("")},getEnableByJurisdictionForAP_=function(){return!("se"==loginVars.getRegParams().jurisdiction&&""!=gameParams.clientName&&gameParams.clientName.indexOf("NYX")>=0&&939==Math.abs(Number(gameParams.site)))},addState_=function(name,buttonsState){ReelConfig.newUI&&framework.isTouch()&&window.GAME_STATES.addState(name,buttonsState),states[name]=[],states[name].buttons=[];for(var a in buttonsState)states[name].buttons[a]={},states[name].buttons[a]._button=buttonsState[a][0].btn,states[name].buttons[a]._enable=buttonsState[a][0].state,allButtons[buttonsState[a][0].btn.getName()]=buttonsState[a][0].btn},disableButtons_=function(name){enableAll_();for(var a in states[name].buttons)states[name].buttons[a]._button.disable()},applyStateForce_=function(name){currentState_=name,logger("apply button state "+name),disableAll_();for(var a in states[name].buttons)states[name].buttons[a]._button.showButton(),states[name].buttons[a]._button.applyState(states[name].buttons[a]._enable)},applyState_=function(name){if("STOP"!=name||"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction){if("NH"===name&&(window.sendCustomEvent("f1x2gan",{detail:"playStopped"}),messagesSE.check(),ReelConfig.newUI)){var footer=document.getElementById("footer");footer.style.zIndex=7}currentState_=name,1==freeSpinsManager_.getIsInFs()||null!=gameClass_.getIsRespin&&gameClass_.getIsRespin()?name+="FS":1==freeRoundsManager_.getIsInFr()&&(name+="FR"),autoPlayManager_.getIsInAutoPlay()&&autoPlayManager_.getAutoPlayNum()>1&&(name="AP"+name),logger("apply button state "+name+" "+getStackTrace().join("\n")),disableAll_();for(var a in states[name].buttons)ReelConfig.newUI&&framework.isTouch()||states[name].buttons[a]._button.showButton(),states[name].buttons[a]._button.applyState(states[name].buttons[a]._enable);ReelConfig.newUI&&"NONE"!==name&&"NONEFS"!==name&&"NONEFR"!==name&&(framework.isTouch()?window.BUTTON_STATES_MANAGER.applyState(name):("SPIN"===name||"STOPFS"===name||"STOPFR"===name?window.SPIN_STATE.spinning=!0:"APSPIN"===name?window.AUTOSPIN_STATE.spinning=!0:"NH"!==name&&"NHFS"!==name&&"NHFR"!==name||(window.AUTOSPIN_STATE.spinning=!1,window.SPIN_STATE.spinning=!1,window.AUTOSPIN_STATE.onSpin.dispatch(AUTOSPIN_STATE.spinning)),window.SPIN_STATE.onSpin.dispatch(SPIN_STATE.spinning)))}},applyHide_=function(){logger("hide all buttons"),msg=!0;for(var name in states)for(var a in states[name].buttons)states[name].buttons[a]._button.applyState(!1)},applyRestore_=function(){msg=!1,applyState_(currentState_)},disableAll_=function(){for(var a in allButtons)if(ReelConfig.newUI){for(var aa in window.newUI.buttons)if(window.newUI.buttons[aa]._id==allButtons[a]._id){window.newUI.buttons[aa].enable=!1;break}}else allButtons[a].disable(),allButtons[a].hideButton()},enableAll_=function(){for(var a in allButtons)allButtons[a].enable()},getButton_=function(name_){if(ReelConfig.newUI&&framework.isTouch()){var new_ui_ids={autoButtonSelect:"autospin",betButtonSelect:"bet",spinButtonSelect:"spin"};try{return allButtons[new_ui_ids[name_]]}catch(e){logger("error retrieving button "+name_)}}else try{return allButtons[name_]}catch(e){logger("error retrieving button "+name_)}},me={addState:addState_,disableButtons:disableButtons_,applyStateForce:applyStateForce_,applyState:applyState_,applyHide:applyHide_,applyRestore:applyRestore_,getCurrentState:function(){return currentState_},getEnableByJurisdictionForAP:getEnableByJurisdictionForAP_,getButton:getButton_,gotMsg:function(){return msg}};return initClass_(),me}function Phaser_Button(scene,key,x,y,up,over,down,upCb,overCB,downCB){function initClass_(scene,key,x,y,up,over,down,upCb,overCB,downCB){return up||(up=0),down||(down=up),over||(over=up),2==phaserVer_?btn=new Phaser.Button(scene,x,y,key,downCB,up,over,down,0):(btn=spriteManager_.addSprite(x,y,key,null,null,0,0,1,1),btn.setInteractive(),create_(scene,key,x,y,up,over,down,upCb,overCB,downCB),btn.setFrame(up)),btn.setAnchor=function(x,y){2==phaserVer_?btn.anchor.set(x,y):btn.setOrigin(x,y)},btn}function create_(scene,key,x,y,up,over,down,upCb,overCB,downCB){btn.on("pointerup",up_,function(){btn.setFrame(up)}),btn.on("pointerover",function(){btn.setFrame(over)}),btn.on("pointerout",function(){btn.setFrame(up)}),btn.on("pointerdown",function(){btn.setFrame(down),null!=downCB&&downCB()})}function up_(obj){btn.setFrame(up)}var btn;return initClass_(scene,key,x,y,up,over,down,upCb,overCB,downCB)}function Phaser3RadioButton(scene,key,x,y,downCB){function initClass_(scene,key,x,y,downCB){return btn=spriteManager_.addSprite(x,y,key,null,null,0,0,1,1),btn.setInteractive(),create_(scene,key,x,y,downCB),btn}function create_(scene,key,x,y,downCB){btn.on("pointerdown",function(){null!=downCB&&downCB(this)})}var btn;return initClass_(scene,key,x,y,downCB)}function FreeRounds(gameRef,gameClass){function initClass_(){frBet_=1}function addWin_(amt){}function parse_(json){null!=json&&null!=json.value&&json.value>0&&(winCash_+=json.value),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function toggleFreeRounds_(){displayManager_.getText("frValue").setText(freeRoundsNum_),isInFr_&&freeRoundsNum_>0?frWon_=!1:(wasOnFr=!0,frWon_=!1,isInFr_=!0,prevBet_=balanceManager_.getCoinValue(),gameClass_.changeBet(frBet_),displayManager_.getText("frTotWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),
displayManager_.getGroup("freeRounds").alpha=0,displayManager_.getGroup("freeRounds").visible=!1,1==displayManager.groups.freeRounds.movingLogo?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):logoOut_(),soundManager_.mixBgSound("bgFr",1e3,1e3))}function logoOut_(){for(var a in displayManager.groups.freeRounds.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeRounds.emitters[a][0],500,500);displayManager.groups.freeRounds.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}displayManager_.getGroup("freeRounds").visible=!0,"freespins"==communicationManager_.getResumeStatus().status.hand&&"tumble"!=communicationManager_.getResumeStatus().status.type||"bonus"==communicationManager_.getResumeStatus().status.hand||(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{alpha:1,ease:Bounce.easeOut}),buttonManager_.applyState("NH"))}function updateFreeRoundsNum_(){0==freeSpinsManager_.getIsInFs()&&0==freeSpinsManager_.getFsWon()&&isInFr_&&freeRoundsNum_>=0&&(void 0==gameClass_.getIsRespin||0==gameClass_.getIsRespin())&&(freeRoundsNum_-=1,displayManager_.getText("frValue").setText(freeRoundsNum_))}function updateFreeRoundsTot_(){0==freeSpinsManager_.getIsInFs()&&0==freeSpinsManager_.getFsWon()&&isInFr_&&freeRoundsNum_>=0&&displayManager_.getText("frTotWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}function showFrTotWonPanel_(){lineManager_.clearLine();for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("frWonPanel").y=-1200,displayManager_.getGroup("frWonPanel").visible=!0,displayManager_.getText("frWLabel").setText(Translate["do"]("You won")),1==displayManager.groups.freeRounds.movingLogo&&TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("frWonPanel"),.5,{alpha:1,y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_})}function hideTotPanel_(){win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),TweenMax.to(displayManager_.getGroup("frWonPanel"),.5,{delay:displayManager.groups.frWonPanel.duration,alpha:0,y:-1200,ease:Linear.easeIn,onStart:freeRoundsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:completeDidePanel,onCompleteParams:[win_,winCash_]})}function completeDidePanel(win_,winCash_){freeRoundsManager_.completeDidePanel(win_,winCash_),gameClass_.changeBet(prevBet_)}function showFrPanel_(arg){frBet_=arg.betlevel,displayManager_.getGroup("frWonPanel").y=-1200,displayManager_.getGroup("frWonPanel").visible=!0,displayManager_.getText("frWLabel").setText(Translate["do"]("Congratulation")+" "+Translate["do"]("you activated")),displayManager_.getText("frWLabel1").setText("Free Rounds\n"+Translate["do"]("Your bet amount will be changed to")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(frBet_,Util.getNubersOfDecimal())+"\n"+Translate["do"]("Good Luck!")),displayManager_.getText("frValue1").setText(frWonNum_),TweenMax.to(displayManager_.getGroup("frWonPanel"),.5,{alpha:1,y:0,ease:Bounce.easeOut})}function hideFrPanel_(){TweenMax.to(displayManager_.getGroup("frWonPanel"),.5,{alpha:0,y:-1200,ease:Linear.easeIut,onCOmplete:completeHide_})}function completeHide_(){displayManager_.getGroup("frWonPanel").visible=!1}function getFreeRoundsEval_(){if(isInFr_||frWon_){if(freeRoundsNum_>0&&0==frWon_)return displayManager_.getText("frTotWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),!0;if(frWon_)return toggleFreeRounds_(),!0;if(1==freeSpinsManager_.getIsInFs()||1==freeSpinsManager_.getFsWon())return}return startCloseFr_(),!0}function startCloseFr_(){wasOnFr=!0,frWon_=!1,isInFr_=!0,freeRoundsNum_=0,setTimeout(buttonManager_.applyHide,20);for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;displayManager_.getText("frWLabel").setText(Translate["do"]("Congratulation")+"\n"+Translate["do"]("You have won")),displayManager_.getText("frValue1").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getText("frWLabel1").setText(Translate["do"]("Free Rounds has now ended")+"\n"+Translate["do"]("Bet amount will now be reset back")),TweenMax.to(displayManager_.getGroup("freeRounds"),.5,{alpha:0,ease:Sine.easeOut,onComplete:showFrTotWonPanel_}),displayManager_.getText("frValue").setText(""),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function frExpires_(){}var win_,prevBet_,frBet_,gameClass_=gameClass,freeRoundsNum_=0,isInFr_=!1,frWon_=!1,frWonNum_=0,wasOnFr=!1,winCash_=0,winFS_=0,emitter_=[],me={toggleFreeRounds:toggleFreeRounds_,getFreeRoundsEval:getFreeRoundsEval_,updateFreeRoundsNum:updateFreeRoundsNum_,updateFreeRoundsTot:updateFreeRoundsTot_,frExpires:frExpires_,addWin:addWin_,showFrPanel:showFrPanel_,hideFrPanel:hideFrPanel_,parse:parse_,getFrNumber:function(){return freeRoundsNum_},getIsInFr:function(){return isInFr_},setIsInFr:function(state){isInFr_=state},getFrWon:function(){return frWon_},frWon:function(obj){frWonNum_=obj.rounds,freeRoundsNum_=obj.rounds,frWon_=!0,frBet_=obj.betlevel,winFS_=0,null!=obj.totWon&&void 0!=obj.totWon&&(winCash_+=Number(obj.totWon))},updateFrBalance:function(val){winCash_-=val}};return initClass_(),me}function FreeRoundsManager(gameRef,gameClass){function initClass_(){"normal"==ReelConfig.freeRounds&&(freeRoundsClass_=new FreeRounds(game_,gameClass_))}function frChecker_(){gameInfo.freeRoundsAvailable&&0==waiting_&&0==freeRoundsClass_.getIsInFr()&&communicationManager_.freeRoundsRequest("mode=getInfo").done(function(response){if(frObject=response.response,typeof frObject!==Array||"NH"!=buttonManager_.getCurrentState()&&"bonus"!=communicationManager_.getResumeStatus().status.hand){if(frObject.error_code==-1)return void setTimeout(frChecker_,4e3);0==waiting_&&"INPROGRESS"==frObject.status.state.toUpperCase()?(buttonManager_.applyHide(),activationId_=frObject.activationID,campaignId_=frObject.campaignID,expire_=frObject.endDate,message_=frObject.message,frObject.status.options=[],frObject.status.options[0]={},frObject.status.options[0].rounds=frObject.status.remaining,frObject.status.options[0].betlevel=frObject.status.betlevel,frObject.status.options[0].totWon=frObject.status.totalwin,frObject.status.options[0].id=activationId_,waiting_=!0,freeRoundMessageReq_.showMessage(frObject.status.remaining+" "+Translate["do"]("Free Rounds remaining"),Translate["do"]("with bet")+" "+balanceManager_.geBalanceObj().currency+Util.formatNumber(frObject.status.betlevel,Util.getNubersOfDecimal()),acceptFrResume_,frObject.status.options),frObject=null):0==waiting_&&me.handleFr()&&null!=frObject.status.options&&"NH"==buttonManager_.getCurrentState()&&(activationId_=frObject.activationID,campaignId_=frObject.campaignID,expire_=frObject.endDate,message_=frObject.message,frObject.status.options.canReject=frObject.status.canReject,frWon_(frObject.status.options),frObject=null)}else for(var a in frObject)0==waiting_&&me.handleFr()&&null!=frObject[a].status.options&&(activationId_=frObject[a].activationID,campaignId_=frObject[a].campaignID,expire_=frObject[a].endDate,frObject[a].status.options.canReject=frObject.status.canReject,message_=frObject[a].message,frWon_(frObject[a].status.options),frObject[a]=null)})}function frWon_(obj){"NH"==buttonManager_.getCurrentState()?0==freeRoundsClass_.getIsInFr()&&(freeRoundsClass_.frWon(obj),activeFreeRounds_(obj)):setTimeout(frWon_,500,obj)}function frExpires_(){waiting_||("NH"==buttonManager_.getCurrentState()?(waiting_=!0,freeRoundsClass_.frExpires()):setTimeout(frExpires_,500))}function activeFreeRounds_(obj){null!=freeRoundsClass_&&freeRoundsClass_.getFrWon()&&("NH"==buttonManager_.getCurrentState()?(waiting_=!0,buttonManager_.applyHide(),freeRoundMessageReq_.showMessageYN(Translate["do"]("Free Rounds awarded, please choose your option"),Translate["do"]("Expiring date")+":"+expire_,acceptFr_,declineFr_,message_,obj)):setTimeout(activeFreeRounds_,500,obj))}function acceptFr_(arg){communicationManager_.freeRoundsRequest("mode=choice&pick="+arg.id+"&activationID="+activationId_+"&campaignID="+campaignId_).done(function(response){freeRoundsClass_.frWon(arg),freeRoundsClass_.showFrPanel(arg),setTimeout(freeRoundsClass_.hideFrPanel,1e3*displayManager.groups.frWonPanel.duration),setTimeout(startFr_,1e3*displayManager.groups.frWonPanel.duration+200,arg)})}function acceptFrResume_(arg){freeRoundsClass_.frWon(arg),setTimeout(startFr_,2e3)}function startFr_(arg){0==freeSpinsManager_.getIsInFs()&&buttonManager_.applyRestore(),freeRoundsClass_.toggleFreeRounds(),waiting_=!1,arg=null,null!=gameClass_.frStart&&gameClass_.frStart()}function declineFr_(arg){arg.started=2,buttonManager_.applyRestore(),waiting_=!1}function parse_(json){freeRoundsClass_.parse(json)}function startHidePanel_(win,winCash){freeRoundsClass_.setIsInFr(!1),balanceManager_.forceBalanceAfterFR(winCash),0==balanceManager_.getShowIncredits()?lineManager_.completeBonusValue(winCash,Translate["do"]("Free Rounds Win")):lineManager_.completeBonusValue(win,Translate["do"]("Free Rounds Win"))}function completeDidePanel_(win){if(lineEvalTOut_=0,autoPlayManager_.toggleFeature(!1),freeRoundsManager_.resetWaintingFlag(),displayManager_.getGroup("freeRounds").visible=!1,win>0){"7013"!=gameParams.gameID&&"7015"!=gameParams.gameID&&"7016"!=gameParams.gameID&&"7017"!=gameParams.gameID&&"7019"!=gameParams.gameID&&"7022"!=gameParams.gameID&&"7023"!=gameParams.gameID||0==balanceManager_.getShowIncredits()&&(win=win*balanceManager_.getCoinValue()/lineManager_.getLinesNumber());var time=lineManager_.showBonusCentralWinGreetings(win);lineEvalTOut_=setTimeout(goBackAfterCentralWin_,time)}else autoPlayManager_.setCanAp(!0),buttonManager_.applyRestore();null!=gameClass_.frStop&&gameClass_.frStop()}function goBackAfterCentralWin_(){autoPlayManager_.setCanAp(!0),lineManager_.clearLine()}var freeRoundsClass_,activationId_,campaignId_,expire_,message_,game_=gameRef,gameClass_=gameClass,waiting_=!1,frObject={activationID:"bo20171012104617312.246",campaignID:"1x2_CherryBlast",endDate:9999999999999,totalValue:"120.00",message:"ggRxKMS6dFI nncqsi3jmx f0s7bFu7GLYrlmM6PE wollopucCb6 DaP2ZRunbb0U  8E MM4n  Dlbnf9eWc7JtOn53RDTCipUYXxUbmQgCN7t5gA f14CBNrs 9fc3m0RV2 QN",status:{state:"OFFERED",numOptions:"1",canReject:"1",options:[{id:1,betlevel:10,rounds:2},{id:2,betlevel:6,rounds:20},{id:3,betlevel:.4,rounds:40},{id:4,betlevel:.2,rounds:10}]}},me={parse:parse_,activeFreeRounds:activeFreeRounds_,frWon:frWon_,frExpires:frExpires_,frChecker:frChecker_,startHidePanel:startHidePanel_,completeDidePanel:completeDidePanel_,resetWaintingFlag:function(){waiting_=!1},getFrWon:function(){return freeRoundsClass_.getFrWon()},getFrNumber:function(){return freeRoundsClass_.getFrNumber()},getIsInFr:function(){return freeRoundsClass_.getIsInFr()},updateFreeRoundsNum:function(){null!=freeRoundsClass_&&0==freeSpinsManager_.getIsInFs()&&1==freeRoundsClass_.getIsInFr()&&freeRoundsClass_.updateFreeRoundsNum()},updateFreeRoundsTot:function(){null!=freeRoundsClass_&&0==freeSpinsManager_.getIsInFs()&&1==freeRoundsClass_.getIsInFr()&&freeRoundsClass_.updateFreeRoundsTot()},getFreeRoundsEval:function(){return freeRoundsClass_.getFreeRoundsEval()},addWin:function(amt){freeRoundsClass_.addWin(amt)},handleFr:function(){return null!=freeRoundsClass_},getActivationID:function(){return activationId_},getCampaignID:function(){return campaignId_},updateFrBalance:function(val){freeRoundsClass_.updateFrBalance(val)}};return initClass_(),me}function AccumFreeSpins(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("freeSpinAccumulator");for(var a=1;a<=displayManager.groups.freeSpinAccumulator.maxFs;a++)mainGroup_["accu"+a].visible=!1,mainGroup_["ball"+a].visible=!1}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&json.freeSpin.totalWin>0&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),freeSpinNum_>5&&(freeSpinNum_=5)}function resumeFs_(){balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_),resumeFsAcc_(!0),toggleFreeSpins_()}function resumeFsAcc_(resume){stopIdle_=!0;for(var a in carIdle_)null!=carIdle_[a]&&(carIdle_[a].visible=!1,carIdle_[a].destroy());carIdle_=[],resume||(freeSpinNum_=communicationManager_.getResumeStatus().status.collects[framework.getBetValues().indexOf(Util.formatNumber(balanceManager_.getCoinValue(),2))]);for(var a=1;a<=displayManager.groups.freeSpinAccumulator.maxFs;a++)mainGroup_["ball"+a].visible=!0,mainGroup_["accu"+a].visible=!1;clearTimeout(irandomizeCaracter_),freeSpinNum_>0&&randomizeCaracter_(),updateFreeSpinAccu_(),updateFreeSpinsData_(),setTimeout(restoreIdleCount_,2e3)}function updateFsNum_(){animateCaracter_(freeSpinNum_,"intro")}function randomizeCaracter_(){var lastCar=freeSpinNum_-1,randNumber=Util.getRandomInt(1,100),carNumber=Util.getRandomInt(1,lastCar);if(carNumber>0&&1==mainGroup_["accu"+carNumber].visible&&randNumber>100-randomFreq_){var ret=checkFreq("trick");if(1==ret&&0==isInFs_){var cbCaracter=[];0==isInFs_&&lastCar++;for(var i=1;i<=lastCar;i++)i!=carNumber&&cbCaracter.push(i);return animateCaracter_(carNumber,"trick",cbCaracter,"happy"),void(irandomizeCaracter_=setTimeout(randomizeCaracter_,Util.getRandomInt(randomTimeMinOut_,randomTimeMaxOut_)))}var ret=checkFreq("happy");if(1==ret)return animateCaracter_(carNumber,"happy"),void(irandomizeCaracter_=setTimeout(randomizeCaracter_,Util.getRandomInt(randomTimeMinOut_,randomTimeMaxOut_)));var ret=checkFreq("active");if(1==ret)return animateCaracter_(carNumber,"active"),void(irandomizeCaracter_=setTimeout(randomizeCaracter_,Util.getRandomInt(randomTimeMinOut_,randomTimeMaxOut_)));var ret=checkFreq("static");if(1==ret)return animateCaracter_(carNumber,"static"),void(irandomizeCaracter_=setTimeout(randomizeCaracter_,Util.getRandomInt(randomTimeMinOut_,randomTimeMaxOut_)))}irandomizeCaracter_=setTimeout(randomizeCaracter_,Util.getRandomInt(randomTimeMinOut_,randomTimeMaxOut_))}function checkFreq(type){var randNumber=Util.getRandomInt(1,100);return randNumber<=freq_[type]?1:0}function animateCaracter_(num,animation,caracter,callBackAnimation){if(logger("anim c"+animation+" "),!stopIdle_){var s=game_.add.sprite(mainGroup_["accu"+num].children[0].x,mainGroup_["accu"+num].children[0].y,"fs-"+animation);s.animations.add("anim"),carIdle_.push(s),mainGroup_.add(s),s.anchor.set(.5,.5),s.visible=!0,s.scale.x=1,s.scale.y=1,mainGroup_["accu"+num].visible=!1,null!=caracter?(soundManager_.playSound("fs-"+animation+Util.getRandomInt(0,1)),s.animations.play("anim",24,!1,!0,idleAnimationEnd_,[num,caracter,callBackAnimation])):"used"==animation?(soundManager_.playSound("fs-"+animation),s.animations.play("anim",24,!1,!0,animationEnd_,[num])):"intro"==animation?(soundManager_.playSound("fs-"+animation),mainGroup_["ball"+num].visible=!1,s.animations.play("anim",24,!1,!0,idleAnimationEnd_,[num,[num],"happy"]),setTimeout(restoreIdleCount_,2e3)):"active"==animation?(soundManager_.playSound("fs-"+animation+Util.getRandomInt(0,2)),s.animations.play("anim",24,!1,!0,idleAnimationEnd_,[num])):"static"==animation?(soundManager_.playSound("fs-"+animation+Util.getRandomInt(0,1)),s.animations.play("anim",24,!1,!0,idleAnimationEnd_,[num])):"happy"==animation?(soundManager_.playSound("fs-"+animation+Util.getRandomInt(0,3)),s.animations.play("anim",24,!1,!0,idleAnimationEnd_,[num])):(soundManager_.playSound("fs-"+animation),s.animations.play("anim",24,!1,!0,idleAnimationEnd_,[num]))}}function restoreIdleCount_(){stopIdle_=!1}function animationEnd_(params){var num=params[0];mainGroup_["ball"+num].visible=!0}function idleAnimationEnd_(params){var num=params[0],caracter=params[1],callBackAnimation=params[2];if(mainGroup_["accu"+num].visible=!0,void 0!=caracter)for(var a in caracter)logger("anim callback"+callBackAnimation),animateCaracter_(caracter[a],callBackAnimation)}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,updateFreeSpinsData_(),0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})),soundManager_.mixBgSound("bgFs",1e3,1e3))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut});for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinAccu_(){for(var a=1;a<=freeSpinNum_;a++)mainGroup_["accu"+a].visible=!0,mainGroup_["ball"+a].visible=!1}function updateFreeSpinsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_-1),isInFs_&&freeSpinNum_>=0&&freeSpinNum_>=0&&animateCaracter_(freeSpinNum_,"used")}function updateFreeSpinsData_(){updateFreeSpinsTotWon_(),updateFreeSpinsMult_()}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){displayManager_.getText("fsMultValue").setText("x"+mult_)}function showFsTotWonPanel_(){freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){for(var a in carIdle_)null!=carIdle_[a]&&(carIdle_[a].visible=!1,carIdle_[a].destroy());if(communicationManager_.getResumeStatus().status.collects[framework.getBetValues().indexOf(Util.formatNumber(balanceManager_.getCoinValue(),Util.getNubersOfDecimal()))]=0,win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[win_,winCash_]})}else gameClass_.hideFs(),isInFs_=!1,buttonManager_.applyRestore()}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()?evt.addEvent(showFsPanel1_,1200,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,3e3))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,winCash_,mult_,mainGroup_,game_=gameRef,gameClass_=gameClass,freeSpinNum_=0,freeSpinTH_=3,isInFs_=!1,fsWon_=!1,fsInc_=!1,fsWonNum_=0,fsAddNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],stopIdle_=!1,carIdle_=[],irandomizeCaracter_=0,unsettledWin_=0,randomFreq_=45,freq_={trick:8,happy:35,"static":35,active:40},randomTimeMinOut_=1500,randomTimeMaxOut_=4500,me={parse:parse_,toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFsNum:updateFsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,resumeFsAcc:resumeFsAcc_,resumeFs:resumeFs_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,updateFreeSpinAccu:updateFreeSpinAccu_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsInc_&&displayManager_.getText("fsValue").setText(freeSpinNum_),fsWon_},addCollectedFs:function(){communicationManager_.getResumeStatus().status.collects[framework.getBetValues().indexOf(Util.formatNumber(balanceManager_.getCoinValue(),Util.getNubersOfDecimal()))]++,fsAddNum_=1},getFsAdd:function(){return fsAddNum_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,fsInc_=!0,0==isInFs_&&freeSpinNum_>=freeSpinTH_&&(fsWon_=!0,win_=0,winCash_=0,mult_=1)}};return initClass_(),me}function BarbarianFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,fsWon_=!1,fsAddTier_=0,fsAddWild_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,nuFSFromJson_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),void 0!=json.freeSpin.object&&null!=json.freeSpin.object.freespinTier&&(level_=json.freeSpin.object.freespinTier),void 0!=json.freeSpin.object&&null!=json.freeSpin.object.wonAdditionalEndLevel&&(fsAddTier_=json.freeSpin.object.wonAdditionalEndLevel),void 0!=json.freeSpin.object&&null!=json.freeSpin.object.wonAdditionalFromWilds&&(fsAddWild_=json.freeSpin.object.wonAdditionalFromWilds)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_),displayManager_.getGroup("logo").visible=!1,displayManager_.getGroup("bg").visible=!1,displayManager_.getGroup("mask").visible=!1,displayManager_.getGroup("frame").visible=!1,displayManager_.getGroup("buyFeature").visible=!1,displayManager_.getGroup("bgFS1").visible=!1,displayManager_.getGroup("maskFS1").visible=!1,displayManager_.getGroup("frameFS1").visible=!1,displayManager_.getGroup("bgFS2").visible=!1,displayManager_.getGroup("maskFS2").visible=!1,displayManager_.getGroup("frameFS2").visible=!1,fsAddTier_>0&&level_++,displayManager_.getGroup("bgFS"+level_).visible=!0,displayManager_.getGroup("maskFS"+level_).visible=!0,displayManager_.getGroup("frameFS"+level_).visible=!0,soundManager_.playBgSound("bgFs"+level_),updateFreeSpinsMult_(),toggleFreeSpins_(),setFsLevel_()}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0||(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").visible=!0,displayManager_.getGroup("freeSpins").alpha=0,displayManager_.getText("fsMultValue").text="",0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{alpha:1,ease:Bounce.easeOut})))}function logoOut_(){displayManager_.getGroup("freeSpins").visible=!0,TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{alpha:1,ease:Bounce.easeOut})}function updateFreeSpinsNum_(){freeSpinNum_-=1,displayManager_.getText("fsValue").setText(freeSpinNum_)}function bounce(txt){TweenMax.to(txt.scale,.4,{x:1.2,y:1.2,ease:Bounce.easeOut,onComplete:move,onCompleteParams:[txt]})}function move(txt){freeSpinsManager_.updateFreeSpinsMult(),freeSpinsManager_.updateFreeSpinsTotWon(),TweenMax.to(txt,2,{alpha:0,onComplete:kill,onCompleteParams:[txt]})}function kill(txt){txt.visible=!1,txt.destroy()}function updateFreeSpinsData_(){updateFreeSpinsTotWon_()}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){displayManager_.getText("fsMultValue").text!="x"+mult_&&mult_>1&&(""==displayManager_.getText("fsMultValue").text&&TweenMax.to(displayManager_.getGroup("freeSpins").fsP.children[0].scale,.2,{x:1.15,y:1.15,ease:Power1.easeInOut,onComplete:fadeFSH_}),setTimeout(updateMultCounter_,500))}function fadeFSH_(){displayManager_.getGroup("freeSpins").fsP.children[0].visible=!1,displayManager_.getGroup("freeSpins").fsP.children[0].scale.x=1,displayManager_.getGroup("freeSpins").fsP.children[0].scale.y=1}function updateMultCounter_(){displayManager_.getText("fsMultValue").setText("x"+mult_)}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWinPanel").visible=!1,displayManager_.getGroup("fsWinPanel").alpha=0,displayManager_.getGroup("fsEndPanel").visible=!0,displayManager_.getGroup("fsEndPanel").alpha=0,displayManager_.getGroup("freeSpins").visible=!1,winCash_>0&&(gameClass_.getCompulsivePlayer()||soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),hideFs_(),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsEndPanel"),.5,{alpha:1,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(displayManager_.getGroup("logo").visible=!0,displayManager_.getGroup("bg").visible=!0,displayManager_.getGroup("mask").visible=!0,displayManager_.getGroup("buyFeature").visible=!0,displayManager_.getGroup("frame").visible=!0,displayManager_.getGroup("bgFS1").visible=!1,displayManager_.getGroup("maskFS1").visible=!1,displayManager_.getGroup("frameFS1").visible=!1,displayManager_.getGroup("bgFS2").visible=!1,displayManager_.getGroup("maskFS2").visible=!1,displayManager_.getGroup("frameFS2").visible=!1,framework.isTouch()||(displayManager_.getText("lineWin").y=displayManager_.getText("lineWin").y+100),win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsEndPanel"),.5,{delay:time+2,alpha:0,ease:Linear.easeIn,onStart:startHidePanel_,onStartParams:[win_,winCash_],onComplete:completeDidePanel_,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsEndPanel"),.5,{delay:3,alpha:0,ease:Linear.easeIn,onStart:startHidePanel_,onStartParams:[0,0],onComplete:completeDidePanel_,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function startHidePanel_(win,winCash){balanceManager_.setCanUpdate(!0),me.setIsInFs(!1),winManager_.resetWinAmt(),winManager_.setWinAmountBonus(winCash),balanceManager_.forceBalanceAfterFS(winCash),0==balanceManager_.getShowIncredits()?lineManager_.completeBonusValue(winCash,"Free Spins Win",5e3):lineManager_.completeBonusValue(win,"Free Spins Win",5e3)}function completeDidePanel_(win){var lineEvalTOut_=4e3;if(me.setIsInFs(!1),autoPlayManager_.toggleFeature(!1),win>0){var lineEvalTOut_=lineManager_.showBonusCentralWinGreetings(win)/2;setTimeout(goBackAfterCentralWin_,lineEvalTOut_)}else autoPlayManager_.setCanAp(!0);gameClass_.hideFs(lineEvalTOut_),displayManager_.getGroup("fsCounter").visible=!1}function goBackAfterCentralWin_(){autoPlayManager_.setCanAp(!0),lineManager_.clearLine(),lineManager_.idle(!0)}function showFsPanel_(){soundManager_.playSound("fsPanelWon"),displayManager_.getGroup("fsWinPanel").visible=!0,displayManager_.getGroup("fsWinPanel").alpha=0,displayManager_.getGroup("logo").visible=!1,displayManager_.getGroup("bg").visible=!1,displayManager_.getGroup("mask").visible=!1,displayManager_.getGroup("buyFeature").visible=!1,displayManager_.getGroup("frame").visible=!1,displayManager_.getGroup("bgFS1").visible=!1,displayManager_.getGroup("maskFS1").visible=!1,displayManager_.getGroup("frameFS1").visible=!1,displayManager_.getGroup("bgFS2").visible=!1,displayManager_.getGroup("maskFS2").visible=!1,displayManager_.getGroup("frameFS2").visible=!1,
fsAddTier_>0&&level_++,displayManager_.getText("fsW2Small").setText(Translate["do"](0==gameClass_.getBuyIn()?"YOU HAVE BEEN AWARDED":"YOU BOUGHT")),level_>1?(soundManager_.mixBgSound("bgFs2",1e3,1e3),displayManager_.getText("fsW1Big").setText(Translate["do"]("THE CAVE OF GOLD")),displayManager_.getText("fsW2Big").setText(fsWonNum_)):(soundManager_.mixBgSound("bgFs1",1e3,1e3),displayManager_.getText("fsW1Big").setText(Translate["do"]("THE CAVE OF LAVA")),displayManager_.getText("fsW2Big").setText(fsWonNum_)),displayManager_.getGroup("bgFS"+level_).visible=!0,displayManager_.getGroup("frameFS"+level_).visible=!0,displayManager_.getGroup("maskFS"+level_).visible=!0,displayManager_.getGroup("fsCounter").visible=!0,TweenMax.to(displayManager_.getGroup("fsWinPanel"),.5,{alpha:1,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWinPanel"),.5,{alpha:0,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWinPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,level_=1,win_>0?(displayManager_.getText("fsE2").setText(Translate["do"]("CONGRATULATION")),displayManager_.getText("fsE3").setText(Translate["do"]("YOU'VE WON"))):(displayManager_.getText("fsE2").setText(Translate["do"]("better luck").toUpperCase()),displayManager_.getText("fsE3").setText(Translate["do"]("the next time").toUpperCase())),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{alpha:0,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){isInFs_=!1}function endAnimHandle_(evt){if(me.getFsWon()||fsAddTier_>0)fsAddTier_>0&&(freeSpinNum_=nuFSFromJson_),evt.addEvent(showFsPanel1_,300,[evt]);else if(1==me.getIsInFs()&&me.getFsNumber()<=0)null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime());else if(fsAddWild_>0&&(freeSpinNum_=nuFSFromJson_,displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_)){var msg="+"+fsAddWild_,txt=new Phaser.BitmapText(game_,displayManager_.getText("fsValue").x+50,displayManager_.getText("fsValue").y-10,"multiBmpFont",msg,40,"center");txt.alpha=0,txt.anchor.set(.5,.5),displayManager_.getGroup("freeSpins").add(txt),TweenMax.to(txt,.2,{alpha:1}),TweenMax.to(txt.scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[txt]})}}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),setFsLevel_(),autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),0==gameClass_.getBuyIn()&&evt.clearEvt(),1==gameClass_.getBuyIn()&&(mult_=1,fsWon_=!1),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(evt.addEvtForce(showFsPanel_,1e3),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWinPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(evt.addEvtForce(showFsPanel_,1e3),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWinPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}function setFsLevel_(){}var win_,winCash_,mult_,game_=gameRef,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,level_=1,fsAddTier_=!1,fsAddWild_=!1,nuFSFromJson_=0,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0,0==isInFs_?(soundManager_.playSound("fsWon"),winCash_=0,win_=0):soundManager_.playSound("fsWon2")},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_};return initClass_(),me}function CabinetFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,fsPlayed_=json.freeSpin.fsPlayed,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,null!=json.status.multiplier&&json.status.multiplier>0&&(mult_=json.status.multiplier),unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){oldWinAmt_=winCash_,balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_),toggleFreeSpins_()}function toggleFreeSpins_(){null==ReelConfig.maxFsNum?displayManager_.getText("fsValue").setText(freeSpinNum_):displayManager_.getText("fsValue").setText(ReelConfig.maxFsNum-freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,fsPlayed_=0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?logoOut_():(TweenMax.to(displayManager_.getGroup("freeRounds"),0,{y:-400,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),0,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut();for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){null==ReelConfig.maxFsNum?displayManager_.getText("fsValue").setText(freeSpinNum_-1):displayManager_.getText("fsValue").setText(ReelConfig.maxFsNum-(freeSpinNum_-1))}function updateFreeSpinsData_(){oldWinAmt_=Number(winCash_),1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){oldWinAmt_=Number(winCash_),1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function addToFsTotWon_(amt){oldWinAmt_+=Number(amt),1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(oldWinAmt_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(oldWinAmt_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").alpha=0,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()||TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{alpha:1,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{delay:time+2,alpha:0,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{delay:3,alpha:0,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function showFsPanel_(){null!=gameClass_.decreaseVolumeBG&&gameClass_.decreaseVolumeBG(),soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").alpha=0,displayManager_.getGroup("fsWonPanel").y=0,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{alpha:1}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{alpha:0,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,oldWinAmt_=0,null!=ReelConfig.maxFsNum&&fsPlayed_>=Number(ReelConfig.maxFsNum)?displayManager_.getText("fsWLabel").setText(Translate["do"]("Maximum number of Free spins reached")):displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),0,{y:-400,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),0,{y:-400,ease:Sine.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,4300,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel_(),evt.addEvtForce(toggleFreeSpins_,1e3*displayManager.groups.fsWonPanel.duration-1800),evt.addEvtForce(me.hideFsPanel,1800),evt.addEvent(gameClass_.fsEval,0),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(toggleFreeSpins_,1e3*displayManager.groups.fsWonPanel.duration-1800),evt.addEvtForce(me.hideFsPanel,1800),evt.addEvent(gameClass_.fsEval,0),evt.triggerEvt())}var win_,winCash_,gameClass_=gameClass,freeSpinNum_=0,fsPlayed_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,oldWinAmt_=0,mult_=1,emitter_=[],unsettledWin_=0,type_="",me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,addToFsTotWon:addToFsTotWon_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function FreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,fsPlayed_=json.freeSpin.fsPlayed,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),void 0!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,null!=json.status.multiplier&&json.status.multiplier>0&&(mult_=json.status.multiplier),unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){balanceManager_.balanceBonusUpdate(winCash_,"7003"==gameParams.gameID?0:unsettledWin_),toggleFreeSpins_()}function toggleFreeSpins_(){null==ReelConfig.maxFsNum?displayManager_.getText("fsValue").setText(freeSpinNum_):displayManager_.getText("fsValue").setText(ReelConfig.maxFsNum-freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,fsPlayed_=0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-400,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-400,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut();for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){null==ReelConfig.maxFsNum?displayManager_.getText("fsValue").setText(freeSpinNum_-1):displayManager_.getText("fsValue").setText(ReelConfig.maxFsNum-(freeSpinNum_-1))}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),"7003"==gameParams.gameID&&unsettledWin_>winCash_,win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function showFsPanel_(){null!=gameClass_.decreaseVolumeBG&&gameClass_.decreaseVolumeBG(),soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,null!=ReelConfig.maxFsNum&&fsPlayed_>=Number(ReelConfig.maxFsNum)?displayManager_.getText("fsWLabel").setText(Translate["do"]("Maximum number of Free spins reached")):displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(""),displayManager_.getText("fsWLabel1").setText("")),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,1200,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,winCash_,gameClass_=gameClass,freeSpinNum_=0,fsPlayed_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,mult_=1,emitter_=[],unsettledWin_=0,type_="",me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){"7015"!=gameParams.gameID&&autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function FreeSpinsBackgroundJM(gameRef,gameClass){function initClass_(){hideFs_()}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,passedJson=json,null!=json.status.feature&&(type_="",1==json.status.feature&&(type_="demon")),null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){"demon"===type_||(soundManager_.playBgSound("bgFs"),balanceManager_.balanceBonusUpdate(unsettledWin_-10),toggleFreeSpins_())}function toggleFreeSpins_(){if(displayManager_.getText("fsValue").setText(freeSpinNum_),"demon"==type_)return void(0==isInFs_&&autoPlayManager_.toggleFeature(!1));if(isInFs_&&freeSpinNum_>0)fsWon_=!1;else{0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()));var fsG=displayManager_.getGroup("freeSpins");fsG.alpha=0,fsG.visible=!0;var fsBG=displayManager_.getGroup("freespinsbg"),fsMask=displayManager_.getGroup("freespinsMask");fsBG.alpha=0,fsMask.alpha=0,fsBG.visible=!0,fsMask.visible=!0,TweenMax.to(fsBG,.5,{alpha:1}),TweenMax.to(fsMask,.5,{alpha:1}),TweenMax.to(fsG,.5,{alpha:1})}}function updateFreeSpinsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;return emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,"demon"==type_?(wasOnFs=!0,fsWon_=!1,void(isInFs_=!1)):(winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),void soundManager_.mixBgSound("bgSlot",1e3,1e3))}function hideTotPanel_(){if(win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){if(wasOnFs=!0,fsWon_=!1,isInFs_=!1,"demon"!=type_){displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time")));var fsG=displayManager_.getGroup("freeSpins");showFsTotWonPanel_();var fsBG=displayManager_.getGroup("freespinsbg"),fsMask=displayManager_.getGroup("freespinsMask");TweenMax.to(fsBG,.5,{alpha:0}),TweenMax.to(fsMask,.5,{alpha:0}),TweenMax.to(fsG,.5,{alpha:0})}}function hideFs_(){var fsG=displayManager_.getGroup("freeSpins");TweenMax.to(fsG,.5,{alpha:0}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&void 0!=me.getType&&"stickySpins"!=me.getType()&&"demon"!=me.getType()?evt.addEvent(showFsPanel1_,1200,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&(evt.addEvent(me.toggleFreeSpins,1200),type_="demon"):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,3e3))}function showFsPanel1_(par){if(me.getFsNumber()>0){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}else fsWon_=!1}var win_,winCash_,mult_,passedJson,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},getType:function(){return type_},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_};return initClass_(),me}function FreeSpinsManager(gameRef,gameClass){function initClass_(){triggerIcon_=ReelConfig.fsIcon;try{freeSpinsClass_=new window[ReelConfig.freeSpins](game_,gameClass_)}catch(e){}}function showFsIconAfterSubst_(par1){if(par1.length>0)for(var a in par1){var iconN=par1[a].smbNum;add=!0;var smb=new Phaser.Sprite(game_,par1[a].x,par1[a].y,"anim"+iconN);smb.anchor.set(.5,.5),smb.animations.add("anim"),smb.scale.x=1,smb.scale.y=1,par1[a].visible=!1,spinManager_.getReelGroup(par1[a].reel).add(smb),spinManager_.setAnimationMap(par1[a].reel,par1[a].smb,smb),smb.animations.play("anim",24,!1,!0,updateIcon_,[par1[a],a]),soundManager_.playSound("smbWin_"+iconN)}}function updateIcon_(obj){obj[0].visible=!0}function endAnimHandle_(evt){null!=freeSpinsClass_&&freeSpinsClass_.endAnimHandle(evt)}function resumeFsAcc_(){null!=freeSpinsClass_.resumeFsAcc&&freeSpinsClass_.resumeFsAcc()}function resumeFs_(){freeSpinsClass_.resumeFs()}function updateFsNum_(par){freeSpinsClass_.updateFsNum(par)}function parse_(json){autoPlayManager_.toggleFeature(!1),freeSpinsClass_.parse(json)}function updateFreeSpinsTotWon_(){freeSpinsClass_.updateFreeSpinsTotWon()}function updateFreeSpinsMult_(m){freeSpinsClass_.updateFreeSpinsMult(m)}function startHidePanel_(win,winCash){freeSpinsClass_.setIsInFs(!1),winManager_.resetWinAmt(),winManager_.setWinAmountBonus(winCash),balanceManager_.forceBalanceAfterFS(winCash);var p={};p.value=winCash,freeRoundsManager_.parse(p),win>0&&(0==balanceManager_.getShowIncredits()?lineManager_.completeBonusValue(winCash,"Free Spins Win"):lineManager_.completeBonusValue(win,"Free Spins Win"))}function completeDidePanel_(win,winCash){if(displayManager_.getGroup("fsWonPanel").visible=!1,lineEvalTOut_=0,autoPlayManager_.toggleFeature(!1),win>0){var time=lineManager_.showBonusCentralWinGreetings(win);lineEvalTOut_=setTimeout(goBackAfterCentralWin_,time)}else null!=freeSpinsClass_.setClearEndPanel&&freeSpinsClass_.setClearEndPanel(),
autoPlayManager_.setCanAp(!0),buttonManager_.applyRestore();gameClass_.hideFs(lineEvalTOut_)}function goBackAfterCentralWin_(){null!=freeSpinsClass_.setClearEndPanel&&freeSpinsClass_.setClearEndPanel(),autoPlayManager_.setCanAp(!0),lineManager_.clearLine()}var freeSpinsClass_,triggerIcon_,game_=gameRef,gameClass_=gameClass,minNumTriggerIcon_=ReelConfig.minFsSmbs,lineEvalTOut_=0,me={parse:parse_,endAnimHandle:endAnimHandle_,updateFsNum:updateFsNum_,resumeFsAcc:resumeFsAcc_,resumeFs:resumeFs_,showFsIconAfterSubst:showFsIconAfterSubst_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,startHidePanel:startHidePanel_,completeDidePanel:completeDidePanel_,showFsPanel1:function(num){freeSpinsClass_.showFsPanel1(num)},hideFsPanel:function(){buttonManager_.applyRestore(),freeSpinsClass_.hideFsPanel()},getTriggerIcon:function(){return null!=triggerIcon_?triggerIcon_:999},fsWon:function(num){freeSpinsClass_.fsWon(num)},getMinNumTriggerIcon:function(){return null==freeSpinsClass_?99:minNumTriggerIcon_},getFsNumber:function(){return null==freeSpinsClass_?0:freeSpinsClass_.getFsNumber()},getIsInFs:function(){return null!=freeSpinsClass_&&freeSpinsClass_.getIsInFs()},getFsWon:function(){return null==freeSpinsClass_?0:freeSpinsClass_.getFsWon()},updateFreeSpinsNum:function(){null!=freeSpinsClass_&&freeSpinsClass_.updateFreeSpinsNum()},updateFreeSpinsData:function(){null!=freeSpinsClass_&&freeSpinsClass_.updateFreeSpinsData()},getFreeSpinsEval:function(update){return null!=freeSpinsClass_&&freeSpinsClass_.getFreeSpinsEval(update)},getFsAdd:function(){return null!=freeSpinsClass_.getFsAdd?freeSpinsClass_.getFsAdd():0},addCollectedFs:function(){null!=freeSpinsClass_.addCollectedFs&&freeSpinsClass_.addCollectedFs()},addFs:function(num){null!=freeSpinsClass_.addFs&&freeSpinsClass_.addFs(num)},hideFs:function(){freeSpinsClass_.hideFs&&freeSpinsClass_.hideFs()},clearLineEval:function(){clearTimeout(lineEvalTOut_)},getEndPanelOn:function(){return null!=freeSpinsClass_.getEndPanelOn&&freeSpinsClass_.getEndPanelOn()},getType:function(){return null!=freeSpinsClass_.getType?freeSpinsClass_.getType():""},updateWin:function(amt){freeSpinsClass_.updateWin&&freeSpinsClass_.updateWin(amt)},addToFsTotWon:function(amt){freeSpinsClass_.addToFsTotWon&&freeSpinsClass_.addToFsTotWon(amt)}};return initClass_(),me}function FreeSpinsRichie(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,fsPlayed_=json.freeSpin.fsPlayed,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),void 0!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,null!=json.status.multiplier&&json.status.multiplier>0&&(mult_=json.status.multiplier),unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){resume_=!0,balanceManager_.balanceBonusUpdate(winCash_,0),toggleFreeSpins_()}function toggleFreeSpins_(){null==ReelConfig.maxFsNum?displayManager_.getText("fsValue").setText(freeSpinNum_):displayManager_.getText("fsValue").setText(ReelConfig.maxFsNum-freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,fsPlayed_=0,win_=0,1==balanceManager_.getShowIncredits()?(displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())),displayManager_.getText("totWonValue").num=Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):(displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getText("totWonValue").num=Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").alpha=0,displayManager_.getGroup("freeSpins").y=0,displayManager_.getGroup("freeSpins").visible=!0,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{alpha:0,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{alpha:1}),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut()))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{alpha:1}),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut()}function updateFreeSpinsNum_(){null==ReelConfig.maxFsNum?displayManager_.getText("fsValue").setText(freeSpinNum_-1):displayManager_.getText("fsValue").setText(ReelConfig.maxFsNum-(freeSpinNum_-1))}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?(displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())),displayManager_.getText("totWonValue").num=Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):(displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("totWonValue").num=Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?(displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())),displayManager_.getText("totWonValue").num=Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):(displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("totWonValue").num=Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999,displayManager_.getGroup("freeSpins").y=-500,displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{alpha:1}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine(),me.setIsInFs(!1),winManager_.resetWinAmt(),winManager_.setWinAmountBonus(winCash_),balanceManager_.forceBalanceAfterFS(winCash_);var p={};p.value=winCash_,freeRoundsManager_.parse(p),setTimeout(hideTotPanel_,1e3),soundManager_.getBGSound("bgFs").fadeOutBgSound(1e3),soundManager_.getBGSound("bgFs1").fadeOutBgSound(500),soundManager_.getBGSound("bgFs2").fadeOutBgSound(500),soundManager_.getBGSound("bgFs3").fadeOutBgSound(500),soundManager_.resetVolume("bgSlot"),soundManager_.playBgSound("bgSlot")}function hideTotPanel_(){if(resume_&&(balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_-winCash_),resume_=!1),win_>0){1==balanceManager_.getShowIncredits()?winAmtManager_.showIstantUpdateWin(win_,"Free Spins Win"):winAmtManager_.showIstantUpdateWin(winCash_,"Free Spins Win"),soundManager_.playSound("winPanel");var time=lineManager_.showBonusCentralWinGreetings(winCash_),lineEvalTOut_=setTimeout(goBackAfterCentralWin_,time);gameClass_.hideFs(lineEvalTOut_)}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function goBackAfterCentralWin_(){gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),buttonManager_.applyState("NH"),buttonManager_.applyRestore(),autoPlayManager_.setCanAp(!0),lineManager_.clearLine()}function showFsPanel_(){null!=gameClass_.decreaseVolumeBG&&gameClass_.decreaseVolumeBG(),soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.getBGSound("bgSlot").fadeOutBgSound(1e3),soundManager_.resetVolume("bgFs"),soundManager_.playBgSound("bgFs"),soundManager_.playAdditionalBgSound_("bgFs1"),soundManager_.playAdditionalBgSound_("bgFs2"),soundManager_.playAdditionalBgSound_("bgFs3"),completeHide_()}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,null!=ReelConfig.maxFsNum&&fsPlayed_>=Number(ReelConfig.maxFsNum)?displayManager_.getText("fsWLabel").setText(Translate["do"]("Maximum number of Free spins reached")):displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(""),displayManager_.getText("fsWLabel1").setText("")),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{alpha:0,ease:Sine.easeOut}),displayManager_.getText("fsValue").setText(""),setTimeout(showFsTotWonPanel_,500)}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{alpha:0}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,alpha:1}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,1200,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(evt.addEvtForce(me.hideFsPanel,1e3),evt.addEvent(gameClass_.fsEval,0),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1500),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}function txtFsBack_(num){displayManager_.getText("fsValue").setText(freeSpinNum_),TweenMax.to(displayManager_.getText("fsValue").scale,.2,{x:1,y:1,ease:Bounce.easeOut})}var win_,winCash_,gameClass_=gameClass,freeSpinNum_=0,fsPlayed_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,mult_=1,unsettledWin_=0,type_="",resume_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},addFs:function(num){num>0&&(freeSpinNum_+=num),TweenMax.to(displayManager_.getText("fsValue").scale,.2,{x:1.2,y:1.2,ease:Bounce.easeOut,onComplete:txtFsBack_,onCompleteParams:[freeSpinNum_]})},fsWon:function(num){"7015"!=gameParams.gameID&&autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function IrishFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),null!=json.freeSpin.type&&(type_=json.freeSpin.type),null!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected,type_=json.status.type),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){"tumble"!=type_&&(resume_=!0,idleCycleManager_.startIdleCycle(),toggleFreeSpins_())}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-1300,displayManager_.getGroup("freeSpins").visible=!0,displayManager_.getGroup("bg").visible=!1,displayManager_.getGroup("mask").visible=!1,displayManager_.getGroup("frame").visible=!1,displayManager_.getGroup("bgFS").visible=!0,displayManager_.getGroup("maskFS").visible=!0,displayManager_.getGroup("frameFS").visible=!0,idleCycleManager_.stopIdleCycle(),rainBow_=!1,null!=displayManager_.getGroup("idleObjects")&&(displayManager_.getGroup("idleObjects").visible=!1),0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){updateFreeSpinsMult_(),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0});for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){communicationManager_.getResumeStatus().status.type.indexOf("tumble")>=0||displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),updateFreeSpinsMult_()}function updateFreeSpinsTotWon_(){}function updateFreeSpinsMult_(m){null==m&&(m=mult_),displayManager_.getText("fsMultValue").setText(""),"x"+m!=displayManager_.getText("fsMultValue").text&&(0==rainBow_&&m>1&&1==game_.cache.checkImageKey("rainBow")&&(rainBowAnim_=game_.add.sprite(1118,170,"rainBow"),rainBowAnim_.anchor.set(.5,.5),rainBowAnim_.animations.add("anim"),rainBowAnim_.animations.play("anim",24,!1,!1),displayManager_.getGroup("rainBow").add(rainBowAnim_),rainBow_=!0),m>1&&(displayManager_.getText("fsMultValue").setText("x"+m),m%5==0?(soundManager_.playSound("multiplier_"+m/5),null!=soundManager_.getBGSound("bgFs"+m/5)&&(soundManager_.playAdditionalBgSound_("bgFs"+m/5),soundManager_.getBGSound("bgFs"+m/5).fadeInBgSoundExternal(500,1.8,soundManager_.getBGSound("bgFs").getSound().currentTime,null))):soundManager_.playSound("multiplier")))}function showFsTotWonPanel_(){displayManager_.getGroup("bgFS").visible=!1,displayManager_.getGroup("maskFS").visible=!1,displayManager_.getGroup("frameFS").visible=!1,displayManager_.getGroup("freeSpins").visible=!1,displayManager_.getGroup("bg").visible=!0,displayManager_.getGroup("mask").visible=!0,displayManager_.getGroup("frame").visible=!0,autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),"7017"==gameParams.gameID&&(displayManager_.getText("lineWin").y=380),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_})}function hideTotPanel_(){if(stopbg(),soundManager_.resetVolume("bgSlot"),soundManager_.playBgSound("bgSlot"),displayManager_.getText("fsMultValue").setText(""),void 0!=rainBowAnim_){for(var anim=[],b=1;b<=rainBowAnim_.animations._outputFrames.length;b++)anim.push(b);anim.reverse(),rainBowAnim_.animations.add("anim",anim),rainBowAnim_.animations.play("anim",24,!1,!0)}if(resume_&&(balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_-winCash_),resume_=!1),win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+.7,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyState("NH"),buttonManager_.applyRestore()}function stopbg(){soundManager_.getBGSound("bgFs").fadeOutBgSound(500),soundManager_.getBGSound("bgFs1").fadeOutBgSound(500),soundManager_.getBGSound("bgFs2").fadeOutBgSound(500)}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0}),lineManager_.clearLine(),setTimeout(switchSound_,2e3)}function switchSound_(){soundManager_.getBGSound("bgSlot").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot2").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot4").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot5").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot6").fadeOutBgSound(1e3),void 0!=soundManager_.getBGSound("bgSlot7")&&soundManager_.getBGSound("bgSlot7").fadeOutBgSound(1e3),void 0!=soundManager_.getBGSound("bgSlot8")&&soundManager_.getBGSound("bgSlot8").fadeOutBgSound(1e3),soundManager_.resetVolume("bgFs"),soundManager_.playBgSound("bgFs")}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-1500,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-1500}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()&&"tumble"!=me.getType()||void 0==me.getType)?(evt.addEvent(gameClass.shamrockPop,0),evt.addEvent(showFsPanel1_,3e3,[evt])):null!=displayManager_.getGroup("fsWonPanel")&&"tumble"!=me.getType()&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),evt.clearEvt(),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(evt.addEvtForce(showFsPanel_,0),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,winCash_,mult_,game_=gameRef,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",rainBow_=!1,rainBowAnim_=null,resume_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function MegaJackMwFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,addedFs_=!1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),null!=json.freeSpin.type&&(type_=json.freeSpin.type),null!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.type?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected,type_=json.status.type);var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){if("normal"!=type_&&"convert"!=type_){idleCycleManager_.startIdleCycle(),balanceManager_.balanceBonusUpdate(winCash_,0);var sucessiveWin=communicationManager_.getResumeStatus().status.numTumbles;if(mult_=communicationManager_.getResumeStatus().status.multiplier,mult_>0&&(displayManager_.getText("fsMultValue").setText("x"+mult_),displayManager_.getText("fsMultValue").mult=mult_),sucessiveWin>0)for(var i=1;i<=sucessiveWin;i++)if(void 0!=displayManager_.getGroup("freeSpinAccumulatorFs")["anchor"+i+"_In"]){var anchor=displayManager_.getGroup("freeSpinAccumulatorFs")["anchor"+i+"_In"].children[0];anchor.visible=!0,anchor.animations.add("anim"),anchor.animations.play("anim",36,!1,!1)}gameClass_.moveLockedReels(!0),toggleFreeSpins_()}}function toggleFreeSpins_(){displayManager_.getText("fsMultValue").mult=1,displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),displayManager_.getText("fsMultValue").setText(""),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,void 0==winCash_&&(winCash_=0),1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,idleCycleManager_.stopIdleCycle(),rainBow_=!1,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?logoOut_():(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){updateFreeSpinsMult_(mult_),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut()}function updateFreeSpinsNum_(){communicationManager_.getResumeStatus().status.type.indexOf("tumble")>=0||communicationManager_.getResumeStatus().status.type.indexOf("convert")>=0||(freeSpinNum_-=1,displayManager_.getText("fsValue").setText(freeSpinNum_))}function updateFsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_),TweenMax.to(displayManager_.getText("fsValue").scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[displayManager_.getText("fsValue")]})}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}function bounce(txt){TweenMax.to(txt.scale,.4,{delay:1,x:1,y:1,ease:Bounce.easeOut})}function updateFreeSpinsTotWon_(){}function updateFreeSpinsMult_(m){null==m&&(m=void 0!=spinManager_.getSpinResp()&&void 0!=spinManager_.getSpinResp().freeSpin&&void 0!=spinManager_.getSpinResp().freeSpin.multiplier?spinManager_.getSpinResp().freeSpin.multiplier:mult_),displayManager_.getText("fsMultValue").setText(""),"x"+m!=displayManager_.getText("fsMultValue").text&&m>1&&(displayManager_.getText("fsMultValue").setText("x"+m),displayManager_.getText("fsMultValue").mult=m)}function showFsTotWonPanel_(){var delay=0;autoPlayManager_.setCanAp(!1),freeSpinNum_=-999,displayManager_.getGroup("fsWonPanel").y="portrait"==getOrientation()?-2e3:-1e3,displayManager_.getGroup("fsWonPanel").alpha=1,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0?(gameClass_.decreaseVolumeBG(),delay=1,soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_),"portrait"==getOrientation()&&(displayManager_.getText("lineWin").y=360),lineManager_.showBonusWin(win_,winCash_)/1e3):displayManager_.getText("lineWin").y=-1500,gameClass_.logoIn(),1==freeRoundsManager_.getIsInFr()&&TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:"portrait"==getOrientation()?200*gameClass.getRatio():0,ease:Bounce.easeOut,onComplete:hideTotPanel_,onCompleteParams:[delay]})}function delayedHidePanel_(){if(gameClass_.getLineCompletion()){if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),stopbg(),soundManager_.resetVolume("bgSlot"),soundManager_.playBgSound("bgSlot"),winCash_=winCash_,win_>0){"portrait"==getOrientation()&&setTimeout(moveTxtPM_,4e3);var time=3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+.7,y:"portrait"==getOrientation()?-2e3:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore();$("#rightWrapper").css("opacity","1")}else setTimeout(hideTotPanel_,1e3)}function hideTotPanel_(del){setTimeout(delayedHidePanel_,1e3*del)}function moveTxtPM_(){displayManager_.getText("lineWin").y=490}function stopbg(){for(var i=1;i<8;i++)void 0!=soundManager_.getBGSound("bgSlot"+i)&&soundManager_.getBGSound("bgSlot"+i).fadeOutBgSound(500)}function showFsPanel_(){winCash_=0,soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y="portrait"==getOrientation()?-2e3:-1e3,displayManager_.getGroup("fsWonPanel").alpha=1,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"](0==gameClass_.getBuyIn()?"You won":"You bought")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{y:"portrait"==getOrientation()?200*gameClass.getRatio():0}),lineManager_.clearLine(),setTimeout(switchSound_,2e3)}function switchSound_(){}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:"portrait"==getOrientation()?-2e3:1e3,alpha:0,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){gameClass_.getLineCompletion()?(wasOnFs=!0,fsWon_=!1,isInFs_=!0,null!=gameClass_.hideLr&&gameClass_.hideLr(),displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-1200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")):setTimeout(toggleBackFs_,500)}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-800}),gameClass_.logoIn(),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()&&"tumble"!=me.getType()&&"convert"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,300,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&"tumble"!=me.getType()&&"convert"!=me.getType()&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&"tumble"!=type_&&(null!=me.setEndPanel&&me.setEndPanel(),
evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),0==gameClass_.getBuyIn()&&evt.clearEvt(),1==gameClass_.getBuyIn()?(mult_=gameClass.getMultiplier(),fsWon_=!1):mult_=void 0!=spinManager_.getSpinResp()&&void 0!=spinManager_.getSpinResp().freeSpin&&void 0!=spinManager_.getSpinResp().freeSpin.multiplier?spinManager_.getSpinResp().freeSpin.multiplier:1,lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()&&0==displayManager_.getGroup("centralWin").visible?(evt.addEvent(showFsPanel_,0),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(evt.addEvent(showFsPanel_,0),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,unsettledWin_=0,type_="",addedFs_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFsNum:updateFsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){1!=addedFs_&&(0==isInFs_?(autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0,0==freeRoundsManager_.getIsInFr()&&0==gameClass_.getBuyIn()&&balanceManager_.forceBalance(winCash_)):num>1&&(addedFs_=!0,freeSpinNum_=num,displayManager_.getText("fsValue").setText(num)))},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_},updateWin:function(amt){winCash_=amt,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}};return initClass_(),me}function MillionMwFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,addedFs_=!1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),null!=json.freeSpin.type&&(type_=json.freeSpin.type),unsettledWin_=null!=json.freeSpin.unsettledTotal?json.freeSpin.unsettledTotal:winCash_):null!=json.status&&("freespins"==json.status.type?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal):freeSpinNum_=json.status.collected,type_=json.status.type);var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){if("normal"!=type_&&"convert"!=type_){idleCycleManager_.startIdleCycle(),balanceManager_.balanceBonusUpdate(winCash_,0);var sucessiveWin=communicationManager_.getResumeStatus().status.numTumbles;if(mult_=communicationManager_.getResumeStatus().status.multiplier,mult_>0&&(displayManager_.getText("fsMultValue").setText("x"+mult_),displayManager_.getText("fsMultValue").mult=mult_),sucessiveWin>0)for(var i=1;i<=sucessiveWin;i++)if(void 0!=displayManager_.getGroup("freeSpinAccumulatorFs")["anchor"+i+"_In"]){var anchor=displayManager_.getGroup("freeSpinAccumulatorFs")["anchor"+i+"_In"].children[0];anchor.visible=!0,anchor.animations.add("anim"),anchor.animations.play("anim",36,!1,!1)}gameClass_.moveLockedReels(!0),toggleFreeSpins_()}}function toggleFreeSpins_(){displayManager_.getText("fsMultValue").mult=1,displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),displayManager_.getText("fsMultValue").setText(""),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,void 0==winCash_&&(winCash_=0),1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,idleCycleManager_.stopIdleCycle(),rainBow_=!1,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?logoOut_():(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){updateFreeSpinsMult_(mult_),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut()}function updateFreeSpinsNum_(){communicationManager_.getResumeStatus().status.type.indexOf("tumble")>=0||communicationManager_.getResumeStatus().status.type.indexOf("convert")>=0||(freeSpinNum_-=1,displayManager_.getText("fsValue").setText(freeSpinNum_))}function updateFsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_),TweenMax.to(displayManager_.getText("fsValue").scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[displayManager_.getText("fsValue")]})}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}function bounce(txt){TweenMax.to(txt.scale,.4,{delay:1,x:1,y:1,ease:Bounce.easeOut})}function updateFreeSpinsTotWon_(){}function updateFreeSpinsMult_(m){null==m&&(m=void 0!=spinManager_.getSpinResp()&&void 0!=spinManager_.getSpinResp().freeSpin&&void 0!=spinManager_.getSpinResp().freeSpin.multiplier?spinManager_.getSpinResp().freeSpin.multiplier:mult_),displayManager_.getText("fsMultValue").setText(""),"x"+m!=displayManager_.getText("fsMultValue").text&&m>1&&(displayManager_.getText("fsMultValue").setText("x"+m),displayManager_.getText("fsMultValue").mult=m)}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999,displayManager_.getGroup("fsWonPanel").y="portrait"==getOrientation()?-2e3:-1e3,displayManager_.getGroup("fsWonPanel").alpha=1,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0?(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_),"portrait"==getOrientation()&&(displayManager_.getText("lineWin").y=360),lineManager_.showBonusWin(win_,winCash_)/1e3):displayManager_.getText("lineWin").y=-1500,gameClass_.logoIn(),1==freeRoundsManager_.getIsInFr()&&TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:"portrait"==getOrientation()?200*gameClass.getRatio():0,ease:Bounce.easeOut,onComplete:hideTotPanel_})}function hideTotPanel_(){if(gameClass_.getLineCompletion()){if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),stopbg(),soundManager_.resetVolume("bgSlot"),soundManager_.playBgSound("bgSlot"),winCash_=winCash_,win_>0){"portrait"==getOrientation()&&setTimeout(moveTxtPM_,4e3);var time=3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+.7,y:"portrait"==getOrientation()?-2e3:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore();$("#rightWrapper").css("opacity","1")}else setTimeout(hideTotPanel_,1e3)}function moveTxtPM_(){displayManager_.getText("lineWin").y=490}function stopbg(){for(var i=1;i<8;i++)void 0!=soundManager_.getBGSound("bgSlot"+i)&&soundManager_.getBGSound("bgSlot"+i).fadeOutBgSound(500)}function showFsPanel_(){for(var i=1;i<=8;i++)soundManager_.stopSound("winBg_"+i),soundManager_.stopSound("winBgS_"+i);gameClass_.decreaseVolumeBG(3e3),setTimeout(realShowPanel_,500)}function realShowPanel_(){winCash_=0,soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y="portrait"==getOrientation()?-2e3:-1e3,displayManager_.getGroup("fsWonPanel").alpha=1,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"](0==gameClass_.getBuyIn()?"You won":"You bought")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{y:"portrait"==getOrientation()?200*gameClass.getRatio():0}),lineManager_.clearLine()}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:"portrait"==getOrientation()?-2e3:1e3,alpha:0,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){gameClass_.getLineCompletion()?(wasOnFs=!0,fsWon_=!1,isInFs_=!0,null!=gameClass_.hideLr&&gameClass_.hideLr(),displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-1200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")):setTimeout(toggleBackFs_,500)}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-800}),gameClass_.logoIn(),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()&&"tumble"!=me.getType()&&"convert"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,300,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&"tumble"!=me.getType()&&"convert"!=me.getType()&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&"tumble"!=type_&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),0==gameClass_.getBuyIn()&&evt.clearEvt(),1==gameClass_.getBuyIn()?(mult_=gameClass.getMultiplier(),fsWon_=!1):mult_=void 0!=spinManager_.getSpinResp()&&void 0!=spinManager_.getSpinResp().freeSpin&&void 0!=spinManager_.getSpinResp().freeSpin.multiplier?spinManager_.getSpinResp().freeSpin.multiplier:1,lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()&&0==displayManager_.getGroup("centralWin").visible?(evt.addEvent(showFsPanel_,0),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(evt.addEvent(showFsPanel_,0),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,unsettledWin_=0,type_="",addedFs_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFsNum:updateFsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){1!=addedFs_&&(0==isInFs_?(autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0,0==freeRoundsManager_.getIsInFr()&&0==gameClass_.getBuyIn()&&balanceManager_.forceBalance(winCash_)):num>1&&(addedFs_=!0,freeSpinNum_=num,displayManager_.getText("fsValue").setText(num)))},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_},updateWin:function(amt){winCash_=amt,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}};return initClass_(),me}function MoiraiFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),null!=json.freeSpin.type&&(type_=json.freeSpin.type),null!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected,type_=json.status.type);var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){"tumble"!=type_&&"convert"!=type_&&(idleCycleManager_.startIdleCycle(),balanceManager_.balanceBonusUpdate(winCash_,0),toggleFreeSpins_())}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,idleCycleManager_.stopIdleCycle(),rainBow_=!1,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){updateFreeSpinsMult_(),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut()}function updateFreeSpinsNum_(){communicationManager_.getResumeStatus().status.type.indexOf("tumble")>=0||communicationManager_.getResumeStatus().status.type.indexOf("convert")>=0||displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),updateFreeSpinsMult_()}function updateFreeSpinsTotWon_(){}function updateFreeSpinsMult_(m){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_})}function hideTotPanel_(){if(gameClass_.getLineCompletion())if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),stopbg(),soundManager_.resetVolume("bgSlot"),soundManager_.playBgSound("bgSlot"),winCash_=winCash_,win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+.7,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore();else setTimeout(hideTotPanel_,1e3)}function stopbg(){soundManager_.getBGSound("bgFs").fadeOutBgSound(500),soundManager_.getBGSound("bgFs2").fadeOutBgSound(500),soundManager_.getBGSound("bgFs3").fadeOutBgSound(500),soundManager_.getBGSound("bgFs4").fadeOutBgSound(500),soundManager_.getBGSound("bgFs5").fadeOutBgSound(500),soundManager_.getBGSound("bgFs6").fadeOutBgSound(500),soundManager_.getBGSound("bgFs7").fadeOutBgSound(500)}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0}),lineManager_.clearLine(),setTimeout(switchSound_,2e3)}function switchSound_(){soundManager_.getBGSound("bgSlot").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot2").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot3").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot4").fadeOutBgSound(1e3),soundManager_.getBGSound("bgSlot5").fadeOutBgSound(1e3),soundManager_.resetVolume("bgFs"),soundManager_.playBgSound("bgFs")}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){gameClass_.getLineCompletion()?(wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")):setTimeout(toggleBackFs_,500)}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()&&"tumble"!=me.getType()&&"convert"!=me.getType()||void 0==me.getType)?(evt.addEvent(gameClass.shamrockPop,0),evt.addEvent(showFsPanel1_,3e3,[evt])):null!=displayManager_.getGroup("fsWonPanel")&&"tumble"!=me.getType()&&"convert"!=me.getType()&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];gameClass_.getLineCompletion()?(autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),evt.clearEvt(),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(evt.addEvent(showFsPanel_,0),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())):setTimeout(showFsPanel1_,500,par)}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0,0==freeRoundsManager_.getIsInFr()&&balanceManager_.forceBalance(winCash_)},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_},updateWin:function(amt){winCash_=amt,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}};return initClass_(),me}function NeonFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_),toggleFreeSpins_()}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut});for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&me.getFsWon()?evt.addEvent(showFsPanel1_,2500,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function PirKinMwFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,addedFs_=!1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),null!=json.freeSpin.type&&(type_=json.freeSpin.type),null!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.type?(freeSpinNum_=json.status.numFS,
winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected,type_=json.status.type);var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){if("normal"!=type_&&"convert"!=type_){idleCycleManager_.startIdleCycle(),balanceManager_.balanceBonusUpdate(winCash_,0),gameClass_.animateFS();var sucessiveWin=communicationManager_.getResumeStatus().status.numTumbles;if(mult_=communicationManager_.getResumeStatus().status.multiplier,mult_>0&&(displayManager_.getText("fsMultValue").setText("x"+mult_),displayManager_.getText("fsMultValue").mult=mult_),sucessiveWin>0)for(var i=1;i<=sucessiveWin;i++)if(void 0!=displayManager_.getGroup("freeSpinAccumulatorFs")["anchor"+i+"_In"]){var anchor=displayManager_.getGroup("freeSpinAccumulatorFs")["anchor"+i+"_In"].children[0];anchor.visible=!0,anchor.animations.add("anim"),anchor.animations.play("anim",36,!1,!1)}gameClass_.moveLockedReels(!0),setTimeout(toggleFreeSpins_,1500)}}function toggleFreeSpins_(){displayManager_.getText("fsMultValue").mult=1,displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),displayManager_.getText("fsMultValue").setText(""),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,void 0==winCash_&&(winCash_=0),1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,idleCycleManager_.stopIdleCycle(),rainBow_=!1,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?logoOut_():(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut}),Number("7016"==gameParams.gameID)&&(displayManager_.getGroup("winWays").y=248)))}function logoOut_(){Number("7016"==gameParams.gameID)&&(displayManager_.getGroup("winWays").y=248),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){updateFreeSpinsMult_(mult_),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut(),null!=gameClass_.moveLockedReels&&setTimeout(gameClass_.moveLockedReels,500)}function updateFreeSpinsNum_(){communicationManager_.getResumeStatus().status.type.indexOf("tumble")>=0||communicationManager_.getResumeStatus().status.type.indexOf("convert")>=0||(freeSpinNum_-=1,displayManager_.getText("fsValue").setText(freeSpinNum_))}function updateFsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_),TweenMax.to(displayManager_.getText("fsValue").scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[displayManager_.getText("fsValue")]})}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}function bounce(txt){TweenMax.to(txt.scale,.4,{delay:1,x:1,y:1,ease:Bounce.easeOut})}function updateFreeSpinsTotWon_(){}function updateFreeSpinsMult_(m){null==m&&(m=void 0!=spinManager_.getSpinResp()&&void 0!=spinManager_.getSpinResp().freeSpin&&void 0!=spinManager_.getSpinResp().freeSpin.multiplier?spinManager_.getSpinResp().freeSpin.multiplier:mult_),displayManager_.getText("fsMultValue").setText(""),"x"+m!=displayManager_.getText("fsMultValue").text&&m>1&&(displayManager_.getText("fsMultValue").setText("x"+m),displayManager_.getText("fsMultValue").mult=m)}function showFsTotWonPanel_(){var delay=0;autoPlayManager_.setCanAp(!1),freeSpinNum_=-999,displayManager_.getGroup("fsWonPanel").y="portrait"==getOrientation()?-2e3:-1e3,displayManager_.getGroup("fsWonPanel").alpha=1,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0?(gameClass_.decreaseVolumeBG(),delay=1,soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_),"portrait"==getOrientation()&&(displayManager_.getText("lineWin").y=360),lineManager_.showBonusWin(win_,winCash_)/1e3):displayManager_.getText("lineWin").y=-1500,0==freeRoundsManager_.getIsInFr()?gameClass_.logoIn():TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:"portrait"==getOrientation()?200*gameClass.getRatio():0,ease:Bounce.easeOut,onComplete:hideTotPanel_,onCompleteParams:[delay]})}function delayedHidePanel_(){if(gameClass_.getLineCompletion())if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),stopbg(),soundManager_.resetVolume("bgSlot"),soundManager_.playBgSound("bgSlot"),winCash_=winCash_,win_>0){"portrait"==getOrientation()&&setTimeout(moveTxtPM_,4e3);var time=3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+.7,y:"portrait"==getOrientation()?-2e3:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore();else setTimeout(hideTotPanel_,1e3)}function hideTotPanel_(del){setTimeout(delayedHidePanel_,1e3*del)}function moveTxtPM_(){displayManager_.getText("lineWin").y=490}function stopbg(){soundManager_.getBGSound("bgSlot1").fadeOutBgSound(500),soundManager_.getBGSound("bgSlot2").fadeOutBgSound(500),soundManager_.getBGSound("bgSlot3").fadeOutBgSound(500)}function showFsPanel_(){mult_=1,winCash_=0,soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y="portrait"==getOrientation()?-2e3:-1e3,displayManager_.getGroup("fsWonPanel").alpha=1,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"](0==gameClass_.getBuyIn()?"You won":"You bought")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.3,{y:"portrait"==getOrientation()?200*gameClass.getRatio():0}),lineManager_.clearLine(),setTimeout(switchSound_,2e3)}function switchSound_(){}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:"portrait"==getOrientation()?-2e3:1e3,alpha:0,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){gameClass_.getLineCompletion()?(wasOnFs=!0,fsWon_=!1,isInFs_=!0,null!=gameClass_.hideLr&&gameClass_.hideLr(),displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-1200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")):setTimeout(toggleBackFs_,500)}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-800}),gameClass_.logoIn(),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()&&"tumble"!=me.getType()&&"convert"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,300,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&"tumble"!=me.getType()&&"convert"!=me.getType()&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&"tumble"!=type_&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),0==gameClass_.getBuyIn()&&evt.clearEvt(),1==gameClass_.getBuyIn()&&(fsWon_=!1),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()&&0==displayManager_.getGroup("centralWin").visible?(evt.addEvent(gameClass_.animateFS,0),evt.addEvent(showFsPanel_,400),evt.addEvtForce(toggleFreeSpins_,300),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,1700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(evt.addEvent(gameClass_.animateFS,0),evt.addEvent(showFsPanel_,400),evt.addEvtForce(toggleFreeSpins_,300),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),0==gameClass_.getBuyIn()&&evt.addEvent(gameClass_.fsEval,1700),evt.triggerEvt())}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,unsettledWin_=0,type_="",addedFs_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFsNum:updateFsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){1!=addedFs_&&(0==isInFs_?(autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0,0==freeRoundsManager_.getIsInFr()&&0==gameClass_.getBuyIn()&&balanceManager_.forceBalance(winCash_)):num>1&&(addedFs_=!0,freeSpinNum_=num))},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_},updateWin:function(amt){winCash_=amt,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}};return initClass_(),me}function Respin(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("respinPanel"),bgGroup_=displayManager_.getGroup("respin")}function parse_(json){null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&json.freeSpin.totalWin>0&&(win_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier)):null!=json.status&&(freeSpinNum_=null!=json.status.numFS?json.status.numFS:json.status.collected)}function toggleFreeSpins_(){soundManager_.playSound("fsWin"),mainGroup_.visible=!0,bgGroup_.visible=!0,respAnim_=game_.add.sprite(displayManager.groups.respinPanel.x,displayManager.groups.respinPanel.y,displayManager.groups.respinPanel.name),respAnim_.anchor.set(.5,.5),respAnim_.animations.add("anim"),respAnim_.animations.play("anim",gameClass_.getCompulsivePlayer()?52:24,!1,!0),respAnim_.scale.x=1,respAnim_.scale.y=1,mainGroup_.add(respAnim_);var index=0;for(var a in displayManager.groups.respin.objects)if(Util.getRandomInt(1,1200)>190+3*index){var name=displayManager.groups.respin.objects[a].name;if(1==game_.cache.checkImageKey(name)){var ob=game_.add.sprite(displayManager.groups.respin.objects[a].x,displayManager.groups.respin.objects[a].y,name);ob.anchor.set(.5,.5),ob.animations.add("anim"),ob.alpha=null!=displayManager.groups.respin.objects[a].alpha?displayManager.groups.respin.objects[a].alpha:1,ob.scale.x=null!=displayManager.groups.respin.objects[a].scaleX?displayManager.groups.respin.objects[a].scaleX:.6,ob.scale.y=null!=displayManager.groups.respin.objects[a].scaleY?displayManager.groups.respin.objects[a].scaleY:.6,mainGroup_.add(ob),ob.animations.play("anim",null!=displayManager.groups.respin.objects[a].fps?displayManager.groups.respin.objects[a].fps:24,!1,!0,null,null),index++}}isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,soundManager_.mixBgSound("bgFs",500,100))}function updateFreeSpinsNum_(){}function hideFsPanel_(){}function getFreeSpinsEval_(update){if(isInFs_||fsWon_){if(freeSpinNum_-=1,freeSpinNum_>1&&0==fsWon_)return!0;if(fsWon_)return toggleFreeSpins_(),!0;winManager_.updateWinAmt(win_),gcmCalls_("PAID",winManager_.getWinAmtCash(),!0),update?balanceManager_.balanceBonusUpdate(win_):balanceManager_.forceBalanceAfterFS(win_),setTimeout(soundManager_.mixBgSound,1e3,"bgSlot",1e3,1e3)}return wasOnFs=!0,fsWon_=!1,isInFs_=!1,!1}function toggleBackFs_(){}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()?evt.addEvent(showFsPanel1_,1200,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,3e3))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,mult_,mainGroup_,bgGroup_,respAnim_,game_=gameRef,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,me={parse:parse_,toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,toggleBackFs:toggleBackFs_,endAnimHandle:endAnimHandle_,resumeFs:function(){isInFs_=!0},getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},getFsWon:function(){return fsWon_},fsWon:function(){autoPlayManager_.toggleFeature(!0),fsWonNum_=1,fsWon_=!0}};return initClass_(),me}function SideAccumFreeSpins(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("freeSpinAccumulator"),fsPanelGroup_=displayManager_.getGroup("freeSpins")}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier,type_="freeSpin"),null!=json.freeSpin.type&&(type_=json.freeSpin.type),null!=json.freeSpin.eggsCollected&&(symbolCollected_=json.freeSpin.eggsCollected),null!=json.freeSpin.feature&&(eggExit_=json.freeSpin.feature)):null!=json.status&&("freespins"==json.status.hand?(null!=json.status.eggsCollected&&(symbolCollected_=json.status.eggsCollected),freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100,type_=json.status.type,eggExit_=json.status.feature):(mult_=json.status.multiplier,eggExit_=json.status.feature,freeSpinAccum_=json.status.eggs)),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){"respin"!=type_&&(balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_),resumeFsAcc_(!0),toggleFreeSpins_())}function resumeFsAcc_(resume){if(resume||(freeSpinNum_=0,freeSpinAccum_=communicationManager_.getResumeStatus().status.collected[framework.getBetValues().indexOf(Util.formatNumber(balanceManager_.getCoinValue(),2))]),"freespins"==communicationManager_.getResumeStatus().status.hand&&"respin"!=communicationManager_.getResumeStatus().status.type&&(freeSpinNum_=communicationManager_.getResumeStatus().status.numFS),void 0!=freeSpinAccum_){for(var a=0;a<=displayManager.groups.freeSpinAccumulator.maxFs;a++)freeSpinAccum_[a]>=0?placeSymbol_(a,freeSpinAccum_[a],(void 0!=freeSpinAccum_[a+1]&&freeSpinAccum_[a]==freeSpinAccum_[a+1]||void 0!=freeSpinAccum_[a-1]&&freeSpinAccum_[a]==freeSpinAccum_[a-1])&&freeSpinAccum_[0]==freeSpinAccum_[a]||0==a?1:.5):eggs_[a]&&mainGroup_.remove(eggs_[a]);updateFreeSpinsData_()}}function updateFsNum_(par){void 0!=eggs_[2]&&TweenMax.to(eggs_[2],.2,{alpha:0}),void 0!=par[1]&&TweenMax.to(par[1],.2,{delay:.1,y:displayManager.groups.freeSpinAccumulator.graphAsset.accu0.y,onComplete:endUpdate_,onCompleteParams:[par[1]],ease:Bounce.easeInOut}),void 0!=eggs_[1]&&TweenMax.to(eggs_[1],.2,{delay:.1,y:displayManager.groups.freeSpinAccumulator.graphAsset.accu2.y,ease:Bounce.easeInOut}),void 0!=eggs_[0]&&TweenMax.to(eggs_[0],.2,{delay:.1,y:displayManager.groups.freeSpinAccumulator.graphAsset.accu1.y,ease:Bounce.easeInOut}),soundManager_.playSound("line")}function endUpdate_(par){var win=0;void 0!=eggs_[1]&&(eggs_[2]=eggs_[1]),void 0!=eggs_[0]&&(eggs_[1]=eggs_[0]),eggs_[0]=par,symbolCollected_=0;for(var a=0;a<=displayManager.groups.freeSpinAccumulator.maxFs;a++)void 0!=eggs_[a]&&(eggs_[a].alpha=(void 0!=freeSpinAccum_[a+1]&&freeSpinAccum_[a]==freeSpinAccum_[a+1]||void 0!=freeSpinAccum_[a-1]&&freeSpinAccum_[a]==freeSpinAccum_[a-1])&&(freeSpinAccum_[0]==freeSpinAccum_[a]||0==a)||0==a||freeSpinsManager_.getFsWon()?1:.3,1==eggs_[a].alpha&&(win++,eggs_[a].animations.add("anim"),eggs_[a].animations.play("anim",24,!1,!1)));win!=sideStatus_&&(2==win?soundManager_.getBGSound("bgSlot2").fadeInBgSoundExternal(500,1.5,soundManager_.getBGSound("bgSlot").getSound().currentTime,null):3==win?soundManager_.getBGSound("bgSlot3").fadeInBgSoundExternal(500,.8,soundManager_.getBGSound("bgSlot").getSound().currentTime,null):(null!=soundManager_.getBGSound("bgSlot2")&&soundManager_.getBGSound("bgSlot2").fadeOutBgSoundExternal(1e3,0),null!=soundManager_.getBGSound("bgSlot3")&&soundManager_.getBGSound("bgSlot3").fadeOutBgSoundExternal(1e3,0))),sideStatus_=win,gameClass_.setFsStatus(sideStatus_),win>displayManager.groups.freeSpinAccumulator.maxFs&&soundManager_.playSound("eggFsWin")}function placeSymbol_(pos,icon,alpha){void 0!=eggs_[pos]&&mainGroup_.remove(eggs_[pos]);var s=game_.add.sprite(mainGroup_["accu"+pos].children[0].x,mainGroup_["accu"+pos].children[0].y,"anim"+icon);mainGroup_.add(s),s.anchor.set(.5,.5),s.visible=!0,s.alpha=alpha,s.height=displayManager.groups.freeSpinAccumulator.graphAsset["accu"+pos].height,s.width=displayManager.groups.freeSpinAccumulator.graphAsset["accu"+pos].width,eggs_[pos]=s}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,updateFreeSpinsData_(),"stickySpins"!=type_&&"respin"!=type_?(void 0!=panelSmb_&&fsPanelGroup_.remove(panelSmb_),panelSmb_=game_.add.sprite(190,50,"anim"+eggExit_),panelSmb_.anchor.set(.5,.5),panelSmb_.visible=!0,panelSmb_.alpha=1,panelSmb_.height=80,panelSmb_.width=80,fsPanelGroup_.add(panelSmb_),displayManager_.getText("totLineWonValue").visible=!0,displayManager_.getText("totLineWonLabel").visible=!0,displayManager_.getText("fsMultValue").visible=!0,displayManager_.getText("fsMultLabel").visible=!0,displayManager_.getText("fsMultTotValue").visible=!0,displayManager_.getText("fsMultTotLabel").visible=!0,displayManager_.getText("fsSymbValue").visible=!0,displayManager_.getText("fsSymbLabel").visible=!0,displayManager_.getText("totWonValue").x=1030,displayManager_.getText("totWonValue").y=30,displayManager_.getText("totWonLabel").x=1030,displayManager_.getText("totWonLabel").y=16,displayManager_.getText("fsValue").x=750,displayManager_.getText("fsValue").y=30,displayManager_.getText("fsLabel").x=750,displayManager_.getText("fsLabel").y=16):(void 0!=panelSmb_&&fsPanelGroup_.remove(panelSmb_),displayManager_.getText("totLineWonValue").visible=!1,displayManager_.getText("totLineWonLabel").visible=!1,displayManager_.getText("fsMultValue").visible=!1,displayManager_.getText("fsMultLabel").visible=!1,displayManager_.getText("fsMultTotValue").visible=!1,displayManager_.getText("fsMultTotLabel").visible=!1,displayManager_.getText("fsSymbValue").visible=!1,displayManager_.getText("fsSymbLabel").visible=!1,displayManager_.getText("totWonValue").x=800,displayManager_.getText("totWonValue").y=30,displayManager_.getText("totWonLabel").x=800,displayManager_.getText("totWonLabel").y=16,displayManager_.getText("fsValue").x=500,displayManager_.getText("fsValue").y=30,displayManager_.getText("fsLabel").x=500,displayManager_.getText("fsLabel").y=16,soundManager_.mixBgSound("bgFsS",1e3,1e3),null!=soundManager_.getBGSound("bgSlot2")&&soundManager_.getBGSound("bgSlot2").fadeOutBgSoundExternal(1e3,0),null!=soundManager_.getBGSound("bgSlot3")&&soundManager_.getBGSound("bgSlot3").fadeOutBgSoundExternal(1e3,0)),0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("logo"),.4,{y:-200,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut});for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){freeSpinNum_>=0&&displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){updateFreeSpinsTotWon_(),updateFreeSpinsMult_()}function updateFreeSpinsTotWon_(){var w=symbolCollected_*mult_*balanceManager_.getCoinValue();if(1==balanceManager_.getShowIncredits()){var wc=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),mc=w/balanceManager_.getCoinValue()*lineManager_.getLinesNumber();balanceManager_.getCoinValue()/balanceManager_.getCoinValue()*lineManager_.getLinesNumber();displayManager_.getText("totWonValue").setText(Util.formatNumber(wc,Util.getNubersOfDecimal())),displayManager_.getText("totLineWonValue").setText(Util.formatNumber(Math.max(wc-mc,0),Util.getNubersOfDecimal()))}else displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getText("totLineWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(Math.max(winCash_-w,0),Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){displayManager_.getText("fsSymbValue").setText(symbolCollected_);var w=symbolCollected_*mult_*balanceManager_.getCoinValue();if(1==balanceManager_.getShowIncredits()){var c=balanceManager_.getCoinValue()/balanceManager_.getCoinValue()*lineManager_.getLinesNumber();displayManager_.getText("fsMultValue").setText("x"+mult_*c),displayManager_.getText("fsMultTotValue").setText(Util.formatNumber(w/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal()))}else displayManager_.getText("fsMultValue").setText("x"+Util.formatNumber(mult_*balanceManager_.getCoinValue(),Util.getNubersOfDecimal())),displayManager_.getText("fsMultTotValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(w,2))}function showFsTotWonPanel_(){freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(communicationManager_.getResumeStatus().status.collected[framework.getBetValues().indexOf(Util.formatNumber(balanceManager_.getCoinValue(),Util.getNubersOfDecimal()))]=0,symbolCollected_=0,win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[win_,winCash_]})}else gameClass_.hideFs(),isInFs_=!1,buttonManager_.applyRestore()}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),null!=soundManager_.getBGSound("bgSlot2")&&soundManager_.getBGSound("bgSlot2").fadeOutBgSoundExternal(500,0),null!=soundManager_.getBGSound("bgSlot3")&&soundManager_.getBGSound("bgSlot3").fadeOutBgSoundExternal(500,0),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_){if(updateFreeSpinsData_(),freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,"stickySpins"!=type_&&"respin"!=type_?(eggs_[0]&&mainGroup_.remove(eggs_[0]),eggs_[1]&&mainGroup_.remove(eggs_[1]),eggs_[2]&&mainGroup_.remove(eggs_[2]),null!=soundManager_.getBGSound("bgSlot2")&&soundManager_.getBGSound("bgSlot2").fadeOutBgSoundExternal(500,0),null!=soundManager_.getBGSound("bgSlot3")&&soundManager_.getBGSound("bgSlot3").fadeOutBgSoundExternal(500,0),gameClass_.setFsStatus(0),displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_})):(isInFs_=!1,soundManager_.mixBgSound("bgSlot",1e3,1e3),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{delay:.5,y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut}),freeSpinsManager_.startHidePanel(win_,winCash_),freeSpinsManager_.completeDidePanel(win_,winCash_)),type_="",displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()?evt.addEvent(showFsPanel1_,3e3,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,mainGroup_,fsPanelGroup_,eggExit_,panelSmb_,game_=gameRef,gameClass_=gameClass,freeSpinNum_=0,freeSpinTH_=2,isInFs_=!1,fsWon_=!1,fsInc_=!1,fsWonNum_=0,fsAddNum_=0,wasOnFs=!1,startBalance_=0,winCash_=0,mult_=1,symbolCollected_=0,emitter_=[],unsettledWin_=0,freeSpinAccum_=[],eggs_=[],type_="",endPanelUp_=!1,sideStatus_=0,me={parse:parse_,toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFsNum:updateFsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,resumeFsAcc:resumeFsAcc_,resumeFs:resumeFs_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsInc_&&displayManager_.getText("fsValue").setText(freeSpinNum_),fsWon_},addCollectedFs:function(){communicationManager_.getResumeStatus().status.collected[framework.getBetValues().indexOf(Util.formatNumber(balanceManager_.getCoinValue(),Util.getNubersOfDecimal()))]++,fsAddNum_=1},getFsAdd:function(){return fsAddNum_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,fsInc_=!0,0==isInFs_&&freeSpinNum_>=freeSpinTH_&&(fsWon_=!0,win_=0,winCash_=0)},getType:function(){return type_},setEndPanel:function(){endPanelUp_=!0},setClearEndPanel:function(){endPanelUp_=!1},getEndPanelOn:function(){return endPanelUp_}};return initClass_(),me}function TOHFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,fsWon_=!1,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_),toggleFreeSpins_(),setFsLevel_()}function toggleFreeSpins_(){
displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0||(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut});for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=0,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getGroup("fsWonPanel").alpha=0,winCash_>0&&(gameClass_.getCompulsivePlayer()||soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{alpha:1,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:time+2,alpha:0,ease:Linear.easeIn,onStart:startHidePanel_,onStartParams:[win_,winCash_],onComplete:completeDidePanel_,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,alpha:0,ease:Linear.easeIn,onStart:startHidePanel_,onStartParams:[0,0],onComplete:completeDidePanel_,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function startHidePanel_(win,winCash){balanceManager_.setCanUpdate(!0),me.setIsInFs(!1),winManager_.resetWinAmt(),winManager_.setWinAmountBonus(winCash),balanceManager_.forceBalanceAfterFS(winCash),0==balanceManager_.getShowIncredits()?lineManager_.completeBonusValue(winCash,"Free Spins Win",5e3):lineManager_.completeBonusValue(win,"Free Spins Win",5e3)}function completeDidePanel_(win){var lineEvalTOut_=4e3;if(me.setIsInFs(!1),autoPlayManager_.toggleFeature(!1),win>0){var lineEvalTOut_=lineManager_.showBonusCentralWinGreetings(win)/2;setTimeout(goBackAfterCentralWin_,lineEvalTOut_)}else autoPlayManager_.setCanAp(!0);gameClass_.hideFs(lineEvalTOut_)}function goBackAfterCentralWin_(){autoPlayManager_.setCanAp(!0),lineManager_.clearLine(),lineManager_.idle(!0)}function showFsPanel_(){soundManager_.playSound("fsPanelWon"),displayManager_.getGroup("fsWonPanel").y=0,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getGroup("fsWonPanel").alpha=0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsWLabel1").x=555,displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{alpha:1,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{alpha:0,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0;for(var a=1;a<=3;a++)displayManager_.getGroup("fsfeature"+a).visible=!1;displayManager_.getText("fsWLabel").setText(Translate["do"]("")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("You've won")),displayManager_.getText("fsWLabel1").setText(""),displayManager_.getText("fsWLabel1").x=555):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time")),displayManager_.getText("fsWLabel1").x=600),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()?null!=displayManager_.getGroup("fsWonPanel")?evt.addEvent(showFsPanel1_,gameClass_.getCompulsivePlayer()?2500:5e3,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),setFsLevel_(),autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(evt.addEvtForce(showFsPanel_,1e3),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(evt.addEvtForce(showFsPanel_,1e3),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}function setFsLevel_(){for(var level=gameClass_.getFsLevel(),a=1;a<=3;a++)displayManager_.getGroup("fsfeature"+a).visible=!1,displayManager_.getGroup("fsWonPanel")["pirI-"+a].children[0].visible=!1,displayManager_.getGroup("fsWonPanel")["text-"+a].children[0].visible=!1;displayManager_.getGroup("fsfeature"+level).visible=!0,displayManager_.getGroup("fsWonPanel")["pirI-"+level].children[0].alpha=0,displayManager_.getGroup("fsWonPanel")["pirI-"+level].children[0].visible=!0,displayManager_.getGroup("fsWonPanel")["text-"+level].children[0].visible=!0,TweenMax.to(displayManager_.getGroup("fsWonPanel")["pirI-"+level].children[0],.3,{alpha:1,repeat:12}),soundManager_.mixBgSound("bgFs"+level,1e3,1e3),level>1&&displayManager_.getText("fsValue").setText(freeSpinNum_)}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,0==isInFs_&&(freeSpinNum_=num),fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_};return initClass_(),me}function TypeChoiceAvalonFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,winCash_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),void 0!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100),type_=json.freeSpin.type):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,null!=json.status.totalWin&&(winCash_=json.status.totalWin/100),null!=json.status.multiplier&&(mult_=json.status.multiplier),null!=json.status.unsettledTotal&&(unsettledWin_=json.status.unsettledTotal/100)):freeSpinNum_=json.status.collected,type_=json.status.type),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){resume_=!0,balanceManager_.balanceBonusUpdate(winCash_,0),toggleFreeSpins_()}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){displayManager_.getGroup("bg").visible=!1,displayManager_.getGroup("mask").visible=!1,displayManager_.getGroup("frame").visible=!1,displayManager_.getGroup("bgFS"+type_).visible=!0,displayManager_.getGroup("maskFS"+type_).visible=!0,displayManager_.getGroup("frameFS"+type_).visible=!0,displayManager_.getGroup("idleObjects").visible=!1,idleCycleManager_.stopIdleCycle();for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(displayManager_.getGroup("bg").visible=!0,displayManager_.getGroup("mask").visible=!0,displayManager_.getGroup("frame").visible=!0,displayManager_.getGroup("bgFS0").visible=!1,displayManager_.getGroup("maskFS0").visible=!1,displayManager_.getGroup("frameFS0").visible=!1,displayManager_.getGroup("bgFS1").visible=!1,displayManager_.getGroup("maskFS1").visible=!1,displayManager_.getGroup("frameFS1").visible=!1,displayManager_.getGroup("idleObjects").visible=!0,resume_&&(balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_-winCash_),resume_=!1),win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:completeHidePanel_,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:completeHidePanel_,onCompleteParams:[0,0]}),buttonManager_.applyState("NH"),buttonManager_.applyRestore()}function completeHidePanel_(par){freeSpinsManager_.completeDidePanel(par)}function showFsPanel_(num){if(buttonManager_.applyHide(),soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free Spins")+"\r\r"+Translate["do"]("Choose one of them")),displayManager_.getText("fsValue1").setText(num),displayManager_.getGroup("fsWonPanel").sel1.children[0].visible=!0,displayManager_.getGroup("fsWonPanel").sel2.children[0].visible=!0,displayManager_.getGroup("fsWonPanel").bgFsWon.children[0].visible=!1,null!=displayManager.groups.fsWonPanel.mainButtons)for(var b in displayManager.groups.fsWonPanel.mainButtons)displayManager_.getButton(b).visible=!0;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){if(wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),displayManager_.getGroup("fsWonPanel").sel1.children[0].visible=!1,displayManager_.getGroup("fsWonPanel").sel2.children[0].visible=!1,displayManager_.getGroup("fsWonPanel").sel1_hl.children[0].visible=!1,displayManager_.getGroup("fsWonPanel").sel2_hl.children[0].visible=!1,displayManager_.getGroup("fsWonPanel").bgFsWon.children[0].visible=!0,null!=displayManager.groups.fsWonPanel.mainButtons)for(var b in displayManager.groups.fsWonPanel.mainButtons)displayManager_.getButton(b).visible=!1;TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,1200,[fsWonNum_]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,Math.max(3e3,lineManager_.getTotalDuration())))}function showFsPanel1_(par){var num=par[0];autoPlayManager_.toggleFeature(!0),1==gameClass_.getBuyIn()&&(fsWon_=!1),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?showFsPanel_(num):setTimeout(showFsPanel1_,100,par):showFsPanel_(num)}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",resume_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){fsWon_?fsWon_=!1:(autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0)},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function TypeChoiceFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,winCash_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),void 0!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,null!=json.status.totalWin&&(winCash_=json.status.totalWin/100),null!=json.status.multiplier&&(mult_=json.status.multiplier),null!=json.status.unsettledTotal&&(unsettledWin_=json.status.unsettledTotal/100)):freeSpinNum_=json.status.collected),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){resume_=!0,balanceManager_.balanceBonusUpdate(winCash_,0),toggleFreeSpins_()}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){displayManager_.getGroup("bg").visible=!1,displayManager_.getGroup("mask").visible=!1,displayManager_.getGroup("frame").visible=!1,displayManager_.getGroup("bgFS").visible=!0,displayManager_.getGroup("maskFS").visible=!0,displayManager_.getGroup("frameFS").visible=!0,displayManager_.getGroup("idleObjects").visible=!1,idleCycleManager_.stopIdleCycle();for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function updateFreeSpinsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(displayManager_.getGroup("bg").visible=!0,displayManager_.getGroup("mask").visible=!0,displayManager_.getGroup("frame").visible=!0,displayManager_.getGroup("bgFS").visible=!1,displayManager_.getGroup("maskFS").visible=!1,displayManager_.getGroup("frameFS").visible=!1,displayManager_.getGroup("idleObjects").visible=!0,resume_&&(balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_-winCash_),resume_=!1),win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:completeHidePanel_,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:completeHidePanel_,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function completeHidePanel_(par){freeSpinsManager_.completeDidePanel(par)}function showFsPanel_(num){if(buttonManager_.applyHide(),soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free Spins")+"\r\r"+Translate["do"]("Choose between Van Hell and the Blood Queen")),displayManager_.getText("fsValue1").setText(num),"7018"==gameParams.gameID?(displayManager_.getGroup("fsWonPanel").sel1.children[0].visible=!0,displayManager_.getGroup("fsWonPanel").sel2.children[0].visible=!0,displayManager_.getGroup("fsWonPanel").bgFsWon.children[0].visible=!1):(displayManager_.getGroup("fsWonPanel").selBg.children[0].visible=!0,displayManager_.getGroup("fsWonPanel").bgFsWon.children[0].visible=!1),null!=displayManager.groups.fsWonPanel.mainButtons)for(var b in displayManager.groups.fsWonPanel.mainButtons)displayManager_.getButton(b).visible=!0;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){if(wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),displayManager_.getGroup("fsWonPanel").selBg.children[0].visible=!1,displayManager_.getGroup("fsWonPanel").bgFsWon.children[0].visible=!0,null!=displayManager.groups.fsWonPanel.mainButtons)for(var b in displayManager.groups.fsWonPanel.mainButtons)displayManager_.getButton(b).visible=!1;TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-200,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,1200,[fsWonNum_]):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,Math.max(3e3,lineManager_.getTotalDuration())))}function showFsPanel1_(par){var num=par[0];autoPlayManager_.toggleFeature(!0),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?showFsPanel_(num):setTimeout(showFsPanel1_,100,par):showFsPanel_(num)}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",resume_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function VikingFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_="tumble"!=json.freeSpin.type?json.freeSpin.num:json.freeSpin.num-1,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier),null!=json.freeSpin.type&&(type_=json.freeSpin.type),null!=json.freeSpin.unsettledTotal&&(unsettledWin_=json.freeSpin.unsettledTotal/100)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected,type_=json.status.type);var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){"tumble"!=type_&&"convert"!=type_&&(idleCycleManager_.startIdleCycle(),balanceManager_.balanceBonusUpdate(winCash_,0),toggleFreeSpins_())}function toggleFreeSpins_(){displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0?fsWon_=!1:(0==wasOnFs&&(startBalance_=balanceManager_.getBalance()),displayManager_.getText("fsMultValue").setText(""),wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,idleCycleManager_.stopIdleCycle(),rainBow_=!1,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-200,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-200,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut})))}function logoOut_(){displayManager_.getGroup("logo").logo.children[0].visible=!1,TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){updateFreeSpinsMult_(),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut()}function updateFreeSpinsNum_(){communicationManager_.getResumeStatus().status.type.indexOf("tumble")>=0||communicationManager_.getResumeStatus().status.type.indexOf("convert")>=0||(freeSpinNum_-=1,displayManager_.getText("fsValue").setText(freeSpinNum_),updateFreeSpinsMult_())}function updateFsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_),TweenMax.to(displayManager_.getText("fsValue").scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[displayManager_.getText("fsValue")]}),updateFreeSpinsMult_()}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),
updateFreeSpinsMult_()}function bounce(txt){TweenMax.to(txt.scale,.4,{delay:1,x:1,y:1,ease:Bounce.easeOut})}function updateFreeSpinsTotWon_(){updateFreeSpinsMult_()}function updateFreeSpinsMult_(m){null==m&&(m=mult_),displayManager_.getText("fsMultValue").setText(""),"x"+m!=displayManager_.getText("fsMultValue").text&&m>1&&displayManager_.getText("fsMultValue").setText("x"+m)}function showFsTotWonPanel_(){autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?(displayManager_.getGroup("logo").logo.children[0].visible=!1,TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut,onComplete:gameClass_.logoIn})):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_})}function hideTotPanel_(){if(gameClass_.getLineCompletion())if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),stopbg(),soundManager_.resetVolume("bgSlot"),soundManager_.playBgSound("bgSlot"),winCash_=winCash_,win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+.7,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore();else setTimeout(hideTotPanel_,1e3)}function stopbg(){soundManager_.getBGSound("bgFs").fadeOutBgSound(500)}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0}),lineManager_.clearLine(),setTimeout(switchSound_,2e3)}function switchSound_(){soundManager_.getBGSound("bgSlot").fadeOutBgSound(1e3),soundManager_.resetVolume("bgFs"),soundManager_.playBgSound("bgFs")}function hideFsPanel_(){TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function toggleBackFs_(){gameClass_.getLineCompletion()?(wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")):setTimeout(toggleBackFs_,500)}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,onComplete:gameClass_.logoIn}),displayManager_.getGroup("logo").logo.children[0].visible=!1,isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()&&"tumble"!=me.getType()&&"convert"!=me.getType()||void 0==me.getType)?evt.addEvent(showFsPanel1_,300,[evt]):null!=displayManager_.getGroup("fsWonPanel")&&"tumble"!=me.getType()&&"convert"!=me.getType()&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&"tumble"!=type_&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(me.toggleBackFs,gameClass_.getLastFSTime()))}function showFsPanel1_(par){var evt=par[0];autoPlayManager_.toggleStopOnFeature(!0),autoPlayManager_.toggleFeature(!0),evt.clearEvt(),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()&&0==displayManager_.getGroup("centralWin").visible?(evt.addEvent(gameClass_.animateFS,0),evt.addEvent(showFsPanel_,1500),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,1700),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(gameClass_.fsEval,700),evt.triggerEvt())}var win_,winCash_,mult_,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFsNum:updateFsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0,0==freeRoundsManager_.getIsInFr()&&balanceManager_.forceBalance(winCash_)},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_},updateWin:function(amt){winCash_=amt,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))}};return initClass_(),me}function WaiFreeSpins(gameRef,gameClass){function initClass_(){}function parse_(json){win_=0,mult_=1,fsWonNum_=0,fsAddNum_=0,null!=json.freeSpin?(freeSpinNum_=json.freeSpin.num,null!=json.freeSpin.won&&null!=json.freeSpin.totalWin&&(winCash_=json.freeSpin.totalWin/100),null!=json.freeSpin.multiplier&&json.freeSpin.multiplier>0&&(mult_=json.freeSpin.multiplier)):null!=json.status&&("freespins"==json.status.hand?(freeSpinNum_=json.status.numFS,winCash_=json.status.totalWin/100,mult_=json.status.multiplier,unsettledWin_=json.status.unsettledTotal/100):freeSpinNum_=json.status.collected),null!=json.status.tokenWinnings&&(winTokenCash_=json.status.tokenWinnings/100),win_=winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()}function resumeFs_(){balanceManager_.balanceBonusUpdate(winCash_,unsettledWin_),toggleFreeSpins_()}function toggleFreeSpins_(){if(displayManager_.getText("fsValue").setText(freeSpinNum_),isInFs_&&freeSpinNum_>0)fsWon_=!1;else{0==wasOnFs&&(startBalance_=balanceManager_.getBalance());for(var a in displayManager_.getGroup("freeSpins").children)"sideFS_idle"==displayManager_.getGroup("freeSpins").children[a].key&&(displayManager_.getGroup("freeSpins").children[a].visible=!1),"sideFS_intro"==displayManager_.getGroup("freeSpins").children[a].key&&(displayManager_.getGroup("freeSpins").children[a].visible=!1),"sideFS_active"==displayManager_.getGroup("freeSpins").children[a].key&&(displayManager_.getGroup("freeSpins").children[a].visible=!1);wasOnFs=!0,fsWon_=!1,isInFs_=!0,win_=0,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),displayManager_.getGroup("freeSpins").y=-300,displayManager_.getGroup("freeSpins").visible=!0,0==freeRoundsManager_.getIsInFr()&&1!=gameInfo.freeRoundsAvailable?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:-400,ease:Bounce.easeIn,onComplete:logoOut_}):(TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:-400,ease:Bounce.easeOut,onComplete:logoOutcomplete_}),TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut}))}}function logoOut_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.4,{y:0,ease:Bounce.easeOut,onComplete:logoOutcomplete_})}function logoOutcomplete_(){var smb=new Phaser.Sprite(game_,1190,135,"sideFS_intro");smb.anchor.set(.5,.5),smb.animations.add("anim"),smb.scale.x=1,smb.scale.y=1,smb.alpha=1,displayManager_.getGroup("freeSpins").add(smb),smb.animations.play("anim",24,!1,!0,sideFS0_),soundManager_.playSound("sideSlide"),null!=gameClass_.fsLogoOut&&gameClass_.fsLogoOut();for(var a in displayManager.groups.freeSpins.emitters){var anim=epsy_.loadSystem(displayManager.groups.freeSpins.emitters[a][0],500,500);displayManager.groups.freeSpins.emitters[a][0].texture=game.cache.checkImageKey("particle"),displayManager_.getGroup("freeSpins").add(anim),emitter_.push(anim)}}function sideFS0_(){var smb=new Phaser.Sprite(game_,1190,135,"sideFS_idle");smb.anchor.set(.5,.5),smb.animations.add("anim"),smb.scale.x=1,smb.scale.y=1,smb.alpha=1,displayManager_.getGroup("freeSpins").add(smb),smb.animations.play("anim",24,!1,!1),idleFSSide_=setTimeout(sideFS1_,2e3,smb),displayManager_.getGroup("flame").visible=!0,displayManager_.getGroup("token").visible=!0}function sideFS1_(smb){0==sideFeatureAnim_&&(smb.animations.play("anim",24,!1,!1),soundManager_.playSound("sideIdle")),idleFSSide_=setTimeout(sideFS1_,Util.getRandomInt(8e3,16e3),smb)}function updateFreeSpinsNum_(){displayManager_.getText("fsValue").setText(freeSpinNum_-1)}function updateFreeSpinsData_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal())),displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/mult_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_/mult_,Util.getNubersOfDecimal()))}function updateFreeSpinsMult_(){}function showFsTotWonPanel_(){clearTimeout(idleFSSide_),autoPlayManager_.setCanAp(!1),freeSpinNum_=-999;for(var a in emitter_)displayManager_.getGroup("freeSpins").remove(emitter_[a]),emitter_[a].destroy(),emitter_[a]=null;emitter_=[],displayManager_.getGroup("token").visible=!1,displayManager_.getGroup("flame").visible=!1,displayManager_.getGroup("fsWonPanel").y=-600,displayManager_.getGroup("fsWonPanel").visible=!0,winCash_>0&&(soundManager_.playSound("winPanel"),winManager_.updateWinAmt(winCash_)),0==freeRoundsManager_.getIsInFr()?TweenMax.to(displayManager_.getGroup("logo"),.3,{y:0,ease:Bounce.easeOut}):TweenMax.to(displayManager_.getGroup("freeRounds"),.4,{y:0,ease:Bounce.easeOut}),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{y:0,ease:Bounce.easeOut,onComplete:hideTotPanel_}),soundManager_.mixBgSound("bgSlot",1e3,1e3)}function hideTotPanel_(){if(gameClass_.fsHideTotPanel&&gameClass_.fsHideTotPanel(),win_>0){var time=lineManager_.showBonusWin(win_,winCash_)/1e3;TweenMax.to(displayManager_.getGroup("fsWonPanel"),.4,{delay:time+2,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[win_,winCash_],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[win_,winCash_]})}else TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{delay:3,y:-1e3,ease:Linear.easeIn,onStart:freeSpinsManager_.startHidePanel,onStartParams:[0,0],onComplete:freeSpinsManager_.completeDidePanel,onCompleteParams:[0,0]}),buttonManager_.applyRestore()}function showFsPanel_(){soundManager_.playSound("fsWon"),displayManager_.getGroup("fsWonPanel").y=-1e3,displayManager_.getGroup("fsWonPanel").visible=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("You won")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("Free spins")),displayManager_.getText("fsValue1").setText(fsWonNum_),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:0,ease:Bounce.easeOut}),lineManager_.clearLine()}function hideFsPanel_(){soundManager_.mixBgSound("bgFs",1e3,1e3),TweenMax.to(displayManager_.getGroup("fsWonPanel"),.5,{y:-1e3,ease:Linear.easeIut,onComplete:completeHide_})}function completeHide_(){displayManager_.getGroup("fsWonPanel").visible=!1,toggleFreeSpins_()}function getFreeSpinsEval_(){if(isInFs_||fsWon_){if(freeSpinNum_>=1&&0==fsWon_&&1==isInFs_)return!0;if(fsWon_)return!1}return!(isInFs_&&freeSpinNum_<=0)}function moveToken_(){void 0!=gameClass_.getTokenText()&&(soundManager_.playSound("tokenNewLevel"),TweenMax.to(gameClass_.getTokenText(),.8,{x:905,y:20,alpha:0,onComplete:moveTokenComplete_}))}function moveTokenComplete_(){var txt=gameClass_.getTokenText();txt.visible=!1,txt=null,winCash_+=winTokenCash_,1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(Number(winCash_)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(Number(winCash_),Util.getNubersOfDecimal())),TweenMax.to(displayManager_.getText("totWonValue").scale,.3,{x:1.16,y:1.16,repeat:3,onComplete:scaleComplete_})}function scaleComplete_(){TweenMax.to(displayManager_.getText("totWonValue").scale,.3,{x:1,y:1})}function toggleBackFs_(){wasOnFs=!0,fsWon_=!1,isInFs_=!0,displayManager_.getText("fsWLabel").setText(Translate["do"]("Free spins finished")),win_>0?(displayManager_.getText("fsValue1").setText(Translate["do"]("you've won")),displayManager_.getText("fsWLabel1").setText("")):(displayManager_.getText("fsValue1").setText(Translate["do"]("better luck")),displayManager_.getText("fsWLabel1").setText(Translate["do"]("the next time"))),TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400,ease:Sine.easeOut,onComplete:showFsTotWonPanel_}),displayManager_.getText("fsValue").setText("")}function hideFs_(){TweenMax.to(displayManager_.getGroup("freeSpins"),.5,{y:-400,ease:Sine.easeOut}),TweenMax.to(displayManager_.getGroup("logo"),.3,{delay:.5,y:0,ease:Bounce.easeOut}),isInFs_=!1}function endAnimHandle_(evt){me.getFsWon()&&0==spinManager_.getSpinResp().bonus.wonBonus?null!=displayManager_.getGroup("fsWonPanel")&&(void 0!=me.getType&&"stickySpins"!=me.getType()&&"respin"!=me.getType()||void 0==me.getType)?(evt.addEvent(animIcons_,1200,[evt]),evt.addEvent(showFsPanel1_,2700,[evt])):null!=displayManager_.getGroup("fsWonPanel")&&evt.addEvent(me.toggleFreeSpins,1200):null!=me.getFsAdd&&me.getFsAdd()>0?evt.addEvent(gameClass_.fakeEvent,1e3):1==me.getIsInFs()&&me.getFsNumber()<=0&&(null!=me.setEndPanel&&me.setEndPanel(),evt.addEvent(moveToken_,gameClass_.getLastFSTime()),evt.addEvent(me.toggleBackFs,3e3))}function animIcons_(){displayManager_.getGroup("wins").visible=!0,fsIcon_=[],spinManager_.getReels()[1].getSymbol(1).visible=!1,spinManager_.getAnimationMap(1,1).visible=!1;var smb=new Phaser.Sprite(game_,spinManager_.getReels()[1].getSymbol(1).x,spinManager_.getReels()[1].getSymbol(1).y,"anim14a");smb.anchor.set(.5,.5),smb.animations.add("anim"),smb.scale.x=1,smb.scale.y=1,displayManager_.getGroup("reels").add(smb),smb.animations.play("anim",24,!1,!1);var obj={};obj.smb=smb,obj.reelNum=1,fsIcon_.push(obj);var smb=new Phaser.Sprite(game_,spinManager_.getReels()[2].getSymbol(1).x,spinManager_.getReels()[2].getSymbol(1).y,"anim14b");smb.anchor.set(.5,.5),smb.animations.add("anim"),smb.scale.x=1,smb.scale.y=1,displayManager_.getGroup("reels").add(smb),smb.animations.play("anim",24,!1,!1);var obj={};obj.smb=smb,obj.reelNum=2,fsIcon_.push(obj),spinManager_.getReels()[3].getSymbol(1).visible=!1,spinManager_.getAnimationMap(3,1).visible=!1;var smb=new Phaser.Sprite(game_,spinManager_.getReels()[3].getSymbol(1).x,spinManager_.getReels()[3].getSymbol(1).y,"anim14c");smb.anchor.set(.5,.5),smb.animations.add("anim"),smb.scale.x=1,smb.scale.y=1,displayManager_.getGroup("reels").add(smb),smb.animations.play("anim",24,!1,!1);var obj={};obj.smb=smb,obj.reelNum=3,fsIcon_.push(obj),soundManager_.playSound("fsWin")}function showFsPanel1_(par){var evt=par[0];evt.clearEvt(),autoPlayManager_.toggleFeature(!0),framework.updateSmallMessageText(Translate["do"]("Autoplay stopped, you entered a feature.")),lineManager_.getTotalDuration()>0?0==lineManager_.getInterruptedWinAnim()?(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(clearFSIcon_,3e3),evt.addEvent(gameClass_.fsEval,500),evt.triggerEvt()):setTimeout(showFsPanel1_,100,[evt]):(showFsPanel_(),evt.addEvtForce(me.hideFsPanel,1e3*displayManager.groups.fsWonPanel.duration),evt.addEvent(clearFSIcon_,3e3),evt.addEvent(gameClass_.fsEval,500),evt.triggerEvt())}function subst_(a){spinManager_.getReels()[fsIcon_[a].reelNum].getSymbol(1).visible=!0,fsIcon_[a].smb=null}function clearFSIcon_(){for(var a=0;a<fsIcon_.length;a++){for(var revAnimFrameSeq_=[],b=1;b<=fsIcon_[a].smb.animations._outputFrames.length;b++)b%3==0&&revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),fsIcon_[a].smb.animations.add("anim",revAnimFrameSeq_),fsIcon_[a].smb.animations.play("anim",48,!1,!0,subst_,a)}soundManager_.playSound("revert")}var win_,winCash_,winTokenCash_,mult_,game_=gameRef,gameClass_=gameClass,freeSpinNum_=0,isInFs_=!1,fsWon_=!1,fsWonNum_=0,wasOnFs=!1,startBalance_=0,emitter_=[],unsettledWin_=0,type_="",fsIcon_=[],idleFSSide_=0,sideFeatureAnim_=!1,me={toggleFreeSpins:toggleFreeSpins_,getFreeSpinsEval:getFreeSpinsEval_,updateFreeSpinsNum:updateFreeSpinsNum_,updateFreeSpinsData:updateFreeSpinsData_,updateFreeSpinsTotWon:updateFreeSpinsTotWon_,updateFreeSpinsMult:updateFreeSpinsMult_,showFsPanel1:showFsPanel1_,hideFsPanel:hideFsPanel_,endAnimHandle:endAnimHandle_,getFsNumber:function(){return freeSpinNum_},getIsInFs:function(){return isInFs_},setIsInFs:function(state){isInFs_=state},getFsWon:function(){return fsWon_},fsWon:function(num){autoPlayManager_.toggleFeature(!0),fsWonNum_=num,freeSpinNum_=num,fsWon_=!0},parse:parse_,resumeFs:resumeFs_,hideFs:hideFs_,toggleBackFs:toggleBackFs_,getType:function(){return type_}};return initClass_(),me}function BetControl(gameRef,GUIInterface){function initClass_(){}var me={};return initClass_(),me}function BottomBar(gameRef,gameClass){function initClass_(){coins_=gameClass_.getBetConfiguration(),degrees_=gameClass_.getBetConfigurationDeg()}function setBetControlInitialBet_(val){for(var i=1;i<=coins_.length;i++)$("#v"+i).css("color","");var idNum=coins_.indexOf(val);TweenMax.to($("#betCtrl"),0,{rotation:normalAbsoluteAngleDegrees(degrees_[idNum])})}function showBetControl_(func){0==open_&&(oepn=!0),document.getElementById("bet").onclick=null,cbFunct_=func}function normalAbsoluteAngleDegrees(angle){return(angle%=360)>=0?angle:angle+360}function updateMessage_(msg,tOut,clrMsg){void 0!=txtField_.messages&&txtField_.messages.setText(msg),tOut>0&&setTimeout(updateMessage_,tOut,"",0,clrMsg)}var bg_,betWheelControl_,scrollBG_,cbFunct_,gameClass_=gameClass,txtField_=[],degrees_=[],coins_=[],open_=!1,me={bg:bg_,txtField:txtField_,scrollBG:scrollBG_,betWheelControl:betWheelControl_,updateMessage:updateMessage_,showBetControl:showBetControl_,setBetControlInitialBet:setBetControlInitialBet_};return initClass_(),me}function Jackpot(gameRef,gameClass,key){function initClass_(key){scope.mainGroup_=displayManager_.getGroup("jackpot"),scope.winGroup_=displayManager_.getGroup("jpotWonPanel"),scope.winGroup_.visible=!1,scope.txt=displayManager_.getText("jpotValue"+key),scope.txtW=displayManager_.getText("jpotWValue"),scope.txtUserW=displayManager_.getText("jpotWLabel")}function updatingValue_(){scope.txt.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(scope.twObject.amt,2))}function completeValue_(value){scope.oldValue=value,scope.txt.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(value,2))}function hideWon(){scope.winGroup_.visible=!1}this.mainGroup_,this.winGroup_,this.txt,this.txtUserW,this.txtW;var scope=this;return this.twObject={},this.tw,this.oldValue=0,this.incJackpot=function(value){null!=scope.tw&&(null!=scope.tw&&scope.tw.totalTime(scope.tw.totalDuration()),scope.txt.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(scope.oldValue,2)));var inc=3*(value-scope.oldValue);scope.twObject.amt=scope.oldValue,scope.tw=TweenMax.to(scope.twObject,inc,{amt:value,onUpdate:updatingValue_,onComplete:completeValue_,onCompleteParams:[value]})},this.updateJackpot=function(value){null!=scope.tw&&scope.tw.totalTime(scope.tw.totalDuration()),scope.oldValue=value,scope.txt.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(value,2))},this.wonJackpot=function(user,value){scope.winGroup_.visible=!0,scope.txtUserW.setText(user),scope.txtW.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(value,2)),setTimeout(hideWon,5e3)},initClass_(key),this}function JackpotManager(gameRef,gameClass){function initClass_(){null!=ReelConfig.jackpot&&initJackpot()}function addJackpot_(key,key1,value){null!=ReelConfig.jackpot&&(values_[key][key1]=Number(value),jackpotClass_[key]=new Jackpot(game_,gameClass_,key))}function initJackpot(){for(var a in ReelConfig.jackpot){values_[a]=[];for(var b in ReelConfig.jackpot[a])addJackpot_(a,b,ReelConfig.jackpot[a][b])}updateJackpot_()}function resetJackpot_(){if(null!=ReelConfig.jackpot)for(var a in values_)jackpotClass_[a].updateJackpot(values_[a]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)])}function updateJackpot_(){if(null!=ReelConfig.jackpot&&0!=isUpdatable)for(var a in values_)jackpotClass_[a].updateJackpot(values_[a]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)])}function fakeupdateackpot_(){updateble=!1,values_[level]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)]+=Util.formatNumber(balanceManager_.getCoinValue(),2)*increment[parseInt(level)-1]+1e-10,isUpdatable&&jackpotClass_[level].incJackpot(values_[level]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)]),fakeIncTimer=setTimeout(fakeRandomUpdate_,200)}function fakeRandomUpdate_(){var index=0;if(clearTimeout(fakeIncTimer),1==isUpdatable){for(var a in values_)Util.getRandomInt(1,1e3)>280*(index+1)&&(values_[a]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)]+=Util.formatNumber(balanceManager_.getCoinValue(),2)*increment[index]+1e-10,isUpdatable&&jackpotClass_[a].incJackpot(values_[a]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)])),index++;index=1;for(var a in values_)Util.getRandomInt(1,1e5)>99939+20*index&&(wonJackpot_(a,"average joe "+Translate["do"]("won"),values_[a]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)]),values_[a]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)]=0),index++}fakeIncTimer=setTimeout(fakeRandomUpdate_,Util.getRandomInt(500,1e3))}function wonJackpot_(_level,msg,amt){null==_level&&(_level=level);var ret=values_[_level]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)];return updateble=!1,jackpotClass_[_level].wonJackpot(Translate["do"](msg),null==amt?values_[_level]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)]:amt),values_[_level]["testJackpot_"+Util.formatNumber(balanceManager_.getCoinValue(),2)]=0,updateJackpot_(),updateble=!0,ret}function parse_(json){}var game_=gameRef,gameClass_=gameClass,jackpotClass_=[],values_=[],isUpdatable=!0,triggerIcon_=6,minNumTriggerIcon_=4,fakeIncTimer=0,level="1",increment=[.02,.03,.08],me={parse:parse_,updateJackpot:updateJackpot_,resetJackpot:resetJackpot_,fakeupdateackpot:fakeupdateackpot_,wonJackpot:wonJackpot_,updatable:function(val){isUpdatable=val},getMinNumTriggerIcon:function(){return minNumTriggerIcon_},getTriggerIcon:function(){return triggerIcon_},getJackpotLevel:function(){return level},setJackpotLevel:function(val){level=val+1}};return initClass_(),me}function MultiLevelJackpot(gameRef,gameClass){var jackpotClass_=Object.create(new Jackpot(gameRef,gameClass));jackpotClass_.__proto__;return jackpotClass_}function AllLineWinningsFirst(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManager,funtainEventManager_=new EventManager;for(var a in displayManager.groups.centralWin.buttons){var buttonE=new Phaser.Button(game_,displayManager.groups.centralWin.buttons[a].x,displayManager.groups.centralWin.buttons[a].y,displayManager.groups.centralWin.buttons[a].name,me[displayManager.groups.centralWin.buttons[a].evt],this,1,2,0,0);buttonE.alpha=0,buttonE.anchor.set(.5,.5),centralWinGroup_.add(buttonE)}}function doOk_(){winEventManager_.clearEvt(),clearLineAfterValue_(),reset_=!0,(autoPlayManager_.getIsInAutoPlay()||freeSpinsManager_.getIsInFs()&&freeSpinsManager_.getFsNumber()>0)&&(gameClass.clearPrevEvt(),setTimeout(gameClass_.realDoSpin,1e3))}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0,iMaxSmb=0;if(wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),totalDuration_=0,resetCentralWin_(),resetPrevSounds_(),index=findWinRange_(winManager_.getLineWinAmt()),soundManager_.playSound("winBg_"+winAnim.winSound_[index]),gameClass_.decreaseVolumeBG(me.getTotalDuration()),bgStopped_=!0,void 0!=displayManager_.getGroup("bgIconAnim"))for(var a in displayManager_.getGroup("bgIconAnim").children)void 0!=displayManager_.getGroup("bgIconAnim").children[a].tw&&displayManager_.getGroup("bgIconAnim").children[a].tw.kill(),displayManager_.getGroup("bgIconAnim").remove(displayManager_.getGroup("bgIconAnim").children[a]);winEventManager_.addEvent(changeAllHL_,200,[.35]),allLineDraw_=[];for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){for(var num=8,def=8,b=wins[a].smbNum.length;b>=0;b--)if(wins[a].realSmbNum[b]<num&&wins[a].realSmbNum[b]<8){def=wins[a].realSmbNum[b];break}num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb,winEventManager_.addEvent(amimIcon_,0,[wins[a]]),"IT"==loginVars.getRegParams().jurisdiction.toUpperCase()&&Number(gameParams.gameID>"7021")&&(checkBrowser_()?allLineDraw_[a]=new RopeDraw(game_,gameClass):allLineDraw_[a]=new CCurveDraw(game_,gameClass),allLineDraw_[a].showStatic(wins[a].smbNum[0],wins[a].line,wins[a].amt,coinsIconPoints_[wins[a].line],1e3))}soundManager_.playSound("smbWin_"+iMaxSmb),"IT"==loginVars.getRegParams().jurisdiction.toUpperCase()&&winEventManager_.addEvent(fakeEvent,1e3),winEventManager_.addEvent(showCentralWin_,10,[index]),winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,1e3*winAnim.winTxtDuration[index]+1e3*winAnim.centralWinDur[index]),0==freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(idle_,"0"==winAnim.bigWinText[index]?ReelConfig.delayBeforeIdle:1e3*winAnim.winTxtDuration[index]+1e3*winAnim.centralWinDur[index]+ReelConfig.delayBeforeIdle,[wins[a]]),winEventManager_.triggerEvt()}function showCentralWin_(params){var index=findWinRange_(winManager_.getLineWinAmt());if(winAmtClass_.showWin(winManager_.getLineWinAmt(),null,null,null,0,null,winAnim.scaleFactor[index],winAnim.winTxtDuration[index]),"1"==winAnim.bigWinText[index])stToClear_.push(setTimeout(changeCentralWinStage_,1e3*winAnim.winTxtDuration[index]-1e3,index-5,!1));else if(index>=0){centralFuntainGroup_.visible=!0,
funtainEventManager_.clearEvt();var time=300*(index+1),amt=winManager_.getLineWinAmt();0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.ceil(amt/3),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt(),setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}}function startCoinsSound_(){soundManager_.playSound("coins")}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],snd=(params[3],params[4]),btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new RopeDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(){1==freeSpinsManager_.getIsInFs()&&freeSpinsManager_.updateFreeSpinsTotWon(),bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt();for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?null==gameClass_.getStickyWildManager()||1!=gameClass_.getStickyWildManager().isSymbolWilded(winSmb_.icon[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):gameClass_.getStickyWildManager().wildReelWinAnim(winSmb_.reel[b],winSmb_.icon[b]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function amimIcon_(params){var winSmb_=params[0];for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?null==gameClass_.getStickyWildManager()||1!=gameClass_.getStickyWildManager().isSymbolWilded(winSmb_.reel[b],winSmb_.icon[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):gameClass_.getStickyWildManager().wildReelWinAnim(winSmb_.reel[b],winSmb_.icon[b]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1)}function triggerComplete_(){}function updateBalance_(){updatePrize_(),bgStopped_&&(soundManager_.getCanPlayBg()&&gameClass_.increaseVolumeBG(),bgStopped_=!1),0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(clearAll_(),bCompleted_=!0),soundManager_.playSound("line")}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++){var smb=reels[a].getSymbol(s);smb.smbNum<gameClass_.getHlMaximumIcon()&&(smb.alpha=alpha),0==smb.visible}var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])void 0!=map[a][b].smbNum&&map[a][b].smbNum<gameClass_.getHlMaximumIcon()&&(map[a][b].alpha=alpha);for(var expWRS=gameClass_.getStickyWildSimbs(),b=0;b<ReelConfig.numReels;b++)for(var s=0;s<ReelConfig.numIcons;s++)if(void 0!=expWRS[b]&&void 0!=expWRS[b][s]&&null!=expWRS[b][s].anim&&void 0==expWRS[b][s].anim.bgAnim){if(1==stopEvent_)return;expWRS[b][s].anim.alpha=alpha;var bgAnim=game_.add.sprite(expWRS[b][s].anim.x,expWRS[b][s].anim.y,"iconWinBgAnim");bgAnim.anchor.set(.5,.5),bgAnim.animations.add("anim"),bgAnim.alpha=.75,bgAnim.scale.x=ReelConfig.winHLScale,bgAnim.scale.y=ReelConfig.winHLScale,bgAnim.play("anim",24,!1,!1,loopBg_,[bgAnim,a]),expWRS[b][s].anim.bgAnim=bgAnim,bgAnim.alpha=0,displayManager_.getGroup("bgIconAnim").add(bgAnim),soundManager_.playSound("whl")}0==freeSpinsManager_.getIsInFs()&&void 0!=displayManager_.getGroup("bgIconAnim")&&(displayManager_.getGroup("bgIconAnim").alpha=1!=alpha?0:alpha)}function delayedAnimation_(smb,a){if(1!=stopEvent_){var add=!1;if((void 0==gameClass_.getSymbolWilded||1!=gameClass_.getSymbolWilded(smb.reel[a],smb.icon[a]))&&1!=wildManager_.isReelWilded(smb.reel[a])&&1!=gameClass_.isReelWilded(smb.reel[a])){if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;if(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,"7021"!=gameParams.gameID&&smb.smbNum[a]<=8&&void 0!=displayManager_.getGroup("bgIconAnim")){if(1==stopEvent_)return;var bgAnim=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"iconWinBgAnim");bgAnim.anchor.set(.5,.5),bgAnim.animations.add("anim"),"7018"!=gameParams.gameID&&(bgAnim.alpha=.75),bgAnim.scale.x=ReelConfig.winHLScale,bgAnim.scale.y=ReelConfig.winHLScale,bgAnim.play("anim",24,!1,!1,loopBg_,[bgAnim,a]),displayManager_.getGroup("bgIconAnim").add(bgAnim),displayManager_.getGroup("bgIconAnim").alpha=1,soundManager_.playSound("whl")}smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];smb.anim[a].scale.x<=1&&(1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),smb.anim[a].alpha=1}}}function loopBg_(params){if(1==stopEvent_)return void(void 0!=displayManager_.getGroup("bgIconAnim")&&displayManager_.getGroup("bgIconAnim").remove(params[0]));var anim=params[0];params[1];"7018"!=gameParams.gameID&&(anim.value_=0,anim.tw=TweenMax.to(anim.scale,.3,{x:1,y:1,onComplete:scaleBack_,onCompleteParams:[anim]}))}function scaleBack_(anim){return 1==stopEvent_?void(void 0!=displayManager_.getGroup("bgIconAnim")&&displayManager_.getGroup("bgIconAnim").remove(anim)):(anim.value_=anim.value_+.7,void TweenMax.to(anim.scale,.3,{x:1.15,y:1.15,onComplete:riScaleBack_,onCompleteParams:[anim]}))}function riScaleBack_(anim){return anim.value_>findWinRange_(winManager_.getLineWinAmt())?(anim.visible=!1,void(anim=null)):void TweenMax.to(anim.scale,.3,{x:1,y:1,onComplete:scaleBack_,onCompleteParams:[anim]})}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&TweenMax.to(smb.scale,.1,{x:1,y:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){if(null!=lineDraw_&&lineDraw_.clearAll(),null!=allLineDraw_)for(var a in allLineDraw_)null!=allLineDraw_[a]&&(allLineDraw_[a].clearAllStatic(),allLineDraw_[a]=null)}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function findWinRangeB_(amt){var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1,index=findWinRangeB_(amt);return"1"==winAnim.bigWinText[index]?(resetCentralWin_(),reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(index-5,!0),soundManager_.playSound("winBgS_"+winAnim.winSound_[index]),time=1e3*winAnim.centralWinDur[index]+1500):time=1500,time}function resetCentralWin_(){stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt();for(a in tw_)tw_[a].kill(),tw_[a]=null;tw_=[]}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(stage,bonus){if(1!=reset_){resetCentralWin_(),stage_=stage,displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,centralWinMsgGroups_[stage_].visible=!0,tw_=[],centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onComplete:animCentralStage_,onCompleteParams:[bonus]})),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.centralWinDur[5+stage_];setTimeout(lineCompletion_,time+1e3);var numObj=300*stage_,interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt()}}function animCentralStage_(bonus){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_,onCompleteParams:[bonus]}))}function animCentralStage1_(param){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut}))}function lineCompletion_(){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);gameClass_.lineCompletion(!0)}function startFuntain_(){}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:1,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(ReelConfig.newUI&&("portrait"==getOrientation()?centralFuntainGroup_.y=window.innerHeight:centralFuntainGroup_.y=0),Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=0,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:1,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}function resetPrevSounds_(){for(var i=0;i<9;i++)soundManager_.stopSound("winBg_"+i);for(var i=6;i<9;i++)soundManager_.stopSound("winBg_S_"+i)}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,wins,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,allLineDraw_=[],stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],objThrown_=[],stToClear_=[],bgStopped_=!1,winAnim={winClasses_:[1,10,30,80,120,240,600,1500,3e3],winSound_:[1,1,3,3,4,5,6,7,8],winTxtDuration:[.5,1.5,1.7,2,2.5,3.5,4,4,4],centralWinDur:[0,0,0,0,0,0,5,6,7],scaleFactor:[1.6,1.8,1.9,2,2.1,2.2,2.3,2.5,2.7],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,doOk:doOk_,getTotalDuration:function(){var index=findWinRange_(winManager_.getLineWinAmt()),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index]+additionalTime},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_};return initClass_(),me}function AllLineWinningsFirst4Smb(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManager,funtainEventManager_=new EventManager}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function resetPrevSounds_(){for(var i=0;i<9;i++)soundManager_.stopSound("winBg_"+i);for(var i=6;i<9;i++)soundManager_.stopSound("winBg_S_"+i)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0,iMaxSmb=0;if(wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),totalDuration_=0,resetCentralWin_(),resetPrevSounds_(),index=findWinRange_(winManager_.getLineWinAmt()),soundManager_.playSound("winBg_"+winAnim.winSound_[index]),gameClass_.decreaseVolumeBG(me.getTotalDuration()),bgStopped_=!0,void 0!=displayManager_.getGroup("bgIconAnim"))for(var a in displayManager_.getGroup("bgIconAnim").children)void 0!=displayManager_.getGroup("bgIconAnim").children[a].tw&&displayManager_.getGroup("bgIconAnim").children[a].tw.kill(),displayManager_.getGroup("bgIconAnim").remove(displayManager_.getGroup("bgIconAnim").children[a]);winEventManager_.addEvent(changeAllHL_,200,[.35]);for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){for(var num=8,def=8,b=wins[a].smbNum.length;b>=0;b--)if(wins[a].realSmbNum[b]<num&&wins[a].realSmbNum[b]<8){def=wins[a].realSmbNum[b];break}num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb,winEventManager_.addEvent(amimIcon_,0,[wins[a]])}soundManager_.playSound("smbWin_"+iMaxSmb),winEventManager_.addEvent(showCentralWin_,10,[index]),winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,1e3*winAnim.winTxtDuration[index]+1e3*winAnim.centralWinDur[index]),0==freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(idle_,"0"==winAnim.bigWinText[index]?ReelConfig.delayBeforeIdle:1e3*winAnim.winTxtDuration[index]+1e3*winAnim.centralWinDur[index]+ReelConfig.delayBeforeIdle,[wins[a]]),winEventManager_.triggerEvt()}function showCentralWin_(params){var index=findWinRange_(winManager_.getLineWinAmt());if(winAmtClass_.showWin(winManager_.getLineWinAmt(),null,null,null,0,null,winAnim.scaleFactor[index],winAnim.winTxtDuration[index]),"1"==winAnim.bigWinText[index])stToClear_.push(setTimeout(changeCentralWinStage_,1e3*winAnim.winTxtDuration[index]-1e3,index-5,!1));else if(index>=0){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=winManager_.getLineWinAmt();0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.ceil(amt/3),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt(),setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}}function startCoinsSound_(){soundManager_.playSound("coins")}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],snd=(params[3],params[4]),btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new RopeDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(){1==freeSpinsManager_.getIsInFs()&&freeSpinsManager_.updateFreeSpinsTotWon(),bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt();for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++){var smbIndex=winSmb_.icon[b];if(1!=gameClass_.getStickyWildManager().isSymbolWilded(winSmb_.reel[b],smbIndex)?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):gameClass_.getStickyWildManager().wildReelWinAnim(winSmb_.reel[b],smbIndex),void 0!=winSmb_.anim[b].special&&"mult"==winSmb_.anim[b].special){var smbM=game_.add.sprite(winSmb_.pos[b].x+ReelConfig.icon.width/2,winSmb_.pos[b].y+ReelConfig.icon.height/2,"multiplier");smbM.anchor.set(0,1),smbM.scale.x=.5,smbM.scale.y=.5,smbM.reel=winSmb_.reel[b],spinManager_.getReelGroup(winSmb_.reel[b]).add(smbM),TweenMax.to(smbM,1,{alpha:0,delay:1,onComplete:endMult_,onCompleteParams:[smbM]})}}}function amimIcon_(params){var winSmb_=params[0];for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a);for(var b=0;b<winSmb_.reel.length;b++){var smbIndex=winSmb_.icon[b];1!=gameClass_.getStickyWildManager().isSymbolWilded(winSmb_.reel[b],smbIndex)?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):gameClass_.getStickyWildManager().wildReelWinAnim(winSmb_.reel[b],smbIndex)}}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1)}function triggerComplete_(){}function updateBalance_(){updatePrize_(),bgStopped_&&(soundManager_.getCanPlayBg()&&gameClass_.increaseVolumeBG(),bgStopped_=!1),0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(clearAll_(),bCompleted_=!0),soundManager_.playSound("line")}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++){var smb=reels[a].getSymbol(s);smb.smbNum<gameClass_.getHlMaximumIcon()&&(smb.alpha=alpha),0==smb.visible}var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])void 0!=map[a][b].smbNum&&map[a][b].smbNum<gameClass_.getHlMaximumIcon()&&(map[a][b].alpha=alpha);for(var expWRS=gameClass_.getStickyWildSimbs(),b=0;b<ReelConfig.numReels;b++)for(var s=0;s<ReelConfig.numIcons;s++)if(void 0!=expWRS[b]&&void 0!=expWRS[b][s]&&null!=expWRS[b][s].anim&&void 0==expWRS[b][s].anim.bgAnim&&1==stopEvent_)return;0==freeSpinsManager_.getIsInFs()&&void 0!=displayManager_.getGroup("bgIconAnim")&&(displayManager_.getGroup("bgIconAnim").alpha=1!=alpha?0:alpha)}function delayedAnimation_(smb,a){if(1!=stopEvent_){var add=!1;if(1!=gameClass_.isReelWilded(smb.reel[a])){var smbIndex=smb.icon[a];if(void 0==spinManager_.getSpinReelResp().reel[smb.reel[a]].smb[smbIndex].notShow||1!=spinManager_.getSpinReelResp().reel[smb.reel[a]].smb[smbIndex].notShow){if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,14==spinManager_.getReels()[smb.reel[a]].getSymbol(smb.icon[a]).smbNum?smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim14"):smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];smb.anim[a].scale.x<=1&&(1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),smb.anim[a].alpha=1}}}}function endMult_(smb){var reel=smb.reel;spinManager_.getReelGroup(reel).remove(smb),smb=null}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&TweenMax.to(smb.scale,.1,{x:1,y:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){null!=lineDraw_&&lineDraw_.clearAll()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function findWinRangeB_(amt){var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1,index=findWinRangeB_(amt);
return"1"==winAnim.bigWinText[index]?(resetCentralWin_(),reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(index-5,!0),soundManager_.playSound("winBgS_"+winAnim.winSound_[index]),time=1e3*winAnim.centralWinDur[index]+1500):time=1500,time}function resetCentralWin_(){stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt();for(a in tw_)tw_[a].kill(),tw_[a]=null;tw_=[]}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(stage,bonus){if(1!=reset_){resetCentralWin_(),stage_=stage,displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,centralWinMsgGroups_[stage_].visible=!0,tw_=[],centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onComplete:animCentralStage_,onCompleteParams:[bonus]})),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.centralWinDur[5+stage_];setTimeout(lineCompletion_,time+1e3);var numObj=400*stage_,interval=(time-2e3)/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt()}}function animCentralStage_(bonus){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_,onCompleteParams:[bonus]}))}function animCentralStage1_(param){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut}))}function lineCompletion_(){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);gameClass_.lineCompletion(!0)}function startFuntain_(){}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,wins,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],objThrown_=[],stToClear_=[],bgStopped_=!1,winAnim={winClasses_:[1,10,30,80,120,240,1e3,2500,5e3],winSound_:[1,2,3,3,4,5,6,7,8],winTxtDuration:[1,1.7,2.2,2.5,2.7,3.5,5,6,6],centralWinDur:[0,0,0,0,0,0,6,6,7],scaleFactor:[1.6,1.8,1.9,2,2.1,2.2,2.3,2.5,2.7],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var index=findWinRange_(winManager_.getLineWinAmt()),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index]+additionalTime},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_};return initClass_(),me}function AllLineWinningsFirstLoop(gameRef,gameClass){function Point(x,y){this.x=x||0,this.y=y||0}function initClass_(){stages_[0]=winAnim.winClasses_[7],stages_[1]=winAnim.winClasses_[8],stages_[2]=winAnim.winClasses_[9],mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgBg[1]=displayManager_.getGroup("centralWin").bg_3,centralWinMsgBg[2]=displayManager_.getGroup("centralWin").bg_3,centralWinMsgBg[3]=displayManager_.getGroup("centralWin").bg_3,centralWinMsgBg[4]=displayManager_.getGroup("centralWin").bg_4,centralWinMsgTxt[1]=displayManager_.getGroup("centralWin").bigWin,centralWinMsgTxt[3]=displayManager_.getGroup("centralWin").epicWin,centralWinMsgTxt[2]=displayManager_.getGroup("centralWin").ultraWin,centralWinMsgTxt[4]=displayManager_.getGroup("centralWin").jpotWin,centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").epicWin.y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").ultraWin.y,centralWinMsgPos_[4]=displayManager_.getGroup("centralWin").jpotWin.y,centralWinRay_=displayManager_.getGroup("centralWin").winRays,centralWinPopUp_=displayManager_.getGroup("centralWin").bigWinBg,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManager,funtainEventManager_=new EventManager}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(!0),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnim.winTxtDuration[findWinRange_(amt)];return reset_=!1,time}function stopIncSound_(){soundManager_.stopSound(winAnim.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Point(lineConfig.line.x_origin,0),0==w&&(real=new Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function resetPrevSounds_(){for(var i=0;i<9;i++)soundManager_.stopSound("winBg_"+i);for(var i=6;i<9;i++)soundManager_.stopSound("winBg_S_"+i)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0,iMaxSmb=0;wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),totalDuration_=0,index=findWinRange_(winManager_.getLineWinAmt());var timeBW=0;index>6&&(timeBW=2e3),resetCentralWin_(!0),resetPrevSounds_(),soundManager_.playSound("winBg_"+winAnim.winSound_[index]),gameClass_.decreaseVolumeBG(me.getTotalDuration()),winEventManager_.addEvent(changeAllHL_,200,[.35]);for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){for(var num=8,def=8,b=wins[a].smbNum.length;b>=0;b--)if(wins[a].realSmbNum[b]<num&&wins[a].realSmbNum[b]<8){def=wins[a].realSmbNum[b];break}num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb,winEventManager_.addEvent(amimIcon_,0,[wins[a]])}soundManager_.playSound("smbWin_"+iMaxSmb),winEventManager_.addEvent(showCentralWin_,10,[index]),winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,1e3*winAnim.winTxtDuration[index]+timeBW),0==freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(idle_,timeBW+ReelConfig.delayBeforeIdle,[wins[a]]),winEventManager_.triggerEvt()}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],snd=(params[3],params[4]),btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().fill="#ffffff";stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new CCurveDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(){1==freeSpinsManager_.getIsInFs()&&freeSpinsManager_.updateFreeSpinsTotWon(),bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt(),coinWinTxt_.scaleX=scaleStart_,coinWinTxt_.scaleY=scaleStart_;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1,TweenMax.to(a,.2,{scaleX:1.1,scaleY:1.1,onComplete:updateAfterWinScale_,onCompleteParams:[a]}),a.animations.play("anim",24,!1,!1))}function showCentralWin_(params){var index=findWinRange_(winManager_.getLineWinAmt());if(freeSpinsManager_.updateFreeSpinsTotWon(),winAmtClass_.showWin(winManager_.getLineWinAmt(),null,updatingValue_,completeV_,0,null,scaleStart_,winAnim.winTxtDuration[index],"Sine"),index>=4&&index<10){gameClass_.playBgLights(),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=winManager_.getLineWinAmt();0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.ceil(amt/3),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt(),setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}}function startCoinsSound_(){soundManager_.playSound("coins")}function triggerComplete_(){}function updateBalance_(){updatePrize_(),0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?(TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}),setTimeout(resetCentralWin_,500)):(clearAll_(),bCompleted_=!0),coinWinTxt_.scale.x=scaleStart_,coinWinTxt_.scale.y=scaleStart_,soundManager_.playSound("line")}function updateBonusBalance_(amt,msg){reset_=!0,winAmtManager_.showIstantUpdateWin(amt,msg),soundManager_.playSound("line")}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function updateAfterWinScale_(a){null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&TweenMax.to(a,.2,{scaleX:1,scaleY:1})}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++){var smb=reels[a].getSymbol(s);smb.smbNum<gameClass_.getHlMaximumIcon()&&(smb.alpha=alpha)}var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])void 0!=map[a][b].smbNum&&map[a][b].smbNum<gameClass_.getHlMaximumIcon()&&(map[a][b].alpha=alpha)}function amimIcon_(params){var winSmb_=params[0];for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a);for(var b=0;b<winSmb_.reel.length;b++){winSmb_.icon[b];void 0!=gameClass_.isReelWilded()&&1==gameClass_.isReelWilded(winSmb_.reel[b])||hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])])}}function delayedAnimation_(smb,a){var add=!1;if(void 0!=gameClass_.isReelWilded()&&1==gameClass_.isReelWilded(smb.reel[a]))return void wildManager_.wildReelWinAnim(smb.reel[a]);if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,6!=smb.smbNum[a]?(smb.anim[a]=spriteManager_.addSprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a],null,null,.5,.5,1,1),smb.anim[a].animations=animationManager_.create(smb.anim[a],"anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]),smb.anim[a].spine=!1):(smb.anim[a]=game_.add.spine(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a],"anim",!0),smb.anim[a].setScale(.195),smb.anim[a].spine=!0),smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];if(smb.anim[a].scaleX<=1&&6!=smb.smbNum[a]&&(1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?animationManager_.play(smb.anim[a],"anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),void 0!=smb.anim[a].special&&"mult"==smb.anim[a].special){var smbM=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"lights-mult");smbM.anchor.set(.5,.5),smbM.animations.add("anim"),smbM.scale.x=1,smbM.scale.y=1,smbM.animations.play("anim",70,!1,!0),spinManager_.getReelGroup(smb.reel[a]).add(smbM)}smb.anim[a].alpha=1}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&TweenMax.to(smb,.1,{scaleX:1,scaleY:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){null!=lineDraw_&&lineDraw_.clearAll()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(!0),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function findWinRangeB_(amt){var number=winAnimB.winClasses_.length-1;for(var a in winAnimB.winClasses_)if(winAnimB.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){updateBalance_(),setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){if(0==balanceManager_.getShowIncredits())var amtC=Util.getNumericValue(amt)*balanceManager_.getCoinValue()/lineManager_.getLinesNumber();var time=0,index=-1;reset_=!1;for(var a in stages_)Number(amt)>=stages_[a]&&(time=1e3*winAnim.winTxtDuration[findWinRangeB_(amtC)],index=a);return index>0?amt<39999?(resetCentralWin_(!0),stage_=index,reset_=!1,currentSmb_=1,currentWinWeight_=amt,ImmediateCentralWinStage_(amt),gameClass_.decreaseVolumeBG(1e3*winAnim.winTxtDuration[Number(stage_)+6])):(gameClass_.playBgLights(),stage_=4,ImmediateCentralWinStage_(amt),gameClass_.decreaseVolumeBG(1e3*winAnim.winTxtDuration[9])):time=1500,time}function showBonusCentralWinGreetings_(amt){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!1;for(var a in stages_)Number(amtC)>=stages_[a]&&(time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amtC)],index=a);return index>0?(resetCentralWin_(!0),stage_=index,reset_=!1,currentSmb_=1,currentWinWeight_=amt,ImmediateCentralWinStage_(amtC),soundManager_.playSound("winBgS_"+(Number(stage_)+6)),gameClass_.decreaseVolumeBG(1e3*winAnimB.winTxtDuration[Number(stage_)+6])):time=1500,time}function showScatterCentralWinGreetings_(amt){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!1;for(var a in stages_)Number(amtC)>=stages_[a]&&(time=1e3*winAnim.winTxtDuration[findWinRangeB_(amtC)],index=a);return index>0?(resetCentralWin_(!0),stage_=index,reset_=!1,currentSmb_=1,currentWinWeight_=amt,ImmediateCentralWinStage_(amtC)):(0==balanceManager_.getShowIncredits()?completeBonusValue_(amt,"Scatter Win"):completeBonusValue_(amtC,"Scatter Win"),time=1500),time}function updatingValue_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&""!=displayManager_.getText("lineWin").text&&0==reset_&&changeCentralWinStage_()}function completeV_(){null!=tw2&&(tw2.kill(),tw2=null)}function resetCentralWin_(now){soundManager_.stopSound("winBg"),void 0!=soundManager_.getSound("bigWinBg_"+stage_)&&soundManager_.getSound("bigWinBg_"+stage_).fadeOutBgSound(200),stage_=0,totalDuration_=0,null!=tw1&&tw1.stop(),null!=tw2&&tw2.kill(),tw1=null,tw2=null;for(var a=1;a<=centralWinMsgBg.length-1;a++)TweenMax.to(centralWinPopUp_,.5,{scaleX:1.1,scaleY:1.1,ease:Sine.easeInOut}),1==now?(removeCW_(a),TweenMax.to(centralWinMsgTxt[a],.5,{scaleX:1.2,scaleY:1.2,ease:Sine.easeInOut})):TweenMax.to(centralWinMsgTxt[a],.5,{scaleX:1.2,scaleY:1.2,ease:Sine.easeInOut,onComplete:removeCW_,onCompleteParams:[a]});funtainEventManager_.clearEvt()}function removeCW_(a){centralWinGroup_.visible=!1,centralWinMsgTxt[a].alpha=0,centralWinMsgTxt[a].scaleX=1,centralWinMsgTxt[a].scaleY=1,centralWinMsgBg[a].alpha=0,coinWinTxt_.y=450}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgBg.length-1;a++)centralWinMsgBg[a].alpha=0,centralWinMsgTxt[a].alpha=0,centralWinMsgTxt[a].scaleX=1,centralWinMsgTxt[a].scaleY=1}function changeCentralWinStage_(flip){if(1!=reset_){displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,0==stage_&&null!=centralWinMsgBg[stage_]&&(centralWinMsgBg[stage_].visible=!1,centralWinMsgTxt[stage_].visible=!1,centralWinMsgBg[stage_].alpha=0,centralWinMsgTxt[stage_].alpha=0),soundManager_.stopSound(winAnim.accuSnd),stage_++,1==stage_?(coinWinTxt_.y=550,coinWinTxt_.scaleX=winAnim.scaleFactor[6+stage_],coinWinTxt_.scaleY=winAnim.scaleFactor[6+stage_],centralWinPopUp_.visible=!1,stage_<4&&(centralWinPopUp_.visible=!0),centralWinPopUp_.scaleX=1,centralWinPopUp_.scaleY=1,centralWinMsgTxt[stage_].scaleX=1,centralWinMsgTxt[stage_].scaleY=1,centralWinMsgBg[stage_].visible=!0,centralWinMsgTxt[stage_].visible=!0,centralWinMsgBg[stage_].alpha=1,centralWinMsgTxt[stage_].alpha=1,centralWinMsgTxt[stage_].stage=stage_,tw2=TweenMax.to(centralWinMsgTxt[stage_],.5,{scaleX:1.2,scaleY:1.2,ease:Sine.easeInOut,onComplete:scaleBack_,onCompleteParams:[centralWinMsgTxt[stage_]]})):bookChange_++,tw1=game.add.tween(centralWinRay_).to({angle:360},5e3,Phaser.Easing.Linear.None,!0).loop(!0),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[5+stage_];time-=1e3;var numObj=(4==stage_?500:200)*stage_,interval=(time-2e3)/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function ImmediateCentralWinStage_(amt){if(1!=reset_){1==balanceManager_.getShowIncredits()?coinWinTxt_.setText(Util.formatNumber(amt,Util.getNubersOfDecimal())):coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(amt*balanceManager_.getCoinValue()/lineManager_.getLinesNumber(),Util.getNubersOfDecimal())),displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,soundManager_.stopSound(winAnim.accuSnd),coinWinTxt_.y=550,coinWinTxt_.alpha=1,coinWinTxt_.visible=!0,coinWinTxt_.scaleX=3,coinWinTxt_.scaleY=3,centralWinPopUp_.visible=!1,stage_<4&&(centralWinPopUp_.visible=!0),centralWinPopUp_.scaleX=1,centralWinPopUp_.scaleY=1,centralWinMsgTxt[stage_].scaleX=1,centralWinMsgTxt[stage_].scaleY=1,centralWinMsgBg[stage_].visible=!0,centralWinMsgTxt[stage_].visible=!0,centralWinMsgBg[stage_].alpha=1,centralWinMsgTxt[stage_].alpha=1,centralWinMsgTxt[stage_].stage=stage_,tw2=TweenMax.to(centralWinMsgTxt[stage_],.5,{scaleX:1.2,scaleY:1.2,ease:Sine.easeInOut,onComplete:scaleBack_,onCompleteParams:[centralWinMsgTxt[stage_]]}),tw1=game.add.tween(centralWinRay_).to({angle:360},5e3,Phaser.Easing.Linear.None,!0).loop(!0),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[5+stage_];time-=1e3;var numObj=(4==stage_?500:200)*stage_,interval=(time-2e3)/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function change_(s){var nextS=s.stage+1;centralWinMsgBg[s.stage].visible=!1,centralWinMsgBg[s.stage].alpha=0,centralWinMsgTxt[s.stage].alpha=0,centralWinMsgTxt[s.stage].visible=!1,centralWinMsgTxt[s.stage].scaleX=1,centralWinMsgTxt[s.stage].scaleY=1,coinWinTxt_.y=550,coinWinTxt_.scaleX=winAnim.scaleFactor[6+nextS],coinWinTxt_.scaleY=winAnim.scaleFactor[6+nextS],centralWinPopUp_.visible=!1,nextS<4&&(centralWinPopUp_.visible=!0),centralWinPopUp_.scaleX=1,centralWinPopUp_.scaleY=1,centralWinMsgTxt[nextS].scaleX=1,centralWinMsgTxt[nextS].scaleY=1,centralWinMsgBg[nextS].visible=!0,centralWinMsgTxt[nextS].visible=!0,centralWinMsgBg[nextS].alpha=1,centralWinMsgTxt[nextS].alpha=1,centralWinMsgTxt[nextS].scaleY=0,centralWinMsgTxt[nextS].scaleX=0,centralWinMsgTxt[nextS].stage=nextS,tw2=TweenMax.to(centralWinMsgTxt[nextS],.4,{scaleX:1.2,scaleY:1.2,onComplete:scaleBack2_,onCompleteParams:[centralWinMsgTxt[nextS]]}),bookChange_-=1}function scaleAgain_(s){tw2==TweenMax.to(s,.4,{scaleX:1.2,scaleY:1.2,ease:Sine.easeInOut,onComplete:scaleBack2_,onCompleteParams:[s]})}function scaleBack2_(s){bookChange_>0?(this.visible=!1,this.alpha=!1,tw2=TweenMax.to(s,.4,{scaleX:.7,scaleY:.7,ease:Sine.easeInOut,onComplete:change_,onCompleteParams:[s]})):tw2=TweenMax.to(s,.4,{scaleX:1,scaleY:1,ease:Sine.easeInOut,onComplete:scaleAgain_,onCompleteParams:[s]})}function scaleBack_(s){scaleBack2_(s)}function startFuntain_(){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())],numObj=Math.min(Math.round(20*currentWinWeight_),displayManager.groups.centralWin.maxObjNum),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval);funtainEventManager_.triggerEvt()}function startFuntain_(){}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scaleX=Util.getRandomInt(100,80)/100,ob.scaleY=ob.scaleX,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scaleX=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scaleY=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,centralWinRay_,centralWinPopUp_,wins,centralFuntainGroup_,currentSmb_,currentWinWeight_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stages_=[],stage_=0,centralWinMsgBg=[],centralWinMsgTxt=[],centralWinMsgPos_=[],tw1=null,tw2=null,reset_=!1,scaleStart_=2.5,objThrown_=[],stToClear_=[],winAnim={winClasses_:[1,10,20,40,80,120,240,300,600,1e3,39999],winTxtDuration:[.5,.6,.8,2,3,4.5,5,5.5,6,8,16],scaleFactor:[1.6,1.8,1.8,1.8,1.8,1.8,2.5,3,3.3,3.5,4],winSound_:[1,1,1,2,3,4,5,6,7,8,9],bigWinText:[0,0,0,0,0,0,0,1,1,1,2],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","","",""],accuSnd:""},winAnimB={winClasses_:[1,10,20,40,80,120,240,300,600,1e3,39999],winTxtDuration:[.5,.6,.8,2,3,4.5,5,5.5,6,8,16],scaleFactor:[1.6,1.8,1.8,1.8,1.8,1.8,2.5,3,3.3,3.5,4],winSound_:[1,1,1,2,3,4,5,6,7,8,9],bigWinText:[0,0,0,0,0,0,0,1,1,1,2],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","","",""],accuSnd:""},bookChange_=0,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showJpotCentralWinGreetings:showJpotCentralWinGreetings_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,showScatterCentralWinGreeting:showScatterCentralWinGreetings_,getTotalDuration:function(){if(totalDuration_=0,winManager_.getLineWinAmt()>0){var index=findWinRange_(winManager_.getLineWinAmt()),additionalTime=2e3;totalDuration_=1e3*winAnim.winTxtDuration[index]+additionalTime}var sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]&&null!=winManager_.getScatterWinAmt()[0][12]&&null!=winManager_.getScatterWinAmt()[0][12].amt?winManager_.getScatterWinAmt()[0][12].amt:0);return sAmt>0&&(totalDuration_+=1e3),totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_};return initClass_(),me}function AllLineWinningsWaikiki(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),
centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManager,funtainEventManager_=new EventManager}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0,iMaxSmb=0;wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),totalDuration_=0,resetCentralWin_(),resetPrevSounds_(),index=findWinRange_(winManager_.getLineWinAmt()),soundManager_.playSound("winBg"+(0==freeSpinsManager_.getIsInFs()?"":"FS")+"_"+winAnim.winSound_[index]),gameClass_.decreaseVolumeBG(me.getTotalDuration()),bgStopped_=!0,winEventManager_.addEvent(changeAllHL_,200,[.35]);for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){for(var num=8,def=8,b=wins[a].smbNum.length;b>=0;b--)if(wins[a].realSmbNum[b]<num&&wins[a].realSmbNum[b]<8){def=wins[a].realSmbNum[b];break}num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb,winEventManager_.addEvent(amimIcon_,0,[wins[a]])}soundManager_.playSound("smbWin_"+iMaxSmb),winEventManager_.addEvent(showCentralWin_,10,[index]),winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,1e3*winAnim.winTxtDuration[index]+1e3*winAnim.centralWinDur[index]),0==freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(idle_,"0"==winAnim.bigWinText[index]?ReelConfig.delayBeforeIdle:1e3*winAnim.winTxtDuration[index]+1e3*winAnim.centralWinDur[index]+ReelConfig.delayBeforeIdle,[wins[a]]),winEventManager_.triggerEvt()}function showCentralWin_(params){var index=findWinRange_(winManager_.getLineWinAmt());if(winAmtClass_.showWin(winManager_.getLineWinAmt(),null,null,null,0,null,winAnim.scaleFactor[index],winAnim.winTxtDuration[index]),"1"==winAnim.bigWinText[index])stToClear_.push(setTimeout(changeCentralWinStage_,1e3*winAnim.winTxtDuration[index]-1e3,index-5,!1));else if(index>=0){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=winManager_.getLineWinAmt();0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.ceil(amt/3),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt(),setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}}function startCoinsSound_(){soundManager_.playSound("coins")}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],snd=(params[3],params[4]),btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new RopeDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(){1==freeSpinsManager_.getIsInFs()&&freeSpinsManager_.updateFreeSpinsTotWon(),bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt();for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function amimIcon_(params){var winSmb_=params[0];for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?1!=gameClass_.getStickyWildManager().isSymbolWilded(winSmb_.reel[b],winSmb_.icon[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):gameClass_.getStickyWildManager().wildReelWinAnim(winSmb_.reel[b],winSmb_.icon[b]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1)}function triggerComplete_(){}function updateBalance_(){updatePrize_(),bgStopped_&&(soundManager_.getCanPlayBg()&&gameClass_.increaseVolumeBG(),bgStopped_=!1),0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(clearAll_(),bCompleted_=!0),soundManager_.playSound("line")}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++){var smb=reels[a].getSymbol(s);smb.smbNum<gameClass_.getHlMaximumIcon()&&(smb.alpha=alpha),0==smb.visible}var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])void 0!=map[a][b].smbNum&&map[a][b].smbNum<gameClass_.getHlMaximumIcon()&&(map[a][b].alpha=alpha)}function delayedAnimation_(smb,a){if(1!=stopEvent_){var add=!1;if(1!=gameClass_.isSymbolWilded(smb.reel[a],smb.icon[a])){if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,game.cache.checkImageKey("anim"+smb.smbNum[a])?(smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+gameClass_.getFsIcon(smb.smbNum[a])+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])):(smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(smb.smbNum[a])+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),smb.reel[a]<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(smb.smbNum[a])>=0?(smb.anim[a].scale.x=-1,smb.anim[a].inversion=!0):(smb.anim[a].scale.x=1,smb.anim[a].inversion=!1),scaleBack_(smb.anim[a]))}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];smb.anim[a].scale.x<=1&&(1!=add&&1!=lineConfig.line.multipleAnimation[smb.smbNum[a]]||!game.cache.checkImageKey("anim"+smb.smbNum[a])?(smb.reel[a]<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(smb.smbNum[a])>=0?(smb.anim[a].scale.x=-1,smb.anim[a].inversion=!0):(smb.anim[a].scale.x=1,smb.anim[a].inversion=!1),scaleBack_(smb.anim[a]),setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])):smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),smb.reel[a]<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(smb.smbNum[a])>=0?(smb.anim[a].scale.x=-1,smb.anim[a].inversion=!0):(smb.anim[a].scale.x=1,smb.anim[a].inversion=!1),smb.anim[a].alpha=1}}}function scaleBack_(anim){1!=stopEvent_&&TweenMax.to(anim.scale,.3,{delay:.2,x:anim.inversion?-1.1:1.1,y:1.1,onComplete:riScaleBack_,onCompleteParams:[anim]})}function scaleBack1_(anim){1!=stopEvent_&&TweenMax.to(anim.scale,.3,{delay:.2,x:anim.inversion?-1.1:1.1,y:1.1,onComplete:riScaleBack1_,onCompleteParams:[anim]})}function riScaleBack_(anim){TweenMax.to(anim.scale,.3,{delay:.2,x:anim.inversion?-1:1,y:1,onComplete:scaleBack1_,onCompleteParams:[anim]})}function riScaleBack1_(anim){TweenMax.to(anim.scale,.3,{delay:.2,x:anim.inversion?-1:1,y:1,onCompleteParams:[anim]})}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&smb.scale>1&&TweenMax.to(smb.scale,.1,{x:smb.inversion?-1:1,y:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.8,{y:ob.y+500,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){null!=lineDraw_&&lineDraw_.clearAll()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function findWinRangeB_(amt){var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1,index=findWinRangeB_(amt);return"1"==winAnim.bigWinText[index]?(resetCentralWin_(),reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(index-5,!0),soundManager_.playSound("winBgS"+(0==freeSpinsManager_.getIsInFs()?"":"FS")+"_"+winAnim.winSound_[index]),time=1e3*winAnim.centralWinDur[index]+1500):time=1500,time}function resetCentralWin_(){stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt();for(a in tw_)tw_[a].kill(),tw_[a]=null;tw_=[]}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(stage,bonus){if(1!=reset_){resetCentralWin_(),stage_=stage,displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,centralWinMsgGroups_[stage_].visible=!0,tw_=[],centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onComplete:animCentralStage_,onCompleteParams:[bonus]})),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.centralWinDur[5+stage_];setTimeout(lineCompletion_,time+1e3);var numObj=300*stage_,interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt()}}function animCentralStage_(bonus){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_,onCompleteParams:[bonus]}))}function animCentralStage1_(param){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut}))}function lineCompletion_(){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);gameClass_.lineCompletion(!0)}function startFuntain_(){}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.5+Util.getRandomInt(20,50)/100,{alpha:1,rotation:Util.getRandomInt(0,5),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Sine.easeOut}),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.6+Util.getRandomInt(20,50)/100,{alpha:1,rotation:Util.getRandomInt(0,5),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Sine.easeOut}),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}function resetPrevSounds_(){for(var i=0;i<9;i++)soundManager_.stopSound("winBg_"+i);for(var i=6;i<9;i++)soundManager_.stopSound("winBg_S_"+i)}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,wins,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],objThrown_=[],stToClear_=[],bgStopped_=!1,winAnim={winClasses_:[1,10,30,80,120,240,600,1500,3e3],winSound_:[0,1,3,3,4,5,6,7,8],winTxtDuration:[.5,1.5,1.7,2,2.5,3.5,4,4,4],centralWinDur:[0,0,0,0,0,0,5,6,7],scaleFactor:[1.6,1.8,1.9,2,2.1,2.2,2.3,2.5,2.7],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var index=findWinRange_(winManager_.getLineWinAmt()),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index]+additionalTime},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_};return initClass_(),me}function AllInOneLineWinAmount(gameRef,gameClass){function initClass_(){coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")}function prepareWinnings_(){null!=coinWinGroup_&&(coinWinGroup_.visible=!0),TweenMax.to(coinWinTxt_,0,{y:200,alpha:1}),winAmtClass_.showWin(winManager_.getWinAmt()*balanceManager_.getCoinValue(),null,null,onComplete_)}function onComplete_(){setTimeout(winAmtClass_.clearAll,1e3)}function clear_(){coinWinTxt_.setText("")}function clearBetweenLine_(){}function showWins_(params){}function moveWinAmountPosition_(params){}function showLine_(){winAmtManager_.showWin(winManager_.getWinAmt()*balanceManager_.getCoinValue(),null,null,null)}function getCentralWinDuration_(){var index=Number(findWinRange_(winManager_.getWinAmt()*balanceManager_.getCoinValue()));return winAnim.winTxtDuration[index]}function findWinRange_(amt){for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt)return Number(a)-1;return 0}var coinWinGroup_,coinWinTxt_,winAmtClass_,gameClass_=gameClass,game_=gameRef,winAnim={winClasses_:[1,2,5,10,20,50,200,500,1e3,2e3],winTxtDuration:[.8,1.3,1.5,1.8,2.1,2.5,3,4,5,6],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"",accuSnd:""},me={prepareWinnings:prepareWinnings_,clear:clear_,clearBetweenLine:clearBetweenLine_,showWins:showWins_,showLine:showLine_,moveWinAmountPosition:moveWinAmountPosition_,getCentralWinDuration:getCentralWinDuration_};return initClass_(),me}function CentralWinWithSimbols(gameRef,gameClass){function initClass_(){coinWinGroup_=displayManager_.getGroup("centralLineWin"),LineNumTxt_=displayManager_.getText("lineC"),LineWinTxt_=displayManager_.getText("lineCWin"),smbGroup=game_.add.group(),smbGroup.x=displayManager.groups.centralLineWin.xSmbBasePos,smbGroup.y=displayManager.groups.centralLineWin.ySmbBasePos,coinWinGroup_.add(smbGroup)}function intSubstArra_(){substArr=[];for(var r=0;r<ReelConfig.numReels;r++){substArr[r]=[];for(var i=0;i<ReelConfig.numIcons;i++)substArr[r][i]=null}}function prepareWinnings_(){winAmt_=0,intSubstArra_()}function clearBetweenLine_(){clear_()}function clear_(){if(LineNumTxt_.setText(""),LineWinTxt_.setText(""),substArr!=[])for(var r=0;r<ReelConfig.numReels;r++)for(var i=1;i<=ReelConfig.numIcons;i++)null!=substArr[r]&&null!=substArr[r][i]&&(coinWinGroup_.remove(substArr[r][i],!0),substArr[r][i]=null)}function showWins_(params){var line=params[0],amt=params[1].winAmount,first=params[2],smbs=params[1],index=0;first&&(winAmt_+=amt);for(var a in smbs.simbolReference)1==game.cache.checkImageKey("anim"+smbs.smbNum[a])&&null==substArr[smbs.reel[a]][smbs.icon[a]]&&(substArr[smbs.reel[a]][smbs.icon[a]]=game_.add.sprite(displayManager.groups.centralLineWin.xSmbBasePos+index*displayManager.groups.centralLineWin.wSmbSize,displayManager.groups.centralLineWin.ySmbBasePos,"anim"+smbs.smbNum[a]),substArr[smbs.reel[a]][smbs.icon[a]].animations.add("anim"),substArr[smbs.reel[a]][smbs.icon[a]].width=displayManager.groups.centralLineWin.wSmbSize,substArr[smbs.reel[a]][smbs.icon[a]].height=displayManager.groups.centralLineWin.hSmbSize,coinWinGroup_.add(substArr[smbs.reel[a]][smbs.icon[a]]),index++);LineNumTxt_.setText(Translate["do"]("Line")+" :"+line+" = "),LineWinTxt_.setText(" = "+balanceManager_.getCurrencySmb()+Util.formatNumber(amt,Util.getNubersOfDecimal())),winAmtManager_.changeWinValue(winAmt_)}function moveWinAmountPosition_(params){}function showLine_(){}var coinWinGroup_,smbGroup,LineNumTxt_,LineWinTxt_,game_=gameRef,winAmt_=0,substArr=[],me={prepareWinnings:prepareWinnings_,clear:clear_,clearBetweenLine:clearBetweenLine_,showWins:showWins_,showLine:showLine_,moveWinAmountPosition:moveWinAmountPosition_};return initClass_(),me}function LineWinAmtManager(gameRef,gameClass){function initClass_(){try{spinClass_=new window[ReelConfig.lineWinAmtType](game_,gameClass_)}catch(e){}}function showWins_(params){lineWinAmtClass_.showWins(params)}function prepareWinnings_(){lineWinAmtClass_.prepareWinnings()}function clear_(){lineWinAmtClass_.clear()}function clearBetweenLine_(){lineWinAmtClass_.clearBetweenLine()}function moveWinAmountPosition_(params){lineWinAmtClass_.moveWinAmountPosition(params)}function showLine_(){lineWinAmtClass_.showLine()}var lineWinAmtClass_,game_=gameRef,gameClass_=gameClass,me={showWins:showWins_,showLine:showLine_,prepareWinnings:prepareWinnings_,clear:clear_,clearBetweenLine:clearBetweenLine_,moveWinAmountPosition:moveWinAmountPosition_};return initClass_(),me}function NormalLineWinAmount(gameRef,gameClass){function initClass_(){coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin")}function prepareWinnings_(){null!=coinWinGroup_&&(coinWinGroup_.visible=!0),TweenMax.to(coinWinTxt_,0,{y:200,alpha:1})}function clear_(){coinWinTxt_.setText("")}function clearBetweenLine_(){clear_()}function showWins_(params){var line=params[0],amt=params[1].winAmount;null!=displayManager.groups.centralLineWin.texts.lineWin.bmpFont?(coinWinTxt_.scale.x=1,coinWinTxt_.scale.y=1,textSizeHl_()):displayManager.groups.centralLineWin.texts.lineWin.stroke_tick&&(coinWinTxt_.strokeThickness=displayManager.groups.centralLineWin.texts.lineWin.stroke_tick,textHl_()),amt>0&&(coinWinTxt_.stroke=lineManager_.getLineConfig(line).color.replace("0x","#"),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(amt,Util.getNubersOfDecimal())+"  "))}function moveWinAmountPosition_(params){var x=params[0],y=params[1];coinWinTxt_.x=x+displayManager.groups.centralLineWin.texts.lineWin.xOffset,coinWinTxt_.y=y+displayManager.groups.centralLineWin.texts.lineWin.yOffset}function textSizeHl_(){TweenMax.to(coinWinTxt_.scale,.2,{x:1.5,y:1.5,onComplete:scaleComplete_,repeat:3,yoyo:!0})}function scaleComplete_(){TweenMax.to(coinWinTxt_.scale,.15,{x:1,y:1})}function textHl_(){for(var index=0,baseSt=Number(coinWinTxt_.strokeThickness),a=0;a<=10;a++)setTimeout(change_,26*index,txt,baseSt+a),index++;for(a=10;a>=0;a--)setTimeout(change_,16*index,txt,baseSt+a),index++}function change_(amt){coinWinTxt_.strokeThickness=amt}function showLine_(){winAmtManager_.showWin(winManager_.getWinAmt()*balanceManager_.getCoinValue(),null,null,null)}var coinWinGroup_,coinWinTxt_,me={prepareWinnings:prepareWinnings_,clear:clear_,clearBetweenLine:clearBetweenLine_,showWins:showWins_,showLine:showLine_,moveWinAmountPosition:moveWinAmountPosition_};return initClass_(),me}function AggregateLineDraw(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,winEventManager_=new EventManager,funtainEventManager_=new EventManager}function createCanvas_(){clearAll_(),objTwLine_=[]}function addContainer_(line){var cont=new Phaser.Graphics(game_,0,0);container_[line].push(cont),mainGroup_.add(cont)}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),resetCentralWin_(),clearAll_(),null!=winAmtClass_&&(winAmtClass_.forceToComplete(),winAmtClass_.clearAll())}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt){reset_=!1,resetCentralWin_(),clearAll_(),displayManager_.getText("winValue").setText(""),stepInc_=winAnim.scaleFactor[findWinRange_(amt)],winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin"),winAmtClass_.showWin(amt,null,updatingValue_,completeValue_,0,null,stepInc_,5),setTimeout(updateBalance_,1e3*winAnim.winTxtDuration[findWinRange_(amt)]),setTimeout(handleBonusEndWinAnimation_,1e3*winAnim.winTxtDuration[findWinRange_(amt)]+500)}function handleBonusEndWinAnimation_(){logger("nh call5"),buttonManager_.applyState("NH"),buttonManager_.applyRestore()}function prepareWinnings_(winSmb){initLineParams(),coinsIconPoints_=[];for(var line in winSmb)container_[line]=[],void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var a=0;a<linesToDraw_;a++){coinsIconPoints_[line][a]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line][a].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line][a].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line][a].push(real)}real=new Phaser.Point(real.x+88,real.y),coinsIconPoints_[line][a].push(real),real=new Phaser.Point(real.x+100,real.y),coinsIconPoints_[line][a].push(real)}}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(TweenMax.killChildTweensOf(objThrown_[a]),centralFuntainGroup_.remove(objThrown_[a]),objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var wins=winManager_.getAllWinsSmbWinNumAggregated();bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin"),winEventManager_.clearEvt(),step_=1,totStep=0,totalDuration_=0,resetCentralWin_(),soundManager_.getSound("bigWinBg").setVolume(soundManager_.getSound("bigWinBg").getBaseVolume()),soundManager_.playSound("bigWinBg");for(var a=wins.length;a>=0;a--)if(void 0!=wins[a])for(var s in wins[a])if(wins[a][s].winAmount>0){totStep++,winEventManager_.addEvent(createCanvas_,100);var time_=Math.max(1e3*winAnim.winTxtDuration[Number(findWinRange_(wins[a][s].winAmount))],1e3*ReelConfig.smbMinAnimTime[wins[a][s].smbNum[0]])+lineConfig.line.duration;0==balanceManager_.getShowIncredits()?winEventManager_.addEvent(updatePrize_,0,[wins[a][s].winAmountCash,wins[a][s].lineSmbNum[0],time_/1e3]):winEventManager_.addEvent(updatePrize_,0,[wins[a][s].winAmount,wins[a][s].lineSmbNum[0],time_/1e3]);for(var b in wins[a][s].line)winEventManager_.addEvent(drawLine_,0,[wins[a][s].line[b],wins[a][s].lineSmbNum[b],wins[a][s],!1]);winEventManager_.addEvent(fake_,time_),
totalDuration_+=time_}stepInc_=winAnim.scaleFactor[findWinRange_(winManager_.getWinAmt())]/totStep,winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,ReelConfig.delayAfterWinAmt),winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}function updatePrize_(params){var amt=params[0],smb=params[1],time=params[2];if(amt>0){var st=partialWinAmt_;partialWinAmt_+=Number(amt),step_+=stepInc_,winAmtClass_.showWin(partialWinAmt_,null,updatingValue_,completeValue_,st,null,step_,time)}currentWinWeight_=3*amt,stage_>0&&startFuntain_(),soundManager_.playSound("smbWin_"+smb)}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],winSmb=params[2],justLine=params[3];currentSmb_=smb,container_[line]=[];for(var a=0;a<linesToDraw_;a++)addContainer_(line),coinsIconPoints_[line][a].length>0&&(oldIconPoints_[a]=new Phaser.Point(coinsIconPoints_[line][a][0].x,coinsIconPoints_[line][a][0].y),startDrawLine_(a,smb,line,lineTweenTime_PointToPoint_));0==justLine&&amimIcon_(winSmb)}}function startDrawLine_(a,smb,line,tweenTime){container_[line][a].clear(),container_[line][a].lineStyle(myLineTick_[a],getColor_(line,smb),.7),container_[line][a].moveTo(oldIconPoints_[a].x,oldIconPoints_[a].y),objTwLine_[a]={},objTwLine_[a]._points=coinsIconPoints_[line][a].length-1,objTwLine_[a].amt=0;for(var i=0;i<objTwLine_[a]._points;i++)updateTween_(line,a,smb,i,objTwLine_[a]._points)}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function updateTween_(line,a,smb,i,pointsL){if(null!=container_[line][a]){objTwLine_[a].amt=i;for(var j=0;j<15;j++)container_[line][a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha-.1*j),drawLineSegment_(container_[line][a],oldIconPoints_[a].x,oldIconPoints_[a].y+.2*j,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y+.2*j),drawLineSegment_(container_[line][a],oldIconPoints_[a].x,oldIconPoints_[a].y-.2*j,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y-.2*j);container_[line][a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha),drawLineSegment_(container_[line][a],oldIconPoints_[a].x,oldIconPoints_[a].y,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y),container_[line][a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha),oldIconPoints_[a]=new Phaser.Point(coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y)}}function drawLineSegment_(container,x1,y1,x2,y2){container.moveTo(x1,y1),container.lineTo(x2,y2)}function idle_(force){if(1!=stopEvent_||1==force[0]){stopEvent_=!1;var index=0,wins=winManager_.getAllWinsSorted();if(0!=wins.length){winEventManager_.clearEvt(),coinWinTxt_.scale.x=1.2,coinWinTxt_.scale.y=1.2;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.45]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(clearAll_,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}}}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0]);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&(a.alpha=1,TweenMax.to(a.scale,.2,{x:1.2,y:1.2,onComplete:updateAfterWinScale_,onCompleteParams:[a]}))}function triggerComplete_(){logger("nh call6")}function updateBalance_(){logger(" line animation update balance event "),reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startUpdate(){logger(" line animation update startUpdate "),coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function updateAfterWinScale_(a){void 0!=a.scale&&TweenMax.to(a.scale,.2,{x:1,y:1})}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++)reels[a].getSymbol(s+Number(ReelConfig.numIconsOnTop)).alpha=alpha;var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])null!=map[a][b]&&(map[a][b].alpha=alpha)}function amimIcon_(smb){if(1!=stopEvent_){var index=0,wildReelAnim=[],wildReelSeq=[];for(var a in smb.smbNum)0==wildManager_.getWildReel(smb.reel[a])?1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(index++,animation_(smb,a)):wildReelSeq.indexOf(smb.reel[a]<0)&&(wildReelAnim.push(index*lineConfig.line.pointToPointSpeed*1e3),wildReelSeq.push(smb.reel[a]));if(wildReelSeq.length>0)for(var a in wildReelSeq)stToClear_.push(setTimeout(delayedWildReelAnimation_,wildReelAnim[a],wildReelSeq[a]))}}function delayedWildReelAnimation_(reel){wildManager_.wildReelWinAnim(reel)}function animation_(smb,a){var add=!1;null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations?(add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.refer.anim[a]=smb.anim[a],smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].width=ReelConfig.icon.width,smb.anim[a].height=ReelConfig.icon.height,smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])):(smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a]),1==smb.anim[a].scale.x&&1==add&&TweenMax.to(smb.anim[a].scale,.3,{x:1.15,y:1.15,repeat:1,yoyo:!0,onComplete:backScale_,onCompleteParams:[smb.anim[a]]}),1!=add&&1!=lineConfig.line.multipleAnimation[smb.smbNum[a]]||smb.anim[a].animations.play("anim",24,!1,!1)}function backScale_(smb){TweenMax.to(smb.scale,.5,{x:1,y:1})}function initLineParams(){for(tickRatio_=lineConfig.line.tickBase,lineTweenTime_PointToPoint_=lineConfig.line.pointToPointSpeed,linesToDraw_=lineConfig.line.linesNumber,lineFadeTime_=1.2,txtFadeTime_=1.2,oldIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],objTwAmt_=[],myLineTick_=[],revert=!1,ct=0,a=0;a<linesToDraw_;a++)coinsIconPoints_[a]=[],coinsIconPoints_[a]=[],iconSmb_[a]=[],myLineTick_[a]=tickRatio_}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:Util.getRandomInt(0,90),x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function clearAll_(){for(var line in container_)for(var a=0;a<container_[line].length;a++)container_[line][a].clear(),container_[line][a].destroy(),null!=container_[line][a]&&(mainGroup_.remove(container_[line][a]),container_[line][a]=null);for(var a in mainGroup_.children)mainGroup_.remove(mainGroup_.children[a]);container_=[],clearTrow_()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),winEventManager_.clearEvt(),clearAll_(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),logger(" try to complete upate balance "+!bCompleted_),0==bCompleted_&&TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){logger(" startForceUpdate "),coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function findWinRange_(amt){var number=0;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a);break}return freeSpinsManager_.getIsInFs()||1==gameClass_.getCompulsivePlayer()?Math.min(number,1):number}function getInterruptedWinAnim_(){return!bCompleted_}function getColor_(line,smb){return 1==lineConfig.line.showWinWithSmbColor?ReelConfig.smb_colors[smb]:lineConfig.line.lines[line].color}function completeValue_(){}function updatingValue_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&""!=displayManager_.getText("lineWin").text&&0==reset_&&changeCentralWinStage_()}function resetCentralWin_(){soundManager_.getSound("bigWinBg")&&soundManager_.getSound("bigWinBg").fadeOutBgSound(500),funtainEventManager_.clearEvt(),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200}function changeCentralWinStage_(){1!=reset_&&(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,null!=centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{alpha:0,y:-200,ease:Bounce.easeIn}),stage_++,centralWinMsgGroups_[stage_].visible=!0,startFuntain_(),centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onStart:animCentralSound_,onComplete:animCentralStage_}))}function animCentralSound_(){soundManager_.playSound("winEffect_"+stage_),soundManager_.getSound("bigWinBg").setVolume(1.4*soundManager_.getSound("bigWinBg").getVolume())}function animCentralStage_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_})}function animCentralStage1_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut})}function startFuntain_(){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())],numObj=Math.min(Math.round(20*currentWinWeight_),displayManager.groups.centralWin.maxObjNum),interval=time/numObj;if(1==game_.cache.checkImageKey("gemPart"+currentSmb_))for(a=0;a<=numObj;a++)funtainEventManager_.addEvent(startNewObject_,interval);funtainEventManager_.triggerEvt()}function startNewObject_(){var ob=game_.add.sprite(640,740,"gemPart"+currentSmb_);ob.anchor.set(.5,.5),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(80,125)/100,ob.scale.y=Util.getRandomInt(80,125)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function clearTrow_(){for(a in objThrown_)null!=objThrown_[a]&&objThrown_[a].y>750&&(TweenMax.killChildTweensOf(objThrown_[a]),centralFuntainGroup_.remove(objThrown_[a]),objThrown_[a].destroy(),objThrown_[a]=null)}function fake_(){}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,centralFuntainGroup_,currentSmb_,currentWinWeight_,stepInc_,gameClass_=gameClass,game_=gameRef,oldIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],objTwAmt_=[],myLineTick_=[],linesToDraw_=1,partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,container_=[],objTwLine_=[],bCompleted_=!0,stopEvent_=!1,stages_=displayManager.groups.centralWin.thresHolds,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,objThrown_=[],stToClear_=[],step_=0,winAnim={winClasses_:[1,2,5,10,20,50,200,500,1e3,99999e3],winTxtDuration:[.5,.7,.8,1,1.5,2,3,4,5,6],scaleFactor:[1.1,1.15,1.2,1.5,1.7,1.8,2,2.2,2.3,2.5],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"",accuSnd:""},me={prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,getTotalDuration:function(){return winManager_.getWinAmt()>=stages_[1]&&(totalDuration_=2*totalDuration_),winManager_.getWinAmt()>=stages_[2]&&(totalDuration_=2*totalDuration_),totalDuration_}};return initClass_(),me}function CurveDraw(gameRef,gameClass){function Point(x,y){this.x=x||0,this.y=y||0}function initClass_(){mainGroup_=displayManager_.getGroup("lines"),animGroup_=displayManager_.getGroup("wins"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),winEventManager_=new EventManager}function createCanvas_(){clearAll_(),objTwLine_=[],container_=[]}function addContainer_(){var cont=new Phaser.Graphics(game_,0,0);container_.push(cont),mainGroup_.add(cont)}function clearOverLine_(){winEventManager_.clearEvt(),clearAll_()}function clearLine_(){clearAll_(),winEventManager_.clearEvt()}function stopEvents_(){stopEvent_=!0}function showLine_(){var index=0,wins=winManager_.getAllWinsSorted();bCompleted_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin");for(var a in wins)void 0!=wins[a]&&(winEventManager_.addEvent(drawLine_,10,[a,wins[a].winAmount,"txtCoin","txtNum"]),winEventManager_.addEvent(amimIcon_,0,wins[a]),winEventManager_.addEvent(buttonHlOff_,1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)]+300,a),index++);winEventManager_.addEvent(updateBalance_,100),winEventManager_.triggerEvt()}function buttonHlOff_(){if(1!=stopEvent_){var btn=gameClass_.getLineButtons();for(a in btn)for(var b in btn[a])btn[a][b].getButton().tint=16777215,btn[a][b].getButton().children[0].fill=displayManager.groups.buttons["line"+b].text.fill}}function updateBalance_(){TweenMax.to(coinWinTxt_,.4,{y:500,alpha:0,onComplete:startUpdate,ease:Sine.easeInOut})}function startUpdate(){bCompleted_=!0,coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:200,alpha:1}),winAmtManager_.showWin(winManager_.getWinAmt()*balanceManager_.getCoinValue(),null,null,null),endCoins_(),clearAll_()}function showStaticLine_(line,smb){initLineParams(),randomIconPoints_=[],coinsIconPoints_=[],calcSingleLinePoints_(line,smb),logger("over line "+line),drawLine_([line,0,null,null])}function prepareWinnings_(winSmb){initLineParams(),randomIconPoints_=[],coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,ll,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;randomIconPoints_[line]=[],coinsIconPoints_[line]=[];for(var a=0;a<linesToDraw_;a++){randomIconPoints_[line][a]=[],coinsIconPoints_[line][a]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=0==w&&1==startFromSinglePoint_||w==winSmb.pos.length-1&&1==endInSinglePoint_?new Point(0,0):new Point(Math.random()*linesX_offset_-Math.random()*linesX_offset_,Math.random()*linesY_offset_-Math.random()*linesY_offset_),0==w&&(ll=new Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),randomIconPoints_[line][a].push(ll)),ll=new Point(winSmb.pos[w].x+smbW_/2+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),real=new Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),randomIconPoints_[line][a].push(ll),coinsIconPoints_[line][a].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].smb[rest])+1);pp=new Point(Math.random()*linesX_offset_-Math.random()*linesX_offset_,Math.random()*linesY_offset_-Math.random()*linesY_offset_),ll=new Point(smb.x+smbW_/2+pp.x,smb.y+smbH_/2+pp.y),real=new Point(smb.x+smbW_/2,smb.y+smbH_/2),randomIconPoints_[line][a].push(ll),coinsIconPoints_[line][a].push(real)}}}function amimIcon_(smb){if(1!=stopEvent_)for(var a in smb.smbNum)1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(smb.anim[a]=game_.add.sprite(smb.pos[a].x,smb.pos[a].y,"anim"+smb.smbNum[a]),smb.anim[a].animations.add("anim"),smb.anim[a].animations.play("anim",24,!1,!0,restoreIcon_,smb.simbolReference[a]),smb.anim[a].width=ReelConfig.icon.width,smb.anim[a].height=ReelConfig.icon.height,smb.simbolReference[a].visible=!1,animGroup_.add(smb.anim[a]))}function restoreIcon_(par){par.visible=!0}function initLineParams(){tickRatio_=lineConfig.line.tickBase,linesX_offset_=lineConfig.line.xOffset,linesY_offset_=lineConfig.line.yOffset,lineTweenTime_PointToPoint_=lineConfig.line.pointToPointSpeed,linesToDraw_=lineConfig.line.linesNumber,lineFadeTime_=1.2,txtFadeTime_=1.2,startFromSinglePoint_=lineConfig.line.startFromSinglePoint,endInSinglePoint_=lineConfig.line.endInSinglePoint,randomIconPoints_=[],bezierIconPoints_=[],oldRandomIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],myEndAlphaPoint_=[],myAlphaPoint_=[],myAlphaLine_=[],myIncrAlphaPoint_=[],myStartEndAlphaPoint_=[],objTwAmt_=[],myLineMaxAlpha_=[],myLineTick_=[],revert=!1,ct=0;for(var a in iTimO_)void 0!=iTimO_[0]&&clearTimeout(iTimO_[a]);for(a=0;a<linesToDraw_;a++)randomIconPoints_[a]=[],bezierIconPoints_[a]=[],coinsIconPoints_[a]=[],iconSmb_[a]=[],myStartEndAlphaPoint_[a]=100,myAlphaLine_[a]=0,myLineMaxAlpha_[a]=Util.getRandomInt(50,100)/100,myLineTick_[a]=myLineMaxAlpha_[a]*lineConfig.line.tickBase}function drawLine_(params){if(1!=stopEvent_){var a,line=params[0],amt=params[1];params[2],params[3];createCanvas_();var btn=gameClass_.getLineButton(line);for(a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";for(amt>0&&(winAmtClass_.changeFilters(lineManager_.getLineConfig(line).color),winAmtClass_.showWin(amt,null,null,null)),a=0;a<linesToDraw_;a++){addContainer_();var fsp=new FindSmoothPath(randomIconPoints_[line][a],(!0),5);bezierIconPoints_[a]=fsp.getArrayOfPoints(),bezierIconPoints_[a].length>0&&(myEndAlphaPoint_[a]=bezierIconPoints_[a].length-myStartEndAlphaPoint_[a]/100,myIncrAlphaPoint_[a]=myLineMaxAlpha_[a]/myStartEndAlphaPoint_[a],oldRandomIconPoints_[a]=new Point(bezierIconPoints_[a][0].x,bezierIconPoints_[a][0].y),startDrawLine_(a,line,lineTweenTime_PointToPoint_,amt))}}}function startDrawLine_(a,line,tweenTime,amt){container_[a].clear(),container_[a].lineStyle(myLineTick_[a],lineConfig.line.color,.7),container_[a].moveTo(oldRandomIconPoints_[a].x,oldRandomIconPoints_[a].y),objTwLine_[a]={},objTwLine_[a]._points=bezierIconPoints_[a].length-1,objTwLine_[a].amt=0;for(var i=(3*tweenTime*1e3/objTwLine_[a]._points,0);i<objTwLine_[a]._points;i++)iTimO_.push(setTimeout(updateTween_,0,line,a,i,objTwLine_[a]._points))}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null)}function updateTween_(line,a,i,pointsL){if(null!=container_[a])if(objTwLine_[a].amt=i,objTwLine_[a].amt>=myEndAlphaPoint_[a]?(myAlphaLine_[a]=myAlphaPoint_[a],myAlphaPoint_[a]=myAlphaPoint_[a]-myIncrAlphaPoint()[a]):i>pointsL-20?myAlphaLine_[a]=myAlphaLine_[a]-.05:(myAlphaLine_[a]<=myLineMaxAlpha_[a]&&(myAlphaLine_[a]=myAlphaLine_[a]+.05),myAlphaPoint_[a]=myLineMaxAlpha_[a]),isMobile)container_[a].lineStyle(myLineTick_[a],lineConfig.line.color,myAlphaLine_[a]),drawLineSegment_(container_[a],oldRandomIconPoints_[a].x,oldRandomIconPoints_[a].y,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].x,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].y),oldRandomIconPoints_[a]=new Point(bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].x,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].y);else{for(var j=0;j<5;j++)container_[a].lineStyle(myLineTick_[a],lineConfig.line.color,myAlphaLine_[a]-.2*j),drawLineSegment_(container_[a],oldRandomIconPoints_[a].x,oldRandomIconPoints_[a].y+.7*j,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].x,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].y+.7*j),drawLineSegment_(container_[a],oldRandomIconPoints_[a].x,oldRandomIconPoints_[a].y-.7*j,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].x,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].y-.7*j);container_[a].lineStyle(myLineTick_[a],lineConfig.line.color,myAlphaLine_[a]),drawLineSegment_(container_[a],oldRandomIconPoints_[a].x,oldRandomIconPoints_[a].y,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].x,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].y),container_[a].lineStyle(myLineTick_[a],lineConfig.line.color,myAlphaLine_[a]),oldRandomIconPoints_[a]=new Point(bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].x,bezierIconPoints_[a][Math.ceil(objTwLine_[a].amt)].y)}}function drawLineSegment_(container,x1,y1,x2,y2){container.moveTo(x1,y1),container.lineTo(x2,y2)}function clearAll_(){for(var a=0;a<container_.length;a++)container_[a].clear(),container_[a].destroy(),null!=container_[a]&&(mainGroup_.remove(container_[a]),container_[a]=null);container_=[],buttonHlOff_()}function clearLineAfterValue_(){if(1!=bCompleted_){winEventManager_.clearEvt();var winAmount=winManager_.getWinAmt()*balanceManager_.getCoinValue();clearAll_(),endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:200,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt()*balanceManager_.getCoinValue(),null,null,null),bCompleted_=!0}function findWinRange_(amt){for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt)return Number(a)-1;return 0}function getInterruptedWinAnim_(){return!bCompleted_}var winEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,gameClass_=gameClass,game_=gameRef,linesX_offset_=30,linesY_offset_=10,startFromSinglePoint_=!1,endInSinglePoint_=!1,randomIconPoints_=[],oldRandomIconPoints_=[],bezierIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],myEndAlphaPoint_=[],myAlphaPoint_=[],myIncrAlphaPoint_=[],myStartEndAlphaPoint_=[],myAlphaLine_=[],objTwAmt_=[],myLineMaxAlpha_=[],myLineTick_=[],linesToDraw_=1,isMobile=!1,iEndTimO=1e3,container_=[],objTwLine_=[],iTimO_=[],bCompleted_=!0,stopEvent_=!1,winAnim={winClasses_:[1,2,5,10,20,50,200,500,1e3,2e3],winTxtDuration:[.8,1.3,1.5,1.8,2.1,2.5,3,4,5,6],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"",accuSnd:""},me={prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,showStaticLine:showStaticLine_,clearLineAfterValue:clearLineAfterValue_,buttonHlOff:buttonHlOff_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_};return initClass_(),me}function LineDraw(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralFuntain"),winEventManager_=new EventManager}function createCanvas_(){clearAll_(),objTwLine_=[],container_=[]}function addContainer_(){var cont=new Phaser.Graphics(game_,0,0);container_.push(cont),mainGroup_.add(cont)}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),resetCentralWin_(),clearAll_(),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt){reset_=!1,resetCentralWin_(),clearAll_(),displayManager_.getText("winValue").setText(""),stepInc_=winAnim.scaleFactor[findWinRange_(amt)],winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin"),winAmtClass_.showWin(amt,null,updatingValue_,completeValue_,0,null,stepInc_),setTimeout(updateBalance_,1e3*winAnim.winTxtDuration[findWinRange_(amt)]),setTimeout(handleBonusEndWinAnimation_,1e3*winAnim.winTxtDuration[findWinRange_(amt)]+500)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore(),gameClass_.fsEval(!0))}function prepareWinnings_(winSmb){initLineParams(),coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var a=0;a<linesToDraw_;a++){coinsIconPoints_[line][a]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line][a].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line][a].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest])+Number(ReelConfig.numIconsOnTop));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line][a].push(real)}real=new Phaser.Point(real.x+150,real.y),coinsIconPoints_[line][a].push(real)}}function showLine_(){var index=0;wins=winManager_.getAllWinsSorted(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin"),winEventManager_.clearEvt(),step_=1,totalDuration_=0,stepInc_=winAnim.scaleFactor[findWinRange_(winManager_.getWinAmt())]/wins.length,resetCentralWin_(),iFc_=setInterval(startFuntaintChecker_,100),soundManager_.getSound("bigWinBg").setVolume(soundManager_.getSound("bigWinBg").getBaseVolume()),soundManager_.playSound("bigWinBg");for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){winEventManager_.addEvent(drawLine_,10,[wins[a].line,wins[a].smbNum[0],wins[a].winAmount,"txtCoin","txtNum"]),winEventManager_.addEvent(amimIcon_,0,wins[a]);var time_=Math.max(1e3*winAnim.winTxtDuration[wins[a].smbNum.length],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]])+lineConfig.line.duration;winEventManager_.addEvent(buttonHlOff_,time_,a),totalDuration_+=time_,index++}winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,5*winManager_.getWinAmt()>stages_[0]&&null!=ReelConfig.delayAfterWinAmt?time_+ReelConfig.delayAfterWinAmt:300),winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}function drawLine_(params){if(1!=stopEvent_){var a,line=params[0],smb=params[1],amt=params[2];params[3],params[4];currentSmb_=smb,currentWinWeight_=3*amt,createCanvas_();var btn=gameClass_.getLineButton(line);for(a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";if(amt>0){var st=partialWinAmt_;partialWinAmt_+=Number(amt),step_+=stepInc_,winAmtClass_.showWin(partialWinAmt_,null,updatingValue_,completeValue_,st,null,step_)}for(stage_>0&&startFuntain_(),a=0;a<linesToDraw_;a++)addContainer_(),coinsIconPoints_[line][a].length>0&&(oldIconPoints_[a]=new Phaser.Point(coinsIconPoints_[line][a][0].x,coinsIconPoints_[line][a][0].y),startDrawLine_(a,smb,line,lineTweenTime_PointToPoint_,amt),soundManager_.playSound("smbWin_"+smb))}}function startDrawLine_(a,smb,line,tweenTime,amt){container_[a].clear(),container_[a].lineStyle(myLineTick_[a],getColor_(line,smb),.7),container_[a].moveTo(oldIconPoints_[a].x,oldIconPoints_[a].y),objTwLine_[a]={},objTwLine_[a]._points=coinsIconPoints_[line][a].length-1,objTwLine_[a].amt=0;for(var interval=3*tweenTime*1400/objTwLine_[a]._points,i=0;i<objTwLine_[a]._points;i++)iTimO_.push(setTimeout(updateTween_,0,line,a,smb,i,objTwLine_[a]._points));setTimeout(clearAll_,i*interval+lineConfig.line.duration)}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function updateTween_(line,a,smb,i,pointsL){if(null!=container_[a]){objTwLine_[a].amt=i;for(var j=0;j<15;j++)container_[line][a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha-.1*j),drawLineSegment_(container_[line][a],oldIconPoints_[a].x,oldIconPoints_[a].y+.2*j,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y+.2*j),drawLineSegment_(container_[line][a],oldIconPoints_[a].x,oldIconPoints_[a].y-.2*j,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y-.2*j);container_[a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha),drawLineSegment_(container_[a],oldIconPoints_[a].x,oldIconPoints_[a].y,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y),container_[a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha),oldIconPoints_[a]=new Phaser.Point(coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y)}}function drawLineSegment_(container,x1,y1,x2,y2){container.moveTo(x1,y1),container.lineTo(x2,y2)}function idle_(force){if(1!=stopEvent_||1==force[0]){stopEvent_=!1;var index=0;changeAllHL_(1),winEventManager_.clearEvt(),coinWinTxt_.scale.x=1.2,coinWinTxt_.scale.y=1.2;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(amimIconIdle_,200,wins[a]),winEventManager_.addEvent(buttonHlOff_,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}}function startDrawLine_(a,smb,line,tweenTime,amt){container_[a].clear(),container_[a].lineStyle(myLineTick_[a],getColor_(line,smb),.7),container_[a].moveTo(oldIconPoints_[a].x,oldIconPoints_[a].y),objTwLine_[a]={},objTwLine_[a]._points=coinsIconPoints_[line][a].length-1,objTwLine_[a].amt=0;for(var interval=3*tweenTime*1400/objTwLine_[a]._points,i=0;i<objTwLine_[a]._points;i++)iTimO_.push(setTimeout(updateTween_,i*interval,line,a,smb,i,objTwLine_[a]._points));setTimeout(clearAll_,i*interval+lineConfig.line.duration)}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function updateTween_(line,a,smb,i,pointsL){if(null!=container_[a]){objTwLine_[a].amt=i;for(var j=0;j<15;j++)container_[line][a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha-.1*j),
drawLineSegment_(container_[line][a],oldIconPoints_[a].x,oldIconPoints_[a].y+.2*j,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y+.2*j),drawLineSegment_(container_[line][a],oldIconPoints_[a].x,oldIconPoints_[a].y-.2*j,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y-.2*j);container_[a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha),drawLineSegment_(container_[a],oldIconPoints_[a].x,oldIconPoints_[a].y,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y),container_[a].lineStyle(myLineTick_[a],getColor_(line,smb),lineConfig.line.alpha),oldIconPoints_[a]=new Phaser.Point(coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].x,coinsIconPoints_[line][a][Math.ceil(objTwLine_[a].amt)].y)}}function drawLineSegment_(container,x1,y1,x2,y2){container.moveTo(x1,y1),container.lineTo(x2,y2)}function buttonHlOff_(){if(1!=stopEvent_){displayManager_.getText("lineWin").setText("");var btn=gameClass_.getLineButtons();for(a in btn)for(var b in btn[a])btn[a][b].getButton().tint=16777215,btn[a][b].getButton().children[0].fill=displayManager.groups.buttons["line"+b].text.fill}}function triggerComplete_(){setTimeout(gameClass.winComplete,1e3)}function updateBalance_(){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function amimIconIdle_(winSmb_){changeAllHL_(.45),hlButton_(winSmb_.line);for(var b in winSmb_.simbolReference)hlSmb([winSmb_.simbolReference[b]]),displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal()))}function hlButton_(line){var btn=gameClass_.getLineButton(line);for(a in btn)void 0!=btn[a]&&(btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff")}function hlSmb(par){var a=par[0];null!=a&&(a.alpha=1,TweenMax.to(a.scale,.2,{x:1.2,y:1.2,onComplete:updateAfterWinScale_,onCompleteParams:[a]}))}function updateAfterWinScale_(a){TweenMax.to(a.scale,.2,{x:1,y:1})}function changeAllHL_(alpha){var reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++)reels[a].getSymbol(s+Number(ReelConfig.numIconsOnTop)).alpha=alpha}function amimIcon_(smb){if(1!=stopEvent_){var index=0,wildReelAnim=[],wildReelSeq=[];for(var a in smb.smbNum)0==wildManager_.getWildReel(smb.reel[a])?1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(index++,stToClear_.push(setTimeout(delayedAnimation_,index*lineConfig.line.pointToPointSpeed*1e3,smb,a))):wildReelSeq.indexOf(smb.reel[a]<0)&&(wildReelAnim.push(index*lineConfig.line.pointToPointSpeed*1e3),wildReelSeq.push(smb.reel[a]));if(wildReelSeq.length>0)for(var a in wildReelSeq)stToClear_.push(setTimeout(delayedWildReelAnimation_,wildReelAnim[a],wildReelSeq[a]))}}function delayedWildReelAnimation_(reel){wildManager_.wildReelWinAnim(reel)}function delayedAnimation_(smb,a){var add=!1;null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations?(add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].width=ReelConfig.icon.width,smb.anim[a].height=ReelConfig.icon.height,smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])):(smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a]),1==smb.anim[a].scale.x&&(TweenMax.to(smb.anim[a].scale,.2,{x:1.15,y:1.15}),logger(smb.smbNum[a]+" "+lineConfig.line.multipleAnimation[smb.smbNum[a]]),1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]))}function restoreIcon_(par){var smb=par[0];TweenMax.to(smb.scale,.1,{x:1,y:1})}function initLineParams(){tickRatio_=lineConfig.line.tickBase,lineTweenTime_PointToPoint_=lineConfig.line.pointToPointSpeed,linesToDraw_=lineConfig.line.linesNumber,lineFadeTime_=1.2,txtFadeTime_=1.2,oldIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],objTwAmt_=[],myLineTick_=[],revert=!1,ct=0;for(var a in iTimO_)void 0!=iTimO_[0]&&clearTimeout(iTimO_[a]);for(a=0;a<linesToDraw_;a++)coinsIconPoints_[a]=[],coinsIconPoints_[a]=[],iconSmb_[a]=[],myLineTick_[a]=tickRatio_}function startFallsDown_(ob){ob.collideWorldBounds=!1,game_.physics.box2d.enable(ob),ob.body.setCircle(20)}function clearAll_(){for(var a=0;a<container_.length;a++)container_[a].clear(),container_[a].destroy(),null!=container_[a]&&(mainGroup_.remove(container_[a]),container_[a]=null);for(var a in mainGroup_.children)mainGroup_.remove(mainGroup_.children[a]);container_=[],buttonHlOff_()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();clearAll_(),endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt)return Number(a);return 0}function getInterruptedWinAnim_(){return!bCompleted_}function getColor_(line,smb){return 1==lineConfig.line.showWinWithSmbColor?ReelConfig.smb_colors[smb]:lineConfig.line.lines[line].color}function completeValue_(){}function updatingValue_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&""!=displayManager_.getText("lineWin").text&&0==reset_&&changeCentralWinStage_()}function resetCentralWin_(){soundManager_.getSound("bigWinBg").fadeOutBgSound(500),clearInterval(iFc_),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200;for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[]}function changeCentralWinStage_(){1!=reset_&&(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,null!=centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{alpha:0,y:-200,ease:Bounce.easeIn}),stage_++,centralWinMsgGroups_[stage_].visible=!0,startFuntain_(),centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onStart:animCentralSound_,onComplete:animCentralStage_}))}function animCentralSound_(){soundManager_.playSound("winEffect_"+stage_),soundManager_.getSound("bigWinBg").setVolume(1.4*soundManager_.getSound("bigWinBg").getVolume())}function animCentralStage_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_})}function animCentralStage1_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut})}function startFuntain_(){if(1!=reset_&&(centralFuntainGroup_.visible=!0,1==game_.cache.checkImageKey("gemPart"+currentSmb_)))for(a=0;a<=Math.min(Math.round(2*currentWinWeight_),displayManager.groups.centralWin.maxObjNum);a++){var ob=game_.add.sprite(640,740,"gemPart"+currentSmb_);ob.anchor.set(.5,.5),ob.animations.add("anim"),ob.alpha=.5;var delal=Util.getRandomInt(1,currentWinWeight_)/50;TweenMax.to(ob,.3+Util.getRandomInt(-50,100)/100,{delay:delal,alpha:.8,y:Util.getRandomInt(400,-100),x:Util.getRandomInt(0,1200),onComplete:startFallsDown_,onCompleteParams:[ob],ease:Sine.easeOut}),ob.animations.play("anim",24,!0,!1,null,null),ob.scale.x=Util.getRandomInt(80,125)/100,ob.scale.y=Util.getRandomInt(80,125)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}}function startFuntaintChecker_(){if(stage_>0)for(a in objThrown_)null!=objThrown_[a]&&objThrown_[a].y>750&&(objThrown_[a].destroy(),objThrown_[a]=null)}var winEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,wins,centralWinGroup_,centralFuntainGroup_,currentSmb_,currentWinWeight_,stepInc_,gameClass_=gameClass,game_=gameRef,oldIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],objTwAmt_=[],myLineTick_=[],linesToDraw_=1,partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,container_=[],objTwLine_=[],iTimO_=[],bCompleted_=!0,stopEvent_=!1,stages_=displayManager.groups.centralWin.thresHolds,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,objThrown_=[],iFc_=0,stToClear_=[],step_=0,winAnim={winClasses_:[1,2,5,10,20,50,200,500,1e3,2e3],winTxtDuration:[0,.2,.2,.2,.6,2,0,0,0,0],scaleFactor:[1.1,1.15,1.2,1.5,1.7,1.8,2,2.5,3,4],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"",accuSnd:""},me={prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,buttonHlOff:buttonHlOff_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,getTotalDuration:function(){return winManager_.getWinAmt()>=stages_[1]&&(totalDuration_=2*totalDuration_),winManager_.getWinAmt()>=stages_[2]&&(totalDuration_=2*totalDuration_),totalDuration_}};return initClass_(),me}function ParticleLineDraw(gameRef,gameClass){function initClass_(){draw_=new ParticleLineDraw(game_,gameClass_)}var game_=gameRef,gameClass_=gameClass,lineDraw_=Object.create(new LineDraw(gameRef,gameClass));return lineDraw_.clearLine_=function(){},lineDraw_.showLine_=function(){},lineDraw_.drawLine=function(line,amt,txtCoin,txtNum){},initClass_(),lineDraw_}function CCurveDraw(gameRef,gameClass){function Point(x,y){this.x=x||0,this.y=y||0}function initClass_(){mainGroup_=displayManager_.getGroup("lines"),bezierIconPoints_=[],coinsIconPoints_=[],randomIconPoints_=[],oldRandomIconPoints_=[],myEndAlphaPoint_=[],myAlphaPoint_=[],myAlphaLine_=0,myIncrAlphaPoint_=[],myStartEndAlphaPoint_=[],objTwAmt_={},myLineMaxAlpha_=Util.getRandomInt(50,100)/100,myLineTick_=lineConfig.line.tickBase;for(var a in iTimO_)void 0!=iTimO_[a]&&clearTimeout(iTimO_[a]);createCanvas_(),addContainer_()}function showStatic_(smb,line,amt,points,delay){randomIconPoints_=points;var fsp=new FindSmoothPath(randomIconPoints_,(!0),5);if(delay_=null!=delay?delay:0,bezierIconPoints_=fsp.getArrayOfPoints(),bezierIconPoints_.length>0){myEndAlphaPoint_=bezierIconPoints_.length-myStartEndAlphaPoint_/100,myIncrAlphaPoint_=myLineMaxAlpha_/myStartEndAlphaPoint_,oldRandomIconPoints_=new Phaser.Point(bezierIconPoints_[0].x,bezierIconPoints_[0].y),container_.lineStyle(myLineTick_,lineConfig.line.color,.7),container_.moveTo(oldRandomIconPoints_.x,oldRandomIconPoints_.y),objTwLine_={},objTwLine_._points=bezierIconPoints_.length-1,objTwLine_.amt=0;for(var i=(1e3*lineTweenTime_PointToPoint_/objTwLine_._points,0);i<objTwLine_._points;i++)updateTween_(line,i,objTwLine_._points);setTimeout(clearAll_,delay_)}}function clearAllStatic_(){container_.clear()}function clearAll_(){container_.clear()}function startDraw_(smb,line,amt,points){randomIconPoints_=points;var fsp=new FindSmoothPath(randomIconPoints_,(!0),5);bezierIconPoints_=fsp.getArrayOfPoints(),bezierIconPoints_.length>0&&(myEndAlphaPoint_=bezierIconPoints_.length-myStartEndAlphaPoint_/100,myIncrAlphaPoint_=myLineMaxAlpha_/myStartEndAlphaPoint_,oldRandomIconPoints_=new Point(bezierIconPoints_[0].x,bezierIconPoints_[0].y),startDrawLine_(line,lineTweenTime_PointToPoint_,amt))}function startDrawLine_(line,tweenTime,amt){objTwLine_={},objTwLine_._points=bezierIconPoints_.length-1,objTwLine_.amt=0;for(var i=(1e3*tweenTime/objTwLine_._points,0);i<objTwLine_._points;i++)updateTween_(line,i,objTwLine_._points)}function updateTween_(line,i,pointsL){if(objTwLine_.amt=i,objTwLine_.amt>=myEndAlphaPoint_?(myAlphaLine_=myAlphaPoint_,myAlphaPoint_-=myIncrAlphaPoint_):i>pointsL-20?myAlphaLine_-=.05:(myAlphaLine_<=myLineMaxAlpha_&&(myAlphaLine_+=.05),myAlphaPoint_=myLineMaxAlpha_),isMobile)drawLineSegment_(container_,oldRandomIconPoints_.x,oldRandomIconPoints_.y,bezierIconPoints_[Math.ceil(objTwLine_.amt)].x,bezierIconPoints_[Math.ceil(objTwLine_.amt)].y,myAlphaLine_),oldRandomIconPoints_=new Point(bezierIconPoints_[Math.ceil(objTwLine_.amt)].x,bezierIconPoints_[Math.ceil(objTwLine_.amt)].y);else{for(var j=0;j<5;j++)drawLineSegment_(container_,oldRandomIconPoints_.x,oldRandomIconPoints_.y+.7*j,bezierIconPoints_[Math.ceil(objTwLine_.amt)].x,bezierIconPoints_[Math.ceil(objTwLine_.amt)].y+.7*j,myAlphaLine_),drawLineSegment_(container_,oldRandomIconPoints_.x,oldRandomIconPoints_.y-.7*j,bezierIconPoints_[Math.ceil(objTwLine_.amt)].x,bezierIconPoints_[Math.ceil(objTwLine_.amt)].y-.7*j,myAlphaLine_);drawLineSegment_(container_,oldRandomIconPoints_.x,oldRandomIconPoints_.y,bezierIconPoints_[Math.ceil(objTwLine_.amt)].x,bezierIconPoints_[Math.ceil(objTwLine_.amt)].y,myAlphaLine_),oldRandomIconPoints_=new Point(bezierIconPoints_[Math.ceil(objTwLine_.amt)].x,bezierIconPoints_[Math.ceil(objTwLine_.amt)].y)}}function drawLineSegment_(container,x1,y1,x2,y2,alpha){var l=new Line(mainGroup_,x1,y1,x2,y2,lineConfig.line.color,alpha);mainGroup_.add(l)}function createCanvas_(){clearAll_(),objTwLine_={},container_=null}function addContainer_(){}function clearAll_(){null!=container_&&(mainGroup_.remove(container_),container_.clear(),container_.destroy());for(var a in iTimO_)void 0!=iTimO_[a]&&clearTimeout(iTimO_[a])}var mainGroup_,objTwAmt_,myLineMaxAlpha_,myLineTick_,coinsIconPoints_=[],lineTweenTime_PointToPoint_=(lineConfig.line.tickBase,lineConfig.line.pointToPointSpeed),bezierIconPoints_=[],oldRandomIconPoints_=[],myEndAlphaPoint_=[],myAlphaPoint_=[],myAlphaLine_=[],myIncrAlphaPoint_=[],myStartEndAlphaPoint_=[],randomIconPoints_=[],objTwLine_={},container_=null,iTimO_=[],isMobile=!1,delay_=0,me={startDraw:startDraw_,clearAll:clearAll_,clearAllStatic:clearAllStatic_,showStatic:showStatic_};return initClass_(),me}function RopeDraw(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),revert_=!1,ct_=0}function startDraw_(smb,line,amt,points,delay){null!=rope_&&null!=rope_.updateAnimation&&(rope_.updateAnimation=null,rope_.destroy()),delay_=null!=delay?delay:0,coinsIconPoints_=points;var fsp=new FindSmoothPath(coinsIconPoints_,(!0),2).getArrayOfPoints();rope_=game_.add.rope(0,0,"line_0_00",null,fsp),mainGroup_.add(rope_),rope_.updateAnimation=function(){rope_.loadTexture("line_0_"+Util.formatTwoDigit(parseInt(ct_%ReelConfig.lineFrames))),ct_<ReelConfig.lineFrames&&0==revert_?ct_+=inc_:setTimeout(clearAll_,delay_)}}function showStatic_(smb,line,amt,points,delay){null!=rope_&&null!=rope_.updateAnimation&&(rope_.updateAnimation=null,rope_.destroy()),delay_=null!=delay?delay:0,coinsIconPoints_=points;var fsp=new FindSmoothPath(coinsIconPoints_,(!0),2).getArrayOfPoints();rope_=game_.add.rope(0,0,"line_0_static",null,fsp),mainGroup_.add(rope_),setTimeout(clearAllStatic_,delay_)}function clearAllStatic_(){null!=rope_&&(rope_.updateAnimation=null,rope_.destroy())}function clearAll_(){null!=rope_&&null!=rope_.updateAnimation&&clearAllStatic_()}var mainGroup_,rope_,game_=gameRef,coinsIconPoints_=[],ct_=0,revert_=!1,inc_=.7,delay_=0,me={startDraw:startDraw_,clearAll:clearAll_,showStatic:showStatic_,clearAllStatic:clearAllStatic_};return initClass_(),me}function ShaderLineDraw(gameRef,gameClass){function initClass_(){group=game_.add.group(),imgLine=game_.add.sprite(0,0),imgLine.width=1200,imgLine.height=1080,filter=game_.add.filter("FloatingLines"),filter.line=1,group.add(imgLine)}function prepareWinnings_(){}function clearLine_(){filter.line=-1,clearInterval(intT)}function showLine_(){game_.world.swap(group,winManager_.getGroup()),filter.line=0,imgLine.filters=[filter],intT=setInterval(filterUpd_,16)}function drawLine_(line,amt,txtCoin,txtNum){}function filterUpd_(){filter.update()}var imgLine,filter,intT,group,game_=gameRef;initClass_();var me={prepareWinnings:prepareWinnings_,clearLine:clearLine_,showLine:showLine_,drawLine:drawLine_,stopEvents:stopEvents_};return me}function AllLineWinningsFirstCabinet(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManager,funtainEventManager_=new EventManager}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1==gameClass_.isSpinning()}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0,iMaxSmb=0;if(wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),totalDuration_=0,resetCentralWin_(),resetPrevSounds_(),index=findWinRange_(winManager_.getLineWinAmt()),soundManager_.playSound("winBg_"+winAnim.winSound_[index]),gameClass_.decreaseVolumeBG(me.getTotalDuration()),bgStopped_=!0,void 0!=displayManager_.getGroup("bgIconAnim")){for(var a in glows_)displayManager_.getGroup("bgIconAnim").remove(glows_[a]);glows_=[]}winEventManager_.addEvent(changeAllHL_,200,[.35]);for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){for(var num=8,def=8,b=wins[a].smbNum.length;b>=0;b--)if(wins[a].realSmbNum[b]<num&&wins[a].realSmbNum[b]<8){def=wins[a].realSmbNum[b];break}num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb,winEventManager_.addEvent(amimIcon_,0,[wins[a]])}soundManager_.playSound("smbWin_"+iMaxSmb),winEventManager_.addEvent(showCentralWin_,10,[index]),winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,1e3*winAnim.winTxtDuration[index]+1e3*winAnim.centralWinDur[index]),0==freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle,[wins[a]]),winEventManager_.triggerEvt()}function showCentralWin_(params){var index=findWinRange_(winManager_.getLineWinAmt());if(winAmtClass_.showWin(winManager_.getLineWinAmt(),null,null,null,0,null,winAnim.scaleFactor[index],winAnim.winTxtDuration[index]),"1"==winAnim.bigWinText[index])stToClear_.push(setTimeout(changeCentralWinStage_,1e3*winAnim.winTxtDuration[index]-1e3,index-5,!1));else if(index>2){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=winManager_.getLineWinAmt();0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.ceil(amt/3),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt(),setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}}function startCoinsSound_(){soundManager_.playSound("coins")}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],snd=(params[3],params[4]),btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new RopeDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(){1==freeSpinsManager_.getIsInFs()&&freeSpinsManager_.updateFreeSpinsTotWon(),bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt();for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function amimIcon_(params){var winSmb_=params[0];for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1)}function triggerComplete_(){}function updateBalance_(){updatePrize_(),bgStopped_&&(soundManager_.getCanPlayBg()&&gameClass_.increaseVolumeBG(),bgStopped_=!1),0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(clearAll_(),bCompleted_=!0),soundManager_.playSound("line")}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function changeAllHL_(params){return}function delayedAnimation_(smb,a){function getSmbWithOrigin(i,smb){for(var a=0;a<=3;a++)if(spinManager_.getSpinReelResp().reel[i].smb[a].special.split("-").indexOf("origin")>=0)return spinManager_.getReels()[i].getSymbol(a)}if(1!=stopEvent_){if(smb.simbolReference[a].notShow){if(6!=smb.simbolReference[a].smbNum)return;smb.simbolReference[a]=getSmbWithOrigin(smb.simbolReference[a].reel,6)}var add=!1;if(1!=wildManager_.isReelWilded(smb.reel[a])&&1!=gameClass_.isReelWilded(smb.reel[a])){var smbIndex=smb.icon[a];if(void 0!=spinManager_.getSpinReelResp().reel[smb.reel[a]].smb[smbIndex].notShow,null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,smb.anim[a]=game_.add.sprite(smb.simbolReference[a].x,smb.simbolReference[a].y,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].screen=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special;var glow=game_.add.sprite(smb.simbolReference[a].x,smb.simbolReference[a].y,smb.smbNum[a]<=5||9==smb.smbNum[a]?"glow1x1":6==smb.smbNum[a]?"glow1x2":"");glow.anchor.set(.5,.5),glow.scale.x=1,glow.scale.y=1,glow.alpha=1,glows_.push(glow),displayManager_.getGroup("bgIconAnim").add(glow),displayManager_.getGroup("bgIconAnim").alpha=1,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];smb.anim[a].scale.x<=1&&(1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),smb.anim[a].alpha=1}}}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&TweenMax.to(smb.scale,.1,{x:1,y:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){null!=lineDraw_&&lineDraw_.clearAll()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_&&gameClass_.completedScatterAndBonus())return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.getWinAmtClass().showShortWin(winManager_.getWinAmt(),null,null,null,"TOTAL WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function findWinRangeB_(amt){var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1,index=findWinRange_(amt);if("1"==winAnim.bigWinText[index])resetCentralWin_(),reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(index-5,!0),soundManager_.playSound("winBgS_"+winAnim.winSound_[index]),time=1e3*winAnim.centralWinDur[index]+1500;else if(soundManager_.playSound("winBg_"+winAnim.winSound_[index]),index>2&&0==gameClass_.isJustSilverCoins()){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt(),time=1e3*winAnim.centralWinDur[index];var numObj=20*index,interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt()}return time}function resetCentralWin_(){stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt();for(a in tw_)tw_[a].kill(),
tw_[a]=null;tw_=[]}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(stage,bonus){if(1!=reset_){resetCentralWin_(),stage_=stage,displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,centralWinMsgGroups_[stage_].visible=!0,tw_=[],centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onComplete:animCentralStage_,onCompleteParams:[bonus]})),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.centralWinDur[5+stage_];setTimeout(lineCompletion_,time+1e3);var numObj=300*stage_,interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.addEvtForce(resetCentralWin_,2e3),funtainEventManager_.triggerEvt()}}function animCentralStage_(bonus){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_,onCompleteParams:[bonus]}))}function animCentralStage1_(param){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut}))}function lineCompletion_(){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);gameClass_.lineCompletion(!0)}function startFuntain_(){}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(70,50)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}function resetPrevSounds_(){for(var i=0;i<9;i++)soundManager_.stopSound("winBg_"+i);for(var i=6;i<9;i++)soundManager_.stopSound("winBg_S_"+i)}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,wins,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],glows_=[],objThrown_=[],stToClear_=[],bgStopped_=!1,winAnim={winClasses_:[0,0,39,79,119,239,799,1499,3999],winSound_:[1,1,2,3,4,5,6,7,8],winTxtDuration:[.5,1.5,1.7,2,2.5,3.5,5,6,6],centralWinDur:[0,0,0,0,0,0,5,6,5],scaleFactor:[1.6,1.8,1.9,2,2.1,2.2,2.3,2.5,2.7],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var index=findWinRange_(winManager_.getLineWinAmt()),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index]+additionalTime},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_};return initClass_(),me}function LineCherryBlast(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,winEventManager_=new EventManager,funtainEventManager_=new EventManager}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];return reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2,"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;stages_=displayManager.groups.centralWin.thresHolds,coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0;if(wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),step_=winAnim.scaleFactor[0],totalDuration_=0,stepInc_=(winAnim.scaleFactor[findWinRange_(winManager_.getLineWinAmt())]-step_)/wins.length,resetCentralWin_(),0==freeSpinsManager_.getIsInFs()){soundManager_.playSound("winBg");for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){var time_=Math.max(1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]]);0==balanceManager_.getShowIncredits()?winEventManager_.addEvent(drawLine_,10,[wins[a].line,wins[a].smbNum[0],wins[a].winAmountCash,time_/1e3,!0]):winEventManager_.addEvent(drawLine_,10,[wins[a].line,wins[a].smbNum[0],wins[a].winAmount,time_/1e3,!0]),winEventManager_.addEvent(amimIcon_,0,wins[a]),winEventManager_.addEvent(fakeEvent,time_),totalDuration_+=time_,index++}winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,ReelConfig.delayAfterWinAmt),0!=ReelConfig.automaticIdleCycle&&winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle)}else{soundManager_.playSound("winBg"),changeAllHL_([[.35]]);var icon_=-1;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(icon_=Math.max(icon_,wins[a].smbNum[0]),winEventManager_.addEvent(amimIcon_,0,wins[a]));winEventManager_.addEvent(playBiggerIconSound_,0,[icon_]),totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())];var sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]?winManager_.getScatterWinAmt()[0][12].amt:0);1==balanceManager_.getShowIncredits()&&(sAmt=sAmt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),winEventManager_.addEvent(updatePrize_,0,[Number(winManager_.getLineWinAmt())+sAmt,totalDuration_/1e3]),winEventManager_.addEvent(triggerComplete_,totalDuration_)}winEventManager_.triggerEvt()}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],time=params[3],snd=params[4],btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";if(amt>0){var st=partialWinAmt_;partialWinAmt_+=Number(amt),step_+=stepInc_,winAmtClass_.showWin(partialWinAmt_,null,updatingValue_,null,st,null,step_,time)}stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new RopeDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(params){var amt=params[0],time=params[1];if(amt>0){step_+=stepInc_,winAmtClass_.showWin(amt,null,null,freeSpinsManager_.updateFreeSpinsTotWon,0,null,step_,time)}bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){if(1!=stopEvent_||1==force[0]){stopEvent_=!1;var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt(),coinWinTxt_.scale.x=1.2,coinWinTxt_.scale.y=1.2;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++)if(0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b]),void 0!=winSmb_.anim[b].special&&"mult"==winSmb_.anim[b].special){var smbM=game_.add.sprite(winSmb_.pos[b].x+ReelConfig.icon.width/2,winSmb_.pos[b].y+ReelConfig.icon.height/2,"lights-mult");smbM.anchor.set(.5,.5),smbM.animations.add("anim"),smbM.scale.x=1,smbM.scale.y=1,smbM.animations.play("anim",70,!1,!0),spinManager_.getReelGroup(winSmb_.reel[b]).add(smbM)}}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1,TweenMax.to(a.scale,.2,{x:1.2,y:1.2,onComplete:updateAfterWinScale_,onCompleteParams:[a]}))}function triggerComplete_(){}function updateBalance_(){reset_=!0,0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),endCoins_(),clearAll_(),bCompleted_=!0),soundManager_.playSound("line"),resetCentralWin_()}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function updateAfterWinScale_(a){null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&TweenMax.to(a.scale,.2,{x:1,y:1})}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++){var smb=reels[a].getSymbol(s);smb.smbNum<gameClass_.getHlMaximumIcon()&&(smb.alpha=alpha)}var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])void 0!=map[a][b].smbNum&&map[a][b].smbNum<gameClass_.getHlMaximumIcon()&&(map[a][b].alpha=alpha)}function playBiggerIconSound_(iconN){soundManager_.playSound("smbWin_"+iconN)}function amimIcon_(smb){if(1!=stopEvent_){var index=0,wildReelAnim=[],wildReelSeq=[];for(var a in smb.smbNum)if(0==wildManager_.getWildReel(smb.reel[a])){if("previous"==smb.smbNum[a]&&(smb.smbNum[a]=spinManager_.getReels()[smb.reel[a]].getIconNum(Number(lineConfig.line.lines[smb.line].config[smb.reel[a]])),smb.simbolReference[a]=spinManager_.getReels()[smb.reel[a]].getSymbol(Number(lineConfig.line.lines[smb.line].config[smb.reel[a]]))),1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(index++,stToClear_.push(setTimeout(delayedAnimation_,.08*index*1e3,smb,a)),void 0!=smb.simbolReference[a].special&&"mult"==smb.simbolReference[a].special)){var smbM=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"lights-mult");smbM.anchor.set(.5,.5),smbM.animations.add("anim"),smbM.scale.x=1,smbM.scale.y=1,smbM.animations.play("anim",70,!1,!0),spinManager_.getReelGroup(smb.reel[a]).add(smbM)}}else wildReelSeq.indexOf(smb.reel[a]<0)&&(wildReelAnim.push(.08*index*1e3),wildReelSeq.push(smb.reel[a]));if(wildReelSeq.length>0)for(var a in wildReelSeq)stToClear_.push(setTimeout(delayedWildReelAnimation_,wildReelAnim[a],wildReelSeq[a]))}}function delayedWildReelAnimation_(reel){wildManager_.wildReelWinAnim(reel)}function delayedAnimation_(smb,a){var add=!1;if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];if(smb.anim[a].scale.x<=1&&(1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),void 0!=smb.anim[a].special&&"mult"==smb.anim[a].special){var smbM=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"lights-mult");smbM.anchor.set(.5,.5),smbM.animations.add("anim"),smbM.scale.x=1,smbM.scale.y=1,smbM.animations.play("anim",70,!1,!0),spinManager_.getReelGroup(smb.reel[a]).add(smbM)}smb.anim[a].alpha=1}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&TweenMax.to(smb.scale,.1,{x:1,y:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){null!=lineDraw_&&lineDraw_.clearAll()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){var number=0;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a);break}return 1==gameClass_.getCompulsivePlayer()?Math.min(number,1):freeSpinsManager_.getIsInFs()?Math.min(number,3):number}function findWinRangeB_(amt){var number=0;for(var a in winAnimB.winClasses_)if(winAnimB.winClasses_[a]>=amt){number=Number(a);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){updateBalance_(),setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1;for(var a in stages_)Number(amt)>=stages_[a]&&(time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)],index=a);return index>=0?(resetCentralWin_(),stage_=index,reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(1)):time=1500,time}function updatingValue_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&""!=displayManager_.getText("lineWin").text&&0==reset_&&changeCentralWinStage_()}function resetCentralWin_(){soundManager_.stopSound("winBg"),void 0!=soundManager_.getSound("bigWinBg_"+stage_)&&soundManager_.getSound("bigWinBg_"+stage_).fadeOutBgSound(200),bgStopped_&&(soundManager_.getCanPlayBg()&&soundManager_.resumeBgSound("bgSlot"),bgStopped_=!1),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt()}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(bonus){1!=reset_&&(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,null!=centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{alpha:0,y:-200,ease:Bounce.easeIn}),soundManager_.stopSound(winAnim.accuSnd),stage_>0?soundManager_.getSound("bigWinBg_"+stage_).fadeOutBgSound(200):1==ReelConfig.muteDuringWins&&(soundManager_.stopSound("bgSlot"),bgStopped_=!0),stage_++,centralWinMsgGroups_[stage_].visible=!0,startFuntain_(),soundManager_.getSound("bigWinBg_"+stage_).fadeInBgSound(250),centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onStart:animCentralSound_,onComplete:animCentralStage_,onCompleteParams:[bonus]}))}function animCentralSound_(){soundManager_.playSound("winEffect_"+stage_)}function animCentralStage_(bonus){void 0==bonus?centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_}):centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.5,{x:1.2,y:1.2,repeat:25,yoyo:!0,ease:Circ.easeInOut})}function animCentralStage1_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut})}function startFuntain_(){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())],numObj=Math.min(Math.round(20*currentWinWeight_),displayManager.groups.centralWin.maxObjNum),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval);funtainEventManager_.triggerEvt()}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,wins,centralFuntainGroup_,currentSmb_,currentWinWeight_,stepInc_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stages_=displayManager.groups.centralWin.thresHolds,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,objThrown_=[],stToClear_=[],step_=0,bgStopped_=!1,winAnim={winClasses_:[1,2,5,10,20,50,200,500,1e3,999999999],winTxtDuration:[.5,.6,.8,1,1,1,1,1.2,5,6],scaleFactor:[1.6,1.8,2,2.1,2.2,2.5,2.7,3,3.3,3.5],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:""},winAnimB={winClasses_:[1,2,5,10,20,50,200,500,1e3,999999999],winTxtDuration:[.2,.2,.2,.3,.5,.5,2,3,5,6],scaleFactor:[1.6,1.8,2,2.1,2.2,2.5,2.7,3,3.3,3.5],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"winFSBg"},me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var wins=winManager_.getAllWinsSortedByAmt(),amt=winManager_.getWinAmt();if(0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),totalDuration_=0,0==freeSpinsManager_.getIsInFs()){for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){var time_=Math.max(1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]]);totalDuration_+=time_}amt>=stages_[1]&&(totalDuration_=1.1*totalDuration_),amt>=stages_[2]&&(totalDuration_=1.2*totalDuration_)}else totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())]+Number(ReelConfig.delayAfterWinAmt);var sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]&&null!=winManager_.getScatterWinAmt()[0][12]?winManager_.getScatterWinAmt()[0][12].amt:0);return 0==sAmt&&(sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]&&null!=winManager_.getScatterWinAmt()[0][10]?winManager_.getScatterWinAmt()[0][10].amt:0)),sAmt>0&&(sAmt=sAmt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),totalDuration_+=winAnim.winTxtDuration[findWinRange_(sAmt)]),totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_};return initClass_(),me}function LineImage(gameRef,gameClass,lineType){function showLine_(){imgLine.visible=!0,setTimeout(clearWin_,lineConfig.win.duration)}function clearWin_(){imgLine.visible=!1}function initClass_(){imgLine=game_.add.sprite(30,350,"line"),imgLine.width=1e3,imgLine.height=10,imgLine.visible=!1}function prepareWinnings_(){}function setLineType_(type){lineType=type,initClass_()}function getLineType_(){return lineType_}var imgLine,game_=gameRef,me={clearWin:clearWin_,showLine:showLine_,prepareWinnings:prepareWinnings_,setLineType:setLineType_,getLineType:getLineType_};return initClass_(),me}function LineManager(gameRef,gameClass){function initClass_(){lineDrawing_=null,linesNumber_=0,initLines_();try{lineDrawing_=new window[lineType_](game_,gameClass_)}catch(e){}if(null!=lineConfig.line&&lineConfig.line.lines.length>0)for(var a in lineConfig.line.lines)linesNumber_++;else null!=lineConfig.line&&lineConfig.line.lineColours&&(linesNumber_=lineConfig.line.lineColours.length)}function initLines_(){if(null!=lineConfig.line&&void 0!=lineConfig.line.lines){lineConfig.line.lines.color;lineConfig_=lineConfig.line.lines}}function setLineType_(type){lineType_=type,initClass_()}function prepareWinnings_(winSmb){lineDrawing_.prepareWinnings(winSmb)}function showBonusWin_(amt,amtCash){return lineDrawing_.showBonusWin(amt,amtCash)}function showLine_(){winAmtManager_.winAnimStarted(),lineDrawing_.showLine()}function clearLine_(){buttonHlOff_(),lineDrawing_.clearLine()}function clearOverLine_(){buttonHlOff_(),lineDrawing_.clearOverLine()}function showStaticLine_(line){var smbs={};smbs.pos=[];for(var a in lineConfig_[line].smb)smbs.pos.push(spinManager_.getReels()[a].getPos(Number(lineConfig_[line].smb[a])+1));lineDrawing_.showStaticLine(line,smbs)}function getLineConfig_(line){return lineConfig.line}function clearLineAfterValue_(){lineDrawing_.clearLineAfterValue()}function buttonHlOff_(){lineDrawing_.clearAll()}function getInterruptedWinAnim_(){return lineDrawing_.getInterruptedWinAnim()}function endAnimHandle_(wins,evt){evt.addEvent(prepareWinnings_,0,wins),evt.addEvent(showLine_,lineConfig.win.initialDelay)}function stopEvents_(){lineDrawing_.stopEvents()}function completeValue_(){lineDrawing_.completeValue()}function completeBonusValue_(amt,msg,tOut){lineDrawing_.completeBonusValue(amt,msg,tOut)}function showBonusCentralWinGreetings_(amt){return lineDrawing_.showBonusCentralWinGreetings(amt)}function showScatterCentralWinGreeting_(amt){return lineDrawing_.showScatterCentralWinGreeting(amt)}var lineDrawing_,game_=gameRef,gameClass_=gameClass,lineType_=ReelConfig.lineType,lineConfig_=[],linesNumber_=0,me={initClass:initClass_,setLineType:setLineType_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearOverLine:clearOverLine_,showLine:showLine_,showStaticLine:showStaticLine_,getLineConfig:getLineConfig_,clearLineAfterValue:clearLineAfterValue_,buttonHlOff:buttonHlOff_,getInterruptedWinAnim:getInterruptedWinAnim_,endAnimHandle:endAnimHandle_,stopEvents:stopEvents_,getLinesNumber:function(){return null==lineConfig.line.noCoinOnEachLine?linesNumber_:lineConfig.line.noCoinOnEachLine},getRealLinesNumber:function(){return linesNumber_},getTotalDuration:function(){return lineDrawing_.getTotalDuration()+1500},idle:function(force){lineDrawing_.idle([force])},showBonusWin:showBonusWin_,completeValue:completeValue_,completeBonusValue:completeBonusValue_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,showScatterCentralWinGreeting:showScatterCentralWinGreeting_,stopBigWinAnimation:function(){lineDrawing_.stopBigWinAnimation()},startIdleCycle:function(){lineDrawing_.startIdleCycle()},resumeTumbling:function(json,fs){void 0!=lineDrawing_&&null!=lineDrawing_.resumeTumbling&&lineDrawing_.resumeTumbling(json,fs)}};return initClass_(),me}function LineOstara(gameRef,gameClass){}function LinePaint(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,winEventManager_=new EventManager,funtainEventManager_=new EventManager}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),
resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];return reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2,winManager_.setWinAmountBonus(amtCash),winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin"),0==balanceManager_.getShowIncredits()?winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0;if(wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin"),winEventManager_.clearEvt(),step_=1,totalDuration_=0,stepInc_=winAnim.scaleFactor[findWinRange_(winManager_.getLineWinAmt())]/wins.length,resetCentralWin_(),0==freeSpinsManager_.getIsInFs()){soundManager_.playSound("winBg");for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){var time_=Math.max(1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]]);0==balanceManager_.getShowIncredits()?winEventManager_.addEvent(drawLine_,10,[wins[a].line,wins[a].smbNum[0],wins[a].winAmountCash,time_/1e3,!0]):winEventManager_.addEvent(drawLine_,10,[wins[a].line,wins[a].smbNum[0],wins[a].winAmount,time_/1e3,!0]),winEventManager_.addEvent(amimIcon_,0,wins[a]),winEventManager_.addEvent(fakeEvent,time_),totalDuration_+=time_,index++}winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,ReelConfig.delayAfterWinAmt),winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle)}else{soundManager_.playSound("winBg"),changeAllHL_([[.35]]);for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&winEventManager_.addEvent(amimIcon_,0,wins[a]);totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())],winEventManager_.addEvent(updatePrize_,0,[winManager_.getLineWinAmt(),totalDuration_/1e3]),winEventManager_.addEvent(triggerComplete_,totalDuration_)}winEventManager_.triggerEvt()}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],time=params[3],snd=params[4],btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";if(amt>0){var st=partialWinAmt_;partialWinAmt_+=Number(amt),step_+=stepInc_,winAmtClass_.showWin(partialWinAmt_,null,updatingValue_,null,st,null,step_,time)}stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new RopeDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(params){var amt=params[0],time=params[1];if(amt>0){step_+=stepInc_,winAmtClass_.showWin(amt,null,null,freeSpinsManager_.updateFreeSpinsTotWon,0,null,step_,time)}bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){if(1!=stopEvent_||1==force[0]){stopEvent_=!1;var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt(),coinWinTxt_.scale.x=1.2,coinWinTxt_.scale.y=1.2;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1,TweenMax.to(a.scale,.2,{x:1.2,y:1.2,onComplete:updateAfterWinScale_,onCompleteParams:[a]}))}function triggerComplete_(){}function updateBalance_(){reset_=!0,0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),endCoins_(),clearAll_(),bCompleted_=!0),soundManager_.playSound("line"),resetCentralWin_()}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function updateAfterWinScale_(a){null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&TweenMax.to(a.scale,.2,{x:1,y:1})}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++)reels[a].getSymbol(s).alpha=alpha;var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])null!=map[a][b]&&(map[a][b].alpha=alpha)}function amimIcon_(smb){if(1!=stopEvent_){var index=0,wildReelAnim=[],wildReelSeq=[];for(var a in smb.smbNum)0==wildManager_.getWildReel(smb.reel[a])?("previous"==smb.smbNum[a]&&(smb.smbNum[a]=spinManager_.getReels()[smb.reel[a]].getIconNum(Number(lineConfig.line.lines[smb.line].config[smb.reel[a]])),smb.simbolReference[a]=spinManager_.getReels()[smb.reel[a]].getSymbol(Number(lineConfig.line.lines[smb.line].config[smb.reel[a]]))),1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(index++,stToClear_.push(setTimeout(delayedAnimation_,.08*index*1e3,smb,a)))):wildReelSeq.indexOf(smb.reel[a]<0)&&(wildReelAnim.push(.08*index*1e3),wildReelSeq.push(smb.reel[a]));if(wildReelSeq.length>0)for(var a in wildReelSeq)stToClear_.push(setTimeout(delayedWildReelAnimation_,wildReelAnim[a],wildReelSeq[a]))}}function delayedWildReelAnimation_(reel){wildManager_.wildReelWinAnim(reel)}function delayedAnimation_(smb,a){var add=!1;void 0==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])||null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation?(void 0!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])&&null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])):(smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a]),smb.anim[a].scale.x<=1&&(1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),smb.anim[a].alpha=1}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&TweenMax.to(smb.scale,.1,{x:1,y:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){null!=lineDraw_&&lineDraw_.clearAll()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){var number=0;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a);break}return 1==gameClass_.getCompulsivePlayer()?Math.min(number,1):freeSpinsManager_.getIsInFs()?Math.min(number,3):number}function findWinRangeB_(amt){var number=0;for(var a in winAnimB.winClasses_)if(winAnimB.winClasses_[a]>=amt){number=Number(a);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){updateBalance_(),setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1;for(var a in stages_)Number(amt)>=stages_[a]&&(time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)],index=a);return index>=0?(resetCentralWin_(),stage_=index,reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(1)):time=1500,time}function updatingValue_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&""!=displayManager_.getText("lineWin").text&&0==reset_&&changeCentralWinStage_()}function resetCentralWin_(){soundManager_.stopSound("winBg"),void 0!=soundManager_.getSound("bigWinBg_"+stage_)&&soundManager_.getSound("bigWinBg_"+stage_).fadeOutBgSound(200),bgStopped_&&(soundManager_.resumeBgSound("bgSlot"),bgStopped_=!1),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt()}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(bonus){1!=reset_&&(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,null!=centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{alpha:0,y:-200,ease:Bounce.easeIn}),soundManager_.stopSound(winAnim.accuSnd),stage_>0?soundManager_.getSound("bigWinBg_"+stage_).fadeOutBgSound(200):1==ReelConfig.muteDuringWins&&(soundManager_.stopBgSound("bgSlot"),bgStopped_=!0),stage_++,centralWinMsgGroups_[stage_].visible=!0,startFuntain_(),soundManager_.getSound("bigWinBg_"+stage_).fadeInBgSound(250),centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onStart:animCentralSound_,onComplete:animCentralStage_,onCompleteParams:[bonus]}))}function animCentralSound_(){soundManager_.playSound("winEffect_"+stage_)}function animCentralStage_(bonus){void 0==bonus?centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_}):centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.5,{x:1.2,y:1.2,repeat:25,yoyo:!0,ease:Circ.easeInOut})}function animCentralStage1_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut})}function startFuntain_(){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())],numObj=Math.min(Math.round(20*currentWinWeight_),displayManager.groups.centralWin.maxObjNum),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval);funtainEventManager_.triggerEvt()}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,740,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,740,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,wins,centralFuntainGroup_,currentSmb_,currentWinWeight_,stepInc_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stages_=displayManager.groups.centralWin.thresHolds,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,objThrown_=[],stToClear_=[],step_=0,bgStopped_=!1,winAnim={winClasses_:[1,2,5,10,20,50,400,1e3,2e3,999999999],winTxtDuration:[.5,.6,.8,1,1.1,2,5,6,7,10],scaleFactor:[1.1,1.15,1.2,1.5,1.7,1.8,2,2.2,2.3,2.4],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:""},winAnimB={winClasses_:[1,2,5,10,20,50,200,500,1e3,999999999],winTxtDuration:[.2,.2,.2,.3,.5,.5,2,3,4,5],scaleFactor:[1.1,1.15,1.2,1.5,1.7,1.8,2,2.2,2.3,2.4],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"winBg"},me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var wins=winManager_.getAllWinsSortedByAmt(),amt=winManager_.getWinAmt();if(0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),totalDuration_=0,0==freeSpinsManager_.getIsInFs()){for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){var time_=Math.max(1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]]);totalDuration_+=time_}amt>=stages_[1]&&(totalDuration_=1.1*totalDuration_),amt>=stages_[2]&&(totalDuration_=1.2*totalDuration_)}else totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())]+Number(ReelConfig.delayAfterWinAmt);return totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_};return initClass_(),me}function LineTOH(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,winEventManager_=new EventManager,funtainEventManager_=new EventManager}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){}function prepareWinnings_(winSmb){coinsIconPoints_=[];for(var line in winSmb)void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;stages_=displayManager.groups.centralWin.thresHolds,coinsIconPoints_[line]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line].push(real)}coinsIconPoints_[line].push(real)}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0;if(wins=winManager_.getAllWinsSortedByAmt(),bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),step_=winAnim.scaleFactor[0],totalDuration_=0,stepInc_=(winAnim.scaleFactor[findWinRange_(winManager_.getLineWinAmt())]-step_)/wins.length,resetCentralWin_(),0==freeSpinsManager_.getIsInFs()){soundManager_.playSound("winBg");for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){var time_=Math.max(1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]]);0==balanceManager_.getShowIncredits()?winEventManager_.addEvent(drawLine_,10,[wins[a].line,wins[a].smbNum[0],wins[a].winAmountCash,time_/1e3,!0]):winEventManager_.addEvent(drawLine_,10,[wins[a].line,wins[a].smbNum[0],wins[a].winAmount,time_/1e3,!0]),winEventManager_.addEvent(amimIcon_,0,wins[a]),winEventManager_.addEvent(fakeEvent,time_),totalDuration_+=time_,index++}winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,ReelConfig.delayAfterWinAmt),winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle)}else{soundManager_.playSound("winBg"),changeAllHL_([[.35]]);var icon_=-1;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(icon_=Math.max(icon_,wins[a].smbNum[0]),winEventManager_.addEvent(amimIcon_,0,wins[a]));winEventManager_.addEvent(playBiggerIconSound_,0,[icon_]),totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())];var sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]?winManager_.getScatterWinAmt()[0][scatterManager_.getTriggerIcon()].amt:0);1==balanceManager_.getShowIncredits()&&(sAmt=sAmt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),winEventManager_.addEvent(updatePrize_,0,[Number(winManager_.getLineWinAmt())+sAmt,totalDuration_/1e3]),winEventManager_.addEvent(triggerComplete_,totalDuration_)}winEventManager_.triggerEvt()}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],amt=params[2],time=params[3],snd=params[4],btn=gameClass_.getLineButton(line);currentSmb_=smb,currentWinWeight_=3*amt;for(var a in btn)btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff";if(amt>0){var st=partialWinAmt_;partialWinAmt_+=Number(amt),step_+=stepInc_,winAmtClass_.showWin(partialWinAmt_,null,updatingValue_,null,st,null,step_,time)}stage_>0&&startFuntain_(),clearAll_(),coinsIconPoints_[line].length>0&&(lineDraw_=checkBrowser_()?new RopeDraw(game_,gameClass):new CCurveDraw(game_,gameClass),lineDraw_.startDraw(smb,line,amt,coinsIconPoints_[line]),snd&&(stage_<=0||1!=ReelConfig.muteDuringWins)&&soundManager_.playSound("smbWin_"+smb))}}function updatePrize_(params){var amt=params[0],time=params[1];if(amt>0){step_+=stepInc_,winAmtClass_.showWin(amt,null,null,freeSpinsManager_.updateFreeSpinsTotWon,0,null,step_,time)}bCompleted_=!0,soundManager_.playSound("smbFsWin")}function idle_(force){if(1!=stopEvent_||1==force[0]){stopEvent_=!1;var index=0;wins=winManager_.getAllWinsSortedByAmt(),winEventManager_.clearEvt(),coinWinTxt_.scale.x=1.2,coinWinTxt_.scale.y=1.2;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.35]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(fakeEvent,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal())),drawLine_([winSmb_.line,winSmb_.smbNum[0],null,!0,!1]);for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&(a.alpha=1,TweenMax.to(a.scale,.2,{x:1.2,y:1.2,onComplete:updateAfterWinScale_,onCompleteParams:[a]}))}function triggerComplete_(){}function updateBalance_(){reset_=!0,0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),endCoins_(),clearAll_(),bCompleted_=!0),soundManager_.playSound("line"),resetCentralWin_()}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function updateAfterWinScale_(a){null!=a&&void 0!=a&&null!=a.scale&&void 0!=a.scale&&TweenMax.to(a.scale,.2,{x:1,y:1})}function changeAllHL_(params){var alpha=params[0],reels=spinManager_.getReels();for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++){var smb=reels[a].getSymbol(s);smb.smbNum<gameClass_.getHlMaximumIcon()&&(smb.alpha=alpha)}var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])void 0!=map[a][b].smbNum&&map[a][b].smbNum<gameClass_.getHlMaximumIcon()&&(map[a][b].alpha=alpha)}function playBiggerIconSound_(iconN){soundManager_.playSound("smbWin_"+iconN)}function amimIcon_(smb){if(1!=stopEvent_){var index=0,wildReelAnim=[],wildReelSeq=[];for(var a in smb.smbNum)0==wildManager_.getWildReel(smb.reel[a])?("previous"==smb.smbNum[a]&&(smb.smbNum[a]=spinManager_.getReels()[smb.reel[a]].getIconNum(Number(lineConfig.line.lines[smb.line].config[smb.reel[a]])),smb.simbolReference[a]=spinManager_.getReels()[smb.reel[a]].getSymbol(Number(lineConfig.line.lines[smb.line].config[smb.reel[a]]))),1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(index++,stToClear_.push(setTimeout(delayedAnimation_,.08*index*1e3,smb,a)))):wildReelSeq.indexOf(smb.reel[a]<0)&&(wildReelAnim.push(.08*index*1e3),wildReelSeq.push(smb.reel[a]));if(wildReelSeq.length>0)for(var a in wildReelSeq)stToClear_.push(setTimeout(delayedWildReelAnimation_,wildReelAnim[a],wildReelSeq[a]))}}function delayedWildReelAnimation_(reel){wildManager_.wildReelWinAnim(reel)}function delayedAnimation_(smb,a){var add=!1;null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation?(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])):(smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a]),smb.anim[a].scale.x<=1&&(1==add||1==lineConfig.line.multipleAnimation[smb.smbNum[a]]?smb.anim[a].animations.play("anim",24,smb.smbNum[a]<4&&2,!1,restoreIcon_,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])]):setTimeout(restoreIcon_,500,[spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])])),smb.anim[a].alpha=1}function restoreIcon_(par){var smb=par[0];null!=smb&&void 0!=smb&&TweenMax.to(smb.scale,.1,{x:1,y:1})}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){null!=lineDraw_&&lineDraw_.clearAll()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){var number=0;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a);break}return 1==gameClass_.getCompulsivePlayer()?Math.min(number,1):freeSpinsManager_.getIsInFs()?Math.min(number,3):number}function findWinRangeB_(amt){var number=0;for(var a in winAnimB.winClasses_)if(winAnimB.winClasses_[a]>=amt){number=Number(a);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){updateBalance_(),setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg,tOut){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,null==tOut?1500:tOut)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1;
for(var a in stages_)Number(amt)>=stages_[a]&&(time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)],index=a);return index>=0?(resetCentralWin_(),stage_=index,reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(1)):time=1500,time}function updatingValue_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&""!=displayManager_.getText("lineWin").text&&0==reset_&&changeCentralWinStage_()}function resetCentralWin_(){soundManager_.stopSound("winBg"),void 0!=soundManager_.getSound("bigWinBg_"+stage_)&&soundManager_.getSound("bigWinBg_"+stage_).fadeOutBgSound(200),bgStopped_&&(soundManager_.getCanPlayBg()&&soundManager_.resumeBgSound("bgSlot"),bgStopped_=!1),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt()}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(bonus){1!=reset_&&(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,null!=centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{alpha:0,y:-200,ease:Bounce.easeIn}),soundManager_.stopSound(winAnim.accuSnd),stage_>0?soundManager_.getSound("bigWinBg_"+stage_).fadeOutBgSound(200):1==ReelConfig.muteDuringWins&&(soundManager_.stopSound("bgSlot"),bgStopped_=!0),stage_++,centralWinMsgGroups_[stage_].visible=!0,startFuntain_(),soundManager_.getSound("bigWinBg_"+stage_).fadeInBgSound(250),centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onStart:animCentralSound_,onComplete:animCentralStage_,onCompleteParams:[bonus]}))}function animCentralSound_(){soundManager_.playSound("winEffect_"+stage_)}function animCentralStage_(bonus){void 0==bonus?centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_}):centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.5,{x:1.2,y:1.2,repeat:25,yoyo:!0,ease:Circ.easeInOut})}function animCentralStage1_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut})}function startFuntain_(){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())],numObj=Math.min(Math.round(20*currentWinWeight_),displayManager.groups.centralWin.maxObjNum),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval);funtainEventManager_.triggerEvt()}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,lineDraw_,centralWinGroup_,wins,centralFuntainGroup_,currentSmb_,currentWinWeight_,stepInc_,gameClass_=gameClass,game_=gameRef,coinsIconPoints_=[],partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stages_=displayManager.groups.centralWin.thresHolds,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,objThrown_=[],stToClear_=[],step_=0,bgStopped_=!1,winAnim={winClasses_:[1,2,5,10,20,50,400,1e3,2e3,999999999],winTxtDuration:[.5,.6,.8,1,1,1,1,1.2,5,6],scaleFactor:[1.6,1.8,2,2.2,2.4,2.6,3,3.1,3.3,3.4],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:""},winAnimB={winClasses_:[1,2,5,10,20,50,200,500,1e3,999999999],winTxtDuration:[.2,.2,.2,.3,.5,.5,2,3,5,6],scaleFactor:[1.1,1.15,1.2,1.5,1.7,1.8,2,2.2,2.3,2.4],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"winFSBg"},me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var wins=winManager_.getAllWinsSortedByAmt(),amt=winManager_.getWinAmt();if(0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),totalDuration_=0,0==freeSpinsManager_.getIsInFs()){for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){var time_=Math.max(1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]]);totalDuration_+=time_}amt>=stages_[1]&&(totalDuration_=1.1*totalDuration_),amt>=stages_[2]&&(totalDuration_=1.2*totalDuration_)}else totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())]+Number(ReelConfig.delayAfterWinAmt);var sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]&&null!=winManager_.getScatterWinAmt()[0][12]?winManager_.getScatterWinAmt()[0][12].amt:0);return 0==sAmt&&(sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]&&null!=winManager_.getScatterWinAmt()[0][scatterManager_.getTriggerIcon()]?winManager_.getScatterWinAmt()[0][scatterManager_.getTriggerIcon()].amt:0)),sAmt>0&&(sAmt=sAmt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),totalDuration_+=winAnim.winTxtDuration[findWinRange_(sAmt)]),totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_};return initClass_(),me}function MegaWayTumblingWinjack(gameRef,gameClass){function initClass_(){stages_[0]=winAnim.winClasses_[6],stages_[1]=winAnim.winClasses_[7],stages_[2]=winAnim.winClasses_[8],mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=[],centralWinMsgGroups_[2]=[],centralWinMsgGroups_[3]=[],centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin,centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin,centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin,centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManagerCheck,funtainEventManager_=new EventManager,"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin"))}function doOk_(){autoPlayManager_.getIsInAutoPlay()||freeSpinsManager_.getIsInFs()&&freeSpinsManager_.getFsNumber()>0?(gameClass_.setChange(!1),gameClass_.lineCompletion(!0),setTimeout(callDoSpin_,800)):(winEventManager_.clearEvt(),clearLineAfterValue_(),gameClass_.setChange(!1),gameClass_.lineCompletion(!0),reset_=!0,bCompleted_=!0)}function callDoSpin_(){gameClass_.logger("callDoSpin_"),gameClass_.doCutWinAnim()}function clearOverLine_(){}function clearLine_(){clearAll_()}function stopEvents_(){stage_=0,totalDuration_=0,tumblingWin_=0,funtainEventManager_.clearEvt()}function showBonusWin_(amt,amtCash){clearLine_(),reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?winAmtClass_.showIstantUpdateWin(amtCash):winAmtClass_.showIstantUpdateWin(amt),coinWinTxt_.y="portrait"==getOrientation()?360:380,coinWinTxt_.scale.x=4,coinWinTxt_.scale.y=4,1500}function handleBonusEndWinAnimation_(){}function resumeTumbling_(json,fs){fs?(tumblingWin_=json.status.totalWin/100,freeSpinsManager_.updateWin(Number(json.status.unsettledTotal)/100)):(tumblingWin_=json.status.unsettledTotal/100,freeRoundsManager_.updateFrBalance(-1*tumblingWin_)),winAmtManager_.showIstantUpdateWin(tumblingWin_,"Tumble WIN")}function prepareWinnings_(winSmb){winAmount_=winManager_.getWinAmt(),lineWinAmt_=winManager_.getWinAmt(),wins=winManager_.getTumblingWinningSymbols(),mult_=spinManager_.getSpinResp().freeSpin.multiplier,fsType_=spinManager_.getSpinResp().freeSpin.type;var unsettledWin_=0;null!=spinManager_.getSpinResp().freeSpin.won&&null!=spinManager_.getSpinResp().freeSpin.totalWin&&(winCash_=spinManager_.getSpinResp().freeSpin.totalWin/100),null!=spinManager_.getSpinResp().freeSpin.unsettledTotal&&(unsettledWin_=spinManager_.getSpinResp().freeSpin.unsettledTotal/100);var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,coinWinTxt_.scale.x=4,coinWinTxt_.scale.y=4,pop_=!1,tumbling_=!1;for(var b=0;b<ReelConfig.numReels;b++){var obj={};obj.index=[],obj.indexFallen=[],obj.newSmbs=[],obj.current=0,obj.tumbleObj=[],reelSmb[b]=obj}if("tumble"==fsType_||"convert"==fsType_){tumbling_="tumble"==fsType_,gameClass_.setChange(!0),gameClass_.setTumblingReq(!0);var force=[];if(null!=$(".debug")&&"Enable"==gameParams.force){for(var j=0;j<ReelConfig.numIcons;j++){force[j]=[];for(var i=0;i<ReelConfig.numReels;i++)force[j].push(document.getElementsByName("d"+i+j)[0].value)}void 0!=document.getElementsByName("sideFeature")&&force.push(document.getElementsByName("sideFeature")[0].value),communicationManager_.sendServleForceSpinReq("spin",force,!0)}else communicationManager_.sendServletRequest("spin")}}function showLine_(){var index=0;bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),totalDuration_=0,resetCentralWin_(),index=findWinRange_(lineWinAmt_),exploder_=!1,converter_=!1,ganesha_=!1,bgStopped_=!0,wild=!1,winEventManager_.addEvent(fakeEvent,0,gameClass_.getTumblingReq),winEventManager_.addEvent(fakeEvent,10,spinManager_.getTumbleDone),winEventManager_.addEvent(fakeEvent,10,gameClass_.getHarpPlayed),tumbling_&&freeSpinsManager_.getIsInFs()&&void 0!=gameClass.getUpdateLockedReels&&1==gameClass.getUpdateLockedReels()&&winEventManager_.addEvent(fakeEvent,gameClass_.getCompulsivePlayer()?2200:2700);for(var a in wins)if(void 0!=wins[a]){winEventManager_.addEvent(amimIcon_,0,null,[wins[a]]);for(var b in wins[a].smbNum)11==wins[a].smbNum[b]&&0==gameClass.hasWildActive(11)&&(wild=!0)}winEventManager_.addEvent(playIconWinningSounds_,0),winEventManager_.addEvent(gameClass_.triggerKey,0,null,[spinManager_.getSpinResp().status.keys]),tumbling_&&winEventManager_.addEvent(tumble_,gameClass.hasScatter()?1200:900),tumbling_&&winEventManager_.addEvent(fakeEvent,500),tumbling_&&winEventManager_.addEvent(restoreIcons,700),freeSpinsManager_.getIsInFs()&&void 0!=spinManager_.getFsResp()&&void 0!=spinManager_.getFsResp().won&&spinManager_.getFsResp().won>1&&winEventManager_.addEvent(fakeEvent,1e3),winEventManager_.addEvent(showCentralWin_,0,gameClass_.getHarpPlayed,[fsType_,lineWinAmt_]),freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(updateFreeSpinsMult,500),gameClass.hasScatter()&&0==lineWinAmt_&&winEventManager_.addEvent(unlock_,300),winEventManager_.addEvent(updateBalance_,500),winEventManager_.triggerEvt()}function unlock_(){gameClass_.lineCompletion(!0),bCompleted_=!0}function playIconWinningSounds_(){var iMaxSmb=0;for(var a in wins)if(void 0!=wins[a]){for(var num=10,def=0,b=wins[a].smbNum.length;b>=0;b--)wins[a].realSmbNum[b]>def&&(def=wins[a].realSmbNum[b]);num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb}soundManager_.playSound("smbWin_"+iMaxSmb)}function playWinningSounds_(amt){var audioLevel=[];audioLevel[1]=1,audioLevel[2]=1.4,audioLevel[3]=1.2,audioLevel[4]=1.1,audioLevel[5]=1,audioLevel[6]=1.2,audioLevel[7]=1.3,audioLevel[8]=1.4;gameClass_.setTotWin(amt);var index=findWinRange_(amt);soundManager_.playSound("winBg_"+winAnim.winSound_[index])}function showCentralWin_(params){if(1==gameClass_.getHarpPlayed()){if(1==reset_)return;var lineWinAmt=(params[0],params[1]);if(tumblingWin_+=Number(lineWinAmt),1==spinManager_.gotError())return;1==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y="portrait"==getOrientation()?330:630);var index=findWinRange_(lineWinAmt);if(index>4){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=lineWinAmt;0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}Number(spinManager_.getSpinResp().win.total)<=0?(bCompleted_=!0,lineWinAmt>0&&0==freeSpinsManager_.getFsWon()?0==freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(lineWinAmt,null,updateValue1_,completeValueLast_,0,null,3.5,.2):winAmtClass_.showWin(tumblingWin_,null,updateValue1_,completeValueLast_,tumblingWin_-lineWinAmt,null,3,.2):0==freeSpinsManager_.getFsWon()?gameClass.hasScatter()&&0==lineWinAmt_||delayedStartUpdate_(!0,tumblingWin_,0):(setTimeout(gameClass_.lineCompletion,100,!0),bCompleted_=!0,gameClass_.setTumblingReq(!1))):(winManager_.resetWinAmt(),lineWinAmt>0?0==freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(lineWinAmt,null,updateValue1_,completeValue_,0,null,3.5,.2):winAmtClass_.showWin(tumblingWin_,null,updateValue1_,completeValue_,tumblingWin_-lineWinAmt,null,3,.2):delayedStartUpdate_(!1,tumblingWin_,0)),freeRoundsManager_.getIsInFr()&&freeSpinsManager_.getFsWon()&&freeRoundsManager_.updateFrBalance(tumblingWin_)}else gameClass_.logger("waiting harp to play1"),setTimeout(showCentralWin_,300,params)}function startCoinsSound_(){soundManager_.playSound("coins")}function updatePrize_(){}function idle_(force){}function amimIcon_(params){if(1!=spinManager_.gotError()){var winSmb_=params[0];setTimeout(soundPop,gameClass_.getCompulsivePlayer()?600:1300);for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a)}}function soundPop(){soundManager_.playSound("iconPop")}function updateBalance_(){gameClass_.setChange(!1),"endTumble"==fsType_&&1!=spinManager_.gotError()&&(updatePrize_(),setTimeout(gameClass_.lineCompletion,totalDuration_,!0),soundManager_.playSound("winAmountFall"))}function updateFreeSpinsMult(){var m=mult_;"x"+m!=displayManager_.getText("fsMultValueBig").text&&m>1&&(displayManager_.getText("fsMultValueBig").setText("x"+m),displayManager_.getText("fsMultValueBig").y=-200,displayManager_.getText("fsMultValueBig").alpha=1,soundManager_.playSound("multiplier"),displayManager_.getText("fsMultValue").mult=m,TweenMax.to(displayManager_.getText("fsMultValueBig"),.4,{y:480,ease:Bounce.easeOut,onComplete:bigMult_,onCompleteParams:[m]}),gameClass.startVibrate&&setTimeout(gameClass.startVibrate,300,.1,1,4)),bCompleted_=!0}function bigMult_(m){displayManager_.getText("fsMultValue").setText("x"+m),TweenMax.to(displayManager_.getText("fsMultValueBig"),.4,{delay:1.1,alpha:0}),5==m?soundManager_.playSound("multiplier_1"):10==m?soundManager_.playSound("multiplier_2"):m>15&&soundManager_.playSound("multiplier_3")}function delayedStartUpdate_(last,tumblingWin,win){if(1==gameClass_.getHarpPlayed())if(0==freeSpinsManager_.getIsInFs(),soundManager_.playSound("winAmountFall"),last){winManager_.resetWinAmt(),1==balanceManager_.getShowIncredits()?winManager_.setWinAmountBonus(tumblingWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber())):winManager_.setWinAmountBonus(tumblingWin),balanceManager_.setCanUpdate(!0);var index=findWinRange_(tumblingWin);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=me.getTotalDuration(),amt=lineWinAmt_;if(0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),index>4){var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}else 0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.setText(""),coinWinTxt_.y=displayManager.groups.centralLineWin.texts.lineWin.y),setTimeout(gameClass_.lineCompletion,100,!0);"1"==winAnim.bigWinText[index]&&changeCentralWinStage_(index-5,!1),playWinningSounds_(tumblingWin,!0);var additionalTime=1e3*winAnim.centralWinDur[index];totalDuration_=additionalTime+1e3*winAnim.winTxtDuration[index];var obj={};obj.val=0,freeSpinsManager_.getIsInFs()&&(1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))),1==balanceManager_.getShowIncredits()?coinWinTxt_.setText(Util.formatNumber(tumblingWin,Util.getNubersOfDecimal())):coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(tumblingWin,Util.getNubersOfDecimal())),0==reset_&&tw_.push(TweenMax.to(obj,winAnim.winTxtDuration[index]-1,{val:tumblingWin,onUpdate:updateValue_,onUpdateParams:[obj],onComplete:finalizeCentralWin_,onCompleteParams:[winAnim.centralWinDur[index]-1],ease:Power0.easeOut})),winAmtManager_.showIstantUpdateWin(tumblingWin,"Total WIN"),1==reset_&&coinWinTxt_.setText("")}else 0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),bCompleted_=!0),winManager_.resetWinAmt(),bSkip_=!0,win>0&&winAmtManager_.showIstantUpdateWin(tumblingWin,"Tumble WIN");else gameClass_.logger("waiting harp to play2"),setTimeout(delayedStartUpdate_,300,last,tumblingWin,win)}function finalizeCentralWin_(tOut){gameClass_.logger("fcw"),tw3=setTimeout(gameClass_.increaseVolumeBG,Math.max(Math.min(1e3*tOut,5e3),2500)),setTimeout(resetCentralWin_,Math.max(Math.min(1e3*tOut,5e3),2500)),coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y="portrait"==getOrientation()?390:displayManager.groups.centralLineWin.texts.lineWin.y)}function startUpdate(tumblingWin,win){var amt=200;to=setTimeout(delayedStartUpdate_,amt,!1,tumblingWin,win)}function startUpdateLast(tumblingWin){setTimeout(gameClass_.lineCompletion,100,!0);var amt=200;to=setTimeout(delayedStartUpdate_,amt,!0,tumblingWin,0),gameClass_.decreaseVolumeBG()}function restoreIcon_(par){par[0],par[1]}function delayedAnimation_(smb,a){if(gameClass_.logger("anim symbols"),1!=spinManager_.gotError()){var add=!1;spinManager_.getReels();if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special,beanVal=null!=smb.simbolReference[a].attributes&&null!=smb.simbolReference[a].attributes.beanValue?smb.simbolReference[a].attributes.beanValue.toString():"1";if(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,1==game.cache.checkImageKey("anim"+smb.smbNum[a])?smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+size_[spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length]/2,"anim"+smb.smbNum[a]):smb.anim[a]=smb.simbolReference[a],1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.anim[a].iconNum=smb.icon[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,7==smb.smbNum[a]||8==smb.smbNum[a]||9==smb.smbNum[a])){var F=iconAdjustment_(spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length,smb.anim[a],smb.smbNum[a],spinManager_.getFrameMW(smb.reel[a],smb.icon[a]));smb.anim[a].F=F}if(10==smb.smbNum[a]?(displayManager_.getGroup("wins").visible=!0,displayManager_.getGroup("wins").add(smb.anim[a])):spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),null!=F)spinManager_.getReelGroup(smb.reel[a]).add(F);else{var tile=spinManager_.getTileMW(smb.reel[a],smb.icon[a]);if(setTimeout(animateTile_,500,tile),12==smb.smbNum[a]){gameClass_.logger("reel "+smb.reel[a]+" anim smb "+smb.icon[a]+" num12 MC "+smb.anim[a].smbNum);var txt1=game_.add.sprite(smb.anim[a].x,smb.anim[a].y,"p"+beanVal);txt1.alpha=0,txt1.anchor.set(.5,.5),displayManager_.getGroup("beans").add(txt1),TweenMax.to(txt1,.2,{alpha:1}),TweenMax.to(txt1.scale,.3,{x:1.2,y:1.2,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[txt1]});var lf=game_.add.sprite(smb.anim[a].x,smb.anim[a].y-20,"anchorIn_1");lf.alpha=1,lf.anchor.set(.5,.5),lf.animations.add("anim"),lf.animations.play("anim",24,!1,!0),lf.scale.x=.6,lf.scale.y=.6,displayManager_.getGroup("beans").add(lf),TweenMax.to(lf,.5,{delay:.7,alpha:0}),TweenMax.to(lf,.8,{delay:.5,y:smb.anim[a].y-100}),soundManager_.playSound("bean")}}if(spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length>=5&&7!=smb.smbNum[a]&&8!=smb.smbNum[a]&&9!=smb.smbNum[a]){var ratio=size_[spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length]/smb.anim[a].height+(10==smb.smbNum[a]?.07:.1);smb.anim[a].scale.x=Math.min(ratio,1),smb.anim[a].scale.y=Math.min(ratio,1)}spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),smb.anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?36:24,!1,!1,restoreIcon_,[smb,a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a],13!=smb.smbNum[a]&&smb.anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?36:24,!1,!1,restoreIcon_,[smb,a]);reelSmb[smb.reel[a]].tumbleObj.push(smb.anim[a]),smb.anim[a].alpha=1}}function bounce(txt){TweenMax.to(txt.scale,.4,{x:1,y:1,ease:Bounce.easeOut,onComplete:move,onCompleteParams:[txt]})}function move(txt){TweenMax.to(txt,2,{alpha:0,y:txt.y-200,onComplete:kill,onCompleteParams:[txt]})}function kill(txt){txt.visible=!1,txt.destroy()}function animateTile_(tile){tile.anchor.set(.5,.5),tile.animations.add("anim"),tile.animations.play("anim",24,!1,!1,endTile_,tile)}function endTile_(tile){tile.visible=!1,tile.setFrame(0)}function iconAdjustment_(smbNum,image,icon,frame){var F=game_.add.sprite(frame.x,frame.y,"smbFrame_"+smbNum);if(F.scale.x=1,F.scale.y=1,F.anchor.set(.5,.5),image.cropEnabled=!0,7==smbNum)var mask_=new Phaser.Rectangle(0,20,frame.width,frame.height);else{var mask_=new Phaser.Rectangle(0,0,frame.width,frame.height);image.y=frame.y}return image.crop(mask_),image.updateCrop(),F}function restoreIcons(){spinManager_.restoreIcons(previousReels_)}function tumble_(){if(gameClass_.logger("calling tumble"),1!=spinManager_.gotError()&&(previousReels_=spinManager_.getSpinReelResp().reel,gameClass_.successiveWinning(gameClass.hasScatter()?gameClass.getNumTumbles():void 0),1==tumbling_)){wildManager_.clearWild(0);var tumble=!1;for(var a in wins){if(void 0!=wins[a]){for(var s in wins[a].smbNum)wins[a].tumble[s]&&(reelSmb[wins[a].reel[s]].index.push(wins[a].icon[s]),reelSmb[wins[a].reel[s]].newSmbs=spinManager_.getSpinReelResp().reel[wins[a].reel[s]])}tumble=!0}for(var b=0;b<ReelConfig.numReels;b++)spinManager_.tumble(b,reelSmb[b],previousReels_),void 0!=reelSmb[b]&&reelSmb[b].index.length>0;setTimeout(soundManager_.playSound,gameClass_.getCompulsivePlayer()?100:200,"tumble_0"),tumble&&null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,gameClass_.getCompulsivePlayer()?250:500,.12,1,2.5)}}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(partialWinAmt_=0)}function clearAll_(){reset_=!0,stage_=0,resetCentralWin_()}function clearLineAfterValue_(){if(gameClass_.logger("clear line after"),stopEvent_=!0,resetCentralWin_(!0),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),writeText_(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut}):TweenMax.to(coinWinTxt_,.2,{alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){gameClass_.logger("1 clear line after"),coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,0,{y:"portrait"==getOrientation()?330:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}):TweenMax.to(coinWinTxt_,0,{alpha:1}),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function findWinRangeB_(amt){var number=winAnimB.winClasses_.length-1;for(var a in winAnimB.winClasses_)if(winAnimB.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdate,onCompleteParams:[tumblingWin_,lineWinAmt_],ease:Bounce.easeOut}):setTimeout(startUpdate,1e3,tumblingWin_,lineWinAmt_)}function updateValue_(par){var amt=par.val;0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&0==reset_&&changeCentralWinStage_()}function updateValue1_(txt){}function completeValueLast_(){void 0!=gameClass.getUpdateLockedReels&&1==gameClass.getUpdateLockedReels()?setTimeout(completeValueLast1_,2e3):completeValueLast1_()}function completeValueLast1_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut}):TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut})}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!1;for(var a in stages_)Number(amtC)>=stages_[a]&&(time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amtC)],index=Number(a));if(index>=0){resetCentralWin_(!0),reset_=!1,currentSmb_=1,currentWinWeight_=amt,stage_=0,changeCentralWinStage_(),"portrait"==getOrientation()&&(displayManager_.getText("lineWin").y=410);var obj={};obj.val=0,tw_.push(TweenMax.to(obj,winAnim.winTxtDuration[index+6]-1,{val:Number(amt),onUpdate:updateValue_,onUpdateParams:[obj],onComplete:finalizeCentralWin_,onCompleteParams:[index],ease:Power2.easeOut})),soundManager_.playSound("winBgS_"+(Number(stage_)+6)),gameClass_.decreaseVolumeBG(1e3*winAnimB.winTxtDuration[Number(stage_)+6])}else time=1500;return time}function updateBonusBalance_(amt,msg){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!0,coinWinTxt_.setText(""),resetCentralWin_(),endCoins_();var index=findWinRange_(amt);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[index];if(index>4){var numObj=Math.min(Math.max(Math.ceil(amtC)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt(),coinWinTxt_.scale.x=4,coinWinTxt_.scale.y=4,TweenMax.to(coinWinTxt_,.4,{y:"portrait"==getOrientation()?330:490,alpha:1,ease:Sine.easeInOut}),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(amt,Util.getNubersOfDecimal())),setTimeout(finalizeCentralWin_,1e3*winAnim.winTxtDuration[index],!0,1e3*winAnim.centralWinDur[index])}}winAmtManager_.showIstantUpdateWin(amt,msg),bCompleted_=!0,soundManager_.playSound("winAmountFall")}function resetCentralWin_(now){gameClass_.logger("resetCentralWin "),stage_=0,totalDuration_=0,tw2>0&&clearInterval(tw2),tw3>0&&clearInterval(tw3),to>0&&clearInterval(to),tw1=null,tw2=0,tw3=0,gameClass_.logger("kill tw");for(a in tw_)null!=tw_[a]&&tw_[a].kill();1==now,removeCW_(),funtainEventManager_.clearEvt()}function removeCW_(a){centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);centralWinGroup_.bgmsg.visible=!1}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgBg.length-1;a++)centralWinMsgBg[a].alpha=0,centralWinMsgTxt[a].alpha=0,centralWinMsgTxt[a].scaleX=1,centralWinMsgTxt[a].scaleY=1}function changeCentralWinStage_(flip){if(1!=reset_){if(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,centralWinGroup_.bgmsg.visible=!0,
0==stage_)for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scale.x=1,centralWinMsgGroups_[a].scale.y=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);soundManager_.stopSound(winAnim.accuSnd),stage_++,1==stage_?(coinWinTxt_.y="portrait"==getOrientation()?400:560,gameClass_.logger("scale first "+winAnim.scaleFactor[6+stage_]),centralWinGroup_.visible=!0,centralWinMsgGroups_[1].visible=!0,centralWinMsgGroups_[1].alpha=0,centralWinMsgGroups_[2].visible=!0,centralWinMsgGroups_[2].alpha=0,centralWinMsgGroups_[3].visible=!0,centralWinMsgGroups_[3].alpha=0,tw2_.push(TweenMax.to(centralWinMsgGroups_[1],.4,{delay:.5,alpha:1,y:centralWinMsgPos_[1],ease:"power1.in"})),tw2=setInterval(checkVal,200)):bookChange_++,centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[5+stage_];time-=1e3;var numObj=(4==stage_?500:200)*stage_,interval=(time-2e3)/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function change_(s){if(1!=reset_){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scale.x=1,centralWinMsgGroups_[a].scale.y=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[a]);for(a in tw2_)null!=tw2_[a]&&tw2_[a].kill();tw2_.push(TweenMax.to(centralWinMsgGroups_[s-1],.3,{alpha:0})),tw2_.push(TweenMax.to(centralWinMsgGroups_[s-1].scale,.2,{x:.8,y:.8})),centralWinMsgGroups_[s].scale.x=.8,centralWinMsgGroups_[s].scale.y=.8,centralWinMsgGroups_[s].y=centralWinMsgPos_[s],centralWinMsgGroups_[s].alpha=1,tw2_.push(TweenMax.to(centralWinMsgGroups_[s].scale,.2,{x:1.2,y:1.2})),tw2_.push(TweenMax.to(centralWinMsgGroups_[s].scale,.2,{delay:.2,x:1,y:1})),bookChange_=0}}function checkVal(){bookChange_>0&&stage_>1&&(gameClass_.logger("sb2 "+bookChange_),this.visible=!1,this.alpha=!1,change_(stage_))}function startNewSmallObject_(){if(ReelConfig.newUI&&("portrait"==getOrientation()?centralFuntainGroupSmallObj_.y=window.innerHeight:centralFuntainGroupSmallObj_.y=0),Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(ReelConfig.newUI&&("portrait"==getOrientation()?centralFuntainGroup_.y=window.innerHeight:centralFuntainGroup_.y=0),Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){}function writeText_(amt){ReelConfig.newUI?window.innerHeight>window.innerWidth?$("#footer-top-win").html(amt):$("#footer-bottom-message").html(amt):coinWinTxt_.setText(amt)}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,wins,winAmount_,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,fsType_,gameClass_=gameClass,game_=gameRef,partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,pop_=!1,stages_=[],stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],tw2_=[],tw1=null,tw2=0,tw3=0,to=0,lineWinAmt_=0,objThrown_=[],bgStopped_=!1,reelSmb=[],tumbling_=!1,tumblingWin_=0,bSkip_=!1,winCash_=0,mult_=0,exploder_=!1,converter_=!1,ganesha_=!1,wild=!1,size_=[];size_[0]=0,size_[1]=0,size_[2]=280,size_[3]=187,size_[4]=140,size_[5]=112,size_[6]=93.3,size_[7]=80;var previousReels_,previousReels_,winAnim={winClasses_:[1,10,20,40,80,199,400,1e3,1500],winSound_:[1,2,3,3,4,5,6,7,8],winTxtDuration:[1,1,1,2,3,4,6,7,8],centralWinDur:[0,0,0,0,0,0,2,2.5,3],scaleFactor:[3,3,3,3,3,3.2,3.4,3.5,4],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,bookChange_=0,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){if(reset_)return 0;var index=findWinRange_(lineWinAmt_),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index],additionalTime+totalDuration_},getPartialDuration:function(){if(reset_)return 0;var index=findWinRange_(lineWinAmt_);return totalDuration_=1e3*winAnim.winTxtDuration[index]},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_,resumeTumbling:resumeTumbling_,doOk:doOk_};return initClass_(),me}function MegaWayTumblingWinnings(gameRef,gameClass){function initClass_(){stages_[0]=winAnim.winClasses_[6],stages_[1]=winAnim.winClasses_[7],stages_[2]=winAnim.winClasses_[8],mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=[],centralWinMsgGroups_[2]=[],centralWinMsgGroups_[3]=[],centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.last,centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.last,centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.last,centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.last.y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.last.y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.last.y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManagerCheck,funtainEventManager_=new EventManager,"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin"));for(var a in displayManager.groups.centralWin.buttons){var buttonE=new Phaser.Button(game_,displayManager.groups.centralWin.buttons[a].x,displayManager.groups.centralWin.buttons[a].y,displayManager.groups.centralWin.buttons[a].name,me[displayManager.groups.centralWin.buttons[a].evt],this,1,2,0,0);buttonE.alpha=0,buttonE.anchor.set(.5,.5),centralWinGroup_.add(buttonE)}}function doOk_(){autoPlayManager_.getIsInAutoPlay()||freeSpinsManager_.getIsInFs()&&freeSpinsManager_.getFsNumber()>0?(gameClass_.setChange(!1),gameClass_.lineCompletion(!0),setTimeout(callDoSpin_,800)):(winEventManager_.clearEvt(),clearLineAfterValue_(),gameClass_.setChange(!1),gameClass_.lineCompletion(!0),reset_=!0,bCompleted_=!0)}function callDoSpin_(){gameClass_.logger("callDoSpin_"),gameClass_.doCutWinAnim()}function clearOverLine_(){}function clearLine_(){clearAll_()}function stopEvents_(){stage_=0,totalDuration_=0,tumblingWin_=0,funtainEventManager_.clearEvt()}function showBonusWin_(amt,amtCash){clearLine_(),reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?winAmtClass_.showIstantUpdateWin(amtCash):winAmtClass_.showIstantUpdateWin(amt),coinWinTxt_.y="portrait"==getOrientation()?360:(framework.isTouch(),400),coinWinTxt_.scaleX=3,coinWinTxt_.scaleY=3,1500}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function resumeTumbling_(json,fs){fs?(tumblingWin_=json.status.totalWin/100,freeSpinsManager_.updateWin(Number(json.status.unsettledTotal)/100)):(tumblingWin_=json.status.unsettledTotal/100,freeRoundsManager_.updateFrBalance(-1*tumblingWin_)),winAmtManager_.showIstantUpdateWin(tumblingWin_,"Tumble WIN")}function prepareWinnings_(winSmb){winAmount_=winManager_.getWinAmt(),lineWinAmt_=winManager_.getWinAmt(),wins=winManager_.getTumblingWinningSymbols(),mult_=spinManager_.getSpinResp().freeSpin.multiplier,fsType_=spinManager_.getSpinResp().freeSpin.type;var unsettledWin_=0;null!=spinManager_.getSpinResp().freeSpin.won&&null!=spinManager_.getSpinResp().freeSpin.totalWin&&(winCash_=spinManager_.getSpinResp().freeSpin.totalWin/100),null!=spinManager_.getSpinResp().freeSpin.unsettledTotal&&(unsettledWin_=spinManager_.getSpinResp().freeSpin.unsettledTotal/100);var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,coinWinTxt_.scaleX=scaleStart_,coinWinTxt_.scaleY=scaleStart_,pop_=!1,tumbling_=!1;for(var b=0;b<ReelConfig.numReels;b++){var obj={};obj.index=[],obj.indexFallen=[],obj.newSmbs=[],obj.current=0,obj.tumbleObj=[],reelSmb[b]=obj}if("tumble"==fsType_||"convert"==fsType_){tumbling_="tumble"==fsType_,gameClass_.setChange(!0),gameClass_.setTumblingReq(!0);var force=[];if(null!=$(".debug")&&"Enable"==gameParams.force){for(var j=0;j<ReelConfig.numIcons;j++){force[j]=[];for(var i=0;i<ReelConfig.numReels;i++)force[j].push(document.getElementsByName("d"+i+j)[0].value)}void 0!=document.getElementsByName("sideFeature")&&force.push(document.getElementsByName("sideFeature")[0].value),communicationManager_.sendServleForceSpinReq("spin",force)}else communicationManager_.sendServletRequest("spin")}}function showLine_(){var index=0;bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),totalDuration_=0,resetCentralWin_(),index=findWinRange_(lineWinAmt_),exploder_=!1,converter_=!1,ganesha_=!1,bgStopped_=!0,wild=!1,winEventManager_.addEvent(fakeEvent,0,gameClass_.getTumblingReq),winEventManager_.addEvent(fakeEvent,10,spinManager_.getTumbleDone),tumbling_&&freeSpinsManager_.getIsInFs()&&void 0!=gameClass.getUpdateLockedReels&&1==gameClass.getUpdateLockedReels()&&winEventManager_.addEvent(fakeEvent,gameClass_.getCompulsivePlayer()?2200:2700);for(var a in wins)if(void 0!=wins[a]){winEventManager_.addEvent(amimIcon_,0,null,[wins[a]]);for(var b in wins[a].smbNum)(11==wins[a].smbNum[b]&&0==gameClass.hasWildActive(11)||12==wins[a].smbNum[b]&&0==gameClass.hasWildActive(12)||13==wins[a].smbNum[b]&&0==gameClass.hasWildActive(13))&&(wild=!0)}winEventManager_.addEvent(playIconWinningSounds_,0),winEventManager_.addEvent(gameClass_.triggerKey,0,null,[spinManager_.getSpinResp().status.keys]),tumbling_&&winEventManager_.addEvent(tumble_,1200),tumbling_&&winEventManager_.addEvent(fakeEvent,gameClass_.getCompulsivePlayer()?100:500),tumbling_&&winEventManager_.addEvent(restoreIcons,1e3),freeSpinsManager_.getIsInFs()&&void 0!=spinManager_.getFsResp()&&void 0!=spinManager_.getFsResp().won&&spinManager_.getFsResp().won>1&&winEventManager_.addEvent(fakeEvent,3e3),winEventManager_.addEvent(showCentralWin_,0,null,[fsType_,lineWinAmt_]),winEventManager_.addEvent(updateBalance_,300),freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(updateFreeSpinsMult,gameClass_.getCompulsivePlayer()?700:1e3),winEventManager_.triggerEvt()}function playIconWinningSounds_(){var iMaxSmb=0;for(var a in wins)if(void 0!=wins[a]){for(var num=10,def=0,b=wins[a].smbNum.length;b>=0;b--)wins[a].realSmbNum[b]>def&&(def=wins[a].realSmbNum[b]);num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb}soundManager_.playSound("smbWin_"+iMaxSmb)}function playWinningSounds_(amt){var audioLevel=[];audioLevel[1]=1,audioLevel[2]=1.4,audioLevel[3]=1.2,audioLevel[4]=1.1,audioLevel[5]=1,audioLevel[6]=1.2,audioLevel[7]=1.3,audioLevel[8]=1.4;gameClass_.setTotWin(amt);var index=findWinRange_(amt);soundManager_.playSound("winBg_"+winAnim.winSound_[index])}function showCentralWin_(params){if(1!=reset_){var lineWinAmt=(params[0],params[1]);if(tumblingWin_+=Number(lineWinAmt),1!=spinManager_.gotError()){1==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y="portrait"==getOrientation()?330:framework.isTouch()?640:650);var index=findWinRange_(lineWinAmt);if(index>4){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=lineWinAmt;0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}Number(spinManager_.getSpinResp().win.total)<=0?(bCompleted_=!0,lineWinAmt>0&&0==freeSpinsManager_.getFsWon()?0==freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(lineWinAmt,null,updateValue1_,completeValueLast_,0,null,3.5,.2):winAmtClass_.showWin(tumblingWin_,null,updateValue1_,completeValueLast_,tumblingWin_-lineWinAmt,null,3,.2):0==freeSpinsManager_.getFsWon()?delayedStartUpdate_(!0,tumblingWin_,0):(setTimeout(gameClass_.lineCompletion,100,!0),bCompleted_=!0,gameClass_.setTumblingReq(!1))):(winManager_.resetWinAmt(),lineWinAmt>0?0==freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(lineWinAmt,null,updateValue1_,completeValue_,0,null,3.5,.2):winAmtClass_.showWin(tumblingWin_,null,updateValue1_,completeValue_,tumblingWin_-lineWinAmt,null,3,.2):delayedStartUpdate_(!1,tumblingWin_,0)),freeRoundsManager_.getIsInFr()&&freeSpinsManager_.getFsWon()&&freeRoundsManager_.updateFrBalance(tumblingWin_)}}}function startCoinsSound_(){soundManager_.playSound("coins")}function updatePrize_(){}function idle_(force){}function amimIcon_(params){if(1!=spinManager_.gotError()){var winSmb_=params[0];setTimeout(soundPop,gameClass_.getCompulsivePlayer()?600:1300);for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a)}}function soundPop(){soundManager_.playSound("iconPop")}function updateBalance_(){gameClass_.setChange(!1),"endTumble"==fsType_&&1!=spinManager_.gotError()&&(updatePrize_(),setTimeout(gameClass_.lineCompletion,totalDuration_,!0),soundManager_.playSound("winAmountFall"))}function updateFreeSpinsMult(){var m=mult_;"x"+m!=displayManager_.getText("fsMultValueBig").text&&m>1&&(displayManager_.getText("fsMultValueBig").setText("x"+m),displayManager_.getText("fsMultValueBig").y=-200,displayManager_.getText("fsMultValueBig").alpha=1,soundManager_.playSound("multiplier"),displayManager_.getText("fsMultValue").mult=m,TweenMax.to(displayManager_.getText("fsMultValueBig"),.4,{y:480,ease:Bounce.easeOut,onComplete:bigMult_,onCompleteParams:[m]}),gameClass.startVibrate&&setTimeout(gameClass.startVibrate,300,.1,1,4)),bCompleted_=!0}function bigMult_(m){displayManager_.getText("fsMultValue").setText("x"+m),TweenMax.to(displayManager_.getText("fsMultValueBig"),.4,{delay:1.5,alpha:0}),5==m?soundManager_.playSound("multiplier_1"):10==m?soundManager_.playSound("multiplier_2"):m>15&&soundManager_.playSound("multiplier_3")}function delayedStartUpdate_(last,tumblingWin,win){if(0==freeSpinsManager_.getIsInFs(),soundManager_.playSound("winAmountFall"),last){winManager_.resetWinAmt(),1==balanceManager_.getShowIncredits()?winManager_.setWinAmountBonus(tumblingWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber())):winManager_.setWinAmountBonus(tumblingWin),balanceManager_.setCanUpdate(!0);var index=findWinRange_(tumblingWin);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=me.getTotalDuration(),amt=lineWinAmt_;if(0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),index>4){var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0),gameClass_.decreaseVolumeBG(me.getTotalDuration()+2e3)}else gameClass_.decreaseVolumeBG(),0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.setText(""),coinWinTxt_.y=displayManager.groups.centralLineWin.texts.lineWin.y),setTimeout(gameClass_.lineCompletion,100,!0);"1"==winAnim.bigWinText[index]&&changeCentralWinStage_(index-5,!1),playWinningSounds_(tumblingWin,!0);var additionalTime=1e3*winAnim.centralWinDur[index];totalDuration_=additionalTime+1e3*winAnim.winTxtDuration[index];var obj={};obj.val=0,freeSpinsManager_.getIsInFs()&&(1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))),1==balanceManager_.getShowIncredits()?coinWinTxt_.setText(Util.formatNumber(tumblingWin,Util.getNubersOfDecimal())):coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(tumblingWin,Util.getNubersOfDecimal())),0==reset_&&tw_.push(TweenMax.to(obj,winAnim.winTxtDuration[index]-1,{val:tumblingWin,onUpdate:updateValue_,onUpdateParams:[obj],onComplete:finalizeCentralWin_,onCompleteParams:[winAnim.centralWinDur[index]-1],ease:Power0.easeOut})),winAmtManager_.showIstantUpdateWin(tumblingWin,"Total WIN"),1==reset_&&coinWinTxt_.setText("")}else 0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),bCompleted_=!0),winManager_.resetWinAmt(),bSkip_=!0,win>0&&winAmtManager_.showIstantUpdateWin(tumblingWin,"Tumble WIN")}function finalizeCentralWin_(tOut){gameClass_.logger("fcw"),tw3=setTimeout(gameClass_.increaseVolumeBG,Math.max(Math.min(1e3*tOut,5e3),2500)),setTimeout(resetCentralWin_,Math.max(Math.min(1e3*tOut,5e3),2500)),coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y="portrait"==getOrientation()?390:displayManager.groups.centralLineWin.texts.lineWin.y),coinWinTxt_.scaleX=scaleStart_,coinWinTxt_.scaleY=scaleStart_}function startUpdate(tumblingWin,win){var amt=200;to=setTimeout(delayedStartUpdate_,amt,!1,tumblingWin,win)}function startUpdateLast(tumblingWin){setTimeout(gameClass_.lineCompletion,100,!0);var amt=200;to=setTimeout(delayedStartUpdate_,amt,!0,tumblingWin,0),gameClass_.decreaseVolumeBG()}function restoreIcon_(par){par[0],par[1]}function delayedAnimation_(smb,a){if(1!=spinManager_.gotError()){var add=!1;spinManager_.getReels();if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;if(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,1==game.cache.checkImageKey("anim"+smb.smbNum[a])?smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+size_[spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length]/2,"anim"+smb.smbNum[a]):smb.anim[a]=smb.simbolReference[a],1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.anim[a].reel=smb.reel[a],smb.anim[a].iconNum=smb.icon[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,7==smb.smbNum[a]||8==smb.smbNum[a]||9==smb.smbNum[a])){var F=iconAdjustment_(spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length,smb.anim[a],smb.smbNum[a],spinManager_.getFrameMW(smb.reel[a],smb.icon[a]));smb.anim[a].F=F,"7022"==gameParams.gameID&&(smb.anim[a].BG=spinManager_.getTileMW(smb.reel[a],smb.icon[a]))}if(10==smb.smbNum[a]?(displayManager_.getGroup("wins").visible=!0,displayManager_.getGroup("wins").add(smb.anim[a])):spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),void 0!=F)spinManager_.getReelGroup(smb.reel[a]).add(F);else{var tile=spinManager_.getTileMW(smb.reel[a],smb.icon[a]);setTimeout(animateTile_,500,tile)}if(spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length>=5&&7!=smb.smbNum[a]&&8!=smb.smbNum[a]&&9!=smb.smbNum[a]){var ratio=size_[spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length]/smb.anim[a].height+(10==smb.smbNum[a]?.3:.1);smb.anim[a].scale.x=Math.min(ratio,1),smb.anim[a].scale.y=Math.min(ratio,1)}spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),animationManager_.play(smb.anim[a],"anim",gameClass_.getCompulsivePlayer()?36:24,!1,!1,restoreIcon_,[smb,a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a],13!=smb.smbNum[a]&&animationManager_.play(smb.anim[a],"anim",gameClass_.getCompulsivePlayer()?36:24,!1,!1,restoreIcon_,[smb,a]);reelSmb[smb.reel[a]].tumbleObj.push(smb.anim[a]),smb.anim[a].alpha=1}}function animateTile_(tile){void 0!=tile&&(tile.setOrigin(.5,.5),tile.animations=animationManager_.create(tile,"anim",24,!1,!1),animationManager_.play(tile,"anim",24,!1,!1,endTile_,tile))}function endTile_(tile){tile.visible=!1}function iconAdjustment_(smbNum,image,icon,frame){var F=spriteManager_.addSprite(frame.x,frame.y,"smbFrame_"+smbNum);if(F.scaleX=1,F.scaleY=1,F.setOrigin(.5,.5),7==smbNum){var mask_=new Phaser.Geom.Rectangle(0,0,frame.width,frame.height);image.setCrop(mask_)}else{var mask_=new Phaser.Geom.Rectangle(0,0,frame.width,frame.height);image.setCrop(mask_)}return 2==smbNum||(3==smbNum?image.y=image.y+frame.height/4-2:4==smbNum?image.y=image.y+frame.height/2:5==smbNum?image.y=image.y+23+frame.height/2:6==smbNum?image.y=image.y+frame.height-2:7==smbNum&&(image.y=image.y+frame.height+20)),F}function restoreIcons(){spinManager_.restoreIcons(previousReels_)}function tumble_(){if(1!=spinManager_.gotError()&&(previousReels_=spinManager_.getSpinReelResp().reel,gameClass_.successiveWinning(),1==tumbling_)){wildManager_.clearWild(0);var tumble=!1;for(var a in wins){if(void 0!=wins[a]){for(var s in wins[a].smbNum)wins[a].tumble[s]&&(reelSmb[wins[a].reel[s]].index.push(wins[a].icon[s]),reelSmb[wins[a].reel[s]].newSmbs=spinManager_.getSpinReelResp().reel[wins[a].reel[s]])}tumble=!0}for(var b=0;b<ReelConfig.numReels;b++)spinManager_.tumble(b,reelSmb[b],previousReels_),void 0!=reelSmb[b]&&reelSmb[b].index.length>0;setTimeout(soundManager_.playSound,gameClass_.getCompulsivePlayer()?100:200,"tumble_0"),tumble&&null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,gameClass_.getCompulsivePlayer()?250:500,.12,1,2.5)}}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(partialWinAmt_=0)}function clearAll_(){reset_=!0,stage_=0,resetCentralWin_()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(!0),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),writeText_(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut}):TweenMax.to(coinWinTxt_,.2,{alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,0,{y:"portrait"==getOrientation()?330:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}):TweenMax.to(coinWinTxt_,0,{alpha:1}),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function findWinRangeB_(amt){var number=winAnimB.winClasses_.length-1;for(var a in winAnimB.winClasses_)if(winAnimB.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdate,onCompleteParams:[tumblingWin_,lineWinAmt_],ease:Bounce.easeOut}):setTimeout(startUpdate,1e3,tumblingWin_,lineWinAmt_)}function updateValue_(par){var amt=par.val;0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&0==reset_&&changeCentralWinStage_()}function updateValue1_(txt){}function completeValueLast_(){1==freeSpinsManager_.getIsInFs()&&void 0!=gameClass.getUpdateLockedReels&&1==gameClass.getUpdateLockedReels()?setTimeout(completeValueLast1_,2e3):completeValueLast1_()}function completeValueLast1_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut}):TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut})}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!1;for(var a in stages_)Number(amtC)>=stages_[a]&&(time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amtC)],index=Number(a));if(index>=0){resetCentralWin_(!0),reset_=!1,currentSmb_=1,currentWinWeight_=amt,stage_=0,changeCentralWinStage_(),"portrait"==getOrientation()&&(displayManager_.getText("lineWin").y=410);var obj={};obj.val=0,tw_.push(TweenMax.to(obj,winAnim.winTxtDuration[index+6]-1,{val:Number(amt),onUpdate:updateValue_,onUpdateParams:[obj],onComplete:finalizeCentralWin_,onCompleteParams:[index],ease:Power2.easeOut})),soundManager_.playSound("winBgS_"+(Number(stage_)+6)),gameClass_.decreaseVolumeBG(1e3*winAnimB.winTxtDuration[Number(stage_)+6])}else time=1500;return time}function updateBonusBalance_(amt,msg){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!0,coinWinTxt_.setText(""),resetCentralWin_(),endCoins_();var index=findWinRange_(amt);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[index];if(index>4){var numObj=Math.min(Math.max(Math.ceil(amtC)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt(),coinWinTxt_.scaleX=3,coinWinTxt_.scaleY=3,TweenMax.to(coinWinTxt_,.4,{y:"portrait"==getOrientation()?330:490,alpha:1,ease:Sine.easeInOut}),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(amt,Util.getNubersOfDecimal())),setTimeout(finalizeCentralWin_,1e3*winAnim.winTxtDuration[index],!0,1e3*winAnim.centralWinDur[index])}}winAmtManager_.showIstantUpdateWin(amt,msg),bCompleted_=!0,soundManager_.playSound("winAmountFall")}function resetCentralWin_(now){stage_=0,totalDuration_=0,tw2>0&&clearInterval(tw2),tw3>0&&clearInterval(tw3),to>0&&clearInterval(to),tw1=null,tw2=0,tw3=0;for(a in tw_)null!=tw_[a]&&tw_[a].kill();1==now,removeCW_(),funtainEventManager_.clearEvt()}function removeCW_(a){centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);centralWinGroup_.bgmsg.last.visible=!1,centralWinGroup_.candleA1.last.visible=!1,centralWinGroup_.candleA.last.visible=!1,centralWinGroup_.cannon.last.visible=!1,centralWinGroup_.cannon1.last.visible=!1,centralWinGroup_.candle.last.visible=!1,centralWinGroup_.candle1.last.visible=!1,centralWinGroup_.bigGlow.last.visible=!1,centralWinGroup_.bigMap.last.visible=!1}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgBg.length-1;a++)centralWinMsgBg[a].alpha=0,centralWinMsgTxt[a].alpha=0,centralWinMsgTxt[a].scaleX=1,centralWinMsgTxt[a].scaleY=1}function changeCentralWinStage_(flip){if(1!=reset_){if(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,centralWinGroup_.bgmsg.last.visible=!0,0==stage_){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);centralWinGroup_.candleA1.last.visible=!1,centralWinGroup_.candleA.last.visible=!1,centralWinGroup_.cannon.last.visible=!1,centralWinGroup_.cannon1.last.visible=!1,centralWinGroup_.candle.last.visible=!1,centralWinGroup_.candleA.last.visible=!1,centralWinGroup_.bigGlow.last.visible=!1,centralWinGroup_.bigMap.last.visible=!1}soundManager_.stopSound(winAnim.accuSnd),stage_++,1==stage_?(coinWinTxt_.y="portrait"==getOrientation()?400:560,coinWinTxt_.scaleX=winAnim.scaleFactor[6+stage_],coinWinTxt_.scaleY=winAnim.scaleFactor[6+stage_],centralWinGroup_.visible=!0,centralWinGroup_.candleA.last.visible=!0,centralWinGroup_.candleA1.last.visible=!0,centralWinGroup_.cannon.last.visible=!1,centralWinGroup_.cannon1.last.visible=!1,centralWinGroup_.candle.last.visible=!0,centralWinGroup_.candle1.last.visible=!0,centralWinGroup_.bigGlow.last.visible=!0,centralWinGroup_.bigMap.last.visible=!0,centralWinMsgGroups_[1].visible=!0,centralWinMsgGroups_[1].alpha=0,
centralWinMsgGroups_[2].visible=!0,centralWinMsgGroups_[2].alpha=0,centralWinMsgGroups_[3].visible=!0,centralWinMsgGroups_[3].alpha=0,tw_.push(TweenMax.fromTo(centralWinGroup_.bigGlow.last,.2,{y:displayManager.groups.centralWin.graphAsset.bigGlow.yS},{delay:.3,y:displayManager.groups.centralWin.graphAsset.bigGlow.yE,alpha:1})),tw_.push(TweenMax.fromTo(centralWinGroup_.bigMap.last,.3,{y:displayManager.groups.centralWin.graphAsset.bigMap.yS},{alpha:1,y:displayManager.groups.centralWin.graphAsset.bigMap.yE,ease:Back.easeOut,onComplete:playMap_})),tw_.push(TweenMax.fromTo(centralWinGroup_.candle.last,.2,{x:displayManager.groups.centralWin.graphAsset.candle.xS},{alpha:1,x:displayManager.groups.centralWin.graphAsset.candle.xE})),tw_.push(TweenMax.fromTo(centralWinGroup_.candle1.last,.2,{x:displayManager.groups.centralWin.graphAsset.candle1.xS},{alpha:1,x:displayManager.groups.centralWin.graphAsset.candle1.xE})),tw_.push(TweenMax.to(centralWinGroup_.candleA.last,.2,{alpha:1})),tw_.push(TweenMax.to(centralWinGroup_.candleA1.last,.2,{alpha:1})),tw2_.push(TweenMax.to(centralWinMsgGroups_[1],.4,{delay:.5,alpha:1,y:centralWinMsgPos_[1]})),centralWinGroup_.bigMap.last.animations.add("anim"),centralWinGroup_.bigMap.last.animations.play("anim",24,!1,!1),centralWinGroup_.candleA.last.animations.add("anim"),centralWinGroup_.candleA.last.animations.play("anim",24,!0,!1),centralWinGroup_.candleA1.last.animations.add("anim"),centralWinGroup_.candleA1.last.animations.play("anim",24,!0,!1),tw2=setInterval(checkVal,200)):bookChange_++,centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[5+stage_];time-=1e3;var numObj=(4==stage_?500:200)*stage_,interval=(time-2e3)/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function playMap_(){}function change_(s){if(1!=reset_){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[a]);for(a in tw2_)null!=tw2_[a]&&tw2_[a].kill();tw2_.push(TweenMax.to(centralWinMsgGroups_[s-1],.2,{alpha:0,y:-200})),tw2_.push(TweenMax.to(centralWinMsgGroups_[s],.4,{delay:.5,alpha:1,y:centralWinMsgPos_[s]})),3==s&&(centralWinGroup_.cannon.last.visible=!0,centralWinGroup_.cannon1.last.visible=!0,tw_.push(TweenMax.fromTo(centralWinGroup_.cannon.last,.2,{x:displayManager.groups.centralWin.graphAsset.cannon.xS},{alpha:1,x:displayManager.groups.centralWin.graphAsset.cannon.xE})),tw_.push(TweenMax.fromTo(centralWinGroup_.cannon1.last,.2,{x:displayManager.groups.centralWin.graphAsset.cannon1.xS},{alpha:1,x:displayManager.groups.centralWin.graphAsset.cannon1.xE})),tw_.push(TweenMax.to(centralWinGroup_.candleA.last,.1,{alpha:0})),tw_.push(TweenMax.to(centralWinGroup_.candleA1.last,.1,{alpha:0})),tw_.push(TweenMax.to(centralWinGroup_.candle.last,.1,{alpha:0})),tw_.push(TweenMax.to(centralWinGroup_.candle1.last,.1,{alpha:0})),centralWinGroup_.cannon.last.animations.add("anim"),centralWinGroup_.cannon.last.animations.play("anim",24,!1,!1),centralWinGroup_.cannon1.last.animations.add("anim"),centralWinGroup_.cannon1.last.animations.play("anim",24,!1,!1),soundManager_.playSound("cannonBoom")),bookChange_=0}}function checkVal(){bookChange_>0&&(this.visible=!1,this.alpha=!1,change_(stage_))}function startNewSmallObject_(){if(ReelConfig.newUI&&("portrait"==getOrientation()?centralFuntainGroupSmallObj_.y=window.innerHeight:centralFuntainGroupSmallObj_.y=0),Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.setOrigin(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scaleX=Util.getRandomInt(100,80)/100,ob.scaleY=ob.scaleX,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(ReelConfig.newUI&&("portrait"==getOrientation()?centralFuntainGroup_.y=window.innerHeight:centralFuntainGroup_.y=0),Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.setOrigin(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scaleX=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scaleY=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){}function writeText_(amt){ReelConfig.newUI?window.innerHeight>window.innerWidth?$("#footer-top-win").html(amt):$("#footer-bottom-message").html(amt):coinWinTxt_.setText(amt)}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,wins,winAmount_,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,fsType_,gameClass_=gameClass,game_=gameRef,partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,pop_=!1,stages_=[],stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],tw2_=[],tw1=null,tw2=0,tw3=0,to=0,scaleStart_=2.5,lineWinAmt_=0,objThrown_=[],bgStopped_=!1,reelSmb=[],tumbling_=!1,tumblingWin_=0,bSkip_=!1,winCash_=0,mult_=0,exploder_=!1,converter_=!1,ganesha_=!1,wild=!1,size_=[];size_[0]=0,size_[1]=0,size_[2]=280,size_[3]=187,size_[4]=140,size_[5]=112,size_[6]=93.3,size_[7]=80;var previousReels_,winAnim={winClasses_:[1,10,20,40,80,199,400,800,1200],winSound_:[1,2,3,3,4,5,6,7,8],winTxtDuration:[1,1,1,2,3,4,8,9,10],centralWinDur:[0,0,0,0,0,0,2,2.5,3],scaleFactor:[3,3,3,3,3,3.2,3.4,3.5,4],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,bookChange_=0,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){if(reset_)return 0;var index=findWinRange_(tumblingWin_),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index],additionalTime+totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_,resumeTumbling:resumeTumbling_,doOk:doOk_};return initClass_(),me}function MillionWayTumblingWinnings(gameRef,gameClass){function initClass_(){stages_[0]=winAnim.winClasses_[6],stages_[1]=winAnim.winClasses_[7],stages_[2]=winAnim.winClasses_[8],mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=[],centralWinMsgGroups_[2]=[],centralWinMsgGroups_[3]=[],centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.list[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.list[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.list[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.list[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.list[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.list[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManagerCheck,funtainEventManager_=new EventManager,"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin"))}function doOk_(){autoPlayManager_.getIsInAutoPlay()||freeSpinsManager_.getIsInFs()&&freeSpinsManager_.getFsNumber()>0?(gameClass_.setChange(!1),gameClass_.lineCompletion(!0),setTimeout(callDoSpin_,800)):(winEventManager_.clearEvt(),clearLineAfterValue_(),gameClass_.setChange(!1),gameClass_.lineCompletion(!0),reset_=!0,bCompleted_=!0)}function callDoSpin_(){gameClass_.logger("callDoSpin_"),gameClass_.doCutWinAnim()}function clearOverLine_(){}function clearLine_(){clearAll_()}function stopEvents_(){stage_=0,totalDuration_=0,tumblingWin_=0,funtainEventManager_.clearEvt()}function showBonusWin_(amt,amtCash){clearLine_(),reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?winAmtClass_.showIstantUpdateWin(amtCash):winAmtClass_.showIstantUpdateWin(amt),coinWinTxt_.y="portrait"==getOrientation()?360:(framework.isTouch(),400),coinWinTxt_.scale.x=3,coinWinTxt_.scale.y=3,1500}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function resumeTumbling_(json,fs){fs?(tumblingWin_=json.status.totalWin/100,freeSpinsManager_.updateWin(Number(json.status.unsettledTotal)/100)):(tumblingWin_=json.status.unsettledTotal/100,freeRoundsManager_.updateFrBalance(-1*tumblingWin_)),winAmtManager_.showIstantUpdateWin(tumblingWin_,"Tumble WIN")}function prepareWinnings_(winSmb){winAmount_=winManager_.getWinAmt(),lineWinAmt_=winManager_.getWinAmt(),wins=winManager_.getTumblingWinningSymbols(),mult_=spinManager_.getSpinResp().freeSpin.multiplier,fsType_=spinManager_.getSpinResp().freeSpin.type;var unsettledWin_=0;null!=spinManager_.getSpinResp().state&&null!=spinManager_.getSpinResp().state.totalWin&&(winCash_=spinManager_.getSpinResp().state.totalWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber())),unsettledWin_=null!=spinManager_.getSpinResp().state&&null!=spinManager_.getSpinResp().state.totalWin.unsettledTotal?spinManager_.getSpinResp().state.totalWin.unsettledTotal*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber()):winCash_;var w=void 0!=unsettledWin_?unsettledWin_:0;winCash_+=w-winCash_,coinWinTxt_.scale.x=scaleStart_,coinWinTxt_.scale.y=scaleStart_,pop_=!1,tumbling_=!1;for(var b=0;b<ReelConfig.numReels+getFSNum_();b++){var obj={};obj.index=[],obj.indexFallen=[],obj.newSmbs=[],obj.current=0,obj.tumbleObj=[],reelSmb[b]=obj}if("tumble"==fsType_||"convert"==fsType_){tumbling_="tumble"==fsType_,gameClass_.setChange(!0),gameClass_.setTumblingReq(!0);var force=[];if(null!=$(".debug")&&"Enable"==gameParams.force){if(1==ReelConfig.newComm)for(var j=0;j<ReelConfig.numReels+getFSNum_();j++){force[j]=[];for(var i=0;i<ReelConfig.numIcons;i++)force[j].push(document.getElementsByName("d"+j+i)[0].value);"7023"==gameParams.gameID&&(force[j].push("r"),force[j].push("r"))}else for(var j=0;j<ReelConfig.numIcons;j++){force[j]=[];for(var i=0;i<ReelConfig.numReels+getFSNum_();i++)force[j].push(document.getElementsByName("d"+i+j)[0].value)}void 0!=document.getElementsByName("sideFeature")&&force.push(document.getElementsByName("sideFeature")[0].value),communicationManager_.sendServleForceSpinReq("spin",force)}else communicationManager_.sendServletRequest("spin")}}function showLine_(){var index=0;bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),totalDuration_=0,resetCentralWin_(),index=findWinRange_(lineWinAmt_),exploder_=!1,converter_=!1,ganesha_=!1,bgStopped_=!0,wild=!1,winEventManager_.addEvent(fakeEvent,0,gameClass_.getTumblingReq),winEventManager_.addEvent(fakeEvent,10,spinManager_.getTumbleDone),tumbling_&&freeSpinsManager_.getIsInFs()&&void 0!=gameClass.getUpdateLockedReels&&1==gameClass.getUpdateLockedReels()&&winEventManager_.addEvent(fakeEvent,gameClass_.getCompulsivePlayer()?2200:2700);for(var a in wins)if(void 0!=wins[a]){winEventManager_.addEvent(amimIcon_,0,null,[wins[a]]);for(var b in wins[a].smbNum)(11==wins[a].smbNum[b]&&0==gameClass.hasWildActive(11)||12==wins[a].smbNum[b]&&0==gameClass.hasWildActive(12)||13==wins[a].smbNum[b]&&0==gameClass.hasWildActive(13))&&(wild=!0)}winEventManager_.addEvent(playIconWinningSounds_,0),winEventManager_.addEvent(gameClass_.triggerKey,0,null,[spinManager_.getSpinResp().status.keys]),tumbling_&&winEventManager_.addEvent(tumble_,1200),tumbling_&&winEventManager_.addEvent(fakeEvent,gameClass_.getCompulsivePlayer()?100:500),tumbling_&&winEventManager_.addEvent(restoreIcons,1e3),freeSpinsManager_.getIsInFs()&&void 0!=spinManager_.getFsResp()&&void 0!=spinManager_.getFsResp().won&&spinManager_.getFsResp().won>1&&winEventManager_.addEvent(fakeEvent,3e3),winEventManager_.addEvent(showCentralWin_,0,null,[fsType_,lineWinAmt_]),winEventManager_.addEvent(updateBalance_,300),freeSpinsManager_.getIsInFs()&&winEventManager_.addEvent(updateFreeSpinsMult,gameClass_.getCompulsivePlayer()?700:1e3),winEventManager_.triggerEvt()}function playIconWinningSounds_(){var iMaxSmb=0;for(var a in wins)if(void 0!=wins[a]){for(var num=10,def=0,b=wins[a].smbNum.length;b>=0;b--)wins[a].realSmbNum[b]>def&&(def=wins[a].realSmbNum[b]);num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb}soundManager_.playSound("smbWin_"+iMaxSmb)}function playWinningSounds_(amt){var audioLevel=[];audioLevel[1]=1,audioLevel[2]=1.4,audioLevel[3]=1.2,audioLevel[4]=1.1,audioLevel[5]=1,audioLevel[6]=1.2,audioLevel[7]=1.3,audioLevel[8]=1.4;gameClass_.setTotWin(amt);var index=findWinRange_(amt);soundManager_.playSound("winBg_"+winAnim.winSound_[index])}function showCentralWin_(params){if(1!=reset_){var lineWinAmt=(params[0],params[1]);if(tumblingWin_+=Number(lineWinAmt),1!=spinManager_.gotError()){1==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y="portrait"==getOrientation()?330:framework.isTouch()?640:650);var index=findWinRange_(lineWinAmt);if(index>4){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=lineWinAmt;0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}Number(spinManager_.getSpinResp().win.total)<=0?(bCompleted_=!0,lineWinAmt>0&&0==freeSpinsManager_.getFsWon()?0==freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(lineWinAmt,null,updateValue1_,completeValueLast_,0,null,3.5,.2):winAmtClass_.showWin(tumblingWin_,null,updateValue1_,completeValueLast_,tumblingWin_-lineWinAmt,null,3,.2):0==freeSpinsManager_.getFsWon()?delayedStartUpdate_(!0,tumblingWin_,0):(setTimeout(gameClass_.lineCompletion,100,!0),bCompleted_=!0,gameClass_.setTumblingReq(!1))):(winManager_.resetWinAmt(),lineWinAmt>0?0==freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(lineWinAmt,null,updateValue1_,completeValue_,0,null,3.5,.2):winAmtClass_.showWin(tumblingWin_,null,updateValue1_,completeValue_,tumblingWin_-lineWinAmt,null,3,.2):delayedStartUpdate_(!1,tumblingWin_,0)),freeRoundsManager_.getIsInFr()&&freeSpinsManager_.getFsWon()&&freeRoundsManager_.updateFrBalance(tumblingWin_)}}}function startCoinsSound_(){soundManager_.playSound("coins")}function updatePrize_(){}function idle_(force){}function amimIcon_(params){if(1!=spinManager_.gotError()){var winSmb_=params[0];setTimeout(soundPop,gameClass_.getCompulsivePlayer()?600:1300);for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a)}}function soundPop(){soundManager_.playSound("iconPop")}function updateBalance_(){gameClass_.setChange(!1),"endTumble"==fsType_&&1!=spinManager_.gotError()&&(updatePrize_(),setTimeout(gameClass_.lineCompletion,totalDuration_,!0),soundManager_.playSound("winAmountFall"))}function updateFreeSpinsMult(){var m=mult_;"x"+m!=displayManager_.getText("fsMultValueBig").text&&m>1&&(displayManager_.getText("fsMultValueBig").setText("x"+m),displayManager_.getText("fsMultValueBig").y=-200,displayManager_.getText("fsMultValueBig").alpha=1,soundManager_.playSound("multiplier"),displayManager_.getText("fsMultValue").mult=m,TweenMax.to(displayManager_.getText("fsMultValueBig"),.4,{y:450,ease:Bounce.easeOut,onComplete:bigMult_,onCompleteParams:[m]}),gameClass.startVibrate&&setTimeout(gameClass.startVibrate,300,.1,1,4)),bCompleted_=!0}function bigMult_(m){displayManager_.getText("fsMultValue").setText("x"+m),TweenMax.to(displayManager_.getText("fsMultValueBig"),.4,{delay:1.5,alpha:0}),5==m?soundManager_.playSound("multiplier_1"):10==m?soundManager_.playSound("multiplier_2"):m>15&&soundManager_.playSound("multiplier_3")}function delayedStartUpdate_(last,tumblingWin,win){if(0==freeSpinsManager_.getIsInFs(),soundManager_.playSound("winAmountFall"),last){winManager_.resetWinAmt(),1==balanceManager_.getShowIncredits()?winManager_.setWinAmountBonus(tumblingWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber())):winManager_.setWinAmountBonus(tumblingWin),balanceManager_.setCanUpdate(!0);var index=findWinRange_(tumblingWin);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=me.getTotalDuration(),amt=lineWinAmt_;if(0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),index>4){var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}setTimeout(gameClass_.lineCompletion,me.getTotalDuration(),!0),gameClass_.decreaseVolumeBG(me.getTotalDuration()+1e3)}else gameClass_.decreaseVolumeBG(),0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.setText(""),coinWinTxt_.y=displayManager.groups.centralLineWin.texts.lineWin.y),setTimeout(gameClass_.lineCompletion,100,!0);"1"==winAnim.bigWinText[index]&&changeCentralWinStage_(index-5,!1),playWinningSounds_(tumblingWin,!0);var additionalTime=0;totalDuration_=additionalTime+1e3*winAnim.winTxtDuration[index];var obj={};obj.val=0,freeSpinsManager_.getIsInFs()&&(1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal()))),1==balanceManager_.getShowIncredits()?coinWinTxt_.setText(Util.formatNumber(tumblingWin,Util.getNubersOfDecimal())):coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(tumblingWin,Util.getNubersOfDecimal())),0==reset_&&tw_.push(TweenMax.to(obj,winAnim.winTxtDuration[index]-1,{val:tumblingWin,onUpdate:updateValue_,onUpdateParams:[obj],onComplete:finalizeCentralWin_,onCompleteParams:[0],ease:Power0.easeOut})),winAmtManager_.showIstantUpdateWin(tumblingWin,"Total WIN"),1==reset_&&coinWinTxt_.setText("")}else 0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),bCompleted_=!0),winManager_.resetWinAmt(),bSkip_=!0,win>0&&winAmtManager_.showIstantUpdateWin(tumblingWin,"Tumble WIN")}function finalizeCentralWin_(tOut){gameClass_.logger("fcw"),tw3=setTimeout(gameClass_.increaseVolumeBG,Math.max(Math.min(1e3*tOut,8e3),3500)),setTimeout(resetCentralWin_,Math.max(Math.min(1e3*tOut,8e3),3500)),coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y="portrait"==getOrientation()?390:displayManager.groups.centralLineWin.texts.lineWin.y),coinWinTxt_.scale.x=scaleStart_,coinWinTxt_.scale.y=scaleStart_}function startUpdate(tumblingWin,win){var amt=200;to=setTimeout(delayedStartUpdate_,amt,!1,tumblingWin,win)}function startUpdateLast(tumblingWin){setTimeout(gameClass_.lineCompletion,100,!0);var amt=200;to=setTimeout(delayedStartUpdate_,amt,!0,tumblingWin,0),gameClass_.decreaseVolumeBG()}function restoreIcon_(par){par[0],par[1]}function delayedAnimation_(smb,a){if(1!=spinManager_.gotError()){var add=!1;spinManager_.getReels();if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;if(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,1==game.cache.checkImageKey("anim"+smb.smbNum[a])?smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+size_[getReelState_(smb.reel[a])][spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length]/2,"anim"+smb.smbNum[a]):smb.anim[a]=smb.simbolReference[a],1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.anim[a].reel=smb.reel[a],smb.anim[a].iconNum=smb.icon[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,5==smb.smbNum[a]||6==smb.smbNum[a]||7==smb.smbNum[a]||8==smb.smbNum[a]||9==smb.smbNum[a])){var F=iconAdjustment_(spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length,smb.anim[a],smb.smbNum[a],spinManager_.getFrameMW(smb.reel[a],smb.icon[a]));smb.anim[a].F=F}if(10==smb.smbNum[a]?(displayManager_.getGroup("wins").visible=!0,displayManager_.getGroup("wins").add(smb.anim[a])):spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),void 0!=F)spinManager_.getReelGroup(smb.reel[a]).add(F);else{var tile=spinManager_.getTileMW(smb.reel[a],smb.icon[a]);setTimeout(animateTile_,500,tile)}if(spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length>=5&&5!=smb.smbNum[a]&&6!=smb.smbNum[a]&&7!=smb.smbNum[a]&&8!=smb.smbNum[a]&&9!=smb.smbNum[a]){var ratio=size_[getReelState_(smb.reel[a])][spinManager_.getSpinReelResp().reel[smb.reel[a]].smb.length]/smb.anim[a].height+(10==smb.smbNum[a]?.15:.1);smb.anim[a].scale.x=Math.min(ratio,1),smb.anim[a].scale.y=Math.min(ratio,1)}spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),smb.anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?36:24,!1,!1,restoreIcon_,[smb,a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a],13!=smb.smbNum[a]&&smb.anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?36:24,!1,!1,restoreIcon_,[smb,a]);reelSmb[smb.reel[a]].tumbleObj.push(smb.anim[a]),smb.anim[a].alpha=1}}function animateTile_(tile){void 0!=tile&&(tile.anchor.set(.5,.5),tile.animations.add("anim"),tile.animations.play("anim",24,!1,!1,endTile_,tile))}function endTile_(tile){tile.visible=!1,tile.setFrame(0)}function iconAdjustment_(smbNum,image,icon,frame){var F=game_.add.sprite(frame.x,frame.y,"smbFrame_"+getReelState_(image.reel)+"_"+smbNum);if(F.scale.x=1,F.scale.y=1,F.anchor.set(.5,.5),image.cropEnabled=!0,5==icon&&smbNum>4)var mask_=new Phaser.Rectangle(0,40,F.width,F.height);else if(6==icon&&smbNum>4)var mask_=new Phaser.Rectangle(0,20,F.width,F.height);else if(7==icon&&smbNum>4)var mask_=new Phaser.Rectangle(0,40,F.width,F.height);else if(icon>=7&&smbNum>4)var mask_=new Phaser.Rectangle(0,20,F.width,F.height);else if(smbNum>3)var mask_=new Phaser.Rectangle(0,10,F.width,F.height);else var mask_=new Phaser.Rectangle(0,5,F.width,F.height);return image.crop(mask_),image.updateCrop(),F}function restoreIcons(){spinManager_.restoreIcons(previousReels_)}function tumble_(){if(1!=spinManager_.gotError()&&(previousReels_=spinManager_.getSpinReelResp().reel,gameClass_.successiveWinning(),1==tumbling_)){wildManager_.clearWild(0);var tumble=!1;for(var a in wins){if(void 0!=wins[a]){for(var s in wins[a].smbNum)wins[a].tumble[s]&&(reelSmb[wins[a].reel[s]].index.push(wins[a].icon[s]),reelSmb[wins[a].reel[s]].newSmbs=spinManager_.getSpinReelResp().reel[wins[a].reel[s]])}tumble=!0}for(var b=0;b<ReelConfig.numReels+getFSNum_();b++)spinManager_.tumble(b,reelSmb[b],previousReels_),void 0!=reelSmb[b]&&reelSmb[b].index.length>0;setTimeout(soundManager_.playSound,gameClass_.getCompulsivePlayer()?100:200,"tumble_0"),tumble&&null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,gameClass_.getCompulsivePlayer()?250:500,.12,1,2.5),setTimeout(gameClass_.setChange,200,!1)}}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(partialWinAmt_=0)}function clearAll_(){reset_=!0,stage_=0,resetCentralWin_()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(!0),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),writeText_(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut}):TweenMax.to(coinWinTxt_,.2,{alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,0,{y:"portrait"==getOrientation()?330:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}):TweenMax.to(coinWinTxt_,0,{alpha:1}),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function findWinRangeB_(amt){var number=winAnimB.winClasses_.length-1;for(var a in winAnimB.winClasses_)if(winAnimB.winClasses_[a]>=amt){number=Number(a-1);break}return Math.max(number,0)}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdate,onCompleteParams:[tumblingWin_,lineWinAmt_],ease:Bounce.easeOut}):setTimeout(startUpdate,1e3,tumblingWin_,lineWinAmt_)}function updateValue_(par){var amt=par.val;0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&0==reset_&&changeCentralWinStage_()}function updateValue1_(txt){}function completeValueLast_(){1==freeSpinsManager_.getIsInFs()&&void 0!=gameClass.getUpdateLockedReels&&1==gameClass.getUpdateLockedReels()?setTimeout(completeValueLast1_,2e3):completeValueLast1_()}function completeValueLast1_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut}):TweenMax.to(coinWinTxt_,1,{y:"portrait"==getOrientation()?330:framework.isTouch()?640:630,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut})}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!1;for(var a in stages_)Number(amtC)>=stages_[a]&&(time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amtC)],index=Number(a));if(index>=0){resetCentralWin_(!0),reset_=!1,currentSmb_=1,currentWinWeight_=amt,stage_=0,changeCentralWinStage_(),"portrait"==getOrientation()&&(displayManager_.getText("lineWin").y=410);var obj={};obj.val=0,tw_.push(TweenMax.to(obj,winAnim.winTxtDuration[index+6]-1+(winAnim.centralWinDur[index+6]-1),{val:Number(amt),onUpdate:updateValue_,onUpdateParams:[obj],onComplete:finalizeCentralWin_,onCompleteParams:[1e3*winAnim.winTxtDuration[index]+100*winAnim.centralWinDur[index]],ease:Power2.easeOut})),soundManager_.playSound("winBgS_"+(Number(stage_)+6)),gameClass_.decreaseVolumeBG(1e3*winAnimB.winTxtDuration[Number(stage_)+6])}else time=1500;return time}function updateBonusBalance_(amt,msg){var amtC=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),time=0,index=-1;reset_=!0,coinWinTxt_.setText(""),resetCentralWin_(),endCoins_();var index=findWinRange_(amt);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[index];if(index>4){var numObj=Math.min(Math.max(Math.ceil(amtC)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt(),coinWinTxt_.scale.x=3,coinWinTxt_.scale.y=3,TweenMax.to(coinWinTxt_,.4,{y:"portrait"==getOrientation()?330:490,alpha:1,ease:Sine.easeInOut}),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(amt,Util.getNubersOfDecimal())),setTimeout(finalizeCentralWin_,1e3*winAnim.winTxtDuration[index],!0,1e3*winAnim.centralWinDur[index])}}winAmtManager_.showIstantUpdateWin(amt,msg),bCompleted_=!0,soundManager_.playSound("winAmountFall")}function resetCentralWin_(now){stage_=0,totalDuration_=0,tw2>0&&clearInterval(tw2),tw3>0&&clearInterval(tw3),to>0&&clearInterval(to),tw1=null,tw2=0,tw3=0;for(a in tw_)null!=tw_[a]&&tw_[a].kill();1==now,removeCW_(),funtainEventManager_.clearEvt()}function removeCW_(a){centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);centralWinGroup_.bgmsg.list[0].visible=!1}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgBg.length-1;a++)centralWinMsgBg[a].alpha=0,centralWinMsgTxt[a].alpha=0,centralWinMsgTxt[a].scaleX=1,centralWinMsgTxt[a].scaleY=1}function changeCentralWinStage_(flip){if(1!=reset_){if(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,
centralWinGroup_.bgmsg.list[0].visible=!0,0==stage_)for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scale.x=1,centralWinMsgGroups_[a].scale.y=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);soundManager_.stopSound(winAnim.accuSnd),stage_++,1==stage_?(coinWinTxt_.y="portrait"==getOrientation()?400:560,centralWinGroup_.visible=!0,centralWinMsgGroups_[1].visible=!0,centralWinMsgGroups_[1].alpha=0,centralWinMsgGroups_[2].visible=!0,centralWinMsgGroups_[2].alpha=0,centralWinMsgGroups_[3].visible=!0,centralWinMsgGroups_[3].alpha=0,tw2_.push(TweenMax.to(centralWinMsgGroups_[1],.4,{delay:.5,alpha:1,y:centralWinMsgPos_[1],ease:"power1.in"})),tw2=setInterval(checkVal,200)):bookChange_++,centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[5+stage_];time-=1e3;var numObj=(4==stage_?500:200)*stage_,interval=(time-2e3)/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function change_(s){if(1!=reset_){for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scale.x=1,centralWinMsgGroups_[a].scale.y=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[a]);for(a in tw2_)null!=tw2_[a]&&tw2_[a].kill();tw2_.push(TweenMax.to(centralWinMsgGroups_[s-1],.3,{alpha:0})),tw2_.push(TweenMax.to(centralWinMsgGroups_[s-1].scale,.2,{x:.8,y:.8})),centralWinMsgGroups_[s].scale.x=.8,centralWinMsgGroups_[s].scale.y=.8,centralWinMsgGroups_[s].y=centralWinMsgPos_[s],centralWinMsgGroups_[s].alpha=1,tw2_.push(TweenMax.to(centralWinMsgGroups_[s].scale,.2,{x:1.2,y:1.2})),tw2_.push(TweenMax.to(centralWinMsgGroups_[s].scale,.2,{delay:.2,x:1,y:1})),bookChange_=0}}function checkVal(){bookChange_>0&&stage_>1&&(this.visible=!1,this.alpha=!1,change_(stage_))}function startNewSmallObject_(){if(ReelConfig.newUI&&("portrait"==getOrientation()?centralFuntainGroupSmallObj_.y=window.innerHeight:centralFuntainGroupSmallObj_.y=0),Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(ReelConfig.newUI&&("portrait"==getOrientation()?centralFuntainGroup_.y=window.innerHeight:centralFuntainGroup_.y=0),Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){}function writeText_(amt){ReelConfig.newUI?window.innerHeight>window.innerWidth?$("#footer-top-win").html(amt):$("#footer-bottom-message").html(amt):coinWinTxt_.setText(amt)}function getFSNum_(){return freeSpinsManager_.getIsInFs()?1:0}function getReelState_(i){return freeSpinsManager_.getIsInFs()&&3==i?6:5}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,wins,winAmount_,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,fsType_,gameClass_=gameClass,game_=gameRef,partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,pop_=!1,stages_=[],stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],tw2_=[],tw1=null,tw2=0,tw3=0,to=0,scaleStart_=2.5,lineWinAmt_=0,objThrown_=[],bgStopped_=!1,reelSmb=[],tumbling_=!1,tumblingWin_=0,bSkip_=!1,winCash_=0,mult_=0,exploder_=!1,converter_=!1,ganesha_=!1,wild=!1,size_=[];size_[5]=[],size_[6]=[],size_[5][0]=0,size_[5][1]=0,size_[5][2]=217,size_[5][3]=144,size_[5][4]=108,size_[5][5]=87,size_[5][6]=72,size_[5][7]=62,size_[5][8]=0,size_[5][9]=0,size_[6][0]=0,size_[6][1]=0,size_[6][2]=280,size_[6][3]=187,size_[6][4]=140,size_[6][5]=112,size_[6][6]=93,size_[6][7]=80,size_[6][8]=70,size_[6][9]=62;var previousReels_,winAnim={winClasses_:[1,10,20,40,80,199,400,800,1200],winSound_:[1,2,3,3,4,5,6,7,8],winTxtDuration:[1,1,1,2,3,4,5,6,7],centralWinDur:[0,0,0,0,0,0,2,2.5,3],scaleFactor:[3,3,3,3,3,3.2,3.4,3.5,4],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,bookChange_=0,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){if(reset_)return 0;var index=findWinRange_(tumblingWin_),additionalTime=0;return totalDuration_=1e3*winAnim.winTxtDuration[index],additionalTime+totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_,resumeTumbling:resumeTumbling_,doOk:doOk_};return initClass_(),me}function MoiraiTumblingWinnings(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=[],centralWinMsgGroups_[2]=[],centralWinMsgGroups_[3]=[];for(var i=0;i<3;i++)centralWinMsgGroups_[1][i]=displayManager_.getGroup("centralWin")["bigWin_"+i].children[0],centralWinMsgGroups_[2][i]=displayManager_.getGroup("centralWin")["sBigWin_"+i].children[0],centralWinMsgGroups_[3][i]=displayManager_.getGroup("centralWin")["mBigWin_"+i].children[0];centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin_0.children[0],centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin_0.children[0],centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin_0.children[0],centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManagerCheck,funtainEventManager_=new EventManager,"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin"))}function clearOverLine_(){}function clearLine_(){}function stopEvents_(){stage_=0,totalDuration_=0,tumblingWin_=0,funtainEventManager_.clearEvt()}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function resumeTumbling_(json,fs){fs?(tumblingWin_=json.status.totalWin/100,"freespins"==json.status.type?freeSpinsManager_.updateWin((Number(json.status.unsettledTotal)+Number(json.status.totalWin))/100):freeSpinsManager_.updateWin(Number(json.status.unsettledTotal)/100)):(tumblingWin_=json.status.unsettledTotal/100,winAmtManager_.showIstantUpdateWin(tumblingWin_,"Tumble WIN"))}function prepareWinnings_(winSmb){winAmount_=winManager_.getWinAmt(),lineWinAmt_=winManager_.getLineWinAmt(),wins=winManager_.getTumblingWinningSymbols(),winCash_=spinManager_.getSpinResp().freeSpin.totalWin/100,mult_=spinManager_.getSpinResp().freeSpin.multiplier,fsType_=spinManager_.getSpinResp().freeSpin.type,pop_=!1,tumbling_=!1;for(var b=0;b<ReelConfig.numReels;b++){var obj={};obj.index=[],obj.indexFallen=[],obj.newSmbs=[],obj.current=0,obj.tumbleObj=[],reelSmb[b]=obj}"tumble"!=fsType_&&"convert"!=fsType_||(tumbling_="tumble"==fsType_,gameClass_.setChange(!0),gameClass_.setTumblingReq(!0),communicationManager_.sendServletRequest("spin"))}function showLine_(){var index=0;if(bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),totalDuration_=0,resetCentralWin_(),index=findWinRange_(lineWinAmt_),exploder_=!1,converter_=!1,ganesha_=!1,bgStopped_=!0,winEventManager_.addEvent(gameClass_.successiveWinning,0),"tumble"!=fsType_&&"convert"!=fsType_||winEventManager_.addEvent(fakeEvent,0,gameClass_.getTumblingReq),1!=tumbling_){for(var a in wins)if(void 0!=wins[a])for(var b in wins[a].smbNum)8==wins[a].smbNum[b]&&(winEventManager_.addEvent(amimIconConvert_,0,null,[wins[a].smbNum[b],wins[a],b]),converter_=!0)}else for(var a in wins)if(void 0!=wins[a]){for(var b in wins[a].smbNum){if(7==wins[a].smbNum[b]){winEventManager_.addEvent(amimIconExploder_,0,null,[wins[a].smbNum[b],wins[a],b]),exploder_=!0;break}if(10==wins[a].smbNum[b]){winEventManager_.addEvent(amimIconGanesha_,0,null,[wins[a].smbNum[b],wins[a],b]),ganesha_=!0;break}}0==exploder_&&0==ganesha_&&winEventManager_.addEvent(amimIcon_,0,null,[wins[a]])}0==ganesha_&&winEventManager_.addEvent(tumble_,tumbling_&&0==exploder_&&0==ganesha_&&0==converter_?750:converter_?900:exploder_?1900:ganesha_?5e3:1800),(exploder_||converter_)&&winEventManager_.addEvent(fakeEvent,300),winEventManager_.addEvent(showCentralWin_,0,null,[fsType_,lineWinAmt_]),winEventManager_.addEvent(updateBalance_,300),winEventManager_.triggerEvt()}function playWinningSounds_(amt){var audioLevel=[];audioLevel[1]=1,audioLevel[2]=1.4,audioLevel[3]=1.2,audioLevel[4]=1.1,audioLevel[5]=1,audioLevel[6]=1.2,audioLevel[7]=1.3,audioLevel[8]=1.4;if(gameClass_.setTotWin(amt),"tumble"!=fsType_&&"convert"!=fsType_){var index=findWinRange_(amt);soundManager_.playSound("winBg_"+winAnim.winSound_[index])}}function showCentralWin_(params){var fsType=params[0],lineWinAmt=params[1];if(tumblingWin_+=Number(lineWinAmt),1!=spinManager_.gotError()){1==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y=644);var index=findWinRange_(lineWinAmt);if(index>=0){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=lineWinAmt;0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}"endTumble"==fsType?(freeSpinsManager_.getIsInFs()&&updateFreeSpinsTotWon_(),lineWinAmt>0&&0==freeSpinsManager_.getFsWon()?winAmtClass_.showWin(lineWinAmt,null,updateValue_,completeValueLast_,0,null,1.7,.2):0==freeSpinsManager_.getFsWon()?(delayedStartUpdate_(!0,tumblingWin_,0),gameClass_.decreaseVolumeBG()):(setTimeout(gameClass_.lineCompletion,100,!0),bCompleted_=!0)):(winManager_.resetWinAmt(),lineWinAmt>0?freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(tumblingWin_,null,updateValue_,completeValue_,tumblingWin_-lineWinAmt,null,1.7,.2):winAmtClass_.showWin(lineWinAmt,null,updateValue_,completeValue_,0,null,1.7,.2):delayedStartUpdate_(!1,tumblingWin_,0)),freeRoundsManager_.getIsInFr()&&freeSpinsManager_.getFsWon()&&freeRoundsManager_.updateFrBalance(tumblingWin_)}}function startCoinsSound_(){soundManager_.playSound("coins")}function updatePrize_(){}function idle_(force){}function amimIcon_(params){if(1!=spinManager_.gotError()){var winSmb_=params[0];soundManager_.playSound("iconPop");for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a)}}function amimIconExploder_(params){var smb=params[1],a=(params[0],params[2]),add=!1,special=(spinManager_.getReels(),smb.simbolReference[a].special);null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),soundManager_.playSound("exploder"),gameClass_.setMask(),setTimeout(delayedExplosion_,350,smb,a),add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),smb.anim[a].animations.play("anim",36,!1,!0,explodeIcons_,[smb,a]),smb.anim[a].alpha=1}function amimIconGanesha_(params){var smb=params[1],a=(params[0],params[2]),add=!1,special=(spinManager_.getReels(),smb.simbolReference[a].special);null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),soundManager_.playSound("ganesha"),add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),smb.anim[a].animations.play("anim",24,!1,!0,ganeshaIcons_,[smb,a,-1]),smb.anim[a].alpha=1}function amimIconConvert_(params){if(1!=spinManager_.gotError()){var smb=params[1],a=(params[0],params[2]),add=!1;spinManager_.getReels();gameClass_.setMask(),setTimeout(delayedExplosion_,350,smb,a);var special=smb.simbolReference[a].special;null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),soundManager_.playSound("converter"),add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),smb.anim[a].animations.play("anim",24,!1,!0,convertIcons_,[smb,a]),smb.anim[a].alpha=1}}function ganeshaIcons_(par){var smb=par[0],a=par[1],part=Number(par[2])+1;if(part<=1){smb.anim[a].visible=!1,smb.simbolReference[a].visible=!0;var gn=game_.add.sprite(640,320,"ganesha_"+part);gn.anchor.set(.5,.5),gn.animations.add("anim"),gn.scale.x=1,gn.scale.y=1,displayManager_.getGroup("reels").add(gn),gn.animations.play("anim",24,!1,!(part>=1),ganeshaIcons_,[smb,a,part]),gn.alpha=1,1==part&&explodeIconsGanesha_(par,this)}}function explodeIcons_(par){var smb=par[0];par[1];if(null!=smb&&void 0!=smb)for(var a in wins)for(var b in wins[a].smbNum)if(7!=wins[a].smbNum[b])soundManager_.playSound("iconPop"),delayedAnimation_(wins[a],b);else{soundManager_.playSound("iconWild");var icon=spinManager_.getReels()[wins[a].reel[b]].replaceIcon("upperIcon"+wins[a].icon[b],wins[a].realSmbNum[b]),gn=game_.add.sprite(icon.x,icon.y,"wildAnim");gn.anchor.set(.5,.5),gn.animations.add("anim"),gn.scale.x=1,gn.scale.y=1,displayManager_.getGroup("scatter").add(gn),gn.animations.play("anim",24,!1,!0),gn.alpha=1;var gn=game_.add.sprite(icon.x,icon.y,"wildAnim");gn.anchor.set(.5,.5),gn.animations.add("anim"),gn.scale.x=-1,gn.scale.y=1,displayManager_.getGroup("scatter").add(gn),gn.animations.play("anim",24,!1,!0),gn.alpha=1}}function explodeIconsGanesha_(par,gan){var smb=par[0];par[1];if(null!=smb&&void 0!=smb){soundManager_.playSound("iconPop");var reelOrder=[];for(var a in wins)for(var b in wins[a].smbNum)void 0==reelOrder[wins[a].reel[b]]&&(reelOrder[wins[a].reel[b]]=[]),reelOrder[wins[a].reel[b]].push([a,b]);animateGaneshaReel_(0,reelOrder,!1),animateGaneshaReel_(6,reelOrder,!1),setTimeout(animateGaneshaReel_,400,1,reelOrder,!1),setTimeout(animateGaneshaReel_,400,5,reelOrder,!1),setTimeout(animateGaneshaReel_,800,2,reelOrder,!1),setTimeout(animateGaneshaReel_,800,4,reelOrder,!1),setTimeout(animateGaneshaReel_,1200,3,reelOrder,!0,gan)}}function animateGaneshaReel_(reel,arr,last,gan){var x=ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX/2+ReelConfig.reel.deltaX*reel,y=16+5*ReelConfig.reel.deltaY,gn=game_.add.sprite(x,y,"ganeshaExplosion");gn.anchor.set(.5,.5),gn.animations.add("anim"),gn.scale.x=1,gn.scale.y=1,displayManager_.getGroup("scatter").add(gn),gn.animations.play("anim",24,!1,!0),gn.alpha=1,soundManager_.playSound("iconWild");for(var a in arr[reel])setTimeout(delayedAnimation_,1e3,wins[arr[reel][a][0]],arr[reel][a][1]);setTimeout(ganeshaTumble_,1700,reel,arr),last&&(gan.visible=!1,gan=null,setTimeout(endColorConversion_,2800))}function ganeshaTumble_(reel,arr){if(1!=spinManager_.gotError()){for(var a in arr[reel])wins[arr[reel][a][0]].tumble[arr[reel][a][1]]&&(reelSmb[wins[arr[reel][a][0]].reel[arr[reel][a][1]]].index.push(wins[arr[reel][a][0]].icon[arr[reel][a][1]]),reelSmb[wins[arr[reel][a][0]].reel[arr[reel][a][1]]].newSmbs=spinManager_.getSpinReelResp().reel[wins[arr[reel][a][0]].reel[arr[reel][a][1]]]);spinManager_.tumbleByReel(reel,reelSmb[reel]),null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,0,.15,1,4)}}function convertIcons_(par){if(1!=spinManager_.gotError()){var smb=par[0];par[1];setTimeout(endColorConversion_,1e3,!1);for(var a in wins)for(var b in wins[a].smbNum){var icon=spinManager_.getReels()[wins[a].reel[b]].getIcon(wins[a].icon[b]);TweenMax.to(icon,.1,{alpha:0,onComplete:endAlpha_,onCompleteParams:[wins[a].reel[b],wins[a].icon[b],wins[a].realSmbNum[b]]})}null!=smb&&void 0!=smb&&soundManager_.playSound("iconPop")}}function endColorConversion_(){bCompleted_=!0,gameClass_.setChange(!1)}function endAlpha_(reel,icon,smb){var icon=spinManager_.getReels()[reel].replaceIcon("upperIcon"+icon,smb);icon.alpha=0,TweenMax.to(icon,.2,{alpha:1}),TweenMax.to(icon.scale,.2,{x:1.2,y:1.2,onComplete:endAlpha1_,onCompleteParams:[icon]})}function endAlpha1_(icon){TweenMax.to(icon.scale,.2,{x:1,y:1})}function delayedExplosion_(smb,a){if(1==game.cache.checkImageKey("colorConv_"+smb.realSmbNum[a])){var wg=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"colorConv_"+smb.realSmbNum[a]);wg.scale.x=0,wg.scale.y=0,TweenMax.to(wg.scale,.7,{alpha:0,x:7,y:7,ease:Power1.easeOut,onComplete:endFirstWave_,onCompleteParams:[wg]}),wg.anchor.set(.5,.5),displayManager_.getGroup("reels").add(wg),null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,.7,.15,1,3)}}function endFirstWave_(wg){wg.alpha=1,wg.scale.x=0,wg.scale.y=0,TweenMax.to(wg.scale,1.2,{x:7,y:7,ease:Power1.easeOut,onComplete:fadeAway_,onCompleteParams:[wg]}),TweenMax.to(wg,.3,{delay:.2,alpha:0}),null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,.7,.15,1,3)}function updateBalance_(){"endTumble"==fsType_&&1!=spinManager_.gotError()&&(updatePrize_(),soundManager_.playSound("line1"))}function updateFreeSpinsTotWon_(){freeSpinsManager_.updateFreeSpinsData()}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),bCompleted_=!0}function delayedStartUpdate_(last,tumblingWin,win){if(0==freeSpinsManager_.getIsInFs()?(coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1})):TweenMax.to(coinWinTxt_,0,{alpha:1}),soundManager_.playSound("line"),last){coinWinTxt_.setText(""),coinWinTxt_.y=displayManager.groups.centralLineWin.texts.lineWin.y,winManager_.resetWinAmt(),winManager_.setWinAmountBonus(tumblingWin),balanceManager_.setCanUpdate(!0);var index=findWinRange_(tumblingWin);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=me.getTotalDuration(),amt=lineWinAmt_;0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt(),setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}else setTimeout(gameClass_.lineCompletion,100,!0);"1"==winAnim.bigWinText[index]&&changeCentralWinStage_(index-5,!1),playWinningSounds_(tumblingWin,!0);var additionalTime=1e3*winAnim.centralWinDur[index];totalDuration_=700+additionalTime+1e3*winAnim.winTxtDuration[index],setTimeout(finalizeComplete_,totalDuration_+2e3),gameClass_.fsEval(),0==freeSpinsManager_.getIsInFs()&&winAmtManager_.showIstantUpdateWin(tumblingWin,"Total WIN")}else winManager_.resetWinAmt(),bSkip_=!0,0==freeSpinsManager_.getIsInFs()&&win>0&&winAmtManager_.showIstantUpdateWin(tumblingWin,"Tumble WIN"),bCompleted_=!0}function finalizeComplete_(){bCompleted_=!0,gameClass_.increaseVolumeBG()}function startUpdate(tumblingWin,win){var amt=200;setTimeout(delayedStartUpdate_,amt,!1,tumblingWin,win)}function startUpdateLast(tumblingWin){var amt=200;setTimeout(delayedStartUpdate_,amt,!0,tumblingWin,0),gameClass_.decreaseVolumeBG()}function restoreIcon_(par){par[0],par[1]}function delayedAnimation_(smb,a){if(1!=spinManager_.gotError()){var add=!1;spinManager_.getReels();if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;if(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),9==smb.smbNum[a]&&soundManager_.playSound("iconWild"),1==game.cache.checkImageKey("winglow"+smb.smbNum[a])){var wg=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"winglow"+smb.smbNum[a]);wg.animations.add("anim"),wg.animations.play("anim",36,!1,!0),TweenMax.to(wg.scale,.3,{x:1.1,y:1.1,ease:Sine.easeOut}),wg.anchor.set(.5,.5),wg.scale.x=1,wg.scale.y=1,displayManager_.getGroup("winGlow").add(wg),TweenMax.to(smb.anim[a].scale,.3,{x:1.1,y:1.1,ease:Sine.easeOut,onComplete:popComplete_});var expl=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"shamrock-pop");expl.anchor.set(.5,.5),expl.animations.add("anim"),expl.scale.x=1,expl.scale.y=1,expl.animations.play("anim",36,!1,!0),displayManager_.getGroup("winGlow").add(expl)}smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];8==smb.smbNum[a]?smb.anim[a].animations.play("anim",36,!1,!0,convertIcons_,[smb,a]):smb.anim[a].animations.play("anim",36,!1,!1,restoreIcon_,[smb,a]),reelSmb[smb.reel[a]].tumbleObj.push(smb.anim[a]),smb.anim[a].alpha=1}}function popComplete_(){0==pop_&&setTimeout(soundManager_.playSound,300,"iconExplode_"+Math.min(Math.ceil(gameClass_.getCollected()/10),6)),pop_=!0}function fadeAway_(obj){gameClass_.unSetMask(),obj.visible=!1,displayManager_.getGroup("reels").remove(obj),displayManager_.getGroup("winGlow").remove(obj),obj=null}function tumble_(){if(1!=spinManager_.gotError()&&1==tumbling_){var tumble=!1;for(var a in wins){if(void 0!=wins[a]){for(var s in wins[a].smbNum)wins[a].tumble[s]&&(reelSmb[wins[a].reel[s]].index.push(wins[a].icon[s]),reelSmb[wins[a].reel[s]].newSmbs=spinManager_.getSpinReelResp().reel[wins[a].reel[s]])}tumble=!0}for(var b=0;b<ReelConfig.numReels;b++)spinManager_.tumble(b,reelSmb[b]);tumble&&null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,0,.15,1,4)}}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){}function clearAll_(){bSkip_=!1;for(var a in displayManager_.getGroup("winGlow").children)displayManager_.getGroup("winGlow").remove(displayManager_.getGroup("winGlow").children[a]);for(var a in displayManager_.getGroup("scatter").children)displayManager_.getGroup("scatter").remove(displayManager_.getGroup("scatter").children[a])}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");winManager_.getWinAmt();0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut}):TweenMax.to(coinWinTxt_,.2,{alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}):TweenMax.to(coinWinTxt_,0,{alpha:1}),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function findWinRangeB_(amt){var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:598,onComplete:startUpdate,onCompleteParams:[tumblingWin_,lineWinAmt_],ease:Bounce.easeOut}):bCompleted_=!0}function updateValue_(txt){coinWinTxt_.text.length>=12?coinWinTxt_._fontSize=40:coinWinTxt_.text.length>=10?coinWinTxt_._fontSize=45:coinWinTxt_.text.length>=6?coinWinTxt_._fontSize=50:coinWinTxt_._fontSize=65}function completeValueLast_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:598,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut}):(gameClass_.lineCompletion(!0),bCompleted_=!0)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1,index=findWinRange_(amt);return"1"==winAnim.bigWinText[index]?(resetCentralWin_(),reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(index-5,!0),soundManager_.playSound("winBgS_"+winAnim.winSound_[index]),time=1e3*winAnim.centralWinDur[index]+1500):time=1500,time}function resetCentralWin_(){bgStopped_&&(bgStopped_=!1),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)for(var i=0;i<3;i++)centralWinMsgGroups_[a][i].alpha=0,centralWinMsgGroups_[a][i].scale.x=1,centralWinMsgGroups_[a][i].scale.y=1}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)for(var i=0;i<3;i++)centralWinMsgGroups_[a][i].alpha=0,centralWinMsgGroups_[a][i].scale.x=1,centralWinMsgGroups_[a][i].scale.y=1}function changeCentralWinStage_(stage,bonus){if(1!=reset_){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],resetCentralWin_(),stage_=stage,centralWinGroup_.visible=!0,tw_=[],centralWinMsgGroups_[stage_][0]&&(centralWinMsgGroups_[stage_][0].visible=!0,centralWinMsgGroups_[stage_][0].alpha=1,centralWinMsgGroups_[stage_][0].animations.add("anim"),centralWinMsgGroups_[stage_][0].animations.play("anim",24,!1,!1,endAnimPart_,[stage,0]),tw_.push(TweenMax.to(centralWinMsgGroups_[stage_][0],.2,{y:centralWinMsgPos_[stage_],ease:Bounce.easeOut}))),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*(winAnim.centralWinDur[5+stage_]+winAnim.winTxtDuration[5+stage_]);setTimeout(lineCompletion_,time+1e3);var numObj=300*stage_,interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function lineCompletion_(){if(stage_>0&&null!=centralWinMsgGroups_[stage_][2]&&1==centralWinMsgGroups_[stage_][2].alpha){revAnimFrameSeq_=[];for(var b=1;b<=centralWinMsgGroups_[stage_][2].animations._outputFrames.length;b++)revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),centralWinMsgGroups_[stage_][2].animations.add("anim",revAnimFrameSeq_),centralWinMsgGroups_[stage_][2].animations.play("anim",24,!1,!1,endAnimPartRev_,[stage_,2])}else gameClass_.lineCompletion(!0)}function endAnimPart_(params){var stage_=params[0],part=Number(params[1]);part++,part<3&&(centralWinMsgGroups_[stage_][part-1].alpha=0,centralWinMsgGroups_[stage_][part].visible=!0,centralWinMsgGroups_[stage_][part].alpha=1,
centralWinMsgGroups_[stage_][part].animations.add("anim"),centralWinMsgGroups_[stage_][part].animations.play("anim",24,!1,!1,endAnimPart_,[stage_,part]))}function endAnimPartRev_(params){var stage_=params[0],part=Number(params[1]);if(part-=1,part>=0){revAnimFrameSeq_=[];for(var b=1;b<=centralWinMsgGroups_[stage_][part].animations._outputFrames.length;b++)revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),centralWinMsgGroups_[stage_][part+1].alpha=0,centralWinMsgGroups_[stage_][part].visible=!0,centralWinMsgGroups_[stage_][part].alpha=1,centralWinMsgGroups_[stage_][part].animations.add("anim",revAnimFrameSeq_),centralWinMsgGroups_[stage_][part].animations.play("anim",24,!1,!1,endAnimPartRev_,[stage_,part]),0==part&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_][0],.2,{y:-200,ease:Bounce.easeIn}))}else setTimeout(fadeCentralWin_,500)}function fadeCentralWin_(){stage_>0&&null!=centralWinMsgGroups_[stage_][0]&&(centralWinMsgGroups_[stage_][0].alpha=0),gameClass_.lineCompletion(!0),centralWinGroup_.visible=!1}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(!(stage_<=0)){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}}function startIdleCycle_(){}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,wins,winAmount_,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,fsType_,gameClass_=gameClass,game_=gameRef,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,pop_=!1,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],lineWinAmt_=0,objThrown_=[],bgStopped_=!1,reelSmb=[],tumbling_=!1,tumblingWin_=0,bSkip_=!1,winCash_=0,mult_=0,revAnimFrameSeq_=[],exploder_=!1,converter_=!1,ganesha_=!1,winAnim={winClasses_:[1,10,30,80,120,150,400,1e3,2e3],winSound_:[1,2,3,3,4,5,6,7,8],winTxtDuration:[.5,1,1.5,2,2.5,3,2,2.5,3],centralWinDur:[0,0,0,0,0,0,2,3,4],scaleFactor:[1.6,1.8,1.9,2,2.1,2.2,2.3,2.5,2.7],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var index=findWinRange_(tumblingWin_),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index],additionalTime+totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_,resumeTumbling:resumeTumbling_};return initClass_(),me}function NoLineJustice(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralFuntain"),winEventManager_=new EventManager,funtainEventManager_=new EventManager}function createCanvas_(){clearAll_(),objTwLine_=[]}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),resetCentralWin_(),clearAll_(),null!=winAmtClass_&&(winAmtClass_.forceToComplete(),winAmtClass_.clearAll())}function stopEvents_(){stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnim.winTxtDuration[findWinRange_(amt)];return reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2,"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),0==balanceManager_.getShowIncredits()?winAmtClass_.showWin(amtCash,null,null,null,0,null,stepInc_,time/1e3):winAmtClass_.showWin(amt,null,null,null,0,null,stepInc_,time/1e3),time}function handleBonusEndWinAnimation_(){logger("nh call5"),buttonManager_.applyState("NH"),buttonManager_.applyRestore()}function prepareWinnings_(winSmb){initLineParams(),coinsIconPoints_=[];for(var line in winSmb)container_[line]=[],void 0!=winSmb[line]&&calcSingleLinePoints_(winSmb[line].line,winSmb[line])}function calcSingleLinePoints_(line,winSmb){var pp,real,iconNum,smbW_=ReelConfig.icon.width,smbH_=ReelConfig.icon.height;coinsIconPoints_[line]=[];for(var a=0;a<linesToDraw_;a++){coinsIconPoints_[line][a]=[];for(var w in winSmb.pos)null!=winSmb.smbNum&&null!=winSmb.smbNum[w]&&(iconNum=winSmb.smbNum[w]),pp=new Phaser.Point(lineConfig.line.x_origin,0),0==w&&(real=new Phaser.Point(winSmb.pos[w].x+pp.x,winSmb.pos[w].y+smbH_/2+pp.y),coinsIconPoints_[line][a].push(real)),real=new Phaser.Point(winSmb.pos[w].x+smbW_/2,winSmb.pos[w].y+smbH_/2),coinsIconPoints_[line][a].push(real);for(var rest=Number(w)+1;rest<5;rest++){var smb=spinManager_.getReels()[rest].getPos(Number(lineConfig.line.lines[line].config[rest]));real=new Phaser.Point(smb.x+smbW_/2,smb.y+smbH_/2),coinsIconPoints_[line][a].push(real)}real=new Phaser.Point(real.x+88,real.y),coinsIconPoints_[line][a].push(real),real=new Phaser.Point(real.x+100,real.y),coinsIconPoints_[line][a].push(real)}}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(TweenMax.killChildTweensOf(objThrown_[a]),centralFuntainGroup_.remove(objThrown_[a]),objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var wins=winManager_.getAllWinsSmbWinNumAggregated();if(bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin"),winEventManager_.clearEvt(),step_=1,totStep=0,totalDuration_=0,resetCentralWin_(),soundManager_.playSound("bigWinBg"),wins.length>0&&changeAllHL_([[.35]]),0==freeSpinsManager_.getIsInFs()){for(var a=wins.length;a>=0;a--)if(void 0!=wins[a])for(var s in wins[a])if(wins[a][s].winAmount>0){totStep++,winEventManager_.addEvent(createCanvas_,100);var time_=Math.max(1e3*winAnim.winTxtDuration[Number(findWinRange_(wins[a][s].winAmount))],1e3*ReelConfig.smbMinAnimTime[wins[a][s].smbNum[0]])+lineConfig.line.duration;0==balanceManager_.getShowIncredits()?winEventManager_.addEvent(updatePrize_,0,[wins[a][s].winAmountCash,wins[a][s].lineSmbNum[0],time_/1e3]):winEventManager_.addEvent(updatePrize_,0,[wins[a][s].winAmount,wins[a][s].lineSmbNum[0],time_/1e3]);for(var b in wins[a][s].line)winEventManager_.addEvent(drawLine_,0,[wins[a][s].line[b],wins[a][s].lineSmbNum[b],wins[a][s],!1]);winEventManager_.addEvent(fake_,time_),totalDuration_+=time_}stepInc_=winAnim.scaleFactor[findWinRange_(winManager_.getWinAmt())]/totStep,winEventManager_.addEvent(triggerComplete_,100),winEventManager_.addEvent(updateBalance_,ReelConfig.delayAfterWinAmt),0!=ReelConfig.automaticIdleCycle&&winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle)}else{soundManager_.playSound("winBg"),stepInc_=2;for(var icon_=-1,a=wins.length;a>=0;a--)if(void 0!=wins[a])for(var s in wins[a])wins[a][s].winAmount>0&&(icon_=Math.max(icon_,wins[a][s].smbNum[0]),winEventManager_.addEvent(amimIcon_,0,wins[a][s]));winEventManager_.addEvent(playBiggerIconSound_,0,[icon_]),totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())];var sAmt=Number(void 0!=winManager_.getScatterWinAmt()[0]?winManager_.getScatterWinAmt()[0][12].amt:0);1==balanceManager_.getShowIncredits()&&(sAmt=sAmt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),winEventManager_.addEvent(updatePrize_,0,[Number(winManager_.getLineWinAmt())+sAmt,totalDuration_/1e3]),winEventManager_.addEvent(triggerComplete_,totalDuration_)}winEventManager_.triggerEvt()}function playBiggerIconSound_(iconN){soundManager_.playSound("smbWin_"+iconN)}function updatePrize_(params){var amt=params[0],smb=params[1],time=params[2];if(amt>0){var st=partialWinAmt_;partialWinAmt_+=Number(amt),step_+=stepInc_,1==freeSpinsManager_.getIsInFs()?winAmtClass_.showWin(amt,null,null,freeSpinsManager_.updateFreeSpinsTotWon,0,null,step_,time):winAmtClass_.showWin(partialWinAmt_,null,updatingValue_,completeValue_,st,null,step_,time)}currentWinWeight_=3*amt,stage_>0&&startFuntain_(),soundManager_.playSound("smbWin_"+smb)}function drawLine_(params){if(1!=stopEvent_){var line=params[0],smb=params[1],winSmb=params[2],justLine=params[3];currentSmb_=smb,container_[line]=[];var snd="reelitem"+winSmb.smbNum[0];soundManager_.playSound(snd),0==justLine&&amimIcon_(winSmb)}}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function idle_(force){if(1!=stopEvent_||1==force[0]){stopEvent_=!1;var index=0,wins=winManager_.getAllWinsSorted();if(0!=wins.length){winEventManager_.clearEvt(),coinWinTxt_.scale.x=1.2,coinWinTxt_.scale.y=1.2;for(var a in wins)void 0!=wins[a]&&wins[a].winAmount>0&&(winEventManager_.addEvent(changeAllHL_,200,[.45]),winEventManager_.addEvent(amimIconIdle_,0,wins[a]),winEventManager_.addEvent(clearAll_,ReelConfig.idleLineTime),index++);winEventManager_.addEvent(idle_,1e3,[force]),winEventManager_.triggerEvt()}}}function amimIconIdle_(winSmb_){0==balanceManager_.getShowIncredits()?displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmountCash,Util.getNubersOfDecimal())):displayManager_.getText("lineWin").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winSmb_.winAmount,Util.getNubersOfDecimal()));for(var b=0;b<winSmb_.reel.length;b++)0==wildManager_.getWildReel(winSmb_.reel[b])?hlSmb([spinManager_.getAnimationMap(winSmb_.reel[b],winSmb_.icon[b])]):wildManager_.wildReelWinAnim(winSmb_.reel[b])}function hlSmb(par){var a=par[0];null!=a&&(a.alpha=1,TweenMax.to(a.scale,.2,{x:1.2,y:1.2,onComplete:updateAfterWinScale_,onCompleteParams:[a]}))}function triggerComplete_(){logger("nh call6"),bCompleted_=!0}function updateBalance_(){logger(" line animation update balance event "),0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startUpdate,ease:Sine.easeInOut}):(TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),endCoins_(),clearAll_()),bCompleted_=!0}function startUpdate(){displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!0,displayManager_.getGroup("buttonFg").alpha=1),logger(" line animation update startUpdate "),coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(winManager_.getWinAmt(),"WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function updateAfterWinScale_(a){void 0!=a.scale&&TweenMax.to(a.scale,.2,{x:1,y:1})}function changeAllHL_(params){var reels=(params[0],spinManager_.getReels());for(var a in reels)for(var s=0;s<ReelConfig.numIcons;s++);var map=spinManager_.getAllMap();for(var a in map)if(null!=map[a])for(var b in map[a])null!=map[a][b]}function amimIcon_(smb){if(1!=stopEvent_){var index=0,wildReelAnim=[],wildReelSeq=[];for(var a in smb.smbNum)0==wildManager_.getWildReel(smb.reel[a])?1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&(index++,animation_(smb,a)):wildReelSeq.indexOf(smb.reel[a]<0)&&(wildReelAnim.push(index*lineConfig.line.pointToPointSpeed*1e3),wildReelSeq.push(smb.reel[a]));if(wildReelSeq.length>0)for(var a in wildReelSeq)stToClear_.push(setTimeout(delayedWildReelAnimation_,wildReelAnim[a],wildReelSeq[a]))}}function delayedWildReelAnimation_(reel){wildManager_.wildReelWinAnim(reel)}function animation_(smb,a){var add=!1;null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations?(add=!0,smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),smb.refer.anim[a]=smb.anim[a],smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].width=ReelConfig.icon.width,smb.anim[a].height=ReelConfig.icon.height,smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])):(smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a]),1==smb.anim[a].scale.x&&1==add&&TweenMax.to(smb.anim[a].scale,.3,{x:1.15,y:1.15,repeat:1,yoyo:!0,onComplete:backScale_,onCompleteParams:[smb.anim[a]]}),1!=add&&1!=lineConfig.line.multipleAnimation[smb.smbNum[a]]||smb.anim[a].animations.play("anim",24,!1,!1)}function backScale_(smb){TweenMax.to(smb.scale,.5,{x:1,y:1})}function initLineParams(){for(tickRatio_=lineConfig.line.tickBase,lineTweenTime_PointToPoint_=lineConfig.line.pointToPointSpeed,linesToDraw_=lineConfig.line.linesNumber,lineFadeTime_=1.2,txtFadeTime_=1.2,oldIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],objTwAmt_=[],myLineTick_=[],revert=!1,ct=0,a=0;a<linesToDraw_;a++)coinsIconPoints_[a]=[],coinsIconPoints_[a]=[],iconSmb_[a]=[],myLineTick_[a]=tickRatio_}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:Util.getRandomInt(0,90),x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function clearAll_(){for(var line in container_)for(var a=0;a<container_[line].length;a++)container_[line][a].clear(),container_[line][a].destroy(),null!=container_[line][a]&&(mainGroup_.remove(container_[line][a]),container_[line][a]=null);for(var a in mainGroup_.children)mainGroup_.remove(mainGroup_.children[a]);container_=[],clearTrow_()}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),winEventManager_.clearEvt(),clearAll_(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();endCoins_(),coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),logger(" try to complete upate balance "+!bCompleted_),0==bCompleted_&&TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){logger(" startForceUpdate "),coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function findWinRange_(amt){for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt)return Number(a);return 0}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){}function updatingValue_(amt){0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),Util.getNumericValue(amt)>stages_[stage_]&&""!=displayManager_.getText("lineWin").text&&0==reset_&&changeCentralWinStage_()}function resetCentralWin_(){soundManager_.getSound("bigWinBg")&&soundManager_.getSound("bigWinBg").fadeOutBgSound(500),funtainEventManager_.clearEvt(),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200}function changeCentralWinStage_(){1!=reset_&&(displayManager_.getGroup("centralWin").visible=!0,centralWinGroup_.visible=!0,null!=centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{alpha:0,y:-200,ease:Bounce.easeIn}),stage_++,centralWinMsgGroups_[stage_].visible=!0,startFuntain_(),centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.05,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onStart:animCentralSound_,onComplete:animCentralStage_}))}function animCentralSound_(){soundManager_.playSound("winEffect_"+stage_)}function animCentralStage_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_})}function animCentralStage1_(){centralWinMsgGroups_[stage_]&&TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut})}function startFuntain_(){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())],numObj=Math.min(Math.round(20*currentWinWeight_),displayManager.groups.centralWin.maxObjNum),interval=time/numObj;if(1==game_.cache.checkImageKey("gemPart"+currentSmb_))for(a=0;a<=numObj;a++)funtainEventManager_.addEvent(startNewObject_,interval);funtainEventManager_.triggerEvt()}function startNewObject_(){var ob=game_.add.sprite(640,740,"gemPart"+currentSmb_);ob.anchor.set(.5,.5),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(80,125)/100,ob.scale.y=Util.getRandomInt(80,125)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function clearTrow_(){for(a in objThrown_)null!=objThrown_[a]&&objThrown_[a].y>750&&(TweenMax.killChildTweensOf(objThrown_[a]),centralFuntainGroup_.remove(objThrown_[a]),objThrown_[a].destroy(),objThrown_[a]=null)}function fake_(){}function startIdleCycle_(){winEventManager_.addEvent(idle_,ReelConfig.delayBeforeIdle),winEventManager_.triggerEvt()}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){displayManager_.getGroup("buttonFg")&&(displayManager_.getGroup("buttonFg").visible=!0,displayManager_.getGroup("buttonFg").alpha=1),coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function showBonusCentralWinGreetings_(amt){var time=0,index=-1;for(var a in stages_)Number(amt)>=stages_[a]&&(time=1e3*winAnim.winTxtDuration[findWinRange_(amt)],index=a);return index>=0?(resetCentralWin_(),stage_=index,reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(1)):time=1500,time}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,centralFuntainGroup_,currentSmb_,currentWinWeight_,stepInc_,gameClass_=gameClass,game_=gameRef,oldIconPoints_=[],coinsIconPoints_=[],iconSmb_=[],objTwAmt_=[],myLineTick_=[],linesToDraw_=1,partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,container_=[],objTwLine_=[],bCompleted_=!0,stopEvent_=!1,stages_=displayManager.groups.centralWin.thresHolds,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,objThrown_=[],stToClear_=[],step_=0,winAnim={winClasses_:[1,2,5,10,20,50,200,500,1e3,99999e3],winTxtDuration:[.5,.7,.8,1,1.5,2,3,4,5,6],scaleFactor:[1.1,1.15,1.2,1.5,1.7,1.8,2,2.2,2.3,2.5],winTxtColors:["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","ffffff","#ffffff","#ffffff"],winSndEffect:["","","","","","","","","",""],accuSnd:"",accuSnd:""},me={prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,startIdleCycle:startIdleCycle_,showBonusWin:showBonusWin_,completeBonusValue:completeBonusValue_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,stopBigWinAnimation:stopBigWinAnimation_,getTotalDuration:function(){var wins=winManager_.getAllWinsSortedByAmt(),amt=winManager_.getWinAmt();if(0==balanceManager_.getShowIncredits()&&(amt=Util.getNumericValue(amt)/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),totalDuration_=0,0==freeSpinsManager_.getIsInFs()){for(var a in wins)if(void 0!=wins[a]&&wins[a].winAmount>0){var time_=Math.max(1e3*winAnim.winTxtDuration[findWinRange_(wins[a].winAmount)],1e3*ReelConfig.smbMinAnimTime[wins[a].smbNum[0]]);totalDuration_+=time_}amt>=stages_[1]&&(totalDuration_=1.1*totalDuration_),amt>=stages_[2]&&(totalDuration_=1.2*totalDuration_)}else totalDuration_=1e3*winAnim.winTxtDuration[findWinRange_(winManager_.getLineWinAmt())]+Number(ReelConfig.delayAfterWinAmt);return totalDuration_}};return initClass_(),me}function HighLight(gameRef,gameClass){function initClass_(){animGroup_=displayManager_.getGroup("wins"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),winEventManager_=new EventManager}function intSubstArra_(){substArr=[];for(var r=0;r<ReelConfig.numReels;r++){substArr[r]=[];for(var i=0;i<ReelConfig.numIcons;i++)substArr[r][i]=null}}function prepareWinnings_(winSmb){bCompleted=!1,winEventManager_.clearEvt(),winSmb_=winSmb,intSubstArra_(),changeAllHL_(.6),lineWinAmtManager_.prepareWinnings();for(var line in winSmb_)if(void 0!=winSmb_[line])for(var b in winSmb_[line].simbolReference)hlSmb([line,b])}function clearLine_(){var reels=spinManager_.getReels();if(lineWinAmtManager_.clear(),clearInterval(iRecursive),winEventManager_.clearEvt(),null!=winSmb_)for(var r=0;r<ReelConfig.numReels;r++)for(var i=1;i<=ReelConfig.numIcons;i++)null!=substArr[r][i]&&(animGroup_.remove(substArr[r][i],!0),substArr[r][i]=null,reels[r].getSymbol(i).visible=!0);winSmb_=null,changeAllHL_(1),buttonHlOff_(),bCompleted=!0}function changeAllHL_(alpha){var reels=spinManager_.getReels();for(var a in reels)for(var s=1;s<=3;s++)reels[a].getSymbol(s).alpha=alpha}function showLine_(){lineWinAmtManager_.showLine(),changeAllHL_(.6);for(var line in winSmb_)if(void 0!=winSmb_[line]){hlButton_(line);for(var b in winSmb_[line].simbolReference)hlSmb([line,b])}iRecursive=setTimeout(showEachLine_,1500,[!0])}function showEachLine_(param){var first=param[0];bCompleted=!0;lineWinAmtManager_.clearBetweenLine(),winEventManager_.clearEvt();for(var line in winSmb_)if(winEventManager_.addEvent(changeAllHL_,70,[.6]),winEventManager_.addEvent(buttonHlOff_,0),void 0!=winSmb_[line]){winEventManager_.addEvent(hlButton_,0,line);for(var b in winSmb_[line].simbolReference)winEventManager_.addEvent(hlSmb,iconsInterval_,[line,b]);winEventManager_.addEvent(showAmtWin,0,[line,winSmb_[line],first]),winEventManager_.addEvent(restCoins_,1500,[line])}winEventManager_.addEvent(showEachLine_,600,[!1]),winEventManager_.triggerEvt()}function showAmtWin(par){lineWinAmtManager_.showWins(par)}function hlSmb(par){if(!over){var line=par[0],a=par[1];winSmb_[line].simbolReference[a].alpha=1,1==game.cache.checkImageKey("anim"+winSmb_[line].smbNum[a])&&(null==substArr[winSmb_[line].reel[a]][winSmb_[line].icon[a]]&&(substArr[winSmb_[line].reel[a]][winSmb_[line].icon[a]]=game_.add.sprite(winSmb_[line].pos[a].x,winSmb_[line].pos[a].y,"anim"+winSmb_[line].smbNum[a]),substArr[winSmb_[line].reel[a]][winSmb_[line].icon[a]].animations.add("anim"),substArr[winSmb_[line].reel[a]][winSmb_[line].icon[a]].width=ReelConfig.icon.width,substArr[winSmb_[line].reel[a]][winSmb_[line].icon[a]].height=ReelConfig.icon.height,animGroup_.add(substArr[winSmb_[line].reel[a]][winSmb_[line].icon[a]])),lineWinAmtManager_.moveWinAmountPosition([winSmb_[line].pos[a].x,winSmb_[line].pos[a].y,winSmb_[line].smbNum[a]]),substArr[winSmb_[line].reel[a]][winSmb_[line].icon[a]].animations.play("anim",24,!1,!0,restoreIcon_,[line,a]),winSmb_[line].simbolReference[a].visible=!1)}}function restoreIcon_(par){winSmb_[par[0]].simbolReference[par[1]].visible=!0,winSmb_[par[0]].simbolReference[par[1]].alpha=1,substArr[winSmb_[par[0]].reel[par[1]]][winSmb_[par[0]].icon[par[1]]]=null}function hlButton_(line){if(!over){var btn=gameClass_.getLineButton(line);for(a in btn)void 0!=btn[a]&&(btn[a].getButton().tint=6481173,btn[a].getButton().children[0].fill="#ffffff")}}function buttonHlOff_(line){if(!over){var btn=gameClass_.getLineButtons();for(a in btn)for(var b in btn[a])void 0!=btn[a]&&void 0!=btn[a][b]&&(btn[a][b].getButton().tint=16777215,btn[a][b].getButton().children[0].fill=displayManager.groups.buttons["line"+b].text.fill)}}function clearOverLine_(){var reels=spinManager_.getReels();if(lineWinAmtManager_.clear(),clearInterval(iRecursive),winEventManager_.clearEvt(),null!=winSmb_)for(var r=0;r<ReelConfig.numReels;r++)for(var i=1;i<=ReelConfig.numIcons;i++)null!=substArr[r][i]&&(animGroup_.remove(substArr[r][i],!0),substArr[r][i]=null,reels[r].getSymbol(i).visible=!0);changeAllHL_(1),over=!1,showEachLine_([!0]),buttonHlOff_()}function showStaticLine_(line,smb){lineWinAmtManager_.clear(),winEventManager_.clearEvt();var reels=spinManager_.getReels(),index=0;changeAllHL_(.3),hlButton_(line);for(var s in lineConfig.line.lines[line].smb)reels[index].getSymbol(Number(lineConfig.line.lines[line].smb[s])+1).alpha=1,index++;null!=winSmb_&&null!=winSmb_[line]&&showAmtWin([line,winSmb_[line].winAmount]),over=!0}function clearLineAfterValue_(){clearLine_()}function getInterruptedWinAnim_(){return!bCompleted}function restCoins_(par){lineWinAmtManager_.clearBetweenLine()}var animGroup_,coinWinGroup_,coinWinTxt_,winEventManager_,winSmb_,iRecursive,gameClass_=gameClass,game_=gameRef,iconsInterval_=100,bCompleted=!0,over=!1,substArr=[],me={prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearOverLine:clearOverLine_,showLine:showLine_,showStaticLine:showStaticLine_,clearLineAfterValue:clearLineAfterValue_,buttonHlOff:buttonHlOff_,getInterruptedWinAnim:getInterruptedWinAnim_};return initClass_(),me}function TumblingWinnings(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManagerCheck,funtainEventManager_=new EventManager;for(var a in displayManager.groups.centralWin.buttons){var buttonE=new Phaser.Button(game_,displayManager.groups.centralWin.buttons[a].x,displayManager.groups.centralWin.buttons[a].y,displayManager.groups.centralWin.buttons[a].name,me[displayManager.groups.centralWin.buttons[a].evt],this,1,2,0,0);buttonE.alpha=0,buttonE.anchor.set(.5,.5),centralWinGroup_.add(buttonE)}}function doOk_(){winEventManager_.clearEvt(),clearLineAfterValue_(),gameClass_.setChange(!1),reset_=!0,(autoPlayManager_.getIsInAutoPlay()||freeSpinsManager_.getIsInFs()&&freeSpinsManager_.getFsNumber()>0)&&(gameClass.clearPrevEvt(),setTimeout(gameClass_.realDoSpin,1e3))}function clearOverLine_(){winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),clearAll_()}function clearLine_(){stopEvent_=!0,winEventManager_.clearEvt(),displayManager_.getText("lineWin").setText(""),stopIncSound_(),resetCentralWin_(),clearAll_(),changeAllHL_([[1]]),null!=winAmtClass_&&winAmtClass_.forceToComplete()}function stopEvents_(){tumblingWin_=0,stopEvent_=!0;for(var a in stToClear_)clearTimeout(stToClear_[a])}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function prepareWinnings_(winSmb){winAmount_=winManager_.getWinAmt(),wins=winManager_.getTumblingWinningSymbols(),
tumbling_=!1;for(var b=0;b<ReelConfig.numReels;b++){var obj={};obj.index=[],obj.indexFallen=[],obj.newSmbs=[],obj.current=0,obj.tumbleObj=[],reelSmb[b]=obj}if(winCash_=spinManager_.getSpinResp().freeSpin.totalWin/100,mult_=spinManager_.getSpinResp().freeSpin.multiplier,"tumble"==freeSpinsManager_.getType()){tumbling_=!0,gameClass_.setChange(!0),gameClass_.setTumblingReq(!0);var force=[];if(null!=$(".debug")&&"Enable"==gameParams.force){for(var j=0;j<ReelConfig.numIcons;j++){force[j]=[];for(var i=0;i<ReelConfig.numReels;i++)force[j].push(document.getElementsByName("d"+i+j)[0].value)}void 0!=document.getElementsByName("sideFeature")&&force.push(document.getElementsByName("sideFeature")[0].value),communicationManager_.sendServleForceSpinReq("spin",force)}else communicationManager_.sendServletRequest("spin")}}function showLine_(){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[];var index=0;bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin")),winEventManager_.clearEvt(),totalDuration_=0,resetCentralWin_(),index=findWinRange_(winManager_.getLineWinAmt()),bgStopped_=!0,winEventManager_.addEvent(fakeEvent,30,gameClass_.getTumblingReq);for(var a in wins)void 0!=wins[a]&&winEventManager_.addEvent(amimIcon_,0,null,[wins[a]]);winEventManager_.addEvent(playIconWinningSounds_,0),winEventManager_.addEvent(gameClass_.successiveWinning,0),winEventManager_.addEvent(tumble_,"7017"==gameParams.gameID?1700:1200),winEventManager_.addEvent(playWinningSounds_,0),winEventManager_.addEvent(showCentralWin_,0==freeSpinsManager_.getIsInFs()?1e3:0,null,[index]),winEventManager_.addEvent(updateBalance_,100),winEventManager_.triggerEvt()}function playIconWinningSounds_(){if(0!=freeSpinsManager_.getIsInFs()){var iMaxSmb=0;for(var a in wins)if(void 0!=wins[a]){for(var num=10,def=10,b=wins[a].smbNum.length;b>=0;b--)if(wins[a].realSmbNum[b]<num&&wins[a].realSmbNum[b]<10){def=wins[a].realSmbNum[b];break}num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb}soundManager_.playSound("smbWin_"+iMaxSmb)}}function playWinningSounds_(){var audioLevel=[];if(audioLevel[1]=1,audioLevel[2]=1.4,audioLevel[3]=1.2,audioLevel[4]=1.1,audioLevel[5]=1,audioLevel[6]=1.2,audioLevel[7]=1.3,audioLevel[8]=1.4,!(1==freeSpinsManager_.getIsInFs()||spinManager_.getFsResp().won>1)){if(tumblingWin_+=winManager_.getLineWinAmt(),gameClass_.setTotWin(tumblingWin_),0==freeSpinsManager_.getIsInFs())if("tumble"!=freeSpinsManager_.getType()){var index=findWinRange_(tumblingWin_);if(index>5){for(var a=1;a<=8;a++)null!=soundManager_.getBGSound("bgSlot"+a)&&soundManager_.getBGSound("bgSlot"+a).fadeOutBgSoundExternal(500,audioLevel[a]-.8);soundManager_.playSound("winBg_"+winAnim.winSound_[index])}}else index=findWinRange_(winManager_.getLineWinAmt())}}function showCentralWin_(params){if(1!=spinManager_.gotError()){if(balanceManager_.setCanUpdate(!1),1==freeSpinsManager_.getIsInFs())updateFreeSpinsTotWon_();else var index=findWinRange_(tumblingWin_);if(index>3){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=winManager_.getLineWinAmt();0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.min(Math.max(Math.ceil(amt)/3,10),50),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}"tumble"==freeSpinsManager_.getType()?winAmtClass_.showWin(winManager_.getLineWinAmt(),null,null,null,0,null,1.7,1):("7017"==gameParams.gameID&&setTimeout(sendComplete_,1e3),winAmtClass_.showWin(winManager_.getLineWinAmt(),null,null,null,0,null,1.7,1.5),0==freeSpinsManager_.getIsInFs()&&spinManager_.getFsResp().won<=0&&"1"==winAnim.bigWinText[index]&&stToClear_.push(setTimeout(changeCentralWinStage_,2e3,index-5,!1))),winManager_.resetWinAmt()}}function sendComplete_(){bCompleted_=!0}function startCoinsSound_(){soundManager_.playSound("coins")}function updatePrize_(){}function idle_(force){}function amimIcon_(params){if(1!=spinManager_.gotError()){var winSmb_=params[0];"7017"==gameParams.gameID&&soundManager_.playSound("iConLight");for(var a in winSmb_.smbNum)"7017"==gameParams.gameID?(startFirstAnim_(winSmb_,a),setTimeout(delayedAnimation_,800,winSmb_,a)):delayedAnimation_(winSmb_,a)}}function startFirstAnim_(smb,a){if(1!=spinManager_.gotError()){var wg=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"winglow");wg.animations.add("anim"),wg.animations.play("anim",32,!1,!1),wg.anchor.set(.5,.5),wg.scale.x=1,wg.scale.y=1,displayManager_.getGroup("winGlow").add(wg),glows_[a]=wg}}function updateBalance_(){1!=spinManager_.gotError()&&(updatePrize_(),soundManager_.playSound("line1"),0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?TweenMax.to(coinWinTxt_,1,{y:608,alpha:1,onComplete:startUpdate,ease:Bounce.easeOut}):(clearAll_(),bCompleted_=!0))}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),freeSpinsManager_.updateFreeSpinsMult(mult_)}function updateBonusBalance_(amt,msg){reset_=!0,TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("line"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),clearAll_(),bCompleted_=!0}function delayedStartUpdate_(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),soundManager_.playSound("line"),"tumble"!=freeSpinsManager_.getType()?(winManager_.resetWinAmt(),winManager_.setWinAmountBonus(tumblingWin_),balanceManager_.setCanUpdate(!0),winAmtManager_.showIstantUpdateWin(tumblingWin_,"Total WIN"),soundManager_.stopSound("smbWin_13")):winAmtManager_.showIstantUpdateWin(tumblingWin_,"Tumble WIN"),endCoins_(),clearAll_(),bCompleted_=!0}function startUpdate(){setTimeout(delayedStartUpdate_,1e3)}function changeAllHL_(params){}function restoreIcon_(par){var smb=par[0],a=par[1];if(void 0!=glows_[a]&&fadeAway_(glows_[a]),null!=smb&&void 0!=smb){var expl=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"shamrock-pop");expl.anchor.set(.5,.5),expl.animations.add("anim"),expl.scale.x=1,expl.scale.y=1,expl.animations.play("anim",24,!1,!0),displayManager_.getGroup("winGlow").add(expl),soundManager_.playSound("shamrockPop")}}function delayedAnimation_(smb,a){if(1!=spinManager_.gotError()){var add=!1,reels=spinManager_.getReels();if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;if(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,"7017"!=gameParams.gameID){if(12==smb.smbNum[a])smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+(Number(14)+Number(smb.icon[a])).toString()),reels[smb.reel[a]].getSymbol(smb.icon[a]).visible=!1;else{smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]);var wg=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"winglow");wg.animations.add("anim"),wg.animations.play("anim",24,!1,!0),TweenMax.to(wg.scale,.3,{x:1.1,y:1.1,ease:Sine.easeOut}),wg.anchor.set(.5,.5),wg.scale.x=1,wg.scale.y=1,displayManager_.getGroup("winGlow").add(wg),glows_[a]=wg,TweenMax.to(smb.anim[a].scale,.3,{x:1.1,y:1.1,ease:Sine.easeOut,onComplete:popComplete_})}smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a])}else glows_[a].visible=!1,displayManager_.getGroup("winGlow").remove(glows_[a]),glows_[a]=null,12==smb.smbNum[a]?(smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+(Number(14)+Number(smb.icon[a])).toString()),reels[smb.reel[a]].getSymbol(smb.icon[a]).visible=!1,smb.anim[a].scale.x=2,smb.anim[a].scale.y=2):(smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]),setTimeout(popComplete_,100),smb.anim[a].scale.x=2,smb.anim[a].scale.y=2),displayManager_.getGroup("cracking").add(smb.anim[a]);smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a];12==smb.smbNum[a]?smb.anim[a].animations.play("anim",24,!1,!0,restoreIcon_,[smb,a]):smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[smb,a]),reelSmb[smb.reel[a]].tumbleObj.push(smb.anim[a]),smb.anim[a].alpha=1}}function popComplete_(){freeSpinsManager_.getIsInFs()?soundManager_.playSound("iconPopFs"):soundManager_.playSound("iconPop")}function fadeAway_(obj){obj.visible=!1,displayManager_.getGroup("winGlow").remove(obj),obj=null}function tumble_(){var tumble=!1;if(1!=spinManager_.gotError()){for(var a in wins)if(void 0!=wins[a]){for(var s in wins[a].smbNum)reelSmb[wins[a].reel[s]].index.push(wins[a].icon[s]),reelSmb[wins[a].reel[s]].newSmbs=spinManager_.getSpinReelResp().reel[wins[a].reel[s]]}for(var b=0;b<ReelConfig.numReels;b++)spinManager_.tumble(b,reelSmb[b]),tumble=!0;tumble&&"7017"==gameParams.gameID&&null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,450,.12,1,1.5)}}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){clearInterval(iEndTimO),null!=winAmtClass_&&(winAmtClass_.clearAll(),winAmtClass_=null,partialWinAmt_=0)}function clearAll_(){glows_=[];for(var a in displayManager_.getGroup("winGlow").children)displayManager_.getGroup("winGlow").remove(displayManager_.getGroup("winGlow").children[a])}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),clearAll_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");var winAmount=winManager_.getWinAmt();coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winAmount,Util.getNubersOfDecimal())),TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showShortWin(winManager_.getWinAmt(),null,null,null,"WIN"),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function findWinRangeB_(amt){var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){setTimeout(handleBonusEndWinAnimation_,1500)}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1,index=findWinRange_(amt);return"1"==winAnim.bigWinText[index]?(resetCentralWin_(),reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(index-5,!0),"7017"==gameParams.gameID&&(tumblingWin_=amt),soundManager_.playSound("winBgS_"+winAnim.winSound_[index]),time=1e3*winAnim.centralWinDur[index]+1500):time=1500,time}function resetCentralWin_(){bgStopped_&&(bgStopped_=!1),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1,displayManager_.getGroup("centralWin").rainBow.children[0].visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt();for(a in tw_)tw_[a].kill(),tw_[a]=null;tw_=[]}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(stage,bonus){if(1!=reset_){resetCentralWin_(),stage_=stage,centralWinGroup_.visible=!0,centralWinMsgGroups_[stage_].visible=!0,tw_=[],centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.01,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onComplete:animCentralStage_,onCompleteParams:[bonus]})),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[5+stage_],numObj=300*stage_,interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function animCentralStage_(bonus){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_,onCompleteParams:[bonus]}))}function animCentralStage1_(param){"7017"==gameParams.gameID&&(1==balanceManager_.getShowIncredits()?coinWinTxt_.setText(Util.formatNumber(tumblingWin_,Util.getNubersOfDecimal())):coinWinTxt_.setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(tumblingWin_,Util.getNubersOfDecimal())),coinWinTxt_.alpha=1,coinWinTxt_.y=460),centralWinMsgGroups_[stage_]&&(displayManager_.getGroup("centralWin").rainBow.children[0].alpha=1,displayManager_.getGroup("centralWin").rainBow.children[0].animations.add("anim"),displayManager_.getGroup("centralWin").rainBow.children[0].animations.stop(null,!0),displayManager_.getGroup("centralWin").rainBow.children[0].animations.play("anim",10,!1,!1),displayManager_.getGroup("centralWin").rainBow.children[0].visible=!0,tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut,onComplete:removeCentralAnim_,onCompleteParams:[param]})))}function removeCentralAnim_(param){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.5,{delay:3*(stage_+1),alpha:0})),tw_.push(TweenMax.to(displayManager_.getGroup("centralWin").rainBow.children[0],.5,{delay:3*(stage_+1),alpha:0,onComplete:resetCentralWin_}))}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}function startIdleCycle_(){}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,wins,winAmount_,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,gameClass_=gameClass,game_=gameRef,partialWinAmt_=0,iEndTimO=1e3,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],objThrown_=[],stToClear_=[],bgStopped_=!1,reelSmb=[],tumbling_=!1,tumblingWin_=0,winCash_=0,mult_=0,glows_=[],winAnim={winClasses_:[1,10,30,100,150,250,1e3,2500,5e3],winSound_:[1,1,3,3,4,5,6,7,8],winTxtDuration:[.5,1.5,1.7,2,2.5,3,3,3.5,4],centralWinDur:[0,0,0,0,0,0,5,6,7],scaleFactor:[1.6,1.8,1.9,2,2.1,2.2,2.3,2.5,2.7],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var index=findWinRange_(tumblingWin_);1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index]},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_,doOk:doOk_};return initClass_(),me}function VikingTumbling(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("lines"),coinWinGroup_=displayManager_.getGroup("centralLineWin"),coinWinTxt_=displayManager_.getText("lineWin"),centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=[],centralWinMsgGroups_[2]=[],centralWinMsgGroups_[3]=[],centralWinGroup_=displayManager_.getGroup("centralWin"),centralWinMsgGroups_[1]=displayManager_.getGroup("centralWin").bigWin.children[0],centralWinMsgGroups_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0],centralWinMsgGroups_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0],centralWinMsgPos_[1]=displayManager_.getGroup("centralWin").bigWin.children[0].y,centralWinMsgPos_[2]=displayManager_.getGroup("centralWin").sBigWin.children[0].y,centralWinMsgPos_[3]=displayManager_.getGroup("centralWin").mBigWin.children[0].y,centralFuntainGroup_=displayManager_.getGroup("centralWin").group,centralFuntainGroupSmallObj_=displayManager_.getGroup("centralFuntainSmallObj"),winEventManager_=new EventManagerCheck,funtainEventManager_=new EventManager,"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnim,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnim,"lineWin"))}function clearOverLine_(){}function clearLine_(){}function stopEvents_(){stage_=0,totalDuration_=0,tumblingWin_=0,funtainEventManager_.clearEvt()}function showBonusWin_(amt,amtCash){clearLine_();var time=1e3*winAnimB.winTxtDuration[findWinRangeB_(amt)];reset_=!1,displayManager_.getText("winValue").setText(""),stepInc_=2;var bkp=winAnimB.accuSnd;return gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=""),"BounceWin"==ReelConfig.winType&&(winAmtClass_=new BounceWin(game_,gameClass_,winAnimB,"lineWin")),"SimpleWin"==ReelConfig.winType&&(winAmtClass_=new SimpleWin(game_,gameClass_,winAnimB,"lineWin")),0==balanceManager_.getShowIncredits()?gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amtCash,null,null,stopIncSound_,null):winAmtClass_.showWin(amtCash,null,null,stopIncSound_,0,null,stepInc_,time/1e3):gameClass_.getCompulsivePlayer()?winAmtClass_.showShortWin(amt,null,null,stopIncSound_,null):winAmtClass_.showWin(amt,null,null,stopIncSound_,0,null,stepInc_,time/1e3),gameClass_.getCompulsivePlayer()&&(winAnimB.accuSnd=bkp),gameClass_.getCompulsivePlayer()?2e3:time}function stopIncSound_(){soundManager_.stopSound(winAnimB.accuSnd)}function handleBonusEndWinAnimation_(){1!=gameClass_.isSpinning()&&(buttonManager_.applyState("NH"),buttonManager_.applyRestore())}function resumeTumbling_(json,fs){fs?(tumblingWin_=json.status.totalWin/100,"freespins"==json.status.type?freeSpinsManager_.updateWin((Number(json.status.unsettledTotal)+Number(json.status.totalWin))/100):freeSpinsManager_.updateWin(Number(json.status.unsettledTotal)/100)):(tumblingWin_=json.status.unsettledTotal/100,winAmtManager_.showIstantUpdateWin(tumblingWin_,"Tumble WIN"),freeRoundsManager_.updateFrBalance(-1*tumblingWin_))}function prepareWinnings_(winSmb){winAmount_=winManager_.getWinAmt(),lineWinAmt_=winManager_.getLineWinAmt(),wins=winManager_.getTumblingWinningSymbols(),winCash_=spinManager_.getSpinResp().freeSpin.unsettledTotal/100,mult_=spinManager_.getSpinResp().freeSpin.multiplier,fsType_=spinManager_.getSpinResp().freeSpin.type,pop_=!1,tumbling_=!1;for(var b=0;b<ReelConfig.numReels;b++){var obj={};obj.index=[],obj.indexFallen=[],obj.newSmbs=[],obj.current=0,obj.tumbleObj=[],reelSmb[b]=obj}"tumble"!=fsType_&&"convert"!=fsType_||(tumbling_="tumble"==fsType_,gameClass_.setChange(!0),gameClass_.setTumblingReq(!0),communicationManager_.sendServletRequest("spin"))}function showLine_(){var index=0;bCompleted_=!1,reset_=!1,stopEvent_=!1,null!=coinWinGroup_&&(coinWinGroup_.visible=!0),animGroup_&&(animGroup_.visible=!0),totalDuration_=0,resetCentralWin_(),index=findWinRange_(lineWinAmt_),exploder_=!1,converter_=!1,ganesha_=!1,bgStopped_=!0,wild=!1,winEventManager_.addEvent(gameClass_.successiveWinning,0),winEventManager_.addEvent(fakeEvent,0,gameClass_.getTumblingReq);for(var a in wins)if(void 0!=wins[a]){winEventManager_.addEvent(amimIcon_,0,null,[wins[a]]);for(var b in wins[a].smbNum)(11==wins[a].smbNum[b]&&0==gameClass.hasWildActive(11)||12==wins[a].smbNum[b]&&0==gameClass.hasWildActive(12)||13==wins[a].smbNum[b]&&0==gameClass.hasWildActive(13))&&(wild=!0)}winEventManager_.addEvent(playIconWinningSounds_,0),winEventManager_.addEvent(gameClass_.triggerKey,0,null,[spinManager_.getSpinResp().status.keys]),tumbling_&&winEventManager_.addEvent(tumble_,wild?gameClass_.getCompulsivePlayer()?1800:2200:gameClass_.getCompulsivePlayer()?800:1500),tumbling_&&winEventManager_.addEvent(fakeEvent,500),winEventManager_.addEvent(showCentralWin_,0,null,[fsType_,lineWinAmt_]),winEventManager_.addEvent(updateBalance_,300),winEventManager_.triggerEvt()}function playIconWinningSounds_(){if(0!=freeSpinsManager_.getIsInFs()){var iMaxSmb=0;for(var a in wins)if(void 0!=wins[a]){for(var num=10,def=10,b=wins[a].smbNum.length;b>=0;b--)if(wins[a].realSmbNum[b]<num&&wins[a].realSmbNum[b]<10){def=wins[a].realSmbNum[b];break}num=def,iMaxSmb=num>iMaxSmb?num:iMaxSmb}soundManager_.playSound("smbWin_"+iMaxSmb)}}function playWinningSounds_(amt){var audioLevel=[];audioLevel[1]=1,audioLevel[2]=1.4,audioLevel[3]=1.2,audioLevel[4]=1.1,audioLevel[5]=1,audioLevel[6]=1.2,audioLevel[7]=1.3,audioLevel[8]=1.4;gameClass_.setTotWin(amt);var index=findWinRange_(amt);soundManager_.playSound("winBg_"+winAnim.winSound_[index])}function showCentralWin_(params){var lineWinAmt=(params[0],params[1]);if(tumblingWin_+=Number(lineWinAmt),1!=spinManager_.gotError()){1==freeSpinsManager_.getIsInFs()&&(coinWinTxt_.y=648);var index=findWinRange_(lineWinAmt);if(index>2){centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=300*(index+1),amt=lineWinAmt;0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}freeSpinsManager_.getIsInFs()&&updateFreeSpinsTotWon_(),Number(spinManager_.getSpinResp().win.total)<=0?lineWinAmt>0&&0==freeSpinsManager_.getFsWon()?winAmtClass_.showWin(lineWinAmt,null,updateValue_,completeValueLast_,0,null,1.7,.2):0==freeSpinsManager_.getFsWon()?(delayedStartUpdate_(!0,tumblingWin_,0),gameClass_.decreaseVolumeBG()):(setTimeout(gameClass_.lineCompletion,100,!0),bCompleted_=!0,gameClass_.setTumblingReq(!1)):(winManager_.resetWinAmt(),lineWinAmt>0?winAmtClass_.showWin(lineWinAmt,null,updateValue_,completeValue_,0,null,1.7,.2):delayedStartUpdate_(!1,tumblingWin_,0)),freeRoundsManager_.getIsInFr()&&freeSpinsManager_.getFsWon()&&freeRoundsManager_.updateFrBalance(tumblingWin_)}}function startCoinsSound_(){soundManager_.playSound("coins")}function updatePrize_(){}function idle_(force){}function amimIcon_(params){if(1!=spinManager_.gotError()){var winSmb_=params[0];gameClass_.getCompulsivePlayer()?soundManager_.playSound("iconPopShort"):wild?soundManager_.playSound("iconPopNW"):soundManager_.playSound("iconPop");for(var a in winSmb_.smbNum)delayedAnimation_(winSmb_,a)}}function updateBalance_(){"endTumble"==fsType_&&1!=spinManager_.gotError()&&(updatePrize_(),soundManager_.playSound("winAmountFall"))}function updateFreeSpinsTotWon_(){1==balanceManager_.getShowIncredits()?displayManager_.getText("totWonValue").setText(Util.formatNumber(winCash_/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),Util.getNubersOfDecimal())):displayManager_.getText("totWonValue").setText(balanceManager_.getCurrencySmb()+""+Util.formatNumber(winCash_,Util.getNubersOfDecimal())),updateFreeSpinsMult()}function updateFreeSpinsMult(){displayManager_.getText("fsMultValue").setText(""),"x"+mult_!=displayManager_.getText("fsMultValue").text&&mult_>1&&displayManager_.getText("fsMultValue").setText("x"+mult_)}function updateBonusBalance_(amt,msg){reset_=!0,framework.isTouch()?setTimeout(startBonusUpdate,400,amt,msg):TweenMax.to(coinWinTxt_,.4,{y:600,alpha:.1,onComplete:startBonusUpdate,onCompleteParams:[amt,msg],ease:Sine.easeInOut}),soundManager_.playSound("winAmountFall"),resetCentralWin_()}function startBonusUpdate(amt,msg){coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}),winAmtManager_.showIstantUpdateWin(amt,msg),endCoins_(),bCompleted_=!0}function delayedStartUpdate_(last,tumblingWin,win){if(0==freeSpinsManager_.getIsInFs()?(coinWinTxt_.setText(""),TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1})):TweenMax.to(coinWinTxt_,0,{alpha:1}),soundManager_.playSound("winAmountFall"),last){coinWinTxt_.setText(""),coinWinTxt_.y=displayManager.groups.centralLineWin.texts.lineWin.y,winManager_.resetWinAmt(),1==balanceManager_.getShowIncredits()?winManager_.setWinAmountBonus(tumblingWin*(balanceManager_.getCoinValue()/lineManager_.getLinesNumber())):winManager_.setWinAmountBonus(tumblingWin),balanceManager_.setCanUpdate(!0);var index=findWinRange_(tumblingWin);if(index>=0){for(a in objThrown_)null!=objThrown_[a]&&(objThrown_[a].destroy(),objThrown_[a]=null);objThrown_=[],centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=me.getTotalDuration(),amt=lineWinAmt_;if(0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()),index>2){var numObj=Math.min(Math.max(Math.ceil(amt)/3,15),70),interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewSmallObject_,interval),a%10==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}setTimeout(gameClass_.lineCompletion,me.getTotalDuration()+1e3,!0)}else setTimeout(gameClass_.lineCompletion,100,!0);"1"==winAnim.bigWinText[index]&&changeCentralWinStage_(index-5,!1),playWinningSounds_(tumblingWin,!0);var additionalTime=1e3*winAnim.centralWinDur[index];totalDuration_=additionalTime+1e3*winAnim.winTxtDuration[index],setTimeout(finalizeComplete_,freeSpinsManager_.getIsInFs()?totalDuration_:200),0==freeSpinsManager_.getIsInFs()&&winAmtManager_.showIstantUpdateWin(tumblingWin,"Total WIN")}else winManager_.resetWinAmt(),bSkip_=!0,0==freeSpinsManager_.getIsInFs()&&win>0&&winAmtManager_.showIstantUpdateWin(tumblingWin,"Tumble WIN"),bCompleted_=!0}function finalizeComplete_(){bCompleted_=!0,gameClass_.increaseVolumeBG()}function startUpdate(tumblingWin,win){var amt=200;setTimeout(delayedStartUpdate_,amt,!1,tumblingWin,win)}function startUpdateLast(tumblingWin){var amt=200;setTimeout(delayedStartUpdate_,amt,!0,tumblingWin,0),gameClass_.decreaseVolumeBG()}function restoreIcon_(par){par[0],par[1]}function delayedAnimation_(smb,a){if(1!=spinManager_.gotError()){var add=!1;spinManager_.getReels();if(null==spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations||1==ReelConfig.keepShowingAnimation){var special=smb.simbolReference[a].special;if(null!=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]).animations&&spinManager_.getReelGroup(smb.reel[a]).remove(spinManager_.getAnimationMap(smb.reel[a],smb.icon[a])),add=!0,1==game.cache.checkImageKey("anim"+smb.smbNum[a])?wild||11!=smb.smbNum[a]?smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]):smb.anim[a]=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,smb.pos[a].y+ReelConfig.icon.height/2,"anim"+smb.smbNum[a]+"short"):smb.anim[a]=smb.simbolReference[a],1==game.cache.checkImageKey("winglow")){var wg=game_.add.sprite(smb.pos[a].x+ReelConfig.icon.width/2,4==gameClass_.getIconsNum(smb.reel[a])?smb.pos[a].y+ReelConfig.icon.height/2:smb.pos[a].y+ReelConfig.icon.height,"winglow");wg.animations.add("anim"),wg.animations.play("anim",24,wild?gameClass_.getCompulsivePlayer()?2:3:!gameClass_.getCompulsivePlayer()&&2,!0),TweenMax.to(wg.scale,.3,{x:1.1,y:1.1,ease:Sine.easeOut}),wg.anchor.set(.5,.5),wg.scale.x=1,wg.scale.y=1,displayManager_.getGroup("winGlow").add(wg)}1==game.cache.checkImageKey("anim"+smb.smbNum[a])&&12!=smb.smbNum[a]&&(smb.anim[a].anchor.set(.5,.5),smb.anim[a].animations.add("anim"),smb.anim[a].scale.x=1,smb.anim[a].scale.y=1,smb.anim[a].smbNum=smb.smbNum[a],smb.simbolReference[a].visible=!1,smb.simbolReference[a]=smb.anim[a],smb.anim[a].special=special),12!=smb.smbNum[a]?(spinManager_.getReelGroup(smb.reel[a]).add(smb.anim[a]),spinManager_.setAnimationMap(smb.reel[a],smb.icon[a],smb.anim[a]),TweenMax.to(smb.anim[a].scale,.4,{delay:1.3,x:1.1,y:1.1,ease:Power1.easeOut})):wildManager_.wildReelWinAnim(smb.reel[a]),13==smb.smbNum[a]?smb.anim[a].animations.play("anim",24,!0,!1,restoreIcon_,[smb,a]):12!=smb.smbNum[a]&&smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[smb,a]);
}else smb.anim[a]=spinManager_.getAnimationMap(smb.reel[a],smb.icon[a]),smb.simbolReference[a]=smb.anim[a],13!=smb.smbNum[a]&&smb.anim[a].animations.play("anim",24,!1,!1,restoreIcon_,[smb,a]);reelSmb[smb.reel[a]].tumbleObj.push(smb.anim[a]),smb.anim[a].alpha=1}}function tumble_(){if(1!=spinManager_.gotError()&&1==tumbling_){wildManager_.clearWild(0);var tumble=!1;for(var a in wins){if(void 0!=wins[a]){for(var s in wins[a].smbNum)wins[a].tumble[s]&&(reelSmb[wins[a].reel[s]].index.push(wins[a].icon[s]),reelSmb[wins[a].reel[s]].newSmbs=spinManager_.getSpinReelResp().reel[wins[a].reel[s]])}tumble=!0}for(var b=0;b<ReelConfig.numReels;b++)spinManager_.tumble(b,reelSmb[b]),void 0!=reelSmb[b]&&reelSmb[b].index.length>0&&setTimeout(tumbleSound_,gameClass_.getCompulsivePlayer()?100:280*b,b);tumble&&null!=gameClass_.endTumble&&setTimeout(gameClass_.endTumble,0,.15,1,4)}}function tumbleSound_(reel){soundManager_.playSound("tumble_"+reel)}function startFallsDown_(ob){ob.xVar>960?ob.xVar=Util.getRandomInt(ob.xVar+100,ob.xVar+100):ob.xVar>640?ob.xVar=Util.getRandomInt(ob.xVar+50,ob.xVar+50):ob.xVar>320?ob.xVar=Util.getRandomInt(ob.xVar-50,ob.xVar-50):ob.xVar=Util.getRandomInt(0,ob.xVar-100),TweenMax.to(ob,.6,{y:ob.y+500,rotation:ob.angle+35,x:ob.xVar,onComplete:endFallsDown_,onCompleteParams:[ob],ease:Power1.easeIn})}function endFallsDown_(ob){ob.destroy()}function endCoins_(){}function clearAll_(){bSkip_=!1;for(var a in displayManager_.getGroup("winGlow").children)displayManager_.getGroup("winGlow").remove(displayManager_.getGroup("winGlow").children[a]);for(var a in wildAnim_)displayManager_.getGroup("scatter").remove(wildAnim_[a]);wildAnim_=[]}function clearLineAfterValue_(){if(stopEvent_=!0,resetCentralWin_(),winEventManager_.clearEvt(),1==bCompleted_)return void displayManager_.getText("lineWin").setText("");winManager_.getWinAmt();0==freeSpinsManager_.getIsInFs()?framework.isTouch()?setTimeout(startForceUpdate,200):TweenMax.to(coinWinTxt_,.2,{y:500,alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut}):TweenMax.to(coinWinTxt_,.2,{alpha:0,onComplete:startForceUpdate,ease:Sine.easeInOut})}function startForceUpdate(){coinWinTxt_.setText(""),0==freeSpinsManager_.getIsInFs()?TweenMax.to(coinWinTxt_,0,{y:displayManager.groups.centralLineWin.texts.lineWin.y,alpha:1}):TweenMax.to(coinWinTxt_,0,{alpha:1}),bCompleted_=!0,reset_=!0}function fakeEvent(){}function findWinRange_(amt){0==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function findWinRangeB_(amt){var number=winAnim.winClasses_.length-1;for(var a in winAnim.winClasses_)if(winAnim.winClasses_[a]>=amt){number=Number(a-1);break}return number}function getInterruptedWinAnim_(){return!bCompleted_}function completeValue_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?framework.isTouch()?setTimeout(startUpdate,1e3,tumblingWin_,lineWinAmt_):TweenMax.to(coinWinTxt_,1,{y:592,onComplete:startUpdate,onCompleteParams:[tumblingWin_,lineWinAmt_],ease:Bounce.easeOut}):bCompleted_=!0}function updateValue_(txt){coinWinTxt_.text.length>=12?coinWinTxt_._fontSize=40:coinWinTxt_.text.length>=10?coinWinTxt_._fontSize=45:coinWinTxt_.text.length>=6?coinWinTxt_._fontSize=50:coinWinTxt_._fontSize=55}function completeValueLast_(){0==freeSpinsManager_.getIsInFs()||freeSpinsManager_.getFsNumber()==-999?framework.isTouch()?setTimeout(startUpdateLast,1e3,tumblingWin_,0):TweenMax.to(coinWinTxt_,1,{y:592,onComplete:startUpdateLast,onCompleteParams:[tumblingWin_,0],ease:Bounce.easeOut}):(bCompleted_=!0,gameClass_.lineCompletion(!0),gameClass_.setTumblingReq(!1))}function completeBonusValue_(amt,msg){updateBonusBalance_(amt,msg),setTimeout(handleBonusEndWinAnimation_,1500)}function showBonusCentralWinGreetings_(amt){var time=0,index=-1,index=findWinRange_(amt);return"1"==winAnim.bigWinText[index]?(resetCentralWin_(),reset_=!1,currentSmb_=1,currentWinWeight_=amt,changeCentralWinStage_(index-5,!0),soundManager_.playSound("winBgS_"+winAnim.winSound_[index]),time=1e3*winAnim.centralWinDur[index]+1500):time=1500,time}function resetCentralWin_(){bgStopped_&&(bgStopped_=!1),stage_=0,totalDuration_=0,centralWinGroup_.visible=!1,displayManager_.getGroup("centralWin").rainBow.children[0].visible=!1;for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_]);funtainEventManager_.clearEvt();for(a in tw_)tw_[a].kill(),tw_[a]=null;tw_=[]}function stopBigWinAnimation_(){soundManager_.stopSound(winAnim.accuSnd);for(var a=1;a<=centralWinMsgGroups_.length-1;a++)centralWinMsgGroups_[a].alpha=0,centralWinMsgGroups_[a].y=-200,centralWinMsgGroups_[a].scaleX=1,centralWinMsgGroups_[a].scaleY=1,TweenMax.killChildTweensOf(centralWinMsgGroups_[stage_])}function changeCentralWinStage_(stage,bonus){if(1!=reset_){resetCentralWin_(),stage_=stage,centralWinGroup_.visible=!0,centralWinMsgGroups_[stage_].visible=!0,tw_=[],centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.1,{delay:.01,alpha:1,y:centralWinMsgPos_[stage_],ease:Bounce.easeOut,onComplete:animCentralStage_,onCompleteParams:[bonus]})),centralFuntainGroup_.visible=!0,funtainEventManager_.clearEvt();var time=1e3*winAnim.winTxtDuration[5+stage_],numObj=300*stage_,interval=time/numObj;for(a=0;a<=numObj;a++)funtainEventManager_.addEvtForce(startNewObject_,interval),a%20==0&&funtainEventManager_.addEvtForce(startCoinsSound_,0);funtainEventManager_.triggerEvt()}}function animCentralStage_(bonus){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1.2,y:1.2,ease:Bounce.easeInOut,onComplete:animCentralStage1_,onCompleteParams:[bonus]}))}function animCentralStage1_(param){centralWinMsgGroups_[stage_]&&(displayManager_.getGroup("centralWin").rainBow.children[0].alpha=1,displayManager_.getGroup("centralWin").rainBow.children[0].animations.add("anim"),displayManager_.getGroup("centralWin").rainBow.children[0].animations.stop(null,!0),displayManager_.getGroup("centralWin").rainBow.children[0].animations.play("anim",10,!1,!1),displayManager_.getGroup("centralWin").rainBow.children[0].visible=!0,tw_.push(TweenMax.to(centralWinMsgGroups_[stage_].scale,.1,{x:1,y:1,ease:Bounce.easeInOut,onComplete:removeCentralAnim_,onCompleteParams:[param]})))}function removeCentralAnim_(param){centralWinMsgGroups_[stage_]&&tw_.push(TweenMax.to(centralWinMsgGroups_[stage_],.5,{delay:3*(stage_+1),alpha:0})),tw_.push(TweenMax.to(displayManager_.getGroup("centralWin").rainBow.children[0],.5,{delay:3*(stage_+1),alpha:0,onComplete:resetCentralWin_}))}function startNewSmallObject_(){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,800,"part-1");else var ob=game_.add.sprite(640,800,"f-part-1");ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(350,850),TweenMax.to(ob,.1+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(550,490),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(100,80)/100,ob.scale.y=ob.scale.x,objThrown_.push(ob),centralFuntainGroupSmallObj_.add(ob),centralFuntainGroupSmallObj_.visible=!0}function startNewObject_(){if(!(stage_<=0)){if(Util.getRandomInt(1,100)>50)var ob=game_.add.sprite(640,840,"part-"+Util.getRandomInt(1,stage_));else var ob=game_.add.sprite(640,840,"f-part-"+stage_);ob.anchor.set(.5,.5),ob.angle=Util.getRandomInt(1,180),ob.animations.add("anim"),ob.alpha=.5,ob.xVar=Util.getRandomInt(100,1100),TweenMax.to(ob,.3+Util.getRandomInt(20,50)/100,{alpha:.8,rotation:Util.getRandomInt(0,90),y:Util.getRandomInt(300,-30),x:ob.xVar,onComplete:startFallsDown_,onCompleteParams:[ob],ease:Power1.easeOut}),ob.animations.play("anim",Util.getRandomInt(24,34),!0,!1,null,null),ob.scale.x=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,ob.scale.y=Util.getRandomInt(displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.minScale,displayManager.groups.centralWin.maxScale)/100,objThrown_.push(ob),centralFuntainGroup_.add(ob)}}function startIdleCycle_(){}var winEventManager_,funtainEventManager_,coinWinGroup_,coinWinTxt_,winAmtClass_,mainGroup_,animGroup_,coinWinGroup_,centralWinGroup_,wins,winAmount_,centralFuntainGroup_,centralFuntainGroupSmallObj_,currentSmb_,currentWinWeight_,fsType_,gameClass_=gameClass,game_=gameRef,totalDuration_=0,bCompleted_=!0,stopEvent_=!1,pop_=!1,stage_=0,centralWinMsgGroups_=[],centralWinMsgPos_=[],reset_=!1,tw_=[],lineWinAmt_=0,objThrown_=[],bgStopped_=!1,reelSmb=[],tumbling_=!1,tumblingWin_=0,bSkip_=!1,winCash_=0,mult_=0,exploder_=!1,converter_=!1,ganesha_=!1,wild=!1,wildAnim_=[],winAnim={winClasses_:[1,10,20,40,80,160,400,1e3,2e3],winSound_:[1,2,3,3,4,5,6,7,8],winTxtDuration:[.5,1,1.5,2,2,2,2.2,2.5,3],centralWinDur:[0,0,0,0,0,0,2,2.5,3],scaleFactor:[1.6,1.8,1.9,2,2.1,2.2,2.3,2.5,2.7],bigWinText:[0,0,0,0,0,0,1,1,1],winSndEffect:["","","","","","","","","","","",""],bgLoopsNum:[2,4,5,5,6,7,8,8,8],accuSnd:""},winAnimB=winAnim,me={stopBigWinAnimation:stopBigWinAnimation_,prepareWinnings:prepareWinnings_,clearLine:clearLine_,clearAll:clearAll_,clearOverLine:clearOverLine_,showLine:showLine_,clearLineAfterValue:clearLineAfterValue_,getInterruptedWinAnim:getInterruptedWinAnim_,stopEvents:stopEvents_,idle:idle_,showBonusWin:showBonusWin_,showBonusCentralWinGreetings:showBonusCentralWinGreetings_,getTotalDuration:function(){var index=findWinRange_(tumblingWin_),additionalTime=1e3*winAnim.centralWinDur[index];return totalDuration_=1e3*winAnim.winTxtDuration[index],additionalTime+totalDuration_},completeValue:completeValue_,completeBonusValue:completeBonusValue_,startIdleCycle:startIdleCycle_,resumeTumbling:resumeTumbling_};return initClass_(),me}function Multiplier(gameRef,gameClass,multiManager){var normalMulti_=Object.create(new Multiplier(gameRef,gameClass,multiManager));return normalMulti_}function MultiplierManager(gameRef,gameClass){function initClass_(){null!=ReelConfig.multiplierType&&("image"==ReelConfig.multiplierType?multiClass_=new Multiplier(game_,gameClass_):"sprite"==ReelConfig.multiplierType&&(multiClass_=new Multiplier(game_,gameClass_)),addMultiplier_(),updateMultiplier_(multiLevel_))}function addMultiplier_(value){if(null!=ReelConfig.multiplierType){multipliers_.push(value);for(var a in ReelConfig.multipliers)multiClass_.addMultiplier("x"+ReelConfig.multipliers[a])}}function resetMultipliers_(){null!=ReelConfig.multiplierType&&multiLevel_!=winManager_.getConsecutiveWinnings()&&(multiClass_.resetMultipliers(),updateMultiplier_(!1))}function updateMultiplier_(anim){null!=ReelConfig.multiplierType&&multiLevel_!=winManager_.getConsecutiveWinnings()&&(multiLevel_=winManager_.getConsecutiveWinnings(),multiClass_.updateMultiplier(multiLevel_,anim))}var multiClass_,game_=gameRef,gameClass_=gameClass,multipliers_=[],multiLevel_=-1,me={updateMultiplier:updateMultiplier_,resetMultipliers:resetMultipliers_};return initClass_(),me}function Multiplier(gameRef,gameClass,multiManager){function initClass_(){mainGroup_=displayManager_.getGroup("multipliers"),resetMultipliers_()}function addMultiplier_(value){null!=mainGroup_[value]&&multi_.push(mainGroup_[value])}function resetMultipliers_(){for(var a in multi_)multi_[a].children[0].tint=10066329,multi_[a].children[0].alpha=.5}function updateMultiplier_(num,anim){resetMultipliers_(),anim?(soundManager_.playSound("mult"+num),TweenMax.to(multi_[num].children[0].scale,.3,{x:1.3,y:1.3,ease:Sine.easeInOut,onComplete:back_,onCompleteParams:[num]})):(multi_[num].children[0].tint=16777215,multi_[num].children[0].alpha=1)}function back_(num){multi_[num].children[0].tint=16777215,multi_[num].children[0].alpha=1,TweenMax.to(multi_[num].children[0].scale,.2,{x:.5,y:.5,ease:Sine.easeInOut})}var mainGroup_,multi_=[],me={addMultiplier:addMultiplier_,updateMultiplier:updateMultiplier_,resetMultipliers:resetMultipliers_};return initClass_(),me}function PaytableManager(gameRef,gameClass){function initClass_(){reelPtGroup_=displayManager_.getGroup("reelsPt"),ptGroup_=displayManager_.getGroup("paytable");for(var i=1;i<=ReelConfig.numReels;i++)reelPtValueField_[i]=displayManager_.getText("win"+i),reelPtNumField_[i]=displayManager_.getText("po"+i),positions_[i]=reelPtNumField_[i].y;offset_=reelPtNumField_[i-1].height+6,reelPtValueField_.desc=displayManager_.getText("desc"),reelPtNumField_.desc=displayManager_.getText("desc");for(var icon=1;icon<=ReelConfig.numIcon;icon++)for(ptValue_[icon]={},ptValue_[icon].type="",ptValue_[icon].desc="",ptValue_[icon].pt=[],i=0;i<=ReelConfig.numReels;i++)ptValue_[icon].pt[i]={},ptValue_[icon].pt[i].num=i,ptValue_[icon].pt[i].val=Util.getRandomInt(0,5);createPt_()}function createPt_(){}function showReelPt_(smb){icon_=smb,ico_=game_.add.sprite(displayManager.groups.reelsPt.xIcon,displayManager.groups.reelsPt.yIcon,"icon"+smb.icon),ico_.width=ReelConfig.icon.width,ico_.height=ReelConfig.icon.height,reelPtGroup_.add(ico_),reelPtGroup_.visible=!0,reelPtGroup_.alpha=0,offset_=reelPtNumField_[1].height-45;for(var i=1;i<=ReelConfig.numReels;i++)reelPtValueField_[i].visible=!1,reelPtNumField_[i].visible=!1,reelPtValueField_[i].y=positions_[i],reelPtNumField_[i].y=positions_[i];reelPtNumField_.desc.visible=!1,reelPtValueField_.desc.visible=!1,updateValues_(),TweenMax.to(reelPtGroup_,.2,{alpha:1})}function hideReelPt_(){icon_=null,null!=ico_&&TweenMax.to(reelPtGroup_,.2,{alpha:0,onComplete:destroy_})}function destroy_(){null!=ico_&&(reelPtGroup_.remove(ico_),reelPtGroup_.visible=!1,ico_=null)}function updateValues_(){var numOffset=5;if(null!=icon_){if(void 0==displayManager.groups.reelsPt.icons[icon_.icon]){var smbs=framework.getSetup().getSymbolValues(icon_.icon);for(var a in smbs)numOffset-=1,reelPtValueField_[a].visible=!0,reelPtNumField_[a].visible=!0,reelPtValueField_[a].setText(balanceManager_.geBalanceObj().currency+Util.formatNumber(Number(balanceManager_.getCoinValue())/lineManager_.getLinesNumber()*Number(smbs[a]),2)+" / "+Translate["do"]("Coins:")+smbs[a]),reelPtNumField_[a].setText(a)}else{var smbs=displayManager.groups.reelsPt.icons[icon_.icon];for(var a in smbs)reelPtValueField_[a].visible=!0,reelPtNumField_[a].visible=!0,reelPtValueField_[a].setText(Translate["do"](smbs[a])),"desc"!=a&&(reelPtNumField_[a].setText(a),numOffset-=1)}for(var a in smbs)"desc"!=a&&(reelPtValueField_[a].y=reelPtValueField_[a].y-numOffset*offset_,reelPtNumField_[a].y=reelPtNumField_[a].y-numOffset*offset_)}}var reelPtGroup_,ptGroup_,game_=gameRef,ico_=null,ptValue_=[],reelPtValueField_=[],reelPtNumField_=[],icon_=null,positions_=[],offset_=0,me={showReelPt:showReelPt_,hideReelPt:hideReelPt_,updateValues:updateValues_};return initClass_(),me}function PreviewManager(gameRef,gameClass){function initClass_(){if(1==ReelConfig.preview){if(mainGroup_=displayManager_.getGroup("preview"),mainTextGroup_=displayManager_.getTexts(),null!=displayManager.groups.preview.buttons)for(var a in displayManager.groups.preview.buttons){var c=addGroup(),buttonE=new Phaser_Button(game_,displayManager.groups.preview.buttons[a].name,displayManager.groups.preview.buttons[a].x,displayManager.groups.preview.buttons[a].y,1,2,0,null,null,me[displayManager.groups.preview.buttons[a].evt]);if(mainButtonGroup_[a]=buttonE,buttonE.setAnchor(.5,.5),c.add(buttonE),mainGroup_.add(c),null!=displayManager.groups.preview.buttons[a].texts)for(var t in displayManager.groups.preview.buttons[a].texts){logger(t+" disp preview font "+displayManager.groups.preview.buttons[a].texts[t].font);var txt=spriteManager_.addText(displayManager.groups.preview.buttons[a].x+displayManager.groups.preview.buttons[a].texts[t].x,displayManager.groups.preview.buttons[a].y+displayManager.groups.preview.buttons[a].texts[t].y,Translate["do"](displayManager.groups.preview.buttons[a].texts[t].text),displayManager.groups.preview.buttons[a].texts[t].anchorX,displayManager.groups.preview.buttons[a].texts[t].anchorY,{font:displayManager.groups.preview.buttons[a].texts[t].font,fill:displayManager.groups.preview.buttons[a].texts[t].fill,boundsAlignH:displayManager.groups.preview.buttons[a].texts[t].align});c.add(txt),mainTextGroup_[t]=txt}}ReelConfig.newUI&&framework.isTouch()&&window.newUI.onPreview.dispatch(!0)}else closed_=!0}function slidesChange_(){slideCurrentPage_>=0&&(gameGroups_[slideCurrentPage_].visible=!1),slideCurrentPage_>=0&&(gameGroups_[slideCurrentPage_].light.visible=!1),slideCurrentPage_++,slideCurrentPage_>slidePages_&&(slideCurrentPage_=0),gameGroups_[slideCurrentPage_].visible=!0,gameGroups_[slideCurrentPage_].light.visible=!0}function doCloseP_(){clearTimeout(iTout),close_()}function onDown(me){clearTimeout(slideTimer_),gameGroups_[slideCurrentPage_].visible=!1,gameGroups_[slideCurrentPage_].light.visible=!1,slideCurrentPage_=me.num-1,slidesChange_(),slideTimer_=setInterval(slidesChange_,displayManager.groups.preview.slide.time)}function enabled_(){if(!framework.getSettings().getHelpOnLoad()||void 0==mainGroup_||(7002==gameParams.gameID||7004==gameParams.gameID)&&"es"==loginVars.getRegParams().jurisdiction)return closed_=!0,!1;var ua=window.navigator.userAgent;if(ua.indexOf("iPhone")>=0&&$(window).height()<375)return!1;if(framework.hideFramework(),$("#gameFramework").addClass("hidden"),null!=displayManager.groups.preview.slide){slides_=[];var slidesGroup=addGroup();mainGroup_.addChild(slidesGroup),slidesGroup.x=displayManager.groups.preview.slide.x,slidesGroup.y=displayManager.groups.preview.slide.y;for(var a in displayManager.groups.preview.slide.slides){if(slidePages_++,gameGroups_[a]=addGroup(),slidesGroup.addChild(gameGroups_[a]),gameGroups_[a].visible=!1,gameGroups_[a].x=displayManager.groups.preview.slide.slides[a].x,gameGroups_[a].y=displayManager.groups.preview.slide.slides[a].y,gameGroups_[a].button=game_.add.graphics(0,0),gameGroups_[a].button.num=a,gameGroups_[a].button.beginFill(13421772,1),gameGroups_[a].button.drawCircle(25*slidePages_+displayManager.groups.preview.slide.buttonBaseX,displayManager.groups.preview.slide.buttonBaseY,15),slidesGroup.addChild(gameGroups_[a].button),gameGroups_[a].button.inputEnabled=!0,gameGroups_[a].button.events.onInputDown.add(onDown,this),gameGroups_[a].light=game_.add.graphics(0,0),gameGroups_[a].light.beginFill(16777215,.7),gameGroups_[a].light.drawCircle(25*slidePages_+displayManager.groups.preview.slide.buttonBaseX,displayManager.groups.preview.slide.buttonBaseY,15),gameGroups_[a].light.visible=!1,slidesGroup.addChild(gameGroups_[a].light),null!=displayManager.groups.preview.slide.slides[a].graphAsset)for(var ga in displayManager.groups.preview.slide.slides[a].graphAsset)if(gameGroups_[a][ga]=addGroup(),"group"!=ga){var sp=spriteManager_.addSprite(game_,displayManager.groups.preview.slide.slides[a].graphAsset[ga].x,displayManager.groups.preview.slide.slides[a].graphAsset[ga].y,displayManager.groups.preview.slide.slides[a].graphAsset[ga].name);null!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].width&&(sp.width=displayManager.groups.preview.slide.slides[a].graphAsset[ga].width),null!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].height&&(sp.height=displayManager.groups.preview.slide.slides[a].graphAsset[ga].height),null!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].angle&&(sp.angle=displayManager.groups.preview.slide.slides[a].graphAsset[ga].angle),null!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].scaleX&&(sp.scale.x=displayManager.groups.preview.slide.slides[a].graphAsset[ga].scaleX),null!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].scaleY&&(sp.scale.y=displayManager.groups.preview.slide.slides[a].graphAsset[ga].scaleY),sp.setAnchor(void 0!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].anchorX?displayManager.groups.preview.slide.slides[a].graphAsset[ga].anchorX:0,void 0!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].anchorY?displayManager.groups.preview.slide.slides[a].graphAsset[ga].anchorY:0),gameGroups_[a].addChild(gameGroups_[a][ga]),gameGroups_[a][ga].add(sp),gameGroups_[a].visible=null==displayManager.groups.preview.slide.slides[a].visible||displayManager.groups.preview.slide.slides[a].visible,null!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].visible&&(sp.visible=displayManager.groups.preview.slide.slides[a].graphAsset[ga].visible),null!=displayManager.groups.preview.slide.slides[a].graphAsset[ga].alpha&&(sp.alpha=displayManager.groups.preview.slide.slides[a].graphAsset[ga].alpha)}else gameGroups_[a].addChild(gameGroups_[a][ga]);if(null!=displayManager.groups.preview.slide.slides[a].texts)for(var t in displayManager.groups.preview.slide.slides[a].texts){var txt=null;if(null!=displayManager.groups.preview.slide.slides[a].texts[t].font?(logger(t+" disp manager font "+displayManager.groups.preview.slide.slides[a].texts[t].font),txt=spriteManager_.addText(game_,displayManager.groups.preview.slide.slides[a].texts[t].x,displayManager.groups.preview.slide.slides[a].texts[t].y,"",{font:displayManager.groups.preview.slide.slides[a].texts[t].font,fill:displayManager.groups.preview.slide.slides[a].texts[t].fill,align:displayManager.groups.preview.slide.slides[a].texts[t].align,fontWeight:null==displayManager.groups.preview.slide.slides[a].texts[t].weight?"normal":displayManager.groups.preview.slide.slides[a].texts[t].weight,fontVariant:null==displayManager.groups.preview.slide.slides[a].texts[t].variant?"normal":displayManager.groups.preview.slide.slides[a].texts[t].variant,backgroundColor:displayManager.groups.preview.slide.slides[a].texts[t].backgroundColor})):null!=displayManager.groups.preview.slide.slides[a].texts[t].bmpFont&&(logger(t+" disp manager BMP font "+displayManager.groups.preview.slide.slides[a].texts[t].bmpFont),txt=spriteManager_.addBMPText(game_,displayManager.groups.preview.slide.slides[a].texts[t].x,displayManager.groups.preview.slide.slides[a].texts[t].y,displayManager.groups.preview.slide.slides[a].texts[t].bmpFont,"",displayManager.groups.preview.slide.slides[a].texts[t].size,displayManager.groups.preview.slide.slides[a].texts[t].align)),null!=txt){if(null!=window.devicePixelRatio&&(txt.resolution=window.devicePixelRatio),txt.setAnchor(void 0!=displayManager.groups.preview.slide.slides[a].texts[t].anchorX?displayManager.groups.preview.slide.slides[a].texts[t].anchorX:0,void 0!=displayManager.groups.preview.slide.slides[a].texts[t].anchorY?displayManager.groups.preview.slide.slides[a].texts[t].anchorY:0),void 0!=displayManager.groups.preview.slide.slides[a].texts[t].text&&txt.setText(Translate["do"](displayManager.groups.preview.slide.slides[a].texts[t].text)),void 0!=displayManager.groups.preview.slide.slides[a].texts[t].shadow&&1==displayManager.groups.preview.slide.slides[a].texts[t].shadow){var shadowDim=jQuery.isArray(displayManager.groups.preview.slide.slides[a].texts[t].shadowDim)?displayManager.groups.preview.slide.slides[a].texts[t].shadowDim:[displayManager.groups.preview.slide.slides[a].texts[t].shadowDim,displayManager.groups.preview.slide.slides[a].texts[t].shadowDim];txt.setShadow(shadowDim[0],shadowDim[1],displayManager.groups.preview.slide.slides[a].texts[t].shadow.shadowColor,displayManager.groups.preview.slide.slides[a].texts[t].shadowBlur)}void 0!=displayManager.groups.preview.slide.slides[a].texts[t].stroke&&(txt.stroke=displayManager.groups.preview.slide.slides[a].texts[t].stroke,txt.strokeThickness=displayManager.groups.preview.slide.slides[a].texts[t].stroke_tick);var mod=Translate.langModifier(displayManager.groups.preview.slide.slides[a].texts[t].text);null!=mod&&(null!=mod.font&&(txt.fontSize=mod.font),null!=mod.x&&(txt.x=txt.x+mod.x),null!=mod.y&&(txt.y=txt.y+mod.y)),gameGroups_[a].add(txt),gameText_[t]=txt}}framework.isTouch()&&(button_=new Phaser.Button(game_,0,200),button_.setAnchor(.5,.5),button_.width=1920,button_.height=420,button_.inputEnabled=!0,button_.input.enableDrag(),button_.events.onDragStart.add(touchDown_),button_.events.onDragStop.add(touchGo_),button_.events.onDragUpdate.add(keepControl_),button_.input.allowVerticallDrag=!1,slidesGroup.add(button_))}gameGroups_[0].light.visible=!0,slideTimer_=setInterval(slidesChange_,displayManager.groups.preview.slide.time)}if(null!=ReelConfig.newUI&&framework.isTouch()){window.innerWidth/1200*window.devicePixelRatio;mainGroup_.visible=!1,"portrait"==getOrientation()?gameClass_.setPortrait(!0):(mainGroup_.visible=!0,mainGroup_.x=0)}else mainGroup_.visible=!0;closed_=!1;try{if(null!=displayManager.groups.preview.videoAsset&&ua.indexOf("iPhone")==-1&&0==isIE_())for(var ga in displayManager.groups.preview.videoAsset)displayManager_.getVideo(ga).mute=!0,displayManager_.getVideo(ga).loop=!0,displayManager_.getVideo(ga).play(!0);ua.indexOf("iPhone")==-1&&0!=checkBrowser_()||(null!=displayManager_.getGroup("preview").promoVideo&&(displayManager_.getGroup("preview").promoVideo.children[0].visible=!1),null!=displayManager.groups.preview.graphAsset.ieFallBack1&&(displayManager_.getGroup("preview").ieFallBack1.children[0].visible=!0),null!=displayManager.groups.preview.graphAsset.ieFallBack2&&(displayManager_.getGroup("preview").ieFallBack2.children[0].visible=!0))}catch(e){}var tOut=ReelConfig.previewTout;iTout=setTimeout(timer_,tOut)}function keepControl_(dd){distance_=this.game.input.activePointer.x-pX_}function touchGo_(dd){slideCurrentPage_>=0&&(gameGroups_[slideCurrentPage_].visible=!1),slideCurrentPage_>=0&&(gameGroups_[slideCurrentPage_].light.visible=!1),distance_<0?slideCurrentPage_+=1:slideCurrentPage_-=1,slideCurrentPage_>slidePages_&&(slideCurrentPage_=0),slideCurrentPage_<0&&(slideCurrentPage_=slidePages_),gameGroups_[slideCurrentPage_].visible=!0,gameGroups_[slideCurrentPage_].light.visible=!0,button_.x=0,button_.y=200}function touchDown_(dd){pX_=this.game.input.activePointer.x,pY_=this.game.input.activePointer.y}function isIE_(){return!!/MSIE 10/i.test(navigator.userAgent)||(!(!/MSIE 9/i.test(navigator.userAgent)&&!/rv:11.0/i.test(navigator.userAgent))||!!/Edge\/\d./i.test(navigator.userAgent))}function close_(){closed_=!0,clearTimeout(iTout),clearTimeout(slideTimer_),0==messageBox_.getIsOnMessage()?TweenMax.to(mainGroup_,.3,{alpha:0,onComplete:destroy_}):iTout=setTimeout(timer_,500)}function timer_(){close_()}function destroy_(){var showHelp=check;if(framework.getSettings().setHelpOnLoad(showHelp),0==showHelp){var s=framework.getMenu().getIntroSwitch();s.doSwitch(!1)}mainGroup_.visible=!1,mainGroup_.destroy(),continueLoading_()}function continueLoading_(){framework.showFramework(),gcmCalls_("PAID",0,!0),gcmCalls_("BALANCE",balanceManager_.getBalance(),!0),gameClass_.create(),gameClass_.initGame()}var mainGroup_,mainTextGroup_,check,slides_,game_=gameRef,gameClass_=gameClass,mainButtonGroup_=[],iTout=0,gameGroups_=[],gameText_=[],slideCurrentPage_=0,slidePages_=-1,slideTimer_=0,check=!0,me={doCloseP:doCloseP_,enabled:enabled_,getClosed:function(){return closed_}};return initClass_(),me}function FsMultScatter(gameRef,gameClass,num){function initClass_(){mainGroup_=displayManager_.getGroup("scatter")}function showScatter_(obj,smb){if(soundManager_.playSound("scatterWin"),obj.smb=smb,1==game.cache.checkImageKey("animScatter_"+triggerNum_)){var s=game_.add.sprite(smb.x,smb.y,"animScatter_"+triggerNum_);s.anchor.set(.5,.5),s.animations.add("anim"),s.animations.play("anim",24,!1,!0,cbEndAnim,obj),mainGroup_.add(s),smb.visible=!1}else cbEndAnim(obj)}function clearScatter_(){}function cbEndAnim(obj){var amt=obj.amt/obj.num;1==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var msg="x"+obj.mult,msg1=balanceManager_.getCurrencySmb()+""+Util.formatNumber(amt,Util.getNubersOfDecimal()),txt=new Phaser.BitmapText(game_,obj.smb.x,obj.smb.y,"multiBmpFont",msg,40,"center"),txt1=new Phaser.BitmapText(game_,obj.smb.x,obj.smb.y+40,"bmpFont",msg1,27,"center");txt.alpha=0,txt.anchor.set(.5,.5),mainGroup_.add(txt),txt1.alpha=0,txt1.anchor.set(.5,.5),mainGroup_.add(txt1),obj.smb.visible=!0,obj.smb.alpha=1,TweenMax.to(txt,.2,{alpha:1}),TweenMax.to(txt.scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[txt]}),TweenMax.to(txt1,.2,{alpha:1}),TweenMax.to(txt1.scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[txt1]})}function bounce(txt){TweenMax.to(txt.scale,.4,{x:1.2,y:1.2,ease:Bounce.easeOut,onComplete:move,onCompleteParams:[txt]})}function move(txt){freeSpinsManager_.updateFreeSpinsMult(),freeSpinsManager_.updateFreeSpinsTotWon(),TweenMax.to(txt,2,{alpha:0,y:txt.y-200,onComplete:kill,onCompleteParams:[txt]})}function kill(txt){txt.visible=!1,txt.destroy()}var mainGroup_,game_=gameRef,triggerNum_=num,me={showScatter:showScatter_,clearScatter:clearScatter_};return initClass_(),me}function Scatter(gameRef,gameClass,num){function initClass_(){mainGroup_=displayManager_.getGroup("scatter")}function showScatter_(obj,smb){soundManager_.playSound("animScatter_"+triggerNum_);var sc=winManager_.getNormalScatterSimbs();for(var a in sc)if(1==game.cache.checkImageKey("anim"+triggerNum_)){var s=game_.add.sprite(sc[a].x,sc[a].y,"anim"+triggerNum_);s.anchor.set(.5,.5),s.smbNum=triggerNum_,s.animations.add("anim"),s.animations.play("anim",24,!1,!1,cbEndAnim,sc[a]),spinManager_.getReelGroup(sc[a].reel).add(s),spinManager_.setAnimationMap(sc[a].reel,sc[a].icon,s),sc[a].visible=!1}}function clearScatter_(){}function cbEndAnim(smb){}var mainGroup_,game_=gameRef,triggerNum_=num,me={showScatter:showScatter_,clearScatter:clearScatter_};return initClass_(),me}function ScatterManager(gameRef,gameClass){function initClass_(){triggerIcon_=ReelConfig.scatterIcon}function parse_(json){if(scatterJson=[],null!=json.win.scatter)for(var a in json.win.scatter)for(var b in json.win.scatter[a])scatterJson[b]={},scatterJson[b].amt=json.win.scatter[a][b].amt,scatterJson[b].num=json.win.scatter[a][b].number,scatterJson[b].mult=json.win.scatter[a][b].multiplier}function addScatter_(num){try{scatterClass_[num]=new window[ReelConfig.scatterType](game_,gameClass_,num)}catch(e){}}function showScatter_(num,smb){null!=scatterClass_[num]&&null!=scatterJson[num]&&scatterClass_[num].showScatter(scatterJson[num],smb)}function clearScatter_(){null!=scatterClass_[num]&&scatterClass_[num].clearScatter()}function endAnimHandle_(par1,par2,evt){if(par2>0){for(var a in scatterJson)null!=scatterClass_[a]&&(scatterJson[a].amt>0||scatterJson[a].mult>0)&&(evt.addEvent(showScatter_,0,a),evt.addEvent(gameClass_.fakeEvent(),100));evt.addEvent(gameClass_.fakeEvent(),3e3)}}function showScatterAfterSubst_(par1){if(par1.length>0)for(var a in par1){var iconN=par1[a].smbNum;add=!0;var smb=new Phaser.Sprite(game_,par1[a].x,par1[a].y,"anim"+iconN);smb.anchor.set(.5,.5),smb.animations.add("anim"),smb.scale.x=1,smb.scale.y=1,par1[a].visible=!1,spinManager_.getReelGroup(par1[a].reel).add(smb),spinManager_.setAnimationMap(par1[a].reel,par1[a].smb,smb),smb.animations.play("anim",24,!1,!0,updateIcon_,[par1[a],a]),soundManager_.playSound("smbWin_"+iconN)}}function updateIcon_(obj){obj[0].visible=!0,0==obj[1]&&showScatter_(obj[0].smbNum,obj[0])}var triggerIcon_,game_=gameRef,gameClass_=gameClass,scatterClass_=[],scatterJson=[],me={parse:parse_,addScatter:addScatter_,clearScatter:clearScatter_,showScatter:showScatter_,endAnimHandle:endAnimHandle_,showScatterAfterSubst:showScatterAfterSubst_,getTriggerIcon:function(){return null!=triggerIcon_?triggerIcon_:999}};return initClass_(),me}function SubstScatter(gameRef,gameClass,num){function initClass_(){mainGroup_=displayManager_.getGroup("scatter");
}function showScatter_(obj,smb){obj.smb=smb,cbEndAnim(obj)}function clearScatter_(){}function cbEndAnim(obj){var amt=obj.amt;1==balanceManager_.getShowIncredits()&&(amt=amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber());var msg1=balanceManager_.getCurrencySmb()+""+Util.formatNumber(amt,Util.getNubersOfDecimal()),txt1=new Phaser.BitmapText(game_,obj.smb.x,obj.smb.y,"bmpFont",msg1,47,"center");txt1.alpha=0,txt1.anchor.set(.5,.5),mainGroup_.add(txt1),obj.smb.visible=!0,obj.smb.alpha=1,TweenMax.to(txt1,.2,{alpha:1}),TweenMax.to(txt1.scale,.3,{x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[txt1]})}function bounce(txt){TweenMax.to(txt.scale,.4,{x:1.2,y:1.2,ease:Bounce.easeOut,onComplete:move,onCompleteParams:[txt]})}function move(txt){freeSpinsManager_.updateFreeSpinsMult(),freeSpinsManager_.updateFreeSpinsTotWon(),TweenMax.to(txt,2,{alpha:0,y:txt.y-200,onComplete:kill,onCompleteParams:[txt]})}function kill(txt){txt.visible=!1,txt.destroy()}var mainGroup_,game_=gameRef,me={showScatter:showScatter_,clearScatter:clearScatter_};return initClass_(),me}function BubbleRandomSpin(gameRef,gameClass){function initClass_(){if(bubbleGroup_=displayManager_.getGroup("bubbles"),animGroup_=displayManager_.getGroup("wins"),eventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){smbArray_=[];for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<ReelConfig.numReels;i++){reel_[i]=new ReelBubbles(game_,gameClass,i,(void 0),(!1)),reelBubble_[i]=[],animationMap_[i]=[];for(var j=0;j<ReelConfig.icons[i];j++){var ind=resumeJson[i].smb[j].smb;reel_[i].setIcon(j,ind),animationMap_[i][j]={};var ob={};ob.reel=i,ob.smb=j;var s=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*i,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*j,"iconBubble_"+i);s.width=ReelConfig.icon.width,s.height=ReelConfig.icon.height,s.scale.x=1,s.scale.y=1,s.visible=!0,ob.bubble=s,ob.removed=0,ob.placed=0,reelBubble_[i][j]=s,smbArray_.push(ob),bubbleGroup_.add(s)}}randomizeSymbols()}function fake_(){}function startSoundOut_(){0==isOnStop_&&soundManager_.playSound("popOut",5)}function startSoundIn_(){soundManager_.stopSound("popOut"),0==isOnStop_&&soundManager_.playSound("popIn",5)}function preSpin_(){var comp=!1;timeSpin_=(new Date).getTime(),gotError_=!1,1!=gameClass_.getCompulsivePlayer()&&1!=freeSpinsManager_.getIsInFs()||(comp=!0),isOnStop_=!1,reelArrived_=0,reelStarted_=0,triggerSymbol_=[],triggerObj_=[],eventManager_.clearEvt(),randomizeSymbols(),eventManager_.addEvent(startSoundOut_,0);for(var a in smbArray_)eventManager_.addEvent(vanishBubble_,0,[a]),0==comp&&eventManager_.addEvent(fake_,ReelConfig.disappearInterval);eventManager_.triggerEvt()}function setReelsNow_(){var comp=!1;1!=gameClass_.getCompulsivePlayer()&&1!=freeSpinsManager_.getIsInFs()||(eventManager_.addEvent(fake_,300),comp=!0),0==comp&&eventManager_.addEvent(activateStopState_,disappearTo_);for(var a in smbArray_)eventManager_.addEvent(placeBubble_,0,[a]),0==comp&&eventManager_.addEvent(fake_,ReelConfig.appearInterval);eventManager_.addEvent(endBubbleSpin_,500),eventManager_.triggerEvt()}function setReels_(){var now=(new Date).getTime();"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction||now-timeSpin_>1500?setReelsNow_():setTimeout(setReels_,200)}function startSpin_(){}function vanishBubble_(a){var smb;if(place_=!1,0==smbArray_[a].removed){if(null==animationMap_[smbArray_[a].reel][smbArray_[a].smb].animations?smb=reel_[smbArray_[a].reel].getSymbol(smbArray_[a].smb):(smb=animationMap_[smbArray_[a].reel][smbArray_[a].smb],animationMap_[smbArray_[a].reel][smbArray_[a].smb]={}),1==smbArray_[a].bubble.visible){var s=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*smbArray_[a].reel,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*smbArray_[a].smb,"bubbleOff_"+smbArray_[a].reel);smbArray_[a].removed=1,s.animations.add("anim"),s.animations.play("anim",24,!1,!0),s.width=ReelConfig.icon.width,s.height=ReelConfig.icon.height,s.scale.x=1,s.scale.y=1,bubbleGroup_.add(s)}smb.reel=smbArray_[a].reel,smb.smb=smbArray_[a].smb,smb.alpha=1,TweenMax.to(smb.scale,.2,{x:.6,y:.6}),setTimeout(bubbleEnd_,disappearTo_,smb),smbArray_[a].bubble.visible=!1}}function placeBubble_(a){if(!gotError_){var s,smb;if(0==place_&&startSoundIn_(),place_=!0,0==smbArray_[a].placed){smbArray_[a].placed=1;var smbN=null!=spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb].prevsmb?spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb].prevsmb:spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb].smb;reel_[smbArray_[a].reel].newSmb(smbN,smbArray_[a].smb),smb=reel_[smbArray_[a].reel].getSymbol(smbArray_[a].smb),spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb].symbol=smb,smb.reel=smbArray_[a].reel,smb.smb=smbArray_[a].smb,specialSymbol_.indexOf(smbN)<0?(s=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*smbArray_[a].reel,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*smbArray_[a].smb,"bubbleOn_"+smbArray_[a].reel),s.animations.add("anim"),smb.scale.x=.5,smb.scale.y=.5,smb.num=smbN,smb.special=spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb].special,s.animations.play("anim",24,!1,!0,placeBubbleEnd_,[a,smb,spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb]]),placeIcon_(smb)):(smb.visible=!1,smb.special=!0,smb.num=smbN,s=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*smbArray_[a].reel,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*smbArray_[a].smb,"anim"+smbN),s.animations.add("anim"),s.animations.play("anim",24,!1,!0,updateFS_,[a,smb,spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb]]),smbArray_[a].bubble.visible=!1,10==smbN&&(soundManager_.playSound("smbWin_10"),freeSpinsManager_.addCollectedFs(),setTimeout(freeSpinsManager_.updateFsNum,1e3))),"anim"==spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb].special||"trigger"==spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb].special,s.width=ReelConfig.icon.width,s.height=ReelConfig.icon.height,s.scale.x=1,s.scale.y=1,bubbleGroup_.add(s)}}}function updateFS_(par){var smb=(par[0],par[1]),smbJson=par[2];smb.visible=!0,""!=smbJson.special&&10!=smbJson.smb&&scatterManager_.showScatter(smbJson.smb,smb)}function placeBubbleEnd_(par){if(!gotError_){var a=par[0],smb=par[1],smbJson=par[2];if(smbArray_[a].bubble.visible=!0,"trigger"==smbJson.special){smb.visible=!1;var s=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*smbArray_[a].reel,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*smbArray_[a].smb,"anim"+smb.num);s.animations.add("anim"),s.width=ReelConfig.icon.width,s.height=ReelConfig.icon.height,s.scale.x=1,s.scale.y=1,s.symbol=spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb],me.setAnimationMap(smbArray_[a].reel,smbArray_[a].smb,s),bubbleGroup_.add(s),triggerSymbol_.push(s),triggerObj_.push(spinManager_.getSpinReelResp().reel[smbArray_[a].reel].smb[smbArray_[a].smb])}else"anim"==smbJson.special?TweenMax.to(smb.scale,.1,{x:1,y:1}):TweenMax.to(smb.scale,.1,{x:1,y:1})}}function placeIcon_(smb){gotError_||(smb.visible=!0,0==isOnStop_?(TweenMax.to(smb.scale,.3,{x:1.3,y:1.3,onComplete:placeIcon2_,onCompleteParams:[smb]}),TweenMax.to(smb,.3,{y:smb.y-25})):(TweenMax.to(smb.scale,.1,{x:1.1,y:1.1,onComplete:placeIcon2_,onCompleteParams:[smb]}),TweenMax.to(smb,0,{y:smb.y-25})))}function placeIcon2_(smb){gotError_||(0==isOnStop_?(TweenMax.to(smb.scale,.1,{x:1,y:1,onComplete:checkIcon_,onCompleteParams:[smb]}),TweenMax.to(smb,.1,{delay:.05,y:smb.y+25})):(TweenMax.to(smb.scale,.05,{x:1,y:1,onComplete:checkIcon_,onCompleteParams:[smb]}),TweenMax.to(smb,.1,{delay:.05,y:smb.y+25})))}function checkIcon_(smb){}function bubbleEnd_(smb){smb.visible=!1,smb.scale.x=.1,smb.scale.y=.1,null!=smb.animations&&(smb.destroy(),smb=null)}function endBubbleSpin_(){gotError_||(framework.updateSmallMessageText(""),soundManager_.stopSound("popIn"),balanceManager_.setCanUpdate(!0),gameClass_.spinAnimEnd())}function startSpinFromSwipe_(reel,bounce){}function activateStopState_(){"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&buttonManager_.applyState("STOP")}function stopSpin_(){if(!gotError_){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isOnStop_=!0,eventManager_.clearEvt(),soundManager_.stopSound("popIn"),soundManager_.stopSound("popOut");for(var a in smbArray_)placeBubble_([a]);setTimeout(endBubbleSpin_,500),eventManager_.triggerEvt()}}function getReels_(){return reel_}function randomizeSymbols(){for(var a in smbArray_)smbArray_[a].removed=0,smbArray_[a].placed=0,smbArray_[a].index=Util.getRandomInt(1,1e3);smbArray_.sort(function(a,b){return a.index-b.index})}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0),gotError_=!0;for(var a in smbArray_)vanishBubble_([a])}var eventManager_,bubbleGroup_,animGroup_,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,smbArray_=[],isOnStop_=!1,disappearTo_=150,specialSymbol_=[10,12,13,14,15],triggerSymbol_=[],triggerObj_=[],reelBubble_=[],place_=!1,compulsiveCount_=0,compulsiveTH_=3,gotError_=!1,timeSpin_=0,me={createReels:createReels_,preSpin:preSpin_,startSpin:startSpin_,stopSpin:stopSpin_,getReels:getReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,setReels:setReels_,stopSpinForError:stopSpinForError_,getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){animationMap_[reel][icon]=anim},getTriggerIcons:function(){return triggerSymbol_},addTriggerIcon:function(obj){triggerSymbol_.push(obj)}};return initClass_(),me}function CabinetSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var i=0;i<ReelConfig.numReels;i++){reel_[i]=new Reel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;null!=ReelConfig.iconProb&&ReelConfig.iconProb.indexOf(ind)>=0&&Util.getRandomInt(1,100)>ReelConfig.rareIconPerc&&(ind=parseInt(Math.random()*ReelConfig.defIcons)+1),reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={}}}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var j=0;j<ReelConfig.numIcons;j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i;var obj={};if(null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound,iconEffect=obj.iconEffect),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer()&&0==freeSpinsManager_.getIsInFs())buttonManager_.applyState("STOP");else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}}function startSpin_(){isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelAtLastPart_=0,reelStarted_=0,gotError_=!1,startReel(),soundManager_.getBGSound("reelSound_0").immediateDecreaseVolume(),soundManager_.resetVolume("reelSound_0"),soundManager_.playOtherBgSound("reelSound_0"),indexOuterSymbols_=[];for(var i=0;i<ReelConfig.numReels;i++){indexOuterSymbols_[i]=[];var ss=reel_[i].getAllIcons().children;for(var j in ss){var smb=ss[j];smb.alpha=1}timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,setTimeout(spinReel_,gameClass_.getCompulsivePlayer()?0:spinManager_.getSpinParams().reelInterval*i,[[i],!0])}}function startSpinFromSwipe_(reel,bounce){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}function stopSpin_(){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0,delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;for(var i=0;i<ReelConfig.numReels;i++)null!=tw_[i]&&tw_[i].timeScale(4);null!=gameClass_.hasStopped&&gameClass_.hasStopped()}function spinReelSwipe_(params){triggerSymbol_=[],delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),gameClass_.getCompulsivePlayer()?spinManager_.getSpinParams().reelPreMovementTime/2:spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function startReel(params){gotError_||setTimeout(setBlurrSmb_,gameClass_.getCompulsivePlayer()?100:500,params,!0)}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*ReelConfig.reel.deltaY+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone})}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=gameClass_.getCompulsivePlayer()?spinManager_.getSpinParams().reelSecondMovementTime/2:spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=gameClass_.getCompulsivePlayer()?timeTween[i]/2:timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?(1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut})):(setSmb_(i),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut}))}}function delayPlayReelAnticipation_(i){var audioLevel=[];audioLevel[0]=3,audioLevel[1]=4,audioLevel[2]=4,audioLevel[3]=4,audioLevel[4]=4,isStopped_||soundManager_.getBGSound("reelSound_"+(Number(i)+1)).fadeInBgSoundExternal(200,audioLevel[i],soundManager_.getBGSound("reelSound_0").getSound().currentTime+15,null)}function ononCompleteFinalStep_(i){if(soundManager_.playSound("reelStop"),!gotError_){i<4&&1==reelSound[i]&&setTimeout(delayPlayReelAnticipation_,50,i),reelSound[i]=!1,setBlurrSmb_(i,!1),reelAtLastPart_++;var time=gameClass_.getCompulsivePlayer()?spinManager_.getSpinParams().reelSpinBounceTime/2:spinManager_.getSpinParams().reelSpinBounceTime;if(tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)}),reelAtLastPart_>=reelStarted_){soundManager_.getBGSound("reelSound_0").fadeOutBgSound(200);for(var ii=0;ii<=ReelConfig.numReels;ii++)soundManager_.getBGSound("reelSound_"+ii)&&soundManager_.getBGSound("reelSound_"+ii).fadeOutBgSound(200)}}}function onStartFinal(i){}function upperSmb_(i){for(var j in animationMap_[i])void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(i){for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1,index=void 0!=indexOuterSymbols_[i][ind]?indexOuterSymbols_[i][ind]:1;null!=ReelConfig.iconProb&&ReelConfig.iconProb.indexOf(ind)>=0&&Util.getRandomInt(1,100)>ReelConfig.rareIconPerc[ind]/index&&(ind=parseInt(Math.random()*ReelConfig.defIcons)+1,index++,indexOuterSymbols_[i][ind]=index),reel_[i].setIcon(j,ind)}var smb0=null!=spinManager_.getSpinReelResp().reel[i].smb[0].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[0].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[0].smb,smb1=null!=spinManager_.getSpinReelResp().reel[i].smb[1].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[1].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[1].smb,smb2=null!=spinManager_.getSpinReelResp().reel[i].smb[2].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[2].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[2].smb;if(4==ReelConfig.numIcons)var smb3=null!=spinManager_.getSpinReelResp().reel[i].smb[3].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[3].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[3].smb;1!=spinManager_.getSpinReelResp().reel[i].smb[0].notShow&&"out"!=spinManager_.getSpinReelResp().reel[i].smb[0].special?reel_[i].newSmb(smb0,0):"out"==spinManager_.getSpinReelResp().reel[i].smb[0].special?(s=reel_[i].newSmb(smb0,0),s.y=s.y-ReelConfig.reel.deltaY):reel_[i].removeSymbol(0),1!=spinManager_.getSpinReelResp().reel[i].smb[1].notShow&&"out"!=spinManager_.getSpinReelResp().reel[i].smb[1].special?reel_[i].newSmb(smb1,1):"out"==spinManager_.getSpinReelResp().reel[i].smb[1].special?(s=reel_[i].newSmb(smb1,1),s.y=s.y-ReelConfig.reel.deltaY):reel_[i].removeSymbol(1),1!=spinManager_.getSpinReelResp().reel[i].smb[2].notShow&&"out"!=spinManager_.getSpinReelResp().reel[i].smb[2].special?reel_[i].newSmb(smb2,2):"out"==spinManager_.getSpinReelResp().reel[i].smb[2].special?(s=reel_[i].newSmb(smb2,2),s.y=s.y-ReelConfig.reel.deltaY):reel_[i].removeSymbol(2),4==ReelConfig.numIcons&&(1!=spinManager_.getSpinReelResp().reel[i].smb[3].notShow&&"out"!=spinManager_.getSpinReelResp().reel[i].smb[3].special?reel_[i].newSmb(smb3,3):"out"==spinManager_.getSpinReelResp().reel[i].smb[3].special?(s=reel_[i].newSmb(smb3,3),s.y=s.y-ReelConfig.reel.deltaY):reel_[i].removeSymbol(3))}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){var audioLevel=[];if(audioLevel[0]=1.5,audioLevel[1]=1.5,audioLevel[2]=2,audioLevel[3]=3,audioLevel[4]=3,!gotError_){if(1!=iconSound[i]||isStopped_||(iconSound[i]=!1),void 0!=iconEffect&&""!=iconEffect[i]&&(soundManager_.playSound(iconEffect[i]),iconEffect[i]=""),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(logger("complete spin mov.------"),gameClass_.spinAnimEnd(),balanceManager_.setCanUpdate(!0))}}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){gotError_=!0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.getBGSound("reelSound_0").fadeOutBgSound(10),""!=reelToStop_&&soundManager_.getBGSound(reelToStop_).fadeOutBgSound(10),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelAtLastPart_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],slowDownReel=[],iconSound=[],reelSound=[],iconEffect=[],reelToStop_="",timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],gotError_=!1,indexOuterSymbols_=[],me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,stopSpinForError:stopSpinForError_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){animationMap_[reel][icon]=anim}};return initClass_(),me}function MegaWaysTumblingReel(gameRef,gameClass,_num,num2,swap,len){function Point(x,y){this.x=x||0,this.y=y||0}function init(swap,len){pressDuration_=null!=displayManager.groups.reelsPt?displayManager.groups.reelsPt.clickDuration:2e3,height_=size_[len],numIcon_=len,mainGroup=displayManager_.getGroup("reels"),group=game_.add.container();for(var j=0;j<ReelConfig.icons[num];j++){if(img[j]="",imgBlurr[j]="",btn[j]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-height_*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+height_*j);pos[j]=new Point(pos_.x,pos_.y),startPos=group.y,realPos_B_[j]=j,realPos_T_[j]=j}if(0!=swap)for(var i=0;i<len;i++)realPos_B_[i]=len-1-i+ReelConfig.numIconsOnBottom,realPos_T_[i]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-i;mainGroup.add(group)}function removeButton_(){void 0==displayManager.groups.reelsPt&&group.remove(button_)}function restoreButton_(){void 0!=button_&&void 0==displayManager.groups.reelsPt&&(dropEnable=!1,group.add(button_),button_.y=-1*btnH_,lastPos_=-1*btnH_)}function setIcon_(index,icon){void 0!=img[index]&&""!=img[index]&&(img[index].visible=!1,group.remove(img[index]),img[index].destroy(),img[index]=null);var poss=Number(pos[index].y)+height_/2,dest=realPos_B_[index],ic=icon;if(null!=img[index]&&group.remove(img[index]),null!=imgBlurr[index]&&group.remove(imgBlurr[index]),void 0!=bg[index]&&group.remove(bg[index]),7!=icon&&8!=icon&&9!=icon?(bg[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,poss,"smbBg_"+numIcon_),bg[index].scale.x=1,bg[index].scale.y=1,bg[index].setOrigin(.5,.5),group.add(bg[index]),bg[index].visible=!0):"7022"==gameParams.gameID&&(bg[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,poss,"smbFrameBg_"+numIcon_),bg[index].scale.x=1,bg[index].scale.y=1,bg[index].setOrigin(.5,.5),group.add(bg[index]),bg[index].visible=!0),img[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+height_/2,"icon"+ic),void 0!=game.cache.obj.entries.entries["bicon"+icon]&&(imgBlurr[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+height_/2,"bicon"+icon),imgBlurr[index].smbNum=icon,imgBlurr[index].scale.x=1,imgBlurr[index].scale.y=1,imgBlurr[index].setOrigin(.5,.5),imgBlurr[index].visible=!1,group.add(imgBlurr[index])),img[index].smbNum=icon,numIcon_>5&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[numIcon_]/img[dest].height+(10==icon?"7019"==gameParams.gameID?.07:.3:.1);img[index].scale.x=Math.min(ratio,1),img[index].scale.y=Math.min(ratio,1)}else img[index].scale.x=1,img[index].scale.y=1;return img[index].setOrigin(.5,.5),group.add(img[index]),iconN[index]=icon,void 0!=frames[index]&&group.remove(frames[index]),7!=icon&&8!=icon&&9!=icon||("7022"==gameParams.gameID?frames[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,poss,"smbFrame"+icon+"_"+numIcon_):frames[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,poss,"smbFrame_"+numIcon_),frames[index].setOrigin(.5,.5),group.add(frames[index]),iconAdjustment_(img[index],icon,frames[index]),frames[index].visible=!0),createButton_(index),img[index]}function resetIconPos_(){for(var j=0;j<ReelConfig.icons[num];j++)img[j].y=pos[j].y+height_/2}function updateReelSize_(numS){numIcon_=numS,height_=size_[numS],pressDuration_=2e3;for(var j=0;j<ReelConfig.icons[num];j++){if(btn[j]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-height_*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+height_*j);pos[j]=new Point(pos_.x,pos_.y),realPos_B_[j]=j,realPos_T_[j]=j,img[j].y=pos[j].y+height_/2,img[j].visible=!1,setIcon_(j,img[j].smbNum)}for(var i=0;i<numIcon_;i++)realPos_B_[i]=numIcon_-1-i+ReelConfig.numIconsOnBottom,realPos_T_[i]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-i;group.y=0}function resetStartPos_(){group.y=startPos,framework.isTouch()&&restoreButton_()}function removeSymbol_(dest_){var dest;dest=realPos_B_[dest_],img[dest].visible=!1,group.remove(img[dest]),dest=realPos_T_[dest_],img[dest].visible=!1,group.remove(img[dest])}function swapSmb_(icon,dest_,attr_){var dest,attr=attr_;dest=realPos_B_[dest_],img[dest].visible=!1,imgBlurr[dest].visible=!1,group.remove(img[dest]),group.remove(imgBlurr[dest]),null!=img[dest]&&img[dest].destroy(),img[dest]=null;var poss=Number(pos[dest].y)+height_/2;if(void 0!=bg[dest]&&group.remove(bg[dest]),7!=icon&&8!=icon&&9!=icon?(bg[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbBg_"+numIcon_),bg[dest].scale.x=1,bg[dest].scale.y=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0):"7022"==gameParams.gameID&&(bg[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrameBg_"+numIcon_),bg[dest].scale.x=1,bg[dest].scale.y=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0),null==attr){var ic=icon;img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"icon"+ic),img[dest].smbNum=icon,iconN[dest]=icon,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null}else null!=attr&&"icon"==attr.type?(logger("swap1 "+attr.subst),img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"icon"+attr.subst),img[dest].smbNum=attr.icon,iconN[dest]=attr.icon,img[dest].width=ReelConfig.icon.width,img[dest].height=height_):"anim"==attr.type&&(img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"anim"+icon),img[dest].animations.add("anim"),img[dest].animations.play("anim",24,attr.loop,attr.killOnComplete,attr.callBack,[attr,group]),img[dest].smbNum=icon,iconN[dest]=icon);if(img[dest].reel=num,img[dest].icon=dest_,img[dest].dispIcon=!0,img[dest].attr=attr,img[dest].setOrigin(.5,.5),img[dest].visible=!0,group.add(img[dest]),numIcon_>=5&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[numIcon_]/img[dest].height+(10==icon?"7019"==gameParams.gameID?.07:.3:.1);img[dest].scale.x=Math.min(ratio,1),img[dest].scale.y=Math.min(ratio,1)}return null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].setOrigin(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),void 0!=frames[dest]&&group.remove(frames[dest]),7!=icon&&8!=icon&&9!=icon||("7022"==gameParams.gameID?frames[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrame"+icon+"_"+numIcon_):frames[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrame_"+numIcon_),frames[dest].setOrigin(.5,.5),group.add(frames[dest]),iconAdjustment_(img[dest],icon,frames[dest]),frames[dest].visible=!0),img[dest]}function iconAdjustment_(image,icon,frame){if(image.cropEnabled=!0,"7022"==gameParams.gameID){if(numIcon_>4&&(7==icon||8==icon||9==icon)){var offset=2.5*numIcon_;image.y.y=image.y-offset}new Phaser.Geom.Rectangle(0,offset,frame.width,frame.height)}else if(7==numIcon_){new Phaser.Geom.Rectangle(0,20,frame.width,frame.height);image.y.y=image.y-10}else{new Phaser.Geom.Rectangle(0,0,frame.width,frame.height)}}function toggleSpin_(dest,state){if(null!=imgBlurr[dest]&&(imgBlurr[dest].visible=state,img[dest].visible=!state,1==state&&(7==img[dest].smbNum||8==img[dest].smbNum||9==img[dest].smbNum)))for(var found=!1,j=0;j<ReelConfig.icons[num];j++){if(void 0!=frames[j]&&1==frames[j].visible){found=!0,imgBlurr[dest].height=frames[j].height+50;break}if(0==found&&void 0!=bg[j]&&1==bg[j].visible){found=!0,imgBlurr[dest].height=bg[j].height+50;break}}}function newSmb_(icon,dest_,attr_){var dest,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1;dest=realPos_T_[dest_],null!=img[dest].mask&&img[dest].mask.destroy(),img[dest].visible=!1,group.remove(img[dest]),group.remove(imgBlurr[dest]),img[dest]=null;var poss=Number(pos[dest].y)+height_/2;if(void 0!=bg[dest]&&group.remove(bg[dest]),7!=icon&&8!=icon&&9!=icon?(bg[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbBg_"+numIcon_),
bg[dest].scale.x=1,bg[dest].scale.y=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0):"7022"==gameParams.gameID&&(bg[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrameBg_"+numIcon_),bg[dest].scale.x=1,bg[dest].scale.y=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0),null==attr||void 0==attr.reels||reel<0?(img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"icon"+icon),img[dest].smbNum=icon,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,iconN[dest]=icon):(img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"icon"+attr.icon[0]),img[dest].smbNum=attr.subst,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"bicon"+attr.icon[0]),imgBlurr[dest].smbNum=attr.subst):imgBlurr[dest]=null,iconN[dest]=attr.subst),img[dest].reel=num,img[dest].icon=dest_,img[dest].dispIcon=!0,img[dest].scale.x=1,img[dest].scale.y=1,img[dest].setOrigin(.5,.5),img[dest].visible=!0,group.add(img[dest]),null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].scale.x=1,imgBlurr[dest].scale.y=1,imgBlurr[dest].setOrigin(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),void 0!=frames[dest]&&group.remove(frames[dest]),7!=icon&&8!=icon&&9!=icon||("7022"==gameParams.gameID?frames[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrame"+icon+"_"+numIcon_):frames[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrame_"+numIcon_),frames[dest].setOrigin(.5,.5),group.add(frames[dest]),iconAdjustment_(img[dest],icon,frames[dest]),frames[dest].visible=!0),numIcon_>=5&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[numIcon_]/img[dest].height+(10==icon?"7019"==gameParams.gameID?.07:.3:.1);img[dest].scale.x=Math.min(ratio,1),img[dest].scale.y=Math.min(ratio,1)}}function replaceIcon_(dest_,icon,attr_){var dest,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1;dest=realPos_T_[dest_],null!=img[dest].mask&&img[dest].mask.destroy(),group.remove(img[dest]),group.remove(imgBlurr[dest]);var poss=Number(pos[dest].y)+height_/2;if(void 0!=bg[dest]&&group.remove(bg[dest]),7!=icon&&8!=icon&&9!=icon?(bg[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbBg_"+numIcon_),bg[dest].scale.x=1,bg[dest].scale.y=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0):"7022"==gameParams.gameID&&(bg[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrameBg_"+numIcon_),bg[dest].scale.x=1,bg[dest].scale.y=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0),null==attr||void 0==attr.reels||reel<0?(img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"icon"+icon),img[dest].smbNum=icon,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,iconN[dest]=icon):(img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"icon"+attr.icon[0]),img[dest].smbNum=attr.subst,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+height_/2,"bicon"+attr.icon[0]),imgBlurr[dest].smbNum=attr.subst):imgBlurr[dest]=null,iconN[dest]=attr.subst),img[dest].reel=num,img[dest].icon=dest_,img[dest].dispIcon=void 0,img[dest].scale.x=1,img[dest].scale.y=1,img[dest].setOrigin(.5,.5),img[dest].visible=!0,group.add(img[dest]),null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].scale.x=1,imgBlurr[dest].scale.y=1,imgBlurr[dest].setOrigin(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),void 0!=frames[dest]&&group.remove(frames[dest]),7!=icon&&8!=icon&&9!=icon||("7022"==gameParams.gameID?frames[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrame"+icon+"_"+numIcon_):frames[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,poss,"smbFrame_"+numIcon_),frames[dest].setOrigin(.5,.5),group.add(frames[dest]),iconAdjustment_(img[dest],icon,frames[dest]),frames[dest].visible=!0),numIcon_>=5&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[numIcon_]/img[dest].height+(10==icon?"7019"==gameParams.gameID?.07:.3:.1);img[dest].scale.x=Math.min(ratio,1),img[dest].scale.y=Math.min(ratio,1)}return iconN[dest]=icon,createButton_(dest),img[dest]}function click_(dd){}function down_(dd){0==displayManager_.getGroup("reelsPt").visible&&startCounter_(dd)}function up_(dd){stopCounter_(dd)}function startCounter_(icon){timeStart_=(new Date).getTime(),iCtrl=setInterval(pressCtrl,16,icon)}function stopCounter_(icon){clearInterval(iCtrl),timeStart_=0}function pressCtrl(icon){var time=(new Date).getTime();time-timeStart_>=pressDuration_&&(paytableManager_.showReelPt(icon),clearInterval(iCtrl))}function getIcon_(icon){return img[icon]}function createButton_(index){void 0!=displayManager.groups.reelsPt&&(void 0!=btn[index]&&group.remove(btn[index]),btn[index]=null,btn[index]=new Phaser.Button(game_,pos[index].x,pos[index].y,null,click_,this),btn[index].scale.x=1,btn[index].scale.y=1,btn[index].visible=!0,btn[index].icon=iconN[index],btn[index].onInputDown.add(down_,this),btn[index].onInputUp.add(up_,this),group.add(btn[index]))}var startPos,group,mainGroup,timeStart_,pressDuration_,button_,iCtrl,game_=gameRef,swap_=swap,num=_num,img=[],imgBlurr=[],frames=[],bg=[],btn=[],pos=[],realPos_B_=[],realPos_T_=[],iconN=[],iCtrl=0,btnH_=(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaX,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(ReelConfig.icons[num]-1)),lastPos_=-1*btnH_,dropEnable=!1,size_=[];size_[0]=0,size_[1]=0,size_[2]=280,size_[3]=187,size_[4]=140,size_[5]=112,size_[6]=93.3,size_[7]=80;var numIcon_=len,height_=0,me={setIcon:setIcon_,replaceIcon:replaceIcon_,resetStartPos:resetStartPos_,removeSymbol:removeSymbol_,swapSmb:swapSmb_,newSmb:newSmb_,getIcon:getIcon_,toggleSpin:toggleSpin_,resetIconPos:resetIconPos_,updateReelSize:updateReelSize_,getAllIcons:function(){return group},getPos:function(icon){return pos[icon]},getRealPosSmb:function(icon){return dest=realPos_T_[icon],img[dest]},getSymbol:function(icon){return img[icon]},getIconNum:function(icon){return iconN[icon]},resetSwipeForMsg:function(){resetSwipe_=!0},getReelLen:function(){return reelLen_},getArr:function(){return img},newArray:function(value){img=value},newArrayPos:function(pos,value){img[pos]=value},getFrameMW:function(index){return frames[index]},getTileMW:function(index){return bg[index]},removeButton:removeButton_,clearGroup:function(){group.removeAll()}};return init(swap_,len),me}function MegaWayTumblingSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,tumblingEventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var i=0;i<ReelConfig.numReels;i++){numIcon_[i]=Util.getRandomInt(2,7),null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels&&(numIcon_[i]=communicationManager_.getResumeStatus().status.reels[i].smb.length),reel_[i]=new MegaWaysTumblingReel(game_,gameClass,i,i,null,numIcon_[i]),animationMap_[i]=[],c[i]=[];for(var j=0;j<ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={},c[i][j]=ReelConfig.reel.deltaY_0-size_[numIcon_[i]]*j+size_[numIcon_[i]]/2}for(var j=1;j<=ReelConfig.icons[i];j++)c[i][-1*j]=j}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var j=0;j<numIcon_[i];j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){var now=(new Date).getTime();"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction||now-timeSpin_>1500?setReelsNow_():setTimeout(setReels_,200)}function setReelsNow_(){if(gameClass_.getIsTumbling())return gameClass_.spinAnimEndAfterTumbling(),void gameClass_.setTumblingReq(!1);null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var i=0;i<ReelConfig.numReels;i++)spinManager_.getSpinReelResp().reel[i]&&(delayRepeater[i]=spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i);var obj={};if(null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),null!=gameClass_.getLocked&&void 0!=gameClass_.getLocked?0==gameClass_.getLocked()?responseReceived=!0:setTimeout(lockLater_,2e3):responseReceived=!0,1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer())0==freeSpinsManager_.getIsInFs()&&buttonManager_.applyState("STOP");else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}}function lockLater_(){responseReceived=!0}function startSpin_(){gotError_=!1,isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,timeSpin_=(new Date).getTime(),startReel(),soundManager_.playSound("reelSound",gameClass_.getCompulsivePlayer()?null:99),gameClass_.startSpinSound();for(var i=0;i<ReelConfig.numReels;i++){for(var j=0;j<ReelConfig.icons[i];j++){if(Util.getRandomInt(1,100)>60)var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1;else var ind=parseInt(5*Math.random())+1;void 0==reel_[i].getSymbol(j).dispIcon&&reel_[i].replaceIcon(j,ind)}timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,spinReel_([[i],!0])}}function createReelsAfterSpin_(reels){if(!gotError_){for(var i=0;i<ReelConfig.numReels;i++){reel_[i].clearGroup();for(var j=0;j<ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*numIcon_[i])+1;reel_[i].setIcon(j,ind)}}for(var resumeJson=reels,i=0;i<resumeJson.length;i++)for(var a=0;a<resumeJson[i].smb.length;a++)reel_[i].swapSmb(void 0!=resumeJson[i].smb[a].prevsmb?resumeJson[i].smb[a].prevsmb:resumeJson[i].smb[a].smb,a)}}function startSpinFromSwipe_(reel,bounce){if(!gotError_){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}}function stopSpin_(){if(!gotError_){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0;for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=0,null!=tw_[i]&&tw_[i].timeScale(4)}}function spinReelSwipe_(params){if(!gotError_){triggerSymbol_=[];for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function startReel(params){gotError_||setTimeout(setBlurrSmb_,gameClass_.getCompulsivePlayer()?100:500,params,!0)}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(3+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*size_[numIcon_[i]]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone});for(var ii=0;ii<ReelConfig.numReels;ii++)reel_[ii].removeButton()}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:size_[numIcon_[i]]*numIcon_[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn});for(var ii=0;ii<ReelConfig.numReels;ii++)reel_[ii].removeButton()}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];if(responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i])1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:size_[numIcon_[i]]*numIcon_[i]},{y:size_[numIcon_[i]]*(ReelConfig.icons[i]-(3+numIcon_[i]+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom)),onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut});else{if(spinManager_.getSpinReelResp().reel[i]){numIcon_[i]=spinManager_.getSpinReelResp().reel[i].smb.length,reel_[i].updateReelSize(numIcon_[i]),setSmb_(i);for(var j=0;j<ReelConfig.icons[i];j++)c[i][j]=ReelConfig.reel.deltaY_0-size_[numIcon_[i]]*j+size_[numIcon_[i]]/2;for(var j=1;j<=ReelConfig.icons[i];j++)c[i][-1*j]=j}tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:size_[numIcon_[i]]*numIcon_[i]},{y:size_[numIcon_[i]]*(ReelConfig.icons[i]-(3+numIcon_[i]+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}}function ononCompleteFinalStep_(i){if(gameClass.setReelsCallback(i),!gotError_){i<ReelConfig.numReels&&1!=iconSound[i]&&1==reelSound[i]&&soundManager_.playSound("reelSoundFast1"),reelSound[i]=!1,setBlurrSmb_(i,!1),soundManager_.playSound("reelStop");var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]-(numIcon_[i]+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*size_[numIcon_[i]],onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function onStartFinal(i){}function upperSmb_(i){for(var j=0;j<ReelConfig.icons[i];j++)void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(j){for(var i=0;i<numIcon_[j];i++)if(null!=spinManager_.getSpinReelResp().reel[j].smb[i]){var smb=null!=spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb?spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb:spinManager_.getSpinReelResp().reel[j].smb[i].smb;reel_[j].newSmb(smb,i),reel_[j].toggleSpin(i,!0)}}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(soundManager_.stopSound("reelSound"),1==iconSound[i]&&(soundManager_.playSound("reelSoundFast"),iconSound[i]=!1),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,tumbleReset_=!0,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(logger("complete spin mov.------"),gameClass_.spinAnimEnd())}}function tumble_(reel,obj,reels){if(!gotError_){var time=gameClass_.getCompulsivePlayer()?.25:.35;freePos=[],freePosIndex=getSmallest_(obj.index)-1;var dust=!1,numNewIcons=0;0==reel&&(tumbleReset_=!1);for(var b=getSmallest_(obj.index);b<=numIcon_[reel]+obj.index.length;b++){var ind=isTumbling(obj.index,b);if(ind>=0){if(reel_[reel].getArr()[obj.index[ind]].visible=!1,null!=obj.tumbleObj[ind])if(7==obj.tumbleObj[ind].smbNum||8==obj.tumbleObj[ind].smbNum||9==obj.tumbleObj[ind].smbNum){var fr=reel_[reel].getFrameMW(obj.tumbleObj[ind].iconNum);fadeIcon_(fr),fadeIcon_(obj.tumbleObj[ind]),fadeIcon_(obj.tumbleObj[ind].F),void 0!=obj.tumbleObj[ind].BG&&fadeIcon_(obj.tumbleObj[ind].BG)}else fallIcon_(obj.tumbleObj[ind])}else{if(b>numIcon_[reel]){numNewIcons++;for(var newSmb,i=0;i<numIcon_[reel];i++)freePosIndex==i&&(newSmb=void 0!=obj.newSmbs.smb[numIcon_[reel]-1-i].prevsmb?obj.newSmbs.smb[numIcon_[reel]-1-i].prevsmb:obj.newSmbs.smb[numIcon_[reel]-1-i].smb);reel_[reel].swapSmb(newSmb,b)}TweenMax.to(reel_[reel].getArr()[b],time,{delay:.5,y:c[reel][freePosIndex+1],ease:Bounce.easeOut,onComplete:changeIcon,onCompleteParams:[reel,b,freePosIndex+1]}),void 0!=reel_[reel].getTileMW(b)&&(reel_[reel].getTileMW(b).visible=!0),7==reel_[reel].getArr()[b].smbNum||8==reel_[reel].getArr()[b].smbNum||9==reel_[reel].getArr()[b].smbNum?(TweenMax.to(reel_[reel].getFrameMW(b),time,{delay:.5,y:c[reel][freePosIndex+1],ease:Bounce.easeOut}),"7022"==gameParams.gameID&&TweenMax.to(reel_[reel].getTileMW(b),time,{delay:.5,y:c[reel][freePosIndex+1],ease:Bounce.easeOut})):TweenMax.to(reel_[reel].getTileMW(b),time,{delay:.5,y:c[reel][freePosIndex+1],ease:Bounce.easeOut}),0==dust&&(dust=!0,setTimeout(dust_,gameClass_.getCompulsivePlayer()?600:850,reel_[reel].getArr()[b],freePosIndex+2)),freePosIndex++}}}}function fallIcon_(icon){TweenMax.to(icon,.3,{alpha:0,angle:icon.angle-5,y:icon.y+40,x:icon.x-5,onComplete:killIcon_,onCompleteParams:[icon]})}function fadeIcon_(icon){TweenMax.to(icon,.3,{alpha:0,angle:icon.angle-5,onComplete:killIcon_,onCompleteParams:[icon]})}function killIcon_(icon){icon.visible=!1}function dust_(anim,pos){if(!gotError_&&(soundManager_.playSound("tumble"),game.cache.checkImageKey("tumble-smoke"))){var y=ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*pos-ReelConfig.reel.deltaY/10,expl=game_.add.sprite(anim.x,y,"tumble-smoke");expl.anchor.set(.5,0),expl.animations.add("anim"),expl.scale.x=1.2,expl.scale.y=1.2,expl.animations.play("anim",24,!1,!0),displayManager_.getGroup("reels").add(expl)}}function changeIcon(reel,b,free){reel_[reel].getArr()[free]=this.target}function isTumbling(arr,index){for(var a=0;a<arr.length;a++)if(arr[a]==index)return a;return-1}function getSmallest_(arr){for(var ind=arr[0],a=1;a<arr.length;a++)arr[a]<ind&&(ind=arr[a]);return ind}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0),gameClass_.setChange(!1),gameClass_.setTumblingReq(!1),gotError_=!0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<numIcon_[i];j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,tumblingEventManager_,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],slowDownReel=[],iconSound=[],reelSound=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],c=[],gotError_=!1,timeSpin_=0,size_=[];size_[0]=0,size_[1]=0,size_[2]=280,size_[3]=187,size_[4]=140,size_[5]=112,size_[6]=93.3,size_[7]=80;var numIcon_=[],tumbleReset_=!1,me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,createReelsAfterSpin:createReelsAfterSpin_,stopSpinForError:stopSpinForError_,tumble:tumble_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){void 0!=animationMap_[reel][icon]&&reel_[reel].getAllIcons().remove(animationMap_[reel][icon]),animationMap_[reel][icon]=anim},gotError:function(){return gotError_},getFrameMW:function(reel,index){return reel_[reel].getFrameMW(index)},getTileMW:function(reel,index){return reel_[reel].getTileMW(index)},getNumIcons:function(num){return numIcon_[num]},getTumbleDone:function(){return tumbleReset_},restoreIcons:function(reels){createReelsAfterSpin_(reels),tumbleReset_=!0}};return initClass_(),me}function MillionMegaWaysTumblingReel(gameRef,gameClass,_num,num2,swap,len,forceSeven,offs){function Point(x,y){this.x=x||0,this.y=y||0}function init(swap,len){pressDuration_=null!=displayManager.groups.reelsPt?displayManager.groups.reelsPt.clickDuration:2e3,height_=size_[getReelState_()][len],numIcon_=len,mainGroup=displayManager_.getGroup("reels"),group=game_.add.container(),group.x=0,group.y=0;for(var j=0;j<ReelConfig.icons[num];j++){if(img[j]="",imgBlurr[j]="",btn[j]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-size_[5][len]*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+size_[5][len]*j);if(pos[5][j]=new Point(pos_.x+offs_,pos_.y),startPos=group.y,realPos_B_[j]=j,realPos_T_[j]=j,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-size_[6][len]*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+size_[6][len]*j);pos[6][j]=new Point(pos_.x+offs_,pos_.y)}if(0!=swap)for(var i=0;i<len;i++)realPos_B_[i]=len-1-i+ReelConfig.numIconsOnBottom,realPos_T_[i]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-i;1==ReelConfig.canSwipe&&framework.isTouch()&&(button_=new Phaser.Button(game_,btnX_,-1*btnH_),button_.width=btnW_,button_.height=btnH_,button_.inputEnabled=!0,button_.input.enableDrag(),button_.events.onDragStart.add(reelDown_),button_.events.onDragStop.add(reelGo_),button_.events.onDragUpdate.add(keepControl_),button_.input.allowHorizontalDrag=!1,group.add(button_)),mainGroup.add(group)}function removeButton_(){void 0==displayManager.groups.reelsPt&&group.remove(button_)}function restoreButton_(){void 0!=button_&&void 0==displayManager.groups.reelsPt&&(dropEnable=!1,group.add(button_),button_.y=-1*btnH_,lastPos_=-1*btnH_)}function setIcon_(index,icon){void 0!=img[index]&&""!=img[index]&&(group.remove(img[index]),img[index].destroy(),img[index]=null);var ic=(Number(pos[getReelState_()][index].y)+size_[5][len]/2,realPos_B_[index],icon);if(null!=img[index]&&group.remove(img[index]),null!=imgBlurr[index]&&group.remove(imgBlurr[index]),void 0!=bg[index]&&group.remove(bg[index]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon&&(bg[index]=spriteManager_.addSprite(pos[getReelState_()][index].x+ReelConfig.icon.width/2,pos[getReelState_()][index].y+height_/2,"smbBg_"+getReelState_()+"_"+numIcon_),bg[index].visible=!1,bg[index].scaleX=1,bg[index].scaleY=1,bg[index].setOrigin(.5,.5),group.add(bg[index]),bg[index].visible=!0),img[index]=spriteManager_.addSprite(pos[getReelState_()][index].x+ReelConfig.icon.width/2,pos[getReelState_()][index].y+height_/2,"icon"+ic),void 0!=game.cache.obj.entries.entries["bicon"+icon]&&(imgBlurr[index]=spriteManager_.addSprite(pos[getReelState_()][index].x+ReelConfig.icon.width/2,pos[getReelState_()][index].y+height_/2,"bicon"+icon),imgBlurr[index].smbNum=icon,imgBlurr[index].scaleX=1,imgBlurr[index].scaleY=1,imgBlurr[index].setOrigin(.5,.5),imgBlurr[index].visible=!1,group.add(imgBlurr[index])),img[index].smbNum=icon,numIcon_>5&&5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[getReelState_()][numIcon_]/img[index].height+(10==icon?.15:.1);img[index].scaleX=Math.min(ratio,1),img[index].scaleY=Math.min(ratio,1)}else img[index].scaleX=1,img[index].scaleY=1;return img[index].setOrigin(.5,.5),group.add(img[index]),iconN[index]=icon,void 0!=frames[index]&&group.remove(frames[index]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon||(frames[index]=spriteManager_.addSprite(pos[getReelState_()][index].x+ReelConfig.icon.width/2,pos[getReelState_()][index].y+height_/2,"smbFrame_"+getReelState_()+"_"+numIcon_),frames[index].setOrigin(.5,.5),group.add(frames[index]),iconAdjustment_(img[index],icon,frames[index]),frames[index].visible=!0),createButton_(index),img[index]}function resetIconPos_(){for(var j=0;j<ReelConfig.icons[num];j++)img[j].y=pos[getReelState_()][j].y+height_/2}function updateReelSize_(numS){numIcon_=numS,height_=size_[getReelState_()][numS],pressDuration_=2e3;for(var j=0;j<ReelConfig.icons[num];j++){if(btn[j]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-size_[getReelState_()][numS]*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+size_[getReelState_()][numS]*j);pos[getReelState_()][j]=new Point(pos_.x+offs_,pos_.y),realPos_B_[j]=j,realPos_T_[j]=j,img[j].y=pos[getReelState_()][j].y+height_/2,img[j].visible=!1,imgBlurr[j]&&(imgBlurr[j].y=img[j].y,imgBlurr[j].visible=!0),void 0!=bg[j]&&group.remove(bg[j]),5!=img[j].smbNum&&6!=img[j].smbNum&&7!=img[j].smbNum&&8!=img[j].smbNum&&9!=img[j].smbNum&&(bg[j]=spriteManager_.addSprite(img[j].x,img[j].y,"smbBg_"+getReelState_()+"_"+numIcon_),bg[j].scaleX=1,bg[j].scaleY=1,bg[j].setOrigin(.5,.5),group.add(bg[j]),bg[j].visible=!1),setIcon_(j,img[j].smbNum)}for(var i=0;i<numIcon_;i++)realPos_B_[i]=numIcon_-1-i+ReelConfig.numIconsOnBottom,realPos_T_[i]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-i;group.y=0}function resetStartPos_(){group.y=startPos,6==getReelState_()&&(group.y=group.y+62),framework.isTouch()&&restoreButton_()}function removeSymbol_(dest_){var dest;dest=realPos_B_[dest_],img[dest].visible=!1,group.remove(img[dest]),dest=realPos_T_[dest_],img[dest].visible=!1,group.remove(img[dest])}function swapSmb_(icon,dest_,attr_){var dest,attr=attr_;dest=realPos_B_[dest_],group.remove(img[dest]),group.remove(imgBlurr[dest]),null!=img[dest]&&img[dest].destroy(),img[dest]=null;var poss=Number(pos[getReelState_()][dest].y)+height_/2;if(void 0!=bg[dest]&&group.remove(bg[dest]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon&&(bg[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,poss,"smbBg_"+getReelState_()+"_"+numIcon_),bg[dest].visible=!1,bg[dest].scaleX=1,bg[dest].scaleY=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0),null==attr){var ic=icon;img[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"icon"+ic),img[dest].smbNum=icon,iconN[dest]=icon,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null}else null!=attr&&"icon"==attr.type?(logger("swap1 "+attr.subst),img[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"icon"+attr.subst),img[dest].smbNum=attr.icon,iconN[dest]=attr.icon,img[dest].width=ReelConfig.icon.width,img[dest].height=height_):"anim"==attr.type&&(img[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"anim"+icon),img[dest].animations.add("anim"),img[dest].animations.play("anim",24,attr.loop,attr.killOnComplete,attr.callBack,[attr,group]),img[dest].smbNum=icon,iconN[dest]=icon);if(img[dest].reel=num,img[dest].icon=dest_,img[dest].dispIcon=!0,img[dest].attr=attr,img[dest].setOrigin(.5,.5),img[dest].visible=!0,img[dest].scaleX=1,img[dest].scaleY=1,group.add(img[dest]),numIcon_>=5&&5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[getReelState_()][numIcon_]/img[dest].height+(10==icon?.15:.1);img[dest].scaleX=Math.min(ratio,1),img[dest].scaleY=Math.min(ratio,1)}return null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].setOrigin(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),void 0!=frames[dest]&&group.remove(frames[dest]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon||(frames[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,poss,"smbFrame_"+getReelState_()+"_"+numIcon_),frames[dest].setOrigin(.5,.5),group.add(frames[dest]),img[dest].scaleX=1,img[dest].scaleY=1,iconAdjustment_(img[dest],icon,frames[dest]),frames[dest].visible=!0),img[dest]}function iconAdjustment_(image,icon,frame){image.cropEnabled=!0,5==icon&&numIcon_>4?image.setCrop(0,20,frame.width,frame.height):6==icon&&numIcon_>4?image.setCrop(0,20,frame.width,frame.height):7==icon&&numIcon_>4?image.setCrop(0,20,frame.width,frame.height):icon>=7&&numIcon_>4?image.setCrop(0,20,frame.width,frame.height):numIcon_>3?image.setCrop(0,20,frame.width,frame.height):image.setCrop(0,20,frame.width,frame.height),2==numIcon_?image.y=image.y+frame.height-220:3==numIcon_?image.y=image.y+frame.height-92:4==numIcon_?image.y=image.y+frame.height-36:5==numIcon_?image.y=image.y+frame.height-10:6==numIcon_?image.y=image.y+frame.height+12:7==numIcon_?image.y=image.y+frame.height+28:8==numIcon_?image.y=image.y+frame.height+15:9==numIcon_&&(image.y=image.y+frame.height+20)}function toggleSpin_(dest,state){if(null!=imgBlurr[dest]&&(imgBlurr[dest].visible=state,img[dest].visible=!state,1==state&&(5==img[dest].smbNum||6==img[dest].smbNum||7==img[dest].smbNum||8==img[dest].smbNum||9==img[dest].smbNum)))for(var found=!1,j=0;j<ReelConfig.icons[num];j++){if(void 0!=frames[j]&&1==[j].visible){found=!0,imgBlurr[dest].height=frames[j].height+50;break}if(0==found&&void 0!=bg[j]&&1==bg[j].visible){found=!0,imgBlurr[dest].height=bg[j].height+50;break}}}function newSmb_(icon,dest_,attr_){var dest,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1;dest=realPos_T_[dest_],null!=img[dest].mask&&img[dest].mask.destroy(),group.remove(img[dest]),group.remove(imgBlurr[dest]);var poss=Number(pos[getReelState_()][dest].y)+height_/2;if(void 0!=bg[dest]&&group.remove(bg[dest]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon&&(bg[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,poss,"smbBg_"+getReelState_()+"_"+numIcon_),bg[dest].visible=!1,bg[dest].scaleX=1,bg[dest].scaleY=1,
bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0),null==attr||void 0==attr.reels||reel<0?(img[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,poss,"icon"+icon),img[dest].smbNum=icon,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,iconN[dest]=icon):(img[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"icon"+attr.icon[0]),img[dest].smbNum=attr.subst,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"bicon"+attr.icon[0]),imgBlurr[dest].smbNum=attr.subst):imgBlurr[dest]=null,iconN[dest]=attr.subst),img[dest].reel=num,img[dest].icon=dest_,img[dest].dispIcon=!0,img[dest].scaleX=1,img[dest].scaleY=1,img[dest].setOrigin(.5,.5),img[dest].visible=!0,group.add(img[dest]),numIcon_>=5&&5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[getReelState_()][numIcon_]/img[dest].height+(10==icon?.15:.1);img[dest].scaleX=Math.min(ratio,1),img[dest].scaleY=Math.min(ratio,1)}null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].scaleX=1,imgBlurr[dest].scaleY=1,imgBlurr[dest].setOrigin(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),void 0!=frames[dest]&&group.remove(frames[dest]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon||(frames[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,poss,"smbFrame_"+getReelState_()+"_"+numIcon_),frames[dest].setOrigin(.5,.5),group.add(frames[dest]),img[dest].scaleX=1,img[dest].scaleY=1,iconAdjustment_(img[dest],icon,frames[dest]),frames[dest].visible=!0)}function replaceIcon_(dest_,icon,attr_){var dest,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1;dest=realPos_T_[dest_],null!=img[dest].mask&&img[dest].mask.destroy(),group.remove(img[dest]),group.remove(imgBlurr[dest]);var poss=Number(pos[getReelState_()][dest].y)+height_/2;if(void 0!=bg[dest]&&group.remove(bg[dest]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon&&(bg[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,poss,"smbBg_"+getReelState_()+"_"+numIcon_),bg[dest].visible=!1,bg[dest].scaleX=1,bg[dest].scaleY=1,bg[dest].setOrigin(.5,.5),group.add(bg[dest]),bg[dest].visible=!0),null==attr||void 0==attr.reels||reel<0?(img[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"icon"+icon),img[dest].smbNum=icon,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,iconN[dest]=icon):(img[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"icon"+attr.icon[0]),img[dest].smbNum=attr.subst,void 0!=game.cache.obj.entries.entries["bicon"+icon]?(imgBlurr[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,pos[getReelState_()][dest].y+height_/2,"bicon"+attr.icon[0]),imgBlurr[dest].smbNum=attr.subst):imgBlurr[dest]=null,iconN[dest]=attr.subst),img[dest].reel=num,img[dest].icon=dest_,img[dest].dispIcon=void 0,img[dest].scaleX=1,img[dest].scaleY=1,img[dest].setOrigin(.5,.5),img[dest].visible=!0,group.add(img[dest]),null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].scaleX=1,imgBlurr[dest].scaleY=1,imgBlurr[dest].setOrigin(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),void 0!=frames[dest]&&group.remove(frames[dest]),5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon||(frames[dest]=spriteManager_.addSprite(pos[getReelState_()][dest].x+ReelConfig.icon.width/2,poss,"smbFrame_"+getReelState_()+"_"+numIcon_),frames[dest].setOrigin(.5,.5),group.add(frames[dest]),iconAdjustment_(img[dest],icon,frames[dest]),frames[dest].visible=!0),numIcon_>=5&&5!=icon&&6!=icon&&7!=icon&&8!=icon&&9!=icon){var ratio=size_[getReelState_()][numIcon_]/img[dest].height+(10==icon?.15:.1);img[dest].scaleX=Math.min(ratio,1),img[dest].scaleY=Math.min(ratio,1)}return iconN[dest]=icon,createButton_(dest),img[dest]}function click_(dd){}function reelDown_(dd){dropEnable=!1,dd.y=lastPos_,0==buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()}function keepControl_(dd){if(0!=framework.getSettings().getSwipeToSpin()&&1!=dropEnable){if(1==gameClass_.getMessageOnOff())return void(dd.y=startPos);if(0!=buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()){var diff=(lastPos_-dd.y)/3;lastPos_=dd.y,group.y=group.y-diff}}}function reelGo_(dd){return 1==gameClass_.getMessageOnOff()?void(group.y=startPos):(button_.y=-1*btnH_,Math.abs(group.y-startPos)>15&&(dropEnable=!0),void(0!=buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()&&0!=dropEnable&&gameClass_.realDoSpin([!0,num])))}function down_(dd){0==displayManager_.getGroup("reelsPt").visible&&startCounter_(dd)}function up_(dd){stopCounter_(dd)}function startCounter_(icon){timeStart_=(new Date).getTime(),iCtrl=setInterval(pressCtrl,16,icon)}function stopCounter_(icon){clearInterval(iCtrl),timeStart_=0}function pressCtrl(icon){var time=(new Date).getTime();time-timeStart_>=pressDuration_&&(paytableManager_.showReelPt(icon),clearInterval(iCtrl))}function getIcon_(icon){return img[icon]}function createButton_(index){void 0!=displayManager.groups.reelsPt&&(void 0!=btn[index]&&group.remove(btn[index]),btn[index]=null,btn[index]=new Phaser.Button(game_,pos[getReelState_()][index].x,pos[getReelState_()][index].y,null,click_,this),btn[index].scaleX=1,btn[index].scaleY=1,btn[index].visible=!0,btn[index].icon=iconN[index],btn[index].onInputDown.add(down_,this),btn[index].onInputUp.add(up_,this),group.add(btn[index]))}function getReelState_(){return freeSpinsManager_.getIsInFs()&&3==num||tempFix?6:5}var game_=gameRef,gameClass_=gameClass,swap_=swap,num=_num,offs_=void 0!=offs?offs:0,img=[],imgBlurr=[],frames=[],bg=[],btn=[],pos=[],realPos_B_=[],realPos_T_=[];pos[5]=[],pos[6]=[];var startPos,group,mainGroup,timeStart_,pressDuration_,button_,iCtrl,iconN=[],iCtrl=0,btnX_=ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,btnW_=ReelConfig.reel.deltaX,btnH_=ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(ReelConfig.icons[num]-1),lastPos_=-1*btnH_,dropEnable=!1,height_=0,size_=[];size_[5]=[],size_[6]=[],size_[5][0]=0,size_[5][1]=0,size_[5][2]=217,size_[5][3]=144,size_[5][4]=108,size_[5][5]=87,size_[5][6]=72,size_[5][7]=62,size_[6][0]=0,size_[6][1]=0,size_[6][2]=280,size_[6][3]=187,size_[6][4]=140,size_[6][5]=112,size_[6][6]=93,size_[6][7]=80,size_[6][8]=70,size_[6][9]=62;var numIcon_=len,tempFix=void 0!=forceSeven&&1==forceSeven,me={setIcon:setIcon_,replaceIcon:replaceIcon_,resetStartPos:resetStartPos_,removeSymbol:removeSymbol_,swapSmb:swapSmb_,newSmb:newSmb_,getIcon:getIcon_,toggleSpin:toggleSpin_,resetIconPos:resetIconPos_,updateReelSize:updateReelSize_,getReelState:getReelState_,getAllIcons:function(){return group},getPos:function(icon){return freeSpinsManager_.getIsInFs()&&3==num||tempFix?pos[6][icon]:pos[5][icon]},getRealPosSmb:function(icon){return dest=realPos_T_[icon],img[dest]},getSymbol:function(icon){return img[icon]},getIconNum:function(icon){return iconN[icon]},resetSwipeForMsg:function(){resetSwipe_=!0},getReelLen:function(){return reelLen_},getArr:function(){return img},newArray:function(value){img=value},newArrayPos:function(pos,value){img[pos]=value},getFrameMW:function(index){return frames[index]},getTileMW:function(index){return bg[index]},removeButton:removeButton_,clearGroup:function(){group.removeAll()},getNum:function(){return num},getSize:function(){return numIcon_},setNum:function(val){num=val}};return init(swap_,len),me}function MillionMegaWayTumblingSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,tumblingEventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(p){var forceFs=!1,add=0,offset=[];offset[0]=-0,offset[1]=-0,offset[2]=-0,offset[3]=0,offset[4]=0,offset[5]=0,offset[6]=0,1==p&&(forceFs=!0,add=1,offset[0]=-62,offset[1]=-62,offset[2]=-62,offset[3]=-62,offset[4]=-62,offset[5]=-62,offset[6]=-62);for(var i=0;i<ReelConfig.numReels+add;i++){numIcon_[i]=Util.getRandomInt(2,7),null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels&&(numIcon_[i]=void 0!=communicationManager_.getResumeStatus().status.reels[i]?communicationManager_.getResumeStatus().status.reels[i].smb.length:5),reel_[i]=new MillionMegaWaysTumblingReel(game_,gameClass,i,i,null,numIcon_[i],3==i&&forceFs,offset[i]),displayManager_.getGroup("reels").list[i].x=0,animationMap_[i]=[],c[i]=[],cFS[i]=[];for(var j=0;j<ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={},c[i][j]=ReelConfig.reel.deltaY_0-size_[5][numIcon_[i]]*j+size_[5][numIcon_[i]]/2,cFS[i][j]=ReelConfig.reel.deltaY_0-size_[6][numIcon_[i]]*j+size_[6][numIcon_[i]]/2}for(var j=1;j<=ReelConfig.icons[i];j++)c[i][-1*j]=j,cFS[i][-1*j]=j}var resumeJson=null;if(void 0!=spinManager_.getSpinReelResp()&&void 0!=spinManager_.getSpinReelResp().reel?resumeJson=spinManager_.getSpinReelResp().reel:null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels&&(resumeJson=communicationManager_.getResumeStatus().status.reels),null!=resumeJson)for(var i=0;i<resumeJson.length;i++)for(var j=0;j<numIcon_[i];j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){var now=(new Date).getTime();"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction||now-timeSpin_>1500?setReelsNow_():setTimeout(setReels_,200)}function setReelsNow_(){if(gameClass_.getIsTumbling())return gameClass_.spinAnimEndAfterTumbling(),void gameClass_.setTumblingReq(!1);null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var i=0;i<ReelConfig.numReels+getFSNum_();i++)spinManager_.getSpinReelResp().reel[i]&&(delayRepeater[i]=spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i);var obj={};if(null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),null!=gameClass_.getLocked&&void 0!=gameClass_.getLocked?0==gameClass_.getLocked()?responseReceived=!0:setTimeout(lockLater_,2e3):responseReceived=!0,1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer())buttonManager_.applyState("STOP");else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}}function lockLater_(){responseReceived=!0}function startSpin_(){gotError_=!1,isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,timeSpin_=(new Date).getTime(),void 0!=gameClass_.setStickyWild&&gameClass_.setStickyWild(),startReel(),soundManager_.playSound("reelSound",gameClass_.getCompulsivePlayer()?null:99),gameClass_.startSpinSound();for(var i=0;i<ReelConfig.numReels+getFSNum_();i++){for(var j=0;j<ReelConfig.icons[i];j++){if(Util.getRandomInt(1,100)>60)var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1;else var ind=parseInt(5*Math.random())+1;5==ind&&(ind=10),void 0==reel_[i].getSymbol(j).dispIcon&&reel_[i].replaceIcon(j,ind)}timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,spinReel_([[i],!0])}}function createReelsAfterSpin_(reels){if(!gotError_){for(var i=0;i<ReelConfig.numReels;i++){reel_[i].clearGroup();for(var j=0;j<ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*numIcon_[i])+1;reel_[i].setIcon(j,ind)}}for(var resumeJson=reels,i=0;i<resumeJson.length;i++)for(var a=0;a<resumeJson[i].smb.length;a++)reel_[i].swapSmb(void 0!=resumeJson[i].smb[a].prevsmb?resumeJson[i].smb[a].prevsmb:resumeJson[i].smb[a].smb,a)}}function startSpinFromSwipe_(reel,bounce){if(!gotError_){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels+getFSNum_();i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}}function stopSpin_(){if(!gotError_){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0;for(var i=0;i<ReelConfig.numReels+getFSNum_();i++)delayRepeater[i]=0,null!=tw_[i]&&tw_[i].timeScale(4)}}function spinReelSwipe_(params){if(!gotError_){triggerSymbol_=[];for(var i=0;i<ReelConfig.numReels+getFSNum_();i++)delayRepeater[i]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function startReel(params){gotError_||setTimeout(setBlurrSmb_,gameClass_.getCompulsivePlayer()?100:500,params,!0)}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels+getFSNum_()-1&&setTimeout(stopState_,450),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(3+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*size_[getReelState_(i)][numIcon_[i]]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone})}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels+getFSNum_()-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:size_[getReelState_(i)][numIcon_[i]]*numIcon_[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];if(responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i])1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:size_[getReelState_(i)][numIcon_[i]]*numIcon_[i]},{y:size_[getReelState_(i)][numIcon_[i]]*(ReelConfig.icons[i]-(3+numIcon_[i]+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom)),onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut});else{if(spinManager_.getSpinReelResp().reel[i]){numIcon_[i]=spinManager_.getSpinReelResp().reel[i].smb.length,reel_[i].updateReelSize(numIcon_[i]),setSmb_(i);for(var j=0;j<ReelConfig.icons[i];j++)c[i][j]=ReelConfig.reel.deltaY_0-size_[getReelState_(i)][numIcon_[i]]*j+size_[getReelState_(i)][numIcon_[i]]/2;for(var j=1;j<=ReelConfig.icons[i];j++)c[i][-1*j]=j}tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:size_[getReelState_(i)][numIcon_[i]]*numIcon_[i]},{y:size_[getReelState_(i)][numIcon_[i]]*(ReelConfig.icons[i]-(3+numIcon_[i]+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}}function ononCompleteFinalStep_(i){if(gameClass.setReelsCallback(i),!gotError_){i<ReelConfig.numReels+getFSNum_()&&1!=iconSound[i]&&1==reelSound[i]&&soundManager_.playSound("reelSoundFast1"),reelSound[i]=!1,setBlurrSmb_(i,!1),soundManager_.playSound("reelStop");var time=spinManager_.getSpinParams().reelSpinBounceTime,offset=6==getReelState_(i)?62:0;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]-(numIcon_[i]+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*size_[getReelState_(i)][numIcon_[i]]+offset,onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function onStartFinal(i){}function upperSmb_(i){for(var j=0;j<ReelConfig.icons[i];j++)void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(j){for(var i=0;i<numIcon_[j];i++)if(null!=spinManager_.getSpinReelResp().reel[j].smb[i]){var smb=null!=spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb?spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb:spinManager_.getSpinReelResp().reel[j].smb[i].smb;reel_[j].newSmb(smb,i),reel_[j].toggleSpin(i,!0)}}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(soundManager_.stopSound("reelSound"),1==iconSound[i]&&(soundManager_.playSound("reelSoundFast"),iconSound[i]=!1),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,tumbleReset_=!0,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels+getFSNum_();a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(logger("complete spin mov.------"),gameClass_.spinAnimEnd())}}function tumble_(reel,obj,reels){if(!gotError_){var time=gameClass_.getCompulsivePlayer()?.25:.35;freePos=[],freePosIndex=getSmallest_(obj.index)-1;var dust=!1,numNewIcons=0;0==reel&&(tumbleReset_=!1);for(var b=getSmallest_(obj.index);b<=numIcon_[reel]+obj.index.length;b++){var ind=isTumbling(obj.index,b);if(ind>=0){if(reel_[reel].getArr()[obj.index[ind]].visible=!1,null!=obj.tumbleObj[ind])if(5==obj.tumbleObj[ind].smbNum||6==obj.tumbleObj[ind].smbNum||7==obj.tumbleObj[ind].smbNum||8==obj.tumbleObj[ind].smbNum||9==obj.tumbleObj[ind].smbNum){var fr=reel_[reel].getFrameMW(obj.tumbleObj[ind].iconNum);fadeIcon_(fr),fadeIcon_(obj.tumbleObj[ind]),fadeIcon_(obj.tumbleObj[ind].F)}else fallIcon_(obj.tumbleObj[ind])}else{if(b>numIcon_[reel]){numNewIcons++;for(var newSmb,i=0;i<numIcon_[reel];i++)freePosIndex==i&&(newSmb=void 0!=obj.newSmbs.smb[numIcon_[reel]-1-i].prevsmb?obj.newSmbs.smb[numIcon_[reel]-1-i].prevsmb:obj.newSmbs.smb[numIcon_[reel]-1-i].smb);reel_[reel].swapSmb(newSmb,b)}TweenMax.to(reel_[reel].getArr()[b],time,{delay:.5,y:c[reel][freePosIndex+1],ease:Bounce.easeOut,onComplete:changeIcon,onCompleteParams:[reel,b,freePosIndex+1]}),reel_[reel].getTileMW(b)&&(reel_[reel].getTileMW(b).visible=!0),5==reel_[reel].getArr()[b].smbNum||6==reel_[reel].getArr()[b].smbNum||7==reel_[reel].getArr()[b].smbNum||8==reel_[reel].getArr()[b].smbNum||9==reel_[reel].getArr()[b].smbNum?TweenMax.to(reel_[reel].getFrameMW(b),time,{delay:.5,y:c[reel][freePosIndex+1],ease:Bounce.easeOut}):TweenMax.to(reel_[reel].getTileMW(b),time,{delay:.5,y:c[reel][freePosIndex+1],ease:Bounce.easeOut}),0==dust&&(dust=!0,setTimeout(dust_,gameClass_.getCompulsivePlayer()?600:850,reel_[reel].getArr()[b],freePosIndex+2)),freePosIndex++}}}}function fallIcon_(icon){TweenMax.to(icon,.3,{alpha:0,angle:icon.angle-5,y:icon.y+40,x:icon.x-5,onComplete:killIcon_,onCompleteParams:[icon]})}function fadeIcon_(icon){void 0!=icon&&TweenMax.to(icon,.3,{alpha:0,angle:icon.angle-5,onComplete:killIcon_,onCompleteParams:[icon]})}function killIcon_(icon){icon.visible=!1}function dust_(anim,pos){if(!gotError_&&(soundManager_.playSound("tumble"),game.cache.checkImageKey("tumble-smoke"))){var y=ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*pos-ReelConfig.reel.deltaY/10,expl=game_.add.sprite(anim.x,y,"tumble-smoke");expl.anchor.set(.5,0),expl.animations.add("anim"),expl.scale.x=1.2,expl.scale.y=1.2,expl.animations.play("anim",24,!1,!0),displayManager_.getGroup("reels").add(expl)}}function changeIcon(reel,b,free){reel_[reel].getArr()[free]=this.target}function isTumbling(arr,index){for(var a=0;a<arr.length;a++)if(arr[a]==index)return a;return-1}function getSmallest_(arr){for(var ind=arr[0],a=1;a<arr.length;a++)arr[a]<ind&&(ind=arr[a]);return ind}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0),gameClass_.setChange(!1),gameClass_.setTumblingReq(!1),gotError_=!0;for(var i=0;i<ReelConfig.numReels+getFSNum_();i++){setBlurrSmb_(i,!1);for(var j=0;j<numIcon_[i];j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}function getReelState_(i){return freeSpinsManager_.getIsInFs()&&3==i?6:5}function getFSNum_(){return freeSpinsManager_.getIsInFs()?1:0}var eventManager_,responseReceived,tumblingEventManager_,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],slowDownReel=[],iconSound=[],reelSound=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],c=[],cFS=[],gotError_=!1,timeSpin_=0,size_=[];size_[5]=[],size_[6]=[],size_[5][0]=0,size_[5][1]=0,size_[5][2]=217,size_[5][3]=144,size_[5][4]=108,size_[5][5]=87,size_[5][6]=72,size_[5][7]=62,size_[5][8]=0,size_[5][9]=0,size_[6][0]=0,size_[6][1]=0,size_[6][2]=280,size_[6][3]=187,size_[6][4]=140,size_[6][5]=112,size_[6][6]=93,size_[6][7]=80,size_[6][8]=70,size_[6][9]=62;var numIcon_=[],tumbleReset_=!1,me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,createReelsAfterSpin:createReelsAfterSpin_,stopSpinForError:stopSpinForError_,tumble:tumble_,getReelState:getReelState_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){void 0!=animationMap_[reel][icon]&&reel_[reel].getAllIcons().remove(animationMap_[reel][icon]),animationMap_[reel][icon]=anim},gotError:function(){return gotError_},getFrameMW:function(reel,index){return reel_[reel].getFrameMW(index)},getTileMW:function(reel,index){return reel_[reel].getTileMW(index)},getNumIcons:function(num){return numIcon_[num]},getTumbleDone:function(){return tumbleReset_},restoreIcons:function(reels){createReelsAfterSpin_(reels),tumbleReset_=!0}};return initClass_(),me}function OstaraSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var i=0;i<ReelConfig.numReels;i++){reel_[i]=new Reel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={}}}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var j=0;j<ReelConfig.numIcons;j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i,setSmb_(i);var obj={};if(null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer()&&0==freeSpinsManager_.getIsInFs())buttonManager_.applyState("STOP");else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}gameClass_.poppinUpEgg()}function startSpin_(){isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,gotError_=!1,startReel(),gameClass_.getFsLevel()<2?(0!=iStopReelSound_&&stopReelSound_(),soundManager_.playSound("reelSound"+gameClass_.getFsLevel(),gameClass_.getCompulsivePlayer()?null:99)):0==iStopReelSound_?soundManager_.getBGSound("bgSlot3").fadeInBgSoundExternal(250,.7,soundManager_.getBGSound("bgSlot").getSound().currentTime,null):(clearTimeout(iStopReelSound_),iStopReelSound_=setTimeout(stopReelSound_,5e3));for(var i=0;i<ReelConfig.numReels;i++){for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1;reel_[i].replaceIcon(j,ind)}0==wildManager_.getWildReelStickyNum(i)&&(timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,spinReel_([[i],!0]))}}function startSpinFromSwipe_(reel,bounce){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}function stopSpin_(){gameClass_.hasStopped(),0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0,delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;for(var i=0;i<ReelConfig.numReels;i++)null!=tw_[i]&&tw_[i].timeScale(4)}function spinReelSwipe_(params){triggerSymbol_=[],delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function startReel(params){gotError_||setTimeout(setBlurrSmb_,gameClass_.getCompulsivePlayer()?100:500,params,!0)}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*ReelConfig.reel.deltaY+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone})}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?(1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut})):tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}function ononCompleteFinalStep_(i){if(!gotError_){i<4&&1!=iconSound[i]&&1==reelSound[i]&&soundManager_.playSound("reelSoundFast1"),reelSound[i]=!1,setBlurrSmb_(i,!1);var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function onStartFinal(i){0==gameClass_.getCompulsivePlayer()?setTimeout(delaySound,200):delaySound()}function delaySound(){soundManager_.playSound("reelStop")}function upperSmb_(i){for(var j in animationMap_[i])void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<=ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(i){var smb0=null!=spinManager_.getSpinReelResp().reel[i].smb[0].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[0].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[0].smb,smb1=null!=spinManager_.getSpinReelResp().reel[i].smb[1].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[1].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[1].smb,smb2=null!=spinManager_.getSpinReelResp().reel[i].smb[2].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[2].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[2].smb;
1!=spinManager_.getSpinReelResp().reel[i].smb[0].notShow?reel_[i].newSmb(smb0,0):reel_[i].removeSymbol(0),1!=spinManager_.getSpinReelResp().reel[i].smb[1].notShow?reel_[i].newSmb(smb1,1):reel_[i].removeSymbol(1),1!=spinManager_.getSpinReelResp().reel[i].smb[2].notShow?reel_[i].newSmb(smb2,2):reel_[i].removeSymbol(2)}function parseResume_(reel){resumeJson_=reel}function stopReelSound_(){clearTimeout(iStopReelSound_),iStopReelSound_=0,null!=soundManager_.getBGSound("bgSlot3")&&soundManager_.getBGSound("bgSlot3").fadeOutBgSoundExternal(2e3,0)}function onCompleteFinal(i){if(!gotError_){if(4==i&&(gameClass_.getFsLevel()<2?soundManager_.stopSound("reelSound"+gameClass_.getFsLevel()):(clearTimeout(iStopReelSound_),iStopReelSound_=setTimeout(stopReelSound_,5e3))),1==iconSound[i]&&(soundManager_.playSound("reelSoundFast"),iconSound[i]=!1),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(logger("complete spin mov.------"),gameClass_.spinAnimEnd(),balanceManager_.setCanUpdate(!0))}}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){gotError_=!0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],slowDownReel=[],iconSound=[],reelSound=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],iStopReelSound_=0,gotError_=!1,me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,stopSpinForError:stopSpinForError_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){animationMap_[reel][icon]=anim}};return initClass_(),me}function Reel(gameRef,gameClass,_num,num2,swap){function Point(x,y){this.x=x||0,this.y=y||0}function init(swap){mainGroup=displayManager_.getGroup("reels"),group=addGroup();for(var indexIcon=0,dummyIndex=0,j=0;j<ReelConfig.numIconsOnTop;j++){if(img[indexIcon]="",imgBlurr[indexIcon]=null,btn[indexIcon]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*j);pos[indexIcon]=new Point(pos_.x,pos_.y),startPos=group.y,dummyIndex++,indexIcon++}for(var deltaIcon=indexIcon,j=0;j<ReelConfig.numIcons;j++){var indexActualIcon="upperIcon"+j;if(img[indexActualIcon]="",imgBlurr[indexActualIcon]=null,btn[indexActualIcon]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));pos[indexActualIcon]=new Point(pos_.x,pos_.y),indexIcon++}deltaIcon=indexIcon;for(var j=0;j<ReelConfig.icons[num];j++){if(img[dummyIndex]="",imgBlurr[dummyIndex]=null,btn[dummyIndex]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(j+deltaIcon));pos[dummyIndex]=new Point(pos_.x,pos_.y),indexIcon++,dummyIndex++}deltaIcon=indexIcon;for(var j=0;j<ReelConfig.numIcons;j++){var indexActualIcon="lowerIcon"+j;if(img[indexActualIcon]="",imgBlurr[indexActualIcon]=null,btn[indexActualIcon]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));pos[indexActualIcon]=new Point(pos_.x,pos_.y),indexIcon++}deltaIcon=indexIcon;for(var j=0;j<ReelConfig.numIconsOnBottom;j++){if(img[dummyIndex]="",imgBlurr[dummyIndex]=null,btn[dummyIndex]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(j+deltaIcon));pos[dummyIndex]=new Point(pos_.x,pos_.y),dummyIndex++,indexIcon++}mainGroup.add(group)}function setIcon_(index,icon){img[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon,null,null,.5,.5,1,1),imgBlurr[index]=spriteManager_.addSprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"bicon"+gameClass_.getFsIcon(icon)+icon,null,null,.5,.5,1,1),imgBlurr[index].smbNum=icon,imgBlurr[index].visible=!1,group.add(imgBlurr[index]),img[index].smbNum=icon,group.add(img[index]),iconN[index]=icon}function resetStartPos_(){group.y=startPos}function removeSymbol_(dest_){var dest;dest="lowerIcon"+dest_,img[dest].visible=!1,group.remove(img[dest]),dest="upperIcon"+dest_,img[dest].visible=!1,group.remove(img[dest])}function swapSmb_(icon,dest_,attr_){var dest="upperIcon"+dest_,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1,vis=img[dest_].alpha;if(group.remove(img[dest]),null!=imgBlurr[dest]&&group.remove(imgBlurr[dest]),null==attr||void 0==attr.reels)logger("swap "+icon),img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon,null,null,.5,.5,1,1),img[dest].smbNum=icon,iconN[dest]=icon,spriteManager_.getCache("bicon"+gameClass_.getFsIcon(icon)+icon)?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon,null,null,.5,.5,1,1),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null;else if(null!=attr&&"icon"==attr.type||reel<0)logger("swap1 "+attr.subst),img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(attr.subst)+attr.subst,null,null,.5,.5,1,1),img[dest].smbNum=attr.icon,iconN[dest]=attr.icon;else if("anim"==attr.type){var stage=Number(attr_.stage);"timer"==attr.anim[stage]?(logger("swap prev "+attr.icon[stage]),img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(attr.icon[stage])+attr.icon[stage],null,null,.5,.5,1,1),setTimeout(attr.callBack,1e3*attr.delay,[attr,group],img[dest])):"anim"!=attr.anim[stage]&&"boom"!=attr.anim[stage]&&"place"!=attr.anim[stage]||logger("swap play bomb "+attr.icon[stage]),img[dest].smbNum=attr.subst,iconN[dest]=attr.subst,stage++,attr_.stage=stage,attr.reel=num,attr.smb=dest_,attr.realSmb=dest}return img[dest].reel=num,img[dest].icon=dest_,img[dest].attr=attr,img[dest].screen=!0,img[dest].alpha=vis,null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),group.add(img[dest]),img[dest]}function toggleSpin_(dest,state){null!=imgBlurr[dest]&&(imgBlurr[dest].visible=state,img[dest].visible=!state)}function newSmb_(icon,dest_,attr_){var dest="lowerIcon"+dest_,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1;return group.remove(img[dest]),null!=imgBlurr[dest]&&group.remove(imgBlurr[dest]),null==attr||void 0==attr.reels||reel<0?(img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon,null,null,.5,.5,1,1),img[dest].smbNum=icon,spriteManager_.getCache("bicon"+gameClass_.getFsIcon(icon)+icon)?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"bicon"+gameClass_.getFsIcon(icon)+icon,null,null,.5,.5,1,1),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,iconN[dest]=icon):(img[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(attr.icon[0])+attr.icon[0],null,null,.5,.5,1,1),img[dest].smbNum=attr.subst,spriteManager_.getCache("bicon"+gameClass_.getFsIcon(attr.icon[0])+attr.icon[0])?(imgBlurr[dest]=spriteManager_.addSprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"bicon"+gameClass_.getFsIcon(attr.icon[0])+attr.icon[0],null,null,.5,.5,1,1),imgBlurr[dest].smbNum=attr.subst):imgBlurr[dest]=null,iconN[dest]=attr.subst),img[dest].reel=num,img[dest].icon=dest_,img[dest].scree=!1,img[dest].visible=!0,group.add(img[dest]),null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),img[dest]}function replaceIcon_(index,icon,attr){return img[index]}function replaceIcon2_(index,icon,attr){return img[index]}function getIcon_(icon){return img[icon]}function getIconYanchorOffsett_(icon){return null!=ReelConfig.iconsAnchorOffset&&ReelConfig.iconsAnchorOffset.indexOf(icon)>=0?ReelConfig.reel.deltaY/2:0}var startPos,group,mainGroup,gameClass_=gameClass,swap_=swap,num=_num,img=[],imgBlurr=[],btn=[],pos=[],iconN=[],me={setIcon:setIcon_,replaceIcon:replaceIcon_,replaceIcon2:replaceIcon2_,resetStartPos:resetStartPos_,removeSymbol:removeSymbol_,swapSmb:swapSmb_,newSmb:newSmb_,getIcon:getIcon_,toggleSpin:toggleSpin_,getAllIcons:function(){return group},getPos:function(icon){var dest="upperIcon"+icon;return pos[dest]},getRealPosSmb:function(icon){var dest="upperIcon"+icon;return img[dest]},getSymbol:function(icon){var dest="upperIcon"+icon;return img[dest]},setVisible:function(icon,flag){var dest="upperIcon"+icon;img[dest].alpha=flag?1:0},getIconNum:function(icon){var dest="upperIcon"+icon;return iconN[dest]},resetSwipeForMsg:function(){resetSwipe_=!0}};return init(swap_),me}function ReelBubbles(gameRef,gameClass,_num,num2,swap){function Point(x,y){this.x=x||0,this.y=y||0}function init(swap){pressDuration_=null!=displayManager.groups.reelsPt?displayManager.groups.reelsPt.clickDuration:2e3,mainGroup=displayManager_.getGroup("reels"),group=game_.add.group(),groupOver=game_.add.group();for(var j=0;j<ReelConfig.icons[num];j++){if(img[j]="",imgBlurr[j]=null,btn[j]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*j);pos[j]=new Point(pos_.x,pos_.y),startPos=group.y,realPos_B_[j]=j,realPos_T_[j]=j}0!=swap&&(3==ReelConfig.numIcons?(realPos_B_[0]=2+ReelConfig.numIconsOnBottom,realPos_B_[1]=1+ReelConfig.numIconsOnBottom,realPos_B_[2]=0+ReelConfig.numIconsOnBottom,realPos_T_[0]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-0,realPos_T_[1]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-1,realPos_T_[2]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-2):4==ReelConfig.numIcons&&(realPos_B_[0]=3+ReelConfig.numIconsOnBottom,realPos_B_[1]=2+ReelConfig.numIconsOnBottom,realPos_B_[2]=1+ReelConfig.numIconsOnBottom,realPos_B_[3]=0+ReelConfig.numIconsOnBottom,realPos_T_[0]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-0,realPos_T_[1]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-1,realPos_T_[2]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-2,realPos_T_[3]=ReelConfig.icons[num]-1-ReelConfig.numIconsOnTop-3)),1==ReelConfig.canSwipe&&framework.isTouch()&&(button_=new Phaser.Button(game_,btnX_,-1*btnH_),button_.width=btnW_,button_.height=btnH_,button_.inputEnabled=!0,button_.input.enableDrag(),button_.events.onDragStart.add(reelDown_),button_.events.onDragStop.add(reelGo_),button_.events.onDragUpdate.add(keepControl_),button_.input.allowHorizontalDrag=!1,group.add(button_)),group.addChild(groupOver),mainGroup.add(group)}function removeButton_(){void 0==displayManager.groups.reelsPt&&group.remove(button_)}function restoreButton_(){void 0!=button_&&void 0==displayManager.groups.reelsPt&&(dropEnable=!1,group.add(button_),button_.y=-1*btnH_,lastPos_=-1*btnH_)}function setIcon_(index,icon){img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon),game.cache.checkImageKey("bicon"+gameClass_.getFsIcon(icon)+icon)&&(imgBlurr[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"bicon"+gameClass_.getFsIcon(icon)+icon),imgBlurr[index].smbNum=icon,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?imgBlurr[index].scale.x=-1:imgBlurr[index].scale.x=1,imgBlurr[index].scale.y=1,imgBlurr[index].anchor.set(.5,.5),imgBlurr[index].visible=!1,group.add(imgBlurr[index])),img[index].smbNum=icon,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?img[index].scale.x=-1:img[index].scale.x=1,img[index].scale.y=1,img[index].anchor.set(.5,.5),group.add(img[index]),iconN[index]=icon,createButton_(index)}function resetStartPos_(){group.y=startPos,framework.isTouch()&&restoreButton_()}function removeSymbol_(dest_){var dest;dest=realPos_B_[dest_],img[dest].visible=!1,group.remove(img[dest]),dest=realPos_T_[dest_],img[dest].visible=!1,group.remove(img[dest])}function swapSmb_(icon,dest_,attr_){var dest,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1;dest=realPos_B_[dest_];var vis=img[realPos_T_[dest_]].alpha;if(group.remove(img[dest]),null!=imgBlurr[dest]&&group.remove(imgBlurr[dest]),null==attr||void 0==attr.reels)logger("swap "+icon),img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon),img[dest].smbNum=icon,iconN[dest]=icon,game.cache.checkImageKey("bicon"+gameClass_.getFsIcon(icon)+icon)?(imgBlurr[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null;else if(null!=attr&&"icon"==attr.type||reel<0)logger("swap1 "+attr.subst),img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(attr.subst)+attr.subst),img[dest].smbNum=attr.icon,iconN[dest]=attr.icon;else if("anim"==attr.type){var stage=Number(attr_.stage);"timer"==attr.anim[stage]?(logger("swap prev "+attr.icon[stage]),img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(attr.icon[stage])+attr.icon[stage]),setTimeout(attr.callBack,1e3*attr.delay,[attr,group],img[dest])):"anim"!=attr.anim[stage]&&"boom"!=attr.anim[stage]&&"place"!=attr.anim[stage]||(logger("swap play bomb "+attr.icon[stage]),soundManager_.playSound("fuse"),img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"anim"+gameClass_.getFsIcon(attr.icon[stage])+attr.icon[stage]),img[dest].animations.add("anim"),img[dest].animations.play("anim",gameClass_.getCompulsivePlayer()?52:36,attr.loop,attr.killOnComplete,attr.callBack,[attr,group])),img[dest].smbNum=attr.subst,iconN[dest]=attr.subst,stage++,attr_.stage=stage,attr.reel=num,attr.smb=dest_,attr.realSmb=dest}return img[dest].reel=num,img[dest].icon=dest_,img[dest].attr=attr,img[dest].screen=!0,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?img[dest].scale.x=-1:img[dest].scale.x=1,img[dest].anchor.set(.5,.5),img[dest].alpha=vis,null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?imgBlurr[dest].scale.x=-1:imgBlurr[dest].scale.x=1,imgBlurr[dest].scale.y=1,imgBlurr[dest].anchor.set(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),group.add(img[dest]),img[dest]}function toggleSpin_(dest,state){null!=imgBlurr[dest]&&(imgBlurr[dest].visible=state,img[dest].visible=!state)}function newSmb_(icon,dest_,attr_){var dest,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1;return dest=realPos_T_[dest_],group.remove(img[dest]),null!=imgBlurr[dest]&&group.remove(imgBlurr[dest]),null==attr||void 0==attr.reels||reel<0?(img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"icon"+gameClass_.getFsIcon(icon)+icon),img[dest].smbNum=icon,game.cache.checkImageKey("bicon"+gameClass_.getFsIcon(icon)+icon)?(imgBlurr[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2+getIconYanchorOffsett_(icon),"bicon"+gameClass_.getFsIcon(icon)+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,iconN[dest]=icon):(img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(attr.icon[0])+attr.icon[0]),img[dest].smbNum=attr.subst,game.cache.checkImageKey("bicon"+gameClass_.getFsIcon(attr.icon[0])+attr.icon[0])?(imgBlurr[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"bicon"+gameClass_.getFsIcon(attr.icon[0])+attr.icon[0]),imgBlurr[dest].smbNum=attr.subst):imgBlurr[dest]=null,iconN[dest]=attr.subst),img[dest].reel=num,img[dest].icon=dest_,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?img[dest].scale.x=-1:img[dest].scale.x=1,img[dest].scree=!1,img[dest].scale.y=1,img[dest].anchor.set(.5,.5),img[dest].visible=!0,group.add(img[dest]),null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?imgBlurr[dest].scale.x=-1:imgBlurr[dest].scale.x=1,imgBlurr[dest].scale.y=1,imgBlurr[dest].anchor.set(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),createButton_(dest),img[dest]}function replaceIcon_(index,icon,attr){return img[index].visible=!1,group.remove(img[index]),img[index]=null,null==attr||"icon"==attr.type?(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(icon)+icon),img[index].alpha=1):"fade"==attr.type?(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(icon)+icon),img[index].alpha=0,TweenMax.to(img[index],.4,{alpha:1})):"anim"==attr.type&&(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"anim"+gameClass_.getFsIcon(attr.icon[0])+attr.icon[0]),img[index].alpha=1,img[index].animations.add("anim"),img[index].animations.play("anim",24,attr.loop,attr.killOnComplete,attr.callBack,[attr])),img[index].reel=num,img[index].icon=index,img[index].smbNum=icon,img[index].attr=attr,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?img[index].scale.x=-1:img[index].scale.x=1,img[index].screen=!0,img[index].scale.y=1,img[index].anchor.set(.5,.5),group.add(img[index]),iconN[index]=icon,createButton_(index),img[index]}function replaceIcon2_(index,icon,attr){function callback(par){attr.callBack(par)}return img[index].visible=!1,group.remove(img[index]),img[index]=null,null==attr||"icon"==attr.type?(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(icon)+icon),img[index].alpha=1):"fade"==attr.type?(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"icon"+gameClass_.getFsIcon(icon)+icon),img[index].alpha=0,TweenMax.to(img[index],.4,{alpha:1})):"anim"==attr.type&&(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,attr.icon),img[index].alpha=1,img[index].animations.add("anim"),img[index].animations.play("anim",24,attr.loop,attr.killOnComplete,null!=attr.callBack?callback:null,"this"!=attr.param?[attr]:img[index])),img[index].reel=num,img[index].icon=index,img[index].smbNum=icon,img[index].attr=attr,num<2&&void 0!=ReelConfig.simbolsReflection&&ReelConfig.simbolsReflection.indexOf(icon)>=0?img[index].scale.x=-1:img[index].scale.x=1,img[index].screen=!0,img[index].scale.y=1,img[index].anchor.set(.5,.5),group.add(img[index]),iconN[index]=icon,createButton_(index),img[index]}function click_(dd){}function reelDown_(dd){dropEnable=!1,dd.y=lastPos_,0==buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()}function keepControl_(dd){if(0!=framework.getSettings().getSwipeToSpin()&&1!=dropEnable){if(1==gameClass_.getMessageOnOff())return void(dd.y=startPos);if(0!=buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()){var diff=(lastPos_-dd.y)/3;lastPos_=dd.y,group.y=group.y-diff}}}function reelGo_(dd){return 1==gameClass_.getMessageOnOff()?void(group.y=startPos):(button_.y=-1*btnH_,Math.abs(group.y-startPos)>15&&(dropEnable=!0),void(0!=buttonManager_.getButton(frameworkSettings.buttons.spinButton.id).isEnable()&&0!=dropEnable&&gameClass_.realDoSpin([!0,num])))}function down_(dd){0==displayManager_.getGroup("reelsPt").visible&&startCounter_(dd)}function up_(dd){stopCounter_(dd)}function startCounter_(icon){timeStart_=(new Date).getTime(),iCtrl=setInterval(pressCtrl,16,icon)}function stopCounter_(icon){clearInterval(iCtrl),timeStart_=0}function pressCtrl(icon){var time=(new Date).getTime();time-timeStart_>=pressDuration_&&(paytableManager_.showReelPt(icon),clearInterval(iCtrl))}function getIcon_(icon){return img[icon]}function createButton_(index){void 0!=displayManager.groups.reelsPt&&(void 0!=btn[index]&&group.remove(btn[index]),btn[index]=null,btn[index]=new Phaser.Button(game_,pos[index].x,pos[index].y,null,click_,this),btn[index].scale.x=1,btn[index].scale.y=1,btn[index].visible=!0,btn[index].icon=iconN[index],btn[index].onInputDown.add(down_,this),btn[index].onInputUp.add(up_,this),group.add(btn[index]))}function getIconYanchorOffsett_(icon){return null!=ReelConfig.iconsAnchorOffset&&ReelConfig.iconsAnchorOffset.indexOf(icon)>=0?ReelConfig.reel.deltaY/2:0}var startPos,group,groupOver,mainGroup,timeStart_,pressDuration_,button_,iCtrl,game_=gameRef,gameClass_=gameClass,swap_=swap,num=_num,img=[],imgBlurr=[],btn=[],pos=[],realPos_B_=[],realPos_T_=[],iconN=[],iCtrl=0,btnX_=ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,btnW_=ReelConfig.reel.deltaX,btnH_=ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(ReelConfig.icons[num]-1),lastPos_=-1*btnH_,dropEnable=!1,me={setIcon:setIcon_,replaceIcon:replaceIcon_,replaceIcon2:replaceIcon2_,resetStartPos:resetStartPos_,removeSymbol:removeSymbol_,swapSmb:swapSmb_,newSmb:newSmb_,getIcon:getIcon_,toggleSpin:toggleSpin_,getAllIcons:function(){return group},getPos:function(icon){return pos[icon]},getRealPosSmb:function(icon){var dest=realPos_T_[icon];return img[dest]},getSymbol:function(icon){return img[icon]},setVisible:function(icon,flag){var dest=realPos_T_[icon];img[icon].alpha=flag?1:0,img[dest].alpha=flag?1:0},getIconNum:function(icon){return iconN[icon]},resetSwipeForMsg:function(){resetSwipe_=!0},removeButton:removeButton_};return init(swap_),me}function RotatingSpin(gameRef,gameClass){var normalSpin_=Object.create(new Spin(gameRef,gameClass));return normalSpin_.createReels=function(){for(var i=0;i<ReelConfig.numReels;i++){normalSpin_.reel_[i]=new Reel(game_,gameClass,i);for(var j=0;j<ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;normalSpin_.reel_[i].setIcon(j,ind)}}},normalSpin_}function SingleIconReelSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,null!=$(".debug")&&(window.top.location.href.indexOf("local")>=0||window.top.location.href.indexOf("192.168.")>=0)){debugReelSmb=[];for(var i=0;i<ReelConfig.numReels;i++){debugReelSmb[i]=[];for(var j=0;j<ReelConfig.numIcons;j++)debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0]}}}function createReels_(){if(masks.length>0){for(var a in masks)masks[a].destroy(),masks[a]=null;masks=[]}for(var i=0;i<ReelConfig.numReels;i++){reel_[i]=[];for(var j=0;j<ReelConfig.numIcons;j++)for(reel_[i][j]=new Reel(game_,gameClass,i,j),jj=0;jj<ReelConfig.icons[i];jj++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i][j].setIcon(jj,ind)}}setMask_()}function setMask_(){if(masks.length>0){for(var a in masks)masks[a].destroy(),masks[a]=null;masks=[]}for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++){var mask_=game_.add.graphics(0,0);mask_.beginFill(16777215),mask_.drawRect(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*i,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(j+1)+15,ReelConfig.icon.width,ReelConfig.icon.height-25),reel_[i][j].getAllIcons().mask=mask_}}function setReels_(){buttonManager_.applyState("STOP");for(var i=0;i<ReelConfig.numReels;i++)setSmb_(i);twinReels_=[],setTimeout(twinReelManager_.showTwinReels,200),iStopIntervalIndex_=0}function startSpin_(){setReels_(),reelArrived_=0,eventManager_.clearEvt();for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)eventManager_.addEvent(spinReel_,0*i,[i,j,!0]);eventManager_.triggerEvt()}function startSpinFromSwipe_(reel,bounce){var index=0;reelArrived_=0,setReels_(),eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++){for(var j=0;j<ReelConfig.numIcons;j++)eventManager_.addEvent(spinReel_,ReelConfig.reelInterval*index,[i,j,bounce]);index++}for(var i=0;i<reel;i++){for(var j=0;j<ReelConfig.numIcons;j++)eventManager_.addEvent(spinReel_,ReelConfig.reelInterval*index,[i,j,bounce]);index++}eventManager_.triggerEvt()}function stopSpin_(){for(var i=0;i<ReelConfig.numReels;i++)void 0!=tw_[i]&&tw_[i].timeScale(4)}function spinReel_(params){var i=params[0],j=params[1];params[2];i==ReelConfig.numReels-1&&soundManager_.playSound("reelSound",99);var time=gameClass_.getAutoPlayStatus()?2:ReelConfig.reel.time[0];time+=iStopIntervalIndex_*ReelConfig.reelStopInterval,null!=twinReels_[i]||iStopIntervalIndex_++,tw_[i]=TweenMax.to(reel_[i][j].getAllIcons(),time,{y:(ReelConfig.icons[i]-4)*ReelConfig.reel.deltaY+ReelConfig.reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i,j]}),reel_[i][j].removeButton()}function upperSmb_(i,jj){reel_[i][jj].swapSmb(ReelConfig.icons[i]-3,1),reel_[i][jj].swapSmb(ReelConfig.icons[i]-2,2),reel_[i][jj].swapSmb(ReelConfig.icons[i]-1,3)}function setSmb_(i){for(var jj=0;jj<ReelConfig.numIcons;jj++){for(var j=0;j<ReelConfig.icons[i];j++)if(1!=j&&2!=j&&3!=j){var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1;reel_[i][jj].newSmb(ind,j)}var smb0=null!=debugReelSmb&&"#"!=debugReelSmb[i][0].value?debugReelSmb[i][0].value:parseInt(Math.random()*ReelConfig.numIcon-1)+1,smb1=null!=debugReelSmb&&"#"!=debugReelSmb[i][1].value?debugReelSmb[i][1].value:parseInt(Math.random()*ReelConfig.numIcon-1)+1,smb2=null!=debugReelSmb&&"#"!=debugReelSmb[i][2].value?debugReelSmb[i][2].value:parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i][jj].newSmb(smb0,ReelConfig.icons[i]-1),reel_[i][jj].newSmb(smb1,ReelConfig.icons[i]-2),reel_[i][jj].newSmb(smb2,ReelConfig.icons[i]-3)}}function onCompletePreFinal(i,j){tw_[i]=TweenMax.to(reel_[i][j].getAllIcons(),ReelConfig.reelSpinBounceTime,{y:(ReelConfig.icons[i]-4)*ReelConfig.reel.deltaY,onComplete:onCompleteFinal,onCompleteParams:[i,j],ease:Back.easeOut.config(ReelConfig.reelSpinBounceForce)})}function onCompleteFinal(i,j){upperSmb_(i,j),reel_[i][j].resetStartPos()}function getReels_(){return reel_}var eventManager_,debugReelSmb,game_=gameRef,gameClass_=gameClass,reel_=[],tw_=[],reelArrived_=0,twinReels_=[],iStopIntervalIndex_=0,masks=[],me={createReels:createReels_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,startSpinFromSwipe:startSpinFromSwipe_,reel:reel_,setMask:setMask_};return initClass_(),me}function Spin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<=ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0]}function createReels_(){for(var i=0;i<ReelConfig.numReels;i++){reel_[i]=new Reel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={}}}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var j=0;j<ReelConfig.numIcons;j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var now=(new Date).getTime(),i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=now-timeSpin_<500?spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i:spinManager_.getSpinParams().reelStopInterval*i,setSmb_(i);var obj={};null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound,iconEffect=obj.iconEffect),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200);var waitWildAnim=null!=gameClass_.waitWildAnim&&gameClass_.waitWildAnim();if(waitWildAnim?null!=gameClass_.spinFightAnim&&gameClass_.spinFightAnim():responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer()&&0==freeSpinsManager_.getIsInFs())buttonManager_.applyState("STOP");else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}}function startSpin_(){isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,gotError_=!1,timeSpin_=(new Date).getTime(),startReel(),soundManager_.playSound("reelSound");for(var i=0;i<ReelConfig.numReels;i++){
for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1;reel_[i].replaceIcon(j,ind)}0==wildManager_.getWildReelStickyNum(i)&&(timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,setTimeout(spinReel_,gameClass_.getCompulsivePlayer()?0:spinManager_.getSpinParams().reelInterval*i,[[i],!0]))}}function startSpinFromSwipe_(reel,bounce){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}function stopSpin_(){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0,delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;for(var i=0;i<ReelConfig.numReels;i++)null!=tw_[i]&&tw_[i].timeScale(4),gameClass_.removeReelFlames&&gameClass_.removeReelFlames(i);null!=gameClass_.hasStopped&&gameClass_.hasStopped()}function spinReelSwipe_(params){triggerSymbol_=[],delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function startReel(params){gotError_||setTimeout(setBlurrSmb_,gameClass_.getCompulsivePlayer()?100:500,params,!0)}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*ReelConfig.reel.deltaY+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone});for(var ii=0;ii<ReelConfig.numReels;ii++)reel_[ii].removeButton()}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?(1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut})):(setBlurrSmb_(i,!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut}))}}function ononCompleteFinalStep_(i){if(!gotError_){i<4&&1!=iconSound[i]&&1==reelSound[i]&&"7015"!=gameParams.gameID&&soundManager_.playSound("reelSoundFast1_"+i);var nextReel=Number(i)+1;nextReel<=ReelConfig.numReels-1&&reelSound[nextReel]&&void 0!=gameClass_.startReelFlames&&(soundManager_.playSound("reelSoundFast1_"+i),reelToStop_="reelSoundFast1_"+i,setTimeout(gameClass_.startReelFlames,500,nextReel)),reelSound[i]=!1,soundManager_.playSound("reelStop");var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function onStartFinal(i){}function upperSmb_(i){for(var j in animationMap_[i])void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<=ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(i){var smb0=null!=spinManager_.getSpinReelResp().reel[i].smb[0].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[0].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[0].smb,smb1=null!=spinManager_.getSpinReelResp().reel[i].smb[1].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[1].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[1].smb,smb2=null!=spinManager_.getSpinReelResp().reel[i].smb[2].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[2].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[2].smb;if(4==ReelConfig.numIcons)var smb3=null!=spinManager_.getSpinReelResp().reel[i].smb[3].prevsmb?spinManager_.getSpinReelResp().reel[i].smb[3].prevsmb:spinManager_.getSpinReelResp().reel[i].smb[3].smb;1!=spinManager_.getSpinReelResp().reel[i].smb[0].notShow?reel_[i].newSmb(smb0,0):reel_[i].removeSymbol(0),1!=spinManager_.getSpinReelResp().reel[i].smb[1].notShow?reel_[i].newSmb(smb1,1):reel_[i].removeSymbol(1),1!=spinManager_.getSpinReelResp().reel[i].smb[2].notShow?reel_[i].newSmb(smb2,2):reel_[i].removeSymbol(2),4==ReelConfig.numIcons&&(1!=spinManager_.getSpinReelResp().reel[i].smb[3].notShow?reel_[i].newSmb(smb3,3):reel_[i].removeSymbol(3))}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(""!=reelToStop_&&1==ReelConfig.stopTurboReel&&(soundManager_.stopSound(reelToStop_),reelToStop_=""),1!=iconSound[i]||isStopped_||(soundManager_.playSound("reelSoundFast_"+i),soundManager_.playSound("jackpotLand"),reelToStop_="reelSoundFast_"+i,iconSound[i]=!1),void 0!=iconEffect&&""!=iconEffect[i]&&(soundManager_.playSound(iconEffect[i]),iconEffect[i]=""),void 0!=gameClass_.removeReelFlames&&gameClass_.removeReelFlames(i),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(soundManager_.getSound("reelSound").stop(),soundManager_.stopSound(reelToStop_),logger("complete spin mov.------"),gameClass_.spinAnimEnd(),balanceManager_.setCanUpdate(!0))}}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){gotError_=!0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1),gameClass_.removeReelFlames&&gameClass_.removeReelFlames(i);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),soundManager_.stopSound(reelToStop_),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],timeSpin_=0,slowDownReel=[],iconSound=[],reelSound=[],iconEffect=[],reelToStop_="",timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],gotError_=!1,me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,stopSpinForError:stopSpinForError_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){animationMap_[reel][icon]=anim},setResponseReceived:function(){responseReceived=!0}};return initClass_(),me}function SpinManager(gameRef,gameClass){function initClass_(){try{spinClass_=new window[ReelConfig.spinType](game_,gameClass_)}catch(e){logger("error looking for bonus class "+ReelConfig.spinType)}}function createReels_(p){spinClass_.createReels(p)}function stopSpin_(){spinClass_.stopSpin()}function getReels_(){return spinClass_.getReels()}function parse_(json){if(0==spinned_)return void setTimeout(parse_,200,json);if(gcmCalls_("BALANCESPIN",[balanceManager_.getDisplayBalance(),balanceManager_.getCoinValue(),json.win.total]),balanceManager_.setBalanceUpdated(!1),"_7014"==gameParams.gameID){var spinR={};spinR.reel=[];for(var i=0;i<json.spin.reel.length;i++){spinR.reel[i]={},spinR.reel[i].smb=[];for(var ind=0,a=0;a<json.spin.reel[i].smb.length;a++)"remove"!=json.spin.reel[i].smb[a].special&&(spinR.reel[i].smb[ind]=json.spin.reel[i].smb[a],spinR.reel[i].smb[ind].id=ind,ind++)}json.spin=spinR}else for(var i=0;i<json.spin.reel.length;i++)for(var a=0;a<json.spin.reel[i].smb.length;a++)json.spin.reel[i].smb[a].notShow=!1,"7013"==gameParams.gameID&&(6==json.spin.reel[i].smb[a].smb&&null==json.spin.reel[i].smb[a].prevsmb&&null!=json.spin.reel[i].smb[a].special&&json.spin.reel[i].smb[a].special.split("-").indexOf("origin")<0&&(json.spin.reel[i].smb[a].notShow=!0),7==json.spin.reel[i].smb[a].smb&&null==json.spin.reel[i].smb[a].prevsmb&&null!=json.spin.reel[i].smb[a].special&&json.spin.reel[i].smb[a].special.split("-").indexOf("origin")<0&&(json.spin.reel[i].smb[a].notShow=!0),8==json.spin.reel[i].smb[a].smb&&null==json.spin.reel[i].smb[a].prevsmb&&null!=json.spin.reel[i].smb[a].special&&json.spin.reel[i].smb[a].special.split("-").indexOf("origin")<0&&(json.spin.reel[i].smb[a].notShow=!0),10==json.spin.reel[i].smb[a].smb&&null==json.spin.reel[i].smb[a].prevsmb&&null!=json.spin.reel[i].smb[a].special&&json.spin.reel[i].smb[a].special.indexOf("origin")<0&&(json.spin.reel[i].smb[a].notShow=!0));spinResponse_=json,getResponse_=!0,spinClass_.setReels()}function setSpinType_(type,num){if(spinSwipe_=type,swipeReel_=num,getResponse_=!1,spinned_=!1,null!=spinClass_.preSpin&&spinClass_.preSpin(),1==spinSwipe_)setTimeout(spinClass_.startSpinFromSwipe,0,swipeReel_,!1);else if(1==wildManager_.hasWildReel()){for(var sticky=!1,i=0;i<ReelConfig.numReels;i++)1==wildManager_.getWildReelStickyNum(i)&&(sticky=!0);0==sticky?setTimeout(startSpin_,ReelConfig.wildReelRollbackSpinDelay):startSpin_()}else null!=gameClass_.hasStickyDelay&&1==gameClass_.hasStickyDelay()?setTimeout(startSpin_,0):setTimeout(startSpin_,0)}function startSpin_(){spinClass_.startSpin(),setTimeout(setSpinFlag_,10)}function setSpinFlag_(){spinned_=!0}function sendSpinRequest_(){clientMessageSend("play-start"),gcmCalls_("ANIMATION_START",null,!0),gcmCalls_("PAID",0,!0);var force=[];if(null!=$(".debug")&&"Enable"==gameParams.force)if(1==ReelConfig.newComm)for(var j=0;j<ReelConfig.numReels;j++){force[j]=[];for(var i=0;i<ReelConfig.numIcons;i++)force[j].push(document.getElementsByName("d"+j+i)[0].value);"7023"==gameParams.gameID&&(force[j].push("r"),force[j].push("r"))}else{for(var j=0;j<ReelConfig.numIcons;j++){force[j]=[];for(var i=0;i<ReelConfig.numReels;i++)force[j].push(document.getElementsByName("d"+i+j)[0].value)}void 0!=document.getElementsByName("sideFeature")&&force.push(document.getElementsByName("sideFeature")[0].value),communicationManager_.sendServleForceSpinReq("spin",force)}else communicationManager_.sendServletRequest("spin");window.sendCustomEvent("f1x2gan",{detail:"playStarted"})}function sendBfRequest_(args){clientMessageSend("play-start"),gcmCalls_("ANIMATION_START",null,!0),gcmCalls_("PAID",0,!0),communicationManager_.sendServletBfRequest("spin",args),window.sendCustomEvent("f1x2gan",{detail:"playStarted"})}function getSpinParams_(){var def={stopEnabled:!0,reelSecondMovementTime:.4,reelLoopInterval:.12,reelPreMovement:0,reelPreMovementTime:0,reelBaseInterval:4,reelStopInterval:1,reelSpinBounceMeasure:40,reelSpinBounceTime:.28,reelSpinBounceForce:1.2,minimumTime:.5};if("se"==loginVars.getRegParams().jurisdiction||"co"==loginVars.getRegParams().jurisdiction){if(null!=ReelConfig.spinConfig.es)return ReelConfig.spinConfig.es;if(null!=ReelConfig.spinConfig["default"])return ReelConfig.spinConfig["default"]}else{if(null!=ReelConfig.spinConfig[loginVars.getRegParams().jurisdiction])return ReelConfig.spinConfig[loginVars.getRegParams().jurisdiction];if(null!=ReelConfig.spinConfig["default"])return ReelConfig.spinConfig["default"]}return def}function stopSpinForError_(){null!=spinClass_.stopSpinForError&&spinClass_.stopSpinForError()}var spinClass_,spinSwipe_,swipeReel_,spinResponse_,game_=gameRef,gameClass_=gameClass,getResponse_=!1,spinned_=!1,me={createReels:createReels_,stopSpin:stopSpin_,getReels:getReels_,parse:parse_,setSpinType:setSpinType_,sendSpinRequest:sendSpinRequest_,sendBfRequest:sendBfRequest_,getSpinParams:getSpinParams_,stopSpinForError:stopSpinForError_,getSpinResp:function(){return spinResponse_},getSpinReelResp:function(){return void 0!=spinResponse_?spinResponse_.spin:null},getFsResp:function(){return spinResponse_.freeSpin},getWinResp:function(){return spinResponse_.win},getAllMap:function(){return spinClass_.getAllMap()},getAnimationMap:function(reel,icon){return spinClass_.getAnimationMap(reel,icon)},setAnimationMap:function(reel,icon,anim){spinClass_.setAnimationMap(reel,icon,anim)},getReelGroup:function(reel){return spinClass_.getReels()[reel].getAllIcons()},getReelOuterGroup:function(reel){return spinClass_.getReels()[reel].getOuterGroup()},gotResponse:function(){return getResponse_},addTriggerIcon:function(obj){spinClass_.addTriggerIcon(obj)},getTriggerIcons:function(){return spinClass_.getTriggerIcons()},getReels:function(){return spinClass_.getReels()},getCompulsivePlayer:function(){return null!=spinClass_.getCompulsivePlayer&&spinClass_.getCompulsivePlayer()},tumble:function(reel,index,reels){null!=spinClass_.tumble&&spinClass_.tumble(reel,index,reels)},tumbleByReel:function(reel,index){null!=spinClass_.tumbleByReel&&spinClass_.tumbleByReel(reel,index)},getTileMW:function(reel,index){if(null!=spinClass_.getTileMW)return spinClass_.getTileMW(reel,index)},getFrameMW:function(reel,index){if(null!=spinClass_.getFrameMW)return spinClass_.getFrameMW(reel,index)},getSpinned:function(){return spinned_},gotError:function(){return null!=spin.gotError&&spin.gotError()},getTumbleDone:function(){return spinClass_.getTumbleDone()},restoreIcons:function(obj){return spinClass_.restoreIcons(obj)}};return initClass_(),me}function SubstituteSymbolSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var i=0;i<ReelConfig.numReels;i++){reel_[i]=new Reel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={}}}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i,setSmb_(i);twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled&&(0==gameClass_.getCompulsivePlayer()&&0==freeSpinsManager_.getIsInFs()?buttonManager_.applyState("STOP"):stopSpin_())}function startSpin_(){isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,gotError_=!1;for(var i=0;i<ReelConfig.numReels;i++){for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1;reel_[i].replaceIcon(j,ind)}0==wildManager_.getWildReelStickyNum(i)&&(timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,setTimeout(spinReel_,gameClass_.getCompulsivePlayer()?0:spinManager_.getSpinParams().reelInterval*i,[[i],!0]))}}function startSpinFromSwipe_(reel,bounce){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++)eventManager_.addEvent(spinReelSwipe_,ReelConfig.reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,ReelConfig.reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}function stopSpin_(){soundManager_.stopSound("reelSound"),0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0,delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;for(var i=0;i<ReelConfig.numReels;i++)null!=tw_[i]&&tw_[i].timeScale(4)}function spinReelSwipe_(params){triggerSymbol_=[],delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&(setTimeout(stopState_,450),soundManager_.playSound("reelSound",99)),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*ReelConfig.reel.deltaY+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone})}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&(setTimeout(stopState_,450),soundManager_.playSound("reelSound",99));var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut}):tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}function ononCompleteFinalStep_(i){if(!gotError_){setBlurrSmb_(i,!1),soundManager_.playSound("reelStop");var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function upperSmb_(i){for(var j=0;j<ReelConfig.icons[i];j++)void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setSmb_(i){for(var a=0;a<3;a++)if(null!=spinManager_.getSpinReelResp().reel[i].smb[a].prevsmb){var s={subst:"previous",type:"anim",loop:!1,killOnComplete:!0,callBack:gameClass_.endBombAnimation,reels:[1,2,3],icon:[spinManager_.getSpinReelResp().reel[i].smb[a].prevsmb,14,spinManager_.getSpinReelResp().reel[i].smb[a].smb],anim:["timer","place","boom","still"],stage:0,delay:1.3};reel_[i].newSmb(spinManager_.getSpinReelResp().reel[i].smb[a].prevsmb,a,s),gameClass_.setWaitForSubstitution()}else{var obj=gameClass_.getSubstIcon(spinManager_.getSpinReelResp().reel[i].smb[a].smb),s={subst:obj.subst,type:obj.type,loop:!1,killOnComplete:!0,callBack:obj.callBack,reels:obj.reels,icon:obj.icon,anim:obj.anim,stage:0,delay:1.3};reel_[i].newSmb(obj.subst,a,s),logger("place origin smb? "+i+" smb "+a+" "+obj.subst+" "+obj.reels)}}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}reelArrived_>=reelStarted_?(logger("complete spin mov.------"),balanceManager_.setCanUpdate(!0),gameClass_.spinAnimEnd()):reelArrived_==reelStarted_-4&&soundManager_.stopSound("reelSound")}}function getReels_(){return reel_}function setBlurrSmb_(i,state){if(1!=state||1!=isStopped_)for(var j=0;j<=ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){gotError_=!0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],gotError_=!1,me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,stopSpinForError:stopSpinForError_,getTriggerIcons:function(){return triggerSymbol_},addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){animationMap_[reel][icon]=anim}};return initClass_(),me}function SubstituteSymbolSpinTOH(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var i=0;i<ReelConfig.numReels;i++){reel_[i]=new Reel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={}}}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)reel_[i].swapSmb(11!=resumeJson[i].smb[0].smb?resumeJson[i].smb[0].smb:resumeJson[i].smb[0].smb+"-"+communicationManager_.getResumeStatus().status.stage,0),reel_[i].swapSmb(11!=resumeJson[i].smb[1].smb?resumeJson[i].smb[1].smb:resumeJson[i].smb[1].smb+"-"+communicationManager_.getResumeStatus().status.stage,1),reel_[i].swapSmb(11!=resumeJson[i].smb[2].smb?resumeJson[i].smb[2].smb:resumeJson[i].smb[2].smb+"-"+communicationManager_.getResumeStatus().status.stage,2)}function setReels_(){for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i,setSmb_(i);twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled&&(0==gameClass_.getCompulsivePlayer()&&0==freeSpinsManager_.getIsInFs()?buttonManager_.applyState("STOP"):stopSpin_())}function startSpin_(){isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,gotError_=!1;for(var i=0;i<ReelConfig.numReels;i++){for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon-1)+1;reel_[i].replaceIcon(j,ind)}0==wildManager_.getWildReelStickyNum(i)&&(timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,setTimeout(spinReel_,gameClass_.getCompulsivePlayer()?0:spinManager_.getSpinParams().reelInterval*i,[[i],!0]))}}function startSpinFromSwipe_(reel,bounce){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++)eventManager_.addEvent(spinReelSwipe_,ReelConfig.reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}function stopSpin_(){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),soundManager_.stopSound("reelSound"),isStopped_=!0,delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;for(var i=0;i<spinManager_.getSpinParams().numReels;i++)null!=tw_[i]&&tw_[i].timeScale(4)}function spinReelSwipe_(params){triggerSymbol_=[],delayRepeater[0]=0,delayRepeater[1]=0,delayRepeater[2]=0,delayRepeater[3]=0,delayRepeater[4]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&(setTimeout(stopState_,450),soundManager_.playSound("reelSound",99)),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*ReelConfig.reel.deltaY+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone})}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&(setTimeout(stopState_,450),soundManager_.playSound("reelSound",99));var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut}):tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}function ononCompleteFinalStep_(i){if(!gotError_){setBlurrSmb_(i,!1);var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function upperSmb_(i){for(var j in animationMap_[i])void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setSmb_(i){if(!gotError_)for(var a=0;a<3;a++)if(null!=spinManager_.getSpinReelResp().reel[i].smb[a].prevsmb){var s={subst:"previous",type:"anim",loop:!1,killOnComplete:!0,callBack:gameClass_.endBombAnimation,reels:[1,2,3],icon:[spinManager_.getSpinReelResp().reel[i].smb[a].prevsmb,14,spinManager_.getSpinReelResp().reel[i].smb[a].smb],anim:["timer","place","boom","still"],stage:0,delay:1.3};reel_[i].newSmb(spinManager_.getSpinReelResp().reel[i].smb[a].prevsmb,a,s),gameClass_.setWaitForSubstitution();
}else{var obj=gameClass_.getSubstIcon(spinManager_.getSpinReelResp().reel[i].smb[a].smb),s={subst:obj.subst,type:obj.type,loop:!1,killOnComplete:!0,callBack:obj.callBack,reels:obj.reels,icon:obj.icon,anim:obj.anim,stage:0,delay:1.3};reel_[i].newSmb(obj.subst,a,s),logger("place origin smb? "+i+" smb "+a+" "+obj.subst+" "+obj.reels)}}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(setBlurrSmb_(i,!1),soundManager_.playSound("reelStop"),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_?(logger("complete spin mov.------"),balanceManager_.setCanUpdate(!0),gameClass_.spinAnimEnd()):reelArrived_==reelStarted_-4&&soundManager_.stopSound("reelSound")}}function getReels_(){return reel_}function setBlurrSmb_(i,state){if(1!=state||1!=isStopped_)for(var j=0;j<=ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){gotError_=!0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],gotError_=!1,me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,stopSpinForError:stopSpinForError_,getTriggerIcons:function(){return triggerSymbol_},addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){animationMap_[reel][icon]=anim}};return initClass_(),me}function TotallyTumblingSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,tumblingEventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<=ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var index=0,i=0;i<ReelConfig.numReels;i++){index=ReelConfig.icons[i],c[i]=[],cPos[i]=[],reel_[i]=new TumblingReel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={},c[i][j]="upperIcon"+j,cPos[i][j]=reel_[i].getSymbol(j).y}for(var j=1;j<=ReelConfig.icons[i];j++)c[i][-1*j]=j}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var j=0;j<ReelConfig.numIcons;j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){var now=(new Date).getTime();"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction||now-timeSpin_>2500?setReelsNow_():setTimeout(setReels_,200)}function setReelsNow_(){if(gameClass_.getIsTumbling())return gameClass_.spinAnimEndAfterTumbling(),void gameClass_.setTumblingReq(!1);null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i,setSmb_(i);var obj={};if(null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer());else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}for(var i=0;i<ReelConfig.numReels;i++)onCompletePreFinal(i)}function preSpin_(){gotError_=!1,minimumInteral_=!1,isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,timeSpin_=(new Date).getTime(),soundManager_.playSound("reelFall");for(var i=0;i<ReelConfig.numReels;i++)timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,spinReel_([[i],!0])}function startSpin_(){}function createReelAfterSpin_(i){if(!gotError_){reel_[i].clearGroup();for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind)}if(void 0!=spinManager_.getSpinReelResp()&&null!=spinManager_.getSpinReelResp().reel)for(var resumeJson=spinManager_.getSpinReelResp().reel,a=0;a<ReelConfig.numReels;a++)resetSmb_(resumeJson,i,a)}}function createReelsAfterSpin_(){if(!gotError_){for(var i=0;i<ReelConfig.numReels;i++){reel_[i].clearGroup();for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind)}}if(void 0!=spinManager_.getSpinReelResp()&&null!=spinManager_.getSpinReelResp().reel)for(var resumeJson=spinManager_.getSpinReelResp().reel,i=0;i<resumeJson.length;i++)for(var a=0;a<ReelConfig.numReels;a++)resetSmb_(resumeJson,i,a)}}function resetSmb_(resumeJson,i,a){var obj={};void 0!=resumeJson[i].smb[a]&&(13==resumeJson[i].smb[a].smb&&"7017"==gameParams.gameID?(obj.type="anim",obj.loop=!0,obj.callBack=null):obj=null,reel_[i].swapSmb(null!=resumeJson[i].smb[a].prevsmb?resumeJson[i].smb[a].prevsmb:resumeJson[i].smb[a].smb,a,obj))}function startSpinFromSwipe_(reel,bounce){}function stopSpin_(){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0;for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=0,null!=tw_[i]&&tw_[i].timeScale(4)}function spinReel_(params){if(!gotError_){var i=params[0];if(null==ReelConfig.falling||1==ReelConfig.falling){var a=0;triggerSymbol_=[],reelStarted_++;params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;for(a=0;a<ReelConfig.numIcons-1;a++){var icon=reel_[i].getSymbol(a);tw_[i]=TweenMax.to(icon,time,{delay:(a+1)*i*.005,y:icon.y+900,ease:RoughEase.ease.config({template:Sine.easeIn,strength:.004,points:5,taper:"out",randomize:!0,clamp:!0})})}var icon=reel_[i].getSymbol(a);tw_[i]=TweenMax.to(icon,time,{delay:(a+1)*i*.005,y:icon.y+900,ease:RoughEase.ease.config({template:Sine.easeIn,strength:.004,points:5,taper:"out",randomize:!0,clamp:!0}),onComplete:setMinTime_,onCompleteParams:[i]})}else{triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function stopState_(){gotError_||winManager_.clearWin()}function spinAfterPreMovement(params){}function setMinTime_(i){gotError_||(minimumInteral_=!1,i==ReelConfig.numReels-1&&setTimeout(reSetMinTime_,1e3*spinManager_.getSpinParams().minimumTime))}function reSetMinTime_(){gotError_||(minimumInteral_=!0)}function onCompletePreFinal(i){if(!gotError_)if(null==ReelConfig.falling||1==ReelConfig.falling){var a,index=1;if(responseReceived&&minimumInteral_){1==i&&soundManager_.playSound("reelAppear"),upperSmb_(i);var time=timeTween[i];for(a=ReelConfig.numIcons-1;a>0;a--){var icon=reel_[i].getSymbol(a);icon.y=-100*(a+1),tw_[i]=TweenMax.to(icon,time,{delay:.015*(5*(i+1)+3*(index+1)),y:cPos[i][a],ease:Back.easeOut.config(.7)}),index++}var icon=reel_[i].getSymbol(a);icon.y=-100*(a+1),tw_[i]=TweenMax.to(icon,time,{delay:.018*(5*(i+1)+3*(index+1)),y:cPos[i][a],ease:Back.easeOut.config(.7),onComplete:onCompleteFinal,onCompleteParams:[i]})}else setTimeout(onCompletePreFinal,200,i)}else{0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?(1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*(ReelConfig.icons[i]+ReelConfig.numIcons),onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut})):tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*(ReelConfig.icons[i]+ReelConfig.numIcons)+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}function ononCompleteFinalStep_(i){if(!gotError_){i<ReelConfig.numReels&&1!=iconSound[i]&&1==reelSound[i]&&soundManager_.playSound("reelSoundFast1"),reelSound[i]=!1,setBlurrSmb_(i,!1),soundManager_.playSound("reelStop");var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function onStartFinal(i){}function upperSmb_(i){for(var j in animationMap_[i])void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<=ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(j){for(var i=0;i<ReelConfig.numIcons;i++)if(null!=spinManager_.getSpinReelResp().reel[j].smb[i]){var smb=null!=spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb?spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb:spinManager_.getSpinReelResp().reel[j].smb[i].smb;reel_[j].newSmb(smb,i)}}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(soundManager_.stopSound("reelSound"),1==iconSound[i]&&(soundManager_.playSound("reelSoundFast"),iconSound[i]=!1),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),null==ReelConfig.falling&&0!=ReelConfig.falling||(upperSmb_(i),reel_[i].resetStartPos()),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(logger("complete spin mov.------"),gameClass_.spinAnimEnd())}}function tumbleByReel_(reel,obj){if(!gotError_){var time=.35;freePos=[],freePosIndex=getSmallest_(obj.index)-1;for(var dust=!1,numNewIcons=0,b=getSmallest_(obj.index);b<=ReelConfig.numIcons+obj.index.length;b++){var ind=isTumbling(obj.index,b);if(ind>=0)reel_[reel].getArr()[obj.index[ind]].visible=!1,null!=obj.tumbleObj[ind]&&(obj.tumbleObj[ind].visible=!1);else{if(b>ReelConfig.numIcons){numNewIcons++;for(var newSmb,i=0;i<ReelConfig.numIcons;i++)freePosIndex==i&&(newSmb=null!=obj.newSmbs.smb[ReelConfig.numIcons-1-i].prevsmb?obj.newSmbs.smb[ReelConfig.numIcons-1-i].prevsmb:obj.newSmbs.smb[ReelConfig.numIcons-1-i].smb);reel_[reel].swapSmb(newSmb,b)}TweenMax.to(reel_[reel].getArr()[b],time,{delay:.1,y:c[freePosIndex+1],ease:Bounce.easeOut,onComplete:changeIcon,onCompleteParams:[reel,b,freePosIndex+1]}),0==dust&&(dust=!0,setTimeout(dust_,350,reel_[reel].getArr()[b],freePosIndex+2)),freePosIndex++}}setTimeout(createReelAfterSpin_,650,reel)}}function tumble_(reel,obj){if(!gotError_){var time=.35;freePos=[],freePosIndex=getBigger_(obj.index);for(var dust=!1,icons=null!=gameClass_.getIconsNum?gameClass_.getIconsNum(reel):ReelConfig.numIcons,b=getBigger_(obj.index);b>=-1*icons;b--){var ind=isTumbling(obj.index,b);if(ind>=0)reel_[reel].getWholeArrSmb(c[reel][b]).visible=!1,null!=obj.tumbleObj[ind]&&(obj.tumbleObj[ind].visible=!1);else{if(b<0){var newSmb=obj.newSmbs.smb[freePosIndex].smb;reel_[reel].replaceIcon(c[reel][b],newSmb)}else reel_[reel].getWholeArrSmb(c[reel][b]).visible=!0;if(TweenMax.to(reel_[reel].getWholeArrSmb(c[reel][b]),time,{delay:.1,y:reel_[reel].getWholeArrSmb(c[reel][freePosIndex]).y,ease:Bounce.easeOut,onComplete:changeIcon,onCompleteParams:[reel,b,freePosIndex]}),0==dust&&(dust=!0,setTimeout(dust_,150,reel_[reel].getPos(b+1),freePosIndex+2)),freePosIndex--,freePosIndex<0)break}}tumblingEventManager_.clearEvt(),tumblingEventManager_.addEvent(restoreIconNum_,650,[reel,obj.index[0],obj]),tumblingEventManager_.triggerEvt()}}function dust_(anim,pos){if(!gotError_&&(soundManager_.playSound("tumble"),game.cache.checkImageKey("tumble-smoke"))){var expl=game_.add.sprite(anim.x+ReelConfig.reel.deltaX/2,anim.y,"tumble-smoke");expl.anchor.set(.5,0),expl.animations.add("anim"),expl.scale.x=1.2,expl.scale.y=1.2,expl.animations.play("anim",24,!1,!0),displayManager_.getGroup("reels").add(expl)}}function changeIcon(reel,b,free){}function isTumbling(arr,index){for(var a=0;a<arr.length;a++)if(arr[a]==index)return a;return-1}function getSmallest_(arr){for(var ind=arr[0],a=1;a<arr.length;a++)arr[a]<ind&&(ind=arr[a]);return ind}function getBigger_(arr){for(var ind=arr[0],a=1;a<arr.length;a++)arr[a]>ind&&(ind=arr[a]);return ind}function restoreIconNum_(obj){var reel=obj[0];obj[1];reel==ReelConfig.numReels-1&&(createReelsAfterSpin_(),gameClass_.setChange(!1))}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){gotError_=!0,minimumInteral_=!1,isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,tumblingEventManager_,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],slowDownReel=[],iconSound=[],reelSound=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],minimumInteral_=!1,startSlow_=-1,setBlur_=[],c=[],cPos=[],gotError_=!1,timeSpin_=0,me={createReels:createReels_,parseResume:parseResume_,preSpin:preSpin_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,createReelsAfterSpin:createReelsAfterSpin_,stopSpinForError:stopSpinForError_,tumble:tumble_,tumbleByReel:tumbleByReel_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){void 0!=animationMap_[reel][icon]&&reel_[reel].getAllIcons().remove(animationMap_[reel][icon]),animationMap_[reel][icon]=anim},gotError:function(){return gotError_}};return initClass_(),me}function TumblingReel(gameRef,gameClass,_num,num2,swap){function Point(x,y){this.x=x||0,this.y=y||0}function init(swap){mainGroup=displayManager_.getGroup("reels"),group=game_.add.group(),outerGroup=game_.add.group();for(var indexIcon=0,dummyIndex=0,j=0;j<ReelConfig.numIconsOnTop;j++){if(img[indexIcon]="",imgBlurr[indexIcon]=null,btn[indexIcon]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*j);else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*j);pos[indexIcon]=new Point(pos_.x,pos_.y),startPos=group.y,dummyIndex++,indexIcon++}for(var deltaIcon=indexIcon,j=0;j<ReelConfig.numIcons;j++){var indexActualIcon="upperIcon"+j;if(img[indexActualIcon]="",imgBlurr[indexActualIcon]=null,btn[indexActualIcon]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));pos[indexActualIcon]=new Point(pos_.x,pos_.y),indexIcon++}deltaIcon=indexIcon;for(var j=0;j<ReelConfig.icons[num];j++){if(img[dummyIndex]="",imgBlurr[dummyIndex]=null,btn[dummyIndex]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(j+deltaIcon));pos[dummyIndex]=new Point(pos_.x,pos_.y),indexIcon++,dummyIndex++}deltaIcon=indexIcon;for(var j=0;j<ReelConfig.numIcons;j++){var indexActualIcon="lowerIcon"+j;if(img[indexActualIcon]="",imgBlurr[indexActualIcon]=null,btn[indexActualIcon]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(ReelConfig.numIcons-1-j+deltaIcon));pos[indexActualIcon]=new Point(pos_.x,pos_.y),indexIcon++}deltaIcon=indexIcon;for(var j=0;j<ReelConfig.numIconsOnBottom;j++){if(img[dummyIndex]="",imgBlurr[dummyIndex]=null,btn[dummyIndex]=null,0!=swap)var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0-ReelConfig.reel.deltaY*(j+deltaIcon));else var pos_=new Point(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*num,ReelConfig.reel.deltaY_0+ReelConfig.reel.deltaY*(j+deltaIcon));pos[dummyIndex]=new Point(pos_.x,pos_.y),dummyIndex++,indexIcon++}outerGroup.add(group),mainGroup.add(outerGroup)}function setIcon_(index,icon){void 0!=img[index]&&""!=img[index]&&(group.remove(img[index]),img[index].destroy(),img[index]=null),null!=img[index]&&group.remove(img[index]),null!=imgBlurr[index]&&group.remove(imgBlurr[index]);var ic=icon;return 12==icon&&0==index&&(ic=14),12==icon&&1==index&&(ic=15),12==icon&&2==index&&(ic=16),12==icon&&3==index&&(ic=17),img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"icon"+ic),img[index].width=ReelConfig.icon.width,img[index].height=ReelConfig.icon.height,game.cache.checkImageKey("bicon"+icon)&&(imgBlurr[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"bicon"+icon),imgBlurr[index].smbNum=icon,imgBlurr[index].width=ReelConfig.icon.width,imgBlurr[index].height=ReelConfig.icon.height,imgBlurr[index].anchor.set(.5,.5),imgBlurr[index].visible=!1,group.add(imgBlurr[index])),img[index].smbNum=icon,img[index].anchor.set(.5,.5),group.add(img[index]),iconN[index]=icon,img[index]}function resetIconPos_(){for(var j=0;j<ReelConfig.icons[num];j++)img[j].y=pos[j].y+ReelConfig.icon.height/2}function resetStartPos_(){group.y=startPos}function removeSymbol_(dest_){var dest;dest="lowerIcon"+dest_,img[dest].visible=!1,group.remove(img[dest]),dest="upperIcon"+dest_,img[dest].visible=!1,group.remove(img[dest])}function swapSmb_(icon,dest_,attr_){var dest,attr=attr_,dest="upperIcon"+dest_;if(void 0==img[dest]&&(dest=dest_),group.remove(img[dest]),group.remove(imgBlurr[dest]),img[dest].destroy(),img[dest]=null,null==attr){var ic=icon;12==icon&&0==dest_&&(ic=14),12==icon&&1==dest_&&(ic=15),12==icon&&2==dest_&&(ic=16),12==icon&&3==dest_&&(ic=17),img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+ic),img[dest].smbNum=icon,iconN[dest]=icon,game.cache.checkImageKey("bicon"+icon)?(imgBlurr[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,img[dest].width=ReelConfig.icon.width,img[dest].height=ReelConfig.icon.height}else null!=attr&&"icon"==attr.type?(logger("swap1 "+attr.subst),img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+attr.subst),img[dest].smbNum=attr.icon,iconN[dest]=attr.icon,img[dest].width=ReelConfig.icon.width,img[dest].height=ReelConfig.icon.height):"anim"==attr.type&&(img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"anim"+icon),img[dest].animations.add("anim"),img[dest].animations.play("anim",24,attr.loop,attr.killOnComplete,attr.callBack,[attr,group]),img[dest].smbNum=icon,iconN[dest]=icon,game_.world.bringToTop(img[dest]));return img[dest].reel=num,img[dest].icon=dest_,img[dest].width=ReelConfig.icon.width,img[dest].height=ReelConfig.icon.height,img[dest].attr=attr,img[dest].anchor.set(.5,.5),img[dest].visible=!0,group.add(img[dest]),null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].width=ReelConfig.icon.width,imgBlurr[dest].height=ReelConfig.icon.height,imgBlurr[dest].anchor.set(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest])),img[dest]}function toggleSpin_(dest,state){null!=imgBlurr[dest]&&(imgBlurr[dest].visible=state,img[dest].visible=!state)}function newSmb_(icon,dest_,attr_){var dest,attr=attr_,reel=null!=attr_&&void 0!=attr_.reels?attr_.reels.indexOf(num):-1,dest="lowerIcon"+dest_;group.remove(img[dest]),group.remove(imgBlurr[dest]),null==attr||void 0==attr.reels||reel<0?(img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+icon),img[dest].smbNum=icon,game.cache.checkImageKey("bicon"+icon)?(imgBlurr[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"bicon"+icon),imgBlurr[dest].smbNum=icon):imgBlurr[dest]=null,iconN[dest]=icon):(img[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"icon"+attr.icon[0]),img[dest].smbNum=attr.subst,game.cache.checkImageKey("bicon"+icon)?(imgBlurr[dest]=game_.add.sprite(pos[dest].x+ReelConfig.icon.width/2,pos[dest].y+ReelConfig.icon.height/2,"bicon"+attr.icon[0]),imgBlurr[dest].smbNum=attr.subst):imgBlurr[dest]=null,iconN[dest]=attr.subst),img[dest].reel=num,img[dest].icon=dest_,img[dest].width=ReelConfig.icon.width,img[dest].height=ReelConfig.icon.height,img[dest].anchor.set(.5,.5),img[dest].visible=!0,group.add(img[dest]),null!=imgBlurr[dest]&&(imgBlurr[dest].reel=num,imgBlurr[dest].icon=dest_,imgBlurr[dest].width=ReelConfig.icon.width,imgBlurr[dest].height=ReelConfig.icon.height,imgBlurr[dest].anchor.set(.5,.5),imgBlurr[dest].visible=!1,group.add(imgBlurr[dest]))}function replaceIcon_(index,icon,attr){return group.remove(img[index]),group.remove(imgBlurr[index]),img[index]=null,null==attr||"icon"==attr.type?(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"icon"+icon),img[index].alpha=1):"fade"==attr.type?(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"icon"+icon),img[index].alpha=0,TweenMax.to(img[index],.4,{alpha:1})):"anim"==attr.type&&(img[index]=game_.add.sprite(pos[index].x+ReelConfig.icon.width/2,pos[index].y+ReelConfig.icon.height/2,"anim"+attr.icon[0]),img[index].alpha=1,img[index].animations.add("anim"),img[index].animations.play("anim",24,attr.loop,attr.killOnComplete,attr.callBack,[attr])),img[index].reel=num,img[index].icon=index,img[index].smbNum=icon,img[index].attr=attr,img[index].width=ReelConfig.icon.width,img[index].height=ReelConfig.icon.height,img[index].anchor.set(.5,.5),group.add(img[index]),iconN[index]=icon,img[index].visible=!0,img[index]}function getIcon_(icon){return img[icon]}var startPos,group,mainGroup,outerGroup,game_=gameRef,swap_=swap,num=_num,img=[],imgBlurr=[],btn=[],pos=[],iconN=[],me={setIcon:setIcon_,replaceIcon:replaceIcon_,resetStartPos:resetStartPos_,removeSymbol:removeSymbol_,swapSmb:swapSmb_,newSmb:newSmb_,getIcon:getIcon_,toggleSpin:toggleSpin_,resetIconPos:resetIconPos_,getAllIcons:function(){return group},getOuterGroup:function(){return outerGroup},getPos:function(icon){var dest="upperIcon"+icon;return pos[dest]},getWholeArrSmb:function(icon){return img[icon]},getSymbol:function(icon){var dest="upperIcon"+icon;return img[dest]},setVisible:function(icon,flag){var dest="upperIcon"+icon;img[dest].alpha=flag?1:0},getIconNum:function(icon){var dest="upperIcon"+icon;return iconN[dest]},getReelLen:function(){return reelLen_},getArr:function(){return img},newArray:function(value){img=value},newArrayPos:function(pos,value){img[pos]=value},clearGroup:function(){group.removeAll()}};return init(swap_),me}function TumblingSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,tumblingEventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var index=0,i=0;i<ReelConfig.numReels;i++){index=ReelConfig.icons[i],c[i]=[],reel_[i]=new TumblingReel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={}}c[i][0]="upperIcon0",c[i][1]="upperIcon1",c[i][2]="upperIcon2",c[i][3]="upperIcon3";for(var j=1;j<=ReelConfig.icons[i];j++)c[i][-1*j]=j}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var j=0;j<ReelConfig.numIcons;j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){var now=(new Date).getTime();"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction||now-timeSpin_>1500?setReelsNow_():setTimeout(setReels_,200)}function setReelsNow_(){if(gameClass_.getIsTumbling())return gameClass_.spinAnimEndAfterTumbling(),void gameClass_.setTumblingReq(!1);null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var now=(new Date).getTime(),i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=now-timeSpin_<500?spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i:spinManager_.getSpinParams().reelStopInterval*i,setSmb_(i);var obj={};if(null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer())buttonManager_.applyState("STOP");else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}}function startSpin_(){gotError_=!1,isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,timeSpin_=(new Date).getTime(),startReel(),soundManager_.playSound("reelSound",gameClass_.getCompulsivePlayer()?null:99);for(var i=0;i<ReelConfig.numReels;i++)timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,spinReel_([[i],!0])}function createReelsAfterSpin_(){if(!gotError_){for(var i=0;i<ReelConfig.numReels;i++){reel_[i].clearGroup();for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind)}}if(void 0!=spinManager_.getSpinReelResp()&&null!=spinManager_.getSpinReelResp().reel)for(var resumeJson=spinManager_.getSpinReelResp().reel,i=0;i<resumeJson.length;i++)for(var a=0;a<ReelConfig.numReels;a++)resetSmb_(resumeJson,i,a)}}function resetSmb_(resumeJson,i,a){var obj={};if(void 0!=resumeJson[i].smb[a]){13==resumeJson[i].smb[a].smb?(obj.type="anim",obj.loop=!0,obj.callBack=null):obj=null;var s=reel_[i].swapSmb(resumeJson[i].smb[a].smb,a,obj);null!=obj&&(s.scale.x=1,s.scale.y=1)}}function startSpinFromSwipe_(reel,bounce){if(!gotError_){isStopped_=!1,triggerSymbol_=[];var index=0;reelArrived_=0,reelStarted_=0,eventManager_.clearEvt();for(var i=reel;i<ReelConfig.numReels;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;for(var i=0;i<reel;i++)eventManager_.addEvent(spinReelSwipe_,spinManager_.getSpinParams().reelInterval*index,[[i],bounce]),index++;eventManager_.triggerEvt()}}function stopSpin_(){if(!gotError_){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0;for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=0,null!=tw_[i]&&tw_[i].timeScale(4)}}function spinReelSwipe_(params){if(!gotError_){triggerSymbol_=[];for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=0;var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinSwipeAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinSwipeAfterPreMovement(params)}}function spinReel_(params){if(!gotError_){triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,
onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}function startReel(params){gotError_||setTimeout(setBlurrSmb_,gameClass_.getCompulsivePlayer()?100:500,params,!0)}function stopState_(){winManager_.clearWin()}function spinSwipeAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450),tw_[i]=TweenMax.to(reel_[i].getAllIcons(),.2,{y:(ReelConfig.icons[i]-(3+ReelConfig.numIconsOnTop+ReelConfig.numIconsOnBottom))*ReelConfig.reel.deltaY+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeNone})}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function onCompletePreFinal(i){if(!gotError_){0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?(1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut})):tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}function ononCompleteFinalStep_(i){if(!gotError_){i<ReelConfig.numReels&&1!=iconSound[i]&&1==reelSound[i]&&soundManager_.playSound("reelSoundFast1"),reelSound[i]=!1,setBlurrSmb_(i,!1),soundManager_.playSound("reelStop");var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function onStartFinal(i){}function upperSmb_(i){for(var j in animationMap_[i])void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<=ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(j){for(var i=0;i<ReelConfig.numIcons;i++)if(null!=spinManager_.getSpinReelResp().reel[j].smb[i]){var smb=null!=spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb?spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb:spinManager_.getSpinReelResp().reel[j].smb[i].smb;reel_[j].newSmb(smb,i)}}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(soundManager_.stopSound("reelSound"),1==iconSound[i]&&(soundManager_.playSound("reelSoundFast"),iconSound[i]=!1),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),upperSmb_(i),reel_[i].resetStartPos(),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(logger("complete spin mov.------"),gameClass_.spinAnimEnd())}}function tumble_(reel,obj){if(!gotError_){var time=.35;freePos=[],freePosIndex=getBigger_(obj.index);for(var dust=!1,b=getBigger_(obj.index);b>=-1*ReelConfig.numIcons;b--){var ind=isTumbling(obj.index,b);if(ind>=0)reel_[reel].getWholeArrSmb(c[reel][b]).visible=!1,null!=obj.tumbleObj[ind]&&(obj.tumbleObj[ind].visible=!1);else{if(b<0){var newSmb=obj.newSmbs.smb[freePosIndex].smb;reel_[reel].replaceIcon(c[reel][b],newSmb)}else reel_[reel].getWholeArrSmb(c[reel][b]).visible=!0;if(TweenMax.to(reel_[reel].getWholeArrSmb(c[reel][b]),time,{delay:.1,y:reel_[reel].getWholeArrSmb(c[reel][freePosIndex]).y,ease:Bounce.easeOut,onComplete:changeIcon,onCompleteParams:[reel,b,freePosIndex]}),0==dust&&(dust=!0,setTimeout(dust_,350,reel_[reel].getPos(b+1),freePosIndex+2)),freePosIndex--,freePosIndex<0)break}}tumblingEventManager_.clearEvt(),tumblingEventManager_.addEvent(restoreIconNum_,650,[reel,obj.index[0],obj]),tumblingEventManager_.triggerEvt()}}function dust_(anim,pos){if(!gotError_&&(soundManager_.playSound("tumble"),game.cache.checkImageKey("tumble-smoke"))){var expl=game_.add.sprite(anim.x,anim.y,"tumble-smoke");expl.anchor.set(0,0),expl.animations.add("anim"),expl.scale.x=1.2,expl.scale.y=1.2,expl.animations.play("anim",24,!1,!0),displayManager_.getGroup("reels").add(expl)}}function changeIcon(reel,b,icon){}function isTumbling(arr,index){for(var a=0;a<arr.length;a++)if(arr[a]==index)return a;return-1}function getBigger_(arr){for(var ind=arr[0],a=1;a<arr.length;a++)arr[a]>ind&&(ind=arr[a]);return ind}function restoreIconNum_(obj){var reel=obj[0];obj[1];reel==ReelConfig.numReels-1&&(createReelsAfterSpin_(),gameClass_.setChange(!1))}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0),gameClass_.setChange(!1),gameClass_.setTumblingReq(!1),gotError_=!0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,tumblingEventManager_,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],slowDownReel=[],iconSound=[],reelSound=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],startSlow_=-1,setBlur_=[],c=[],gotError_=!1,timeSpin_=0,me={createReels:createReels_,parseResume:parseResume_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,createReelsAfterSpin:createReelsAfterSpin_,stopSpinForError:stopSpinForError_,tumble:tumble_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){void 0!=animationMap_[reel][icon]&&reel_[reel].getAllIcons().remove(animationMap_[reel][icon]),animationMap_[reel][icon]=anim},gotError:function(){return gotError_}};return initClass_(),me}function TwinReels(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("twinReels")}function setTwinReels_(tr){twinReels_=tr}function showTwinReels_(){var index=0,offset=0;hideTwinReels_();for(var i=0;i<twinReels_.length;i++)if(offset=0,null!=twinReels_[i]){var reels=[i,twinReels_[i]];if(1==game_.cache.checkImageKey("twinReels"))for(l=0;l<reels.length;l++)reelHiLi_[index]=game_.add.sprite(ReelConfig.reel.deltaX_0+(reels[l]+offset)*ReelConfig.icon.width,displayManager.groups.twinReels.y,"twinReels"),reelHiLi_[index].animations.add("anim"),reelHiLi_[index].animations.play("anim",12,!0,!1),reelHiLi_[index].height=displayManager.groups.twinReels.height,mainGroup_.add(reelHiLi_[index]),index++,offset++}}function hideTwinReels_(){for(var a in reelHiLi_)mainGroup_.remove(reelHiLi_[a]);reelHiLi_=[]}var mainGroup_,game_=gameRef,twinReels_=[],reelHiLi_=[],me={setTwinReels:setTwinReels_,showTwinReels:showTwinReels_,hideTwinReels:hideTwinReels_};return initClass_(),me}function TwinReelsManager(gameRef,gameClass){function initClass_(){"normal"==ReelConfig.twinReelsFeature&&(tweenReelsClass_=new TwinReels(game_,gameClass_),ReelConfig.reelInterval=0)}function parse_(reels){if(null!=tweenReelsClass_){twinReels_=[];for(var i=0;i<reels.length-1;i++)for(var a=ReelConfig.icons[i]-1;a>=ReelConfig.icons[i]-3;a--){if(reels[i].getIconNum(a)!=reels[Number(i)+1].getIconNum(a)){twinReels_[i]=null;break}twinReels_[i]=Number(i)+1}tweenReelsClass_.setTwinReels(twinReels_),twinReelsActive_=!1;for(a in twinReels_)if(null!=twinReels_[a]){twinReelsActive_=!0;break}return twinReels_}}function showTwinReels_(){null!=tweenReelsClass_&&twinReelsActive_&&tweenReelsClass_.showTwinReels()}function hideTwinReels_(){null!=tweenReelsClass_&&twinReelsActive_&&tweenReelsClass_.hideTwinReels()}function showWin_(){null!=tweenReelsClass_&&twinReelsActive_&&hasWinning_&&tweenReelsClass_.showWin()}var tweenReelsClass_,game_=gameRef,gameClass_=gameClass,twinReels_=[],twinReelsActive_=!1,hasWinning_=!1,me={parse:parse_,showTwinReels:showTwinReels_,hideTwinReels:hideTwinReels_,showWin:showWin_};return initClass_(),me}function VikingTumblingSpin(gameRef,gameClass){function initClass_(){if(eventManager_=new EventManager,tumblingEventManager_=new EventManager,null!=debugReelSmb&&null!=$(".debug"))for(var i=0;i<ReelConfig.numReels;i++)for(var j=0;j<ReelConfig.numIcons;j++)document.getElementsByName("d"+i+j)[0].value=debugReelSmb[i][j],debugReelSmb[i][j]=document.getElementsByName("d"+i+j)[0];else $(".debug").css("visibility","hidden")}function createReels_(){for(var index=0,i=0;i<ReelConfig.numReels;i++){index=ReelConfig.icons[i],c[i]=[],cPos[i]=[],reel_[i]=new TumblingReel(game_,gameClass,i),animationMap_[i]=[];for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind),animationMap_[i][j]={}}for(j=0;j<ReelConfig.numIcons;j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon("lowerIcon"+j,ind),animationMap_[i]["lowerIcon"+j]={},reel_[i].setIcon("upperIcon"+j,ind),animationMap_[i]["upperIcon"+j]={},c[i][j]="upperIcon"+j,cPos[i][j]=reel_[i].getSymbol(j).y}for(var j=1;j<=ReelConfig.icons[i];j++)c[i][-1*j]=j}if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var j=0;j<ReelConfig.numIcons;j++)void 0!=resumeJson[i].smb[j]&&reel_[i].swapSmb(resumeJson[i].smb[j].smb,j)}function setReels_(){(new Date).getTime();setReelsNow_()}function setReelsNow_(){if(gameClass_.getIsTumbling())return gameClass_.spinAnimEndAfterTumbling(),void gameClass_.setTumblingReq(!1);null!=gameClass_.getStickyWildNumber&&gameClass_.getStickyWildNumber(spinManager_.getReels());for(var now=(new Date).getTime(),i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=now-timeSpin_<500?spinManager_.getSpinParams().reelBaseInterval+spinManager_.getSpinParams().reelStopInterval*i:now-timeSpin_<1600?spinManager_.getSpinParams().reelStopInterval*i:1*i,setSmb_(i);var obj={};if(null!=gameClass_.setDelRepeter&&0==gameClass_.getCompulsivePlayer()&&(obj.delayRepeater=delayRepeater,obj=gameClass_.setDelRepeter(obj),delayRepeater=obj.delayRepeater,slowDownReel=obj.slowDownReel,iconSound=obj.iconSound,reelSound=obj.reelSound),twinReels_=twinReelManager_.parse(reel_),setTimeout(twinReelManager_.showTwinReels,200),responseReceived=!0,null!=gameClass_.setReelsCallback&&gameClass_.setReelsCallback(),1==spinManager_.getSpinParams().stopEnabled)if(0==gameClass_.getCompulsivePlayer()&&0==freeSpinsManager_.getIsInFs())buttonManager_.applyState("STOP");else{var wait=null!=gameClass_.waitForSpin&&gameClass_.waitForSpin();0==wait&&stopSpin_()}if(null!=ReelConfig.falling&&0==ReelConfig.falling)for(var i=0;i<ReelConfig.numReels;i++)onCompletePreFinal(i)}function preSpin_(){gotError_=!1,minimumInteral_=!1,isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0,timeSpin_=(new Date).getTime(),soundManager_.playSound("reelFall");for(var i=0;i<ReelConfig.numReels;i++)timeTween[i]=spinManager_.getSpinParams().reelLoopInterval,delayRepeater[i]=99,countRepeat_[i]=0,setBlur_[i]=!1,spinReel_([[i],!0])}function startSpin_(){}function createReelAfterSpin_(i){if(!gotError_){reel_[i].clearGroup();for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind)}if(void 0!=spinManager_.getSpinReelResp()&&null!=spinManager_.getSpinReelResp().reel)for(var resumeJson=spinManager_.getSpinReelResp().reel,a=0;a<ReelConfig.numReels;a++)resetSmb_(resumeJson,i,a)}}function createReelsAfterSpin_(){if(!gotError_){for(var i=0;i<ReelConfig.numReels;i++){reel_[i].clearGroup();for(var j=0;j<=ReelConfig.icons[i];j++){var ind=parseInt(Math.random()*ReelConfig.numIcon)+1;reel_[i].setIcon(j,ind)}}if(void 0!=spinManager_.getSpinReelResp()&&null!=spinManager_.getSpinReelResp().reel)for(var resumeJson=spinManager_.getSpinReelResp().reel,i=0;i<resumeJson.length;i++)for(var a=0;a<ReelConfig.numReels;a++)resetSmb_(resumeJson,i,a)}}function resetSmb_(resumeJson,i,a){var obj={};void 0!=resumeJson[i].smb[a]&&(13==resumeJson[i].smb[a].smb?(obj.type="anim",obj.loop=!0,obj.callBack=null):obj=null,reel_[i].swapSmb(null!=resumeJson[i].smb[a].prevsmb?resumeJson[i].smb[a].prevsmb:"remove"!=resumeJson[i].smb[a].special?resumeJson[i].smb[a].smb:Util.getRandomInt(1,5),a,obj))}function startSpinFromSwipe_(reel,bounce){}function stopSpin_(){0!=Number(spinManager_.getSpinResp().bet)&&setCompulsive_(),isStopped_=!0;for(var i=0;i<ReelConfig.numReels;i++)delayRepeater[i]=0,null!=tw_[i]&&tw_[i].timeScale(4)}function spinReel_(params){if(!gotError_){var i=params[0];if(null==ReelConfig.falling||1==ReelConfig.falling){var a=0;triggerSymbol_=[],reelStarted_++;params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;for(a=0;a<ReelConfig.numIcons-1;a++){var icon=reel_[i].getSymbol(a);tw_[i]=TweenMax.to(icon,time,{delay:(a+1)*i*.005,y:icon.y+900,ease:RoughEase.ease.config({template:Sine.easeIn,strength:.004,points:5,taper:"out",randomize:!0,clamp:!0})})}var icon=reel_[i].getSymbol(a);tw_[i]=TweenMax.to(icon,time,{delay:(a+1)*i*.005,y:icon.y+900,ease:RoughEase.ease.config({template:Sine.easeIn,strength:.004,points:5,taper:"out",randomize:!0,clamp:!0}),onComplete:setMinTime_,onCompleteParams:[i]})}else{triggerSymbol_=[];var i=params[0];reelStarted_++,spinManager_.getSpinParams().reelPreMovement>0?tw_[i]=TweenMax.to(reel_[i].getAllIcons(),spinManager_.getSpinParams().reelPreMovementTime,{y:reel_[i].getAllIcons().y-spinManager_.getSpinParams().reelPreMovement,onComplete:spinAfterPreMovement,onCompleteParams:[params],ease:Circ.easeInOut}):spinAfterPreMovement(params)}}}function spinAfterPreMovement(params){if(!gotError_){var i=params[0];params[1];i==ReelConfig.numReels-1&&setTimeout(stopState_,450);var time=spinManager_.getSpinParams().reelSecondMovementTime;null!=twinReels_&&null!=twinReels_[i],tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons,onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Sine.easeIn})}}function stopState_(){gotError_||winManager_.clearWin()}function setMinTime_(i){gotError_||(minimumInteral_=!1,i==ReelConfig.numReels-1&&setTimeout(reSetMinTime_,1e3*spinManager_.getSpinParams().minimumTime))}function reSetMinTime_(){gotError_||(minimumInteral_=!0)}function onCompletePreFinal(i){if(!gotError_)if(null==ReelConfig.falling||1==ReelConfig.falling){var a,index=1;if(responseReceived&&minimumInteral_){1==i&&soundManager_.playSound("reelAppear"),upperSmb_(i);var time=timeTween[i];for(a=ReelConfig.numIcons-1;a>0;a--){var icon=reel_[i].getSymbol(a);icon.y=-100*(a+1),tw_[i]=TweenMax.to(icon,time,{delay:.015*(5*(i+1)+3*(index+1)),y:cPos[i][a],ease:Back.easeOut.config(.7)}),index++}var icon=reel_[i].getSymbol(a);icon.y=-100*(a+1),tw_[i]=TweenMax.to(icon,time,{delay:.015*(5*(i+1)+3*(index+1)),y:cPos[i][a],ease:Back.easeOut.config(.7),onComplete:onCompleteFinal,onCompleteParams:[i]})}else setTimeout(onCompletePreFinal,200,i)}else{0==setBlur_[i]&&(setBlurrSmb_(i,!0),setBlur_[i]=!0);var time=gameClass_.getCompulsivePlayer()?timeTween[i]/2:timeTween[i];responseReceived&&(countRepeat_[i]=countRepeat_[i]+1),countRepeat_[i]<=delayRepeater[i]?(1==slowDownReel[i]&&(time/=10,slowDownReel[i]=!1),tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i],onComplete:onCompletePreFinal,onCompleteParams:[i],ease:Linear.easeInOut})):tw_[i]=TweenMax.fromTo(reel_[i].getAllIcons(),time,{y:ReelConfig.reel.deltaY*ReelConfig.numIcons},{y:ReelConfig.reel.deltaY*ReelConfig.icons[i]+spinManager_.getSpinParams().reelSpinBounceMeasure,onComplete:ononCompleteFinalStep_,onCompleteParams:[i],ease:Linear.easeInOut})}}function ononCompleteFinalStep_(i){if(!gotError_){i<ReelConfig.numReels&&1!=iconSound[i]&&1==reelSound[i]&&soundManager_.playSound("reelSoundFast1"),reelSound[i]=!1,setBlurrSmb_(i,!1),soundManager_.playSound("reelStop");var time=spinManager_.getSpinParams().reelSpinBounceTime;tw_[i]=TweenMax.to(reel_[i].getAllIcons(),time,{y:(ReelConfig.icons[i]+ReelConfig.numIcons)*ReelConfig.reel.deltaY,onStart:onStartFinal,onStartParams:[i],onComplete:onCompleteFinal,onCompleteParams:[i],ease:Back.easeOut.config(spinManager_.getSpinParams().reelSpinBounceForce)})}}function onStartFinal(i){}function upperSmb_(i){for(var j in animationMap_[i])void 0!=animationMap_[i]&&null!=animationMap_[i][j]&&void 0!=animationMap_[i][j]&&reel_[i].getAllIcons().remove(animationMap_[i][j]),animationMap_[i][j]={};null!=gameClass_.upperSmbCallBack&&gameClass_.upperSmbCallBack(i)}function setBlurrSmb_(i,state){for(var j=0;j<=ReelConfig.icons[i];j++)reel_[i].toggleSpin(j,state)}function setSmb_(j){for(var i=0;i<ReelConfig.numIcons;i++)if(null!=spinManager_.getSpinReelResp().reel[j].smb[i]){var smb=null!=spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb?spinManager_.getSpinReelResp().reel[j].smb[i].prevsmb:spinManager_.getSpinReelResp().reel[j].smb[i].smb;reel_[j].newSmb(smb,i)}}function parseResume_(reel){resumeJson_=reel}function onCompleteFinal(i){if(!gotError_){if(soundManager_.stopSound("reelSound"),1==iconSound[i]&&(soundManager_.playSound("reelSoundFast"),iconSound[i]=!1),setBlurrSmb_(i,!1),tw_[i]=null,reelArrived_++,framework.updateSmallMessageText(""),null==ReelConfig.falling&&0!=ReelConfig.falling||(upperSmb_(i),reel_[i].resetStartPos()),i==startSlow_){for(var a=Number(i)+1;a<=ReelConfig.numReels;a++)timeTween[a]=timeTween[a]-.1;startSlow_++}isStopped_||resetCompulsive_(),reelArrived_>=reelStarted_&&(logger("complete spin mov.------"),gameClass_.spinAnimEnd())}}function tumbleByReel_(reel,obj){if(!gotError_){var time=.35;freePos=[],freePosIndex=getSmallest_(obj.index)-1;for(var dust=!1,numNewIcons=0,b=getSmallest_(obj.index);b<=ReelConfig.numIcons+obj.index.length;b++){var ind=isTumbling(obj.index,b);if(ind>=0)reel_[reel].getArr()[obj.index[ind]].visible=!1,null!=obj.tumbleObj[ind]&&(obj.tumbleObj[ind].visible=!1);else{if(b>ReelConfig.numIcons){numNewIcons++;for(var newSmb,i=0;i<ReelConfig.numIcons;i++)freePosIndex==i&&(newSmb=null!=obj.newSmbs.smb[ReelConfig.numIcons-1-i].prevsmb?obj.newSmbs.smb[ReelConfig.numIcons-1-i].prevsmb:obj.newSmbs.smb[ReelConfig.numIcons-1-i].smb);reel_[reel].swapSmb(newSmb,b)}TweenMax.to(reel_[reel].getArr()[b],time,{delay:.1,y:c[freePosIndex+1],ease:Bounce.easeOut,onComplete:changeIcon,onCompleteParams:[reel,b,freePosIndex+1]}),0==dust&&(dust=!0,setTimeout(dust_,350,reel_[reel].getArr()[b],freePosIndex+2)),freePosIndex++}}setTimeout(createReelAfterSpin_,650,reel)}}function tumble_(reel,obj){if(!gotError_){var time=gameClass_.getCompulsivePlayer()?.35:.5;freePos=[],freePosIndex=getBigger_(obj.index),reelSound_[reel]=!1;for(var dust=!1,delay=0,icons=null!=gameClass_.getIconsNum?gameClass_.getIconsNum(reel):ReelConfig.numIcons,b=getBigger_(obj.index);b>=-1*icons;b--){var ind=isTumbling(obj.index,b);if(ind>=0)reel_[reel].getWholeArrSmb(c[reel][b]).visible=!1,null!=obj.tumbleObj[ind]&&(obj.tumbleObj[ind].visible=!1);else{if(5==icons&&b<0||4==icons&&b<1){var newSmb=null!=obj.newSmbs.smb[freePosIndex].prevsmb?obj.newSmbs.smb[freePosIndex].prevsmb:obj.newSmbs.smb[freePosIndex].smb;reel_[reel].replaceIcon(c[reel][b],newSmb),delay=gameClass_.getCompulsivePlayer()?.05*reel:.25*reel}else delay=0,reel_[reel].getWholeArrSmb(c[reel][b]).visible=!0;if(TweenMax.to(reel_[reel].getWholeArrSmb(c[reel][b]),time,{delay:.1+delay,y:reel_[reel].getWholeArrSmb(c[reel][freePosIndex]).y,ease:Bounce.easeOut,onComplete:changeIcon,onCompleteParams:[reel,b,freePosIndex]}),delay>0||0==reel&&0==dust?setTimeout(tumbleSound_,gameClass_.getCompulsivePlayer()?.1:.2+delay*reel*1e3,reel):0==delay&&0==dust&&setTimeout(tumbleSound_,gameClass_.getCompulsivePlayer()?500:750,reel),0==dust&&(dust=!0,setTimeout(dust_,gameClass_.getCompulsivePlayer()?500:750,reel_[reel].getPos(b+1),freePosIndex+2,reel)),freePosIndex--,freePosIndex<0)break}}tumblingEventManager_.clearEvt(),tumblingEventManager_.addEvent(restoreIconNum_,gameClass_.getCompulsivePlayer()?650:1250,[reel,obj.index[0],obj]),tumblingEventManager_.triggerEvt()}}function tumbleSound_(reel){reelSound_[reel]=!0}function dust_(anim,pos,reel){if(!gotError_&&game.cache.checkImageKey("tumble-smoke")){var expl=game_.add.sprite(anim.x,anim.y,"tumble-smoke");expl.anchor.set(.5,0),expl.animations.add("anim"),expl.scale.x=1.2,expl.scale.y=1.2,expl.animations.play("anim",24,!1,!0),displayManager_.getGroup("reels").add(expl)}}function changeIcon(reel,b,free){}function isTumbling(arr,index){for(var a=0;a<arr.length;a++)if(arr[a]==index)return a;return-1}function getSmallest_(arr){for(var ind=arr[0],a=1;a<arr.length;a++)arr[a]<ind&&(ind=arr[a]);return ind}function getBigger_(arr){for(var ind=arr[0],a=1;a<arr.length;a++)arr[a]>ind&&(ind=arr[a]);return ind}function restoreIconNum_(obj){var reel=obj[0];obj[1];reel==ReelConfig.numReels-1&&(createReelsAfterSpin_(),gameClass_.setChange(!1))}function getReels_(){return reel_}function setCompulsive_(){compulsiveCount_<=compulsiveTH_&&compulsiveCount_++}function resetCompulsive_(){compulsiveCount_=0}function getCompulsivePlayer_(){return"es"!=loginVars.getRegParams().jurisdiction&&compulsiveCount_>=compulsiveTH_}function stopSpinForError_(){gotError_=!0,minimumInteral_=!1,isStopped_=!1,responseReceived=!1,triggerSymbol_=[],reelArrived_=0,reelStarted_=0;for(var i=0;i<ReelConfig.numReels;i++){setBlurrSmb_(i,!1);for(var j=0;j<ReelConfig.numIcons;j++)reel_[i].getSymbol(j).visible=!0,reel_[i].getSymbol(j).alpha=1;null!=tw_[i]&&tw_[i].kill(),tw_[i]=null,reel_[i].resetStartPos()}framework.updateSmallMessageText(""),soundManager_.stopSound("reelSound"),balanceManager_.setCanUpdate(!0)}var eventManager_,responseReceived,tumblingEventManager_,game_=gameRef,gameClass_=gameClass,reel_=[],animationMap_=[],tw_=[],reelArrived_=0,reelStarted_=0,debugReelSmb=ReelConfig.spinResult,twinReels_=[],delayRepeater=[],slowDownReel=[],iconSound=[],reelSound=[],timeTween=[],triggerSymbol_=[],isStopped_=!1,compulsiveCount_=0,compulsiveTH_=3,countRepeat_=[],minimumInteral_=!1,startSlow_=-1,setBlur_=[],c=[],cPos=[],gotError_=!1,timeSpin_=0,reelSound_=[],me={createReels:createReels_,parseResume:parseResume_,preSpin:preSpin_,startSpin:startSpin_,stopSpin:stopSpin_,spinReel:spinReel_,getReels:getReels_,setReels:setReels_,startSpinFromSwipe:startSpinFromSwipe_,getCompulsivePlayer:getCompulsivePlayer_,createReelsAfterSpin:createReelsAfterSpin_,stopSpinForError:stopSpinForError_,tumble:tumble_,tumbleByReel:tumbleByReel_,addTriggerIcon:function(obj){triggerSymbol_.push(obj)},getTriggerIcons:function(){return triggerSymbol_},getAllMap:function(){return animationMap_},getAnimationMap:function(reel,icon){return animationMap_[reel][icon]},setAnimationMap:function(reel,icon,anim){void 0!=animationMap_[reel][icon]&&reel_[reel].getAllIcons().remove(animationMap_[reel][icon]),animationMap_[reel][icon]=anim},gotError:function(){return gotError_}};return initClass_(),me}function Expanding4BeastsStickyWild(gameRef,gameClass){function startMovie_(obj){obj.animations.add("anim"),obj.animations.play("anim",gameClass_.getCompulsivePlayer()||resume_?48:24,!1),soundManager_.playSound("wild_"+obj.fsType),obj.revAnimFrameSeq_=[];for(var b=1;b<=obj.animations._outputFrames.length;b++)b%2==0&&obj.revAnimFrameSeq_.push(b);obj.revAnimFrameSeq_.reverse()}function startMovieTurtle_(obj){obj.animations.add("anim"),obj.animations.play("anim",gameClass_.getCompulsivePlayer()||resume_?48:24,!1,!1,continueTurtle_),soundManager_.playSound("wild_"+obj.fsType),obj.revAnimFrameSeq_=[];for(var b=1;b<=obj.animations._outputFrames.length;b++)b%2==0&&obj.revAnimFrameSeq_.push(b);obj.revAnimFrameSeq_.reverse()}function continueTurtle_(){turtle1_.alpha=0,turtle2_.alpha=1,turtle2_.animations.add("anim"),turtle2_.animations.play("anim",gameClass_.getCompulsivePlayer()||resume_?48:24,!1),turtle2_.revAnimFrameSeq_=[];for(var b=1;b<=turtle1_.animations._outputFrames.length;b++)b%2==0&&turtle1_.revAnimFrameSeq_.push(b);turtle1_.revAnimFrameSeq_.reverse()}function startTween_(obj){null!=obj&&(obj.visible=!1,obj=null)}function subst_(par){var i=par[0],a=par[1];if(void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i][a]&&void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0,1==wildReelSmb_[i][a].fade)){var s=par[2];wildReelSmb_[i][a].anim[s].visible=!1,wildReelSmb_[i][a].anim[s]=null}}function getStickyWildNumber_(){var reels=communicationManager_.getResumeStatus().status.reels,stickyWilSimbsNum_=0,externalOrigin_=communicationManager_.getResumeStatus().status.origin,fsType_=(3==communicationManager_.getResumeStatus().status.feature?1:2==communicationManager_.getResumeStatus().status.feature?2:1==communicationManager_.getResumeStatus().status.feature?3:0==communicationManager_.getResumeStatus().status.feature?4:-1,communicationManager_.getResumeStatus().status.fsType);if(""==externalOrigin_){for(var i=0;i<reels.length;i++)for(var a=0;a<4;a++)if(void 0==wildReelSmb_[i][a].special&&(wildReelSmb_[i][a].special=[]),[8,9,10,11,12,13].indexOf(reels[i].smb[a].smb)>=0||void 0!=reels[i].smb[a].prevSmb&&[8,9,10,11,12,13].indexOf(reels[i].smb[a].prevSmb>=0)){if("origin"==reels[i].smb[a].special){wildReelSmb_[i][a].special.push(reels[i].smb[a].special);var smbIndex=a;wildReelSmb_[i][a].simbolReference=spinManager_.getReels()[i].getSymbol(smbIndex),wildReelSmb_[i][a].simbolReference.fake=!1,wildReelSmb_[i][a].simbolReference.smbToRemove=a,wildReelSmb_[i][a].simbolReference.indexToRemove=smbIndex,wildReelSmb_[i][a].fsType=fsType_,wildReelSmb_[i][a].portal=199==freeSpinsManager_.getFsNumber()?portal_:null,stickyWilSimbsNum_++}else{var smbIndex=a;wildReelSmb_[i][a].simbolReference=spinManager_.getReels()[i].getSymbol(smbIndex),wildReelSmb_[i][a].special.push("anim")}[8,9,10,11,12,13].indexOf(reels[i].smb[a].smb)>=0&&"done"==reels[i].smb[a].special&&(reels[i].smb[a].notShow=!0)}}else{reels=spinManager_.getReels();var x=externalOrigin_.split(",")[0],y=externalOrigin_.split(",")[1],fakeObj={};void 0==wildReelSmb_[0][0].special&&(wildReelSmb_[0][0].special=[]),wildReelSmb_[0][0].special.push("origin"),x>4?fakeObj.x=reels[4].getSymbol(0).x+(x-4)*ReelConfig.reel.deltaX:x<0?fakeObj.x=reels[0].getSymbol(0).x+x*ReelConfig.reel.deltaX:fakeObj.x=reels[x].getSymbol(0).x;var smbIndex=y;y>3?fakeObj.y=reels[0].getSymbol(3).y+(y-3)*ReelConfig.reel.deltaY:y<0?fakeObj.y=reels[0].getSymbol(0).y+y*ReelConfig.reel.deltaY:fakeObj.y=reels[0].getSymbol(smbIndex).y,fakeObj.fake=!0,wildReelSmb_[0][0].simbolReference=fakeObj,wildReelSmb_[0][0].fsType=fsType_,wildReelSmb_[0][0].portal=null,stickyWilSimbsNum_++}stickyWilSimbsNum_&&(resume_=!0,gameClass_.setStickyWildSimbs(wildReelSmb_),wildClass_.showWild(wildReelSmb_,!0))}var wildReelSmb_,turtle1_,turtle2_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,showWildReel=!1,expWildPos_=[],resume_=!1,animSeq_=[];for(animSeq_[1]=[],animSeq_[1].type="all",animSeq_[1].fade=!0,animSeq_[1][1]={x:"0",y:"0"},animSeq_[1][2]={x:"0",y:"-1"},animSeq_[1][3]={x:"0",y:"-2"},animSeq_[2]=[],animSeq_[2].type="all",animSeq_[2].fade=!1,animSeq_[2][1]={x:"0",y:"0"},animSeq_[2][2]={x:"1",y:"0"},animSeq_[2][3]={x:"2",y:"0"},animSeq_[3]=[],animSeq_[3].type="sequence",animSeq_[3].fade=!0,animSeq_[3][1]={x:"0",y:"0"},animSeq_[3][2]={x:"0",y:"0"},animSeq_[4]=[],animSeq_[4].type="all",animSeq_[4].fade=!1,animSeq_[4][1]={x:"0",y:"0"},animSeq_[4][2]={x:"0",y:"-1"},animSeq_[4][3]={x:"1",y:"0"},animSeq_[4][4]={x:"-1",y:"0"},animSeq_[4][5]={x:"0",y:"1"},wildReelSmb_=[],i=0;i<5;i++)for(wildReelSmb_[i]=[],expWildPos_[i]=[],a=0;a<4;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1;return wildClass_.showWild=function(wild,res){var x,y,xOrigin,yOrigin,g,play_=!1;null!=res&&(resume_=res),wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)for(var a=0;a<4;a++)for(var ss in wildReelSmb_[i][a].special){var sp=wildReelSmb_[i][a].special[ss];if(null!=sp&&void 0!=sp&&"origin"==sp){if(void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null),0==wildReelSmb_[i][a].simbolReference.fake){var smb=spinManager_.getReels()[i].getRealPosSmb(wildReelSmb_[i][a].simbolReference.smbToRemove);smb&&(smb.visible=!1),smb=spinManager_.getReels()[i].getSymbol(wildReelSmb_[i][a].simbolReference.indexToRemove),smb&&(smb.visible=!1)}wildReelSmb_[i][a].anim=[],g=game_.add.group();for(var s=1;s<animSeq_[wildReelSmb_[i][a].fsType].length;s++)null!=wildReelSmb_[i][a].portal?(xOrigin=wildReelSmb_[i][a].portal.x,yOrigin=wildReelSmb_[i][a].portal.y):(xOrigin=wildReelSmb_[i][a].simbolReference.x,yOrigin=wildReelSmb_[i][a].simbolReference.y),x=wildReelSmb_[i][a].simbolReference.x+animSeq_[wildReelSmb_[i][a].fsType][s].x*ReelConfig.reel.deltaX,y=wildReelSmb_[i][a].simbolReference.y+animSeq_[wildReelSmb_[i][a].fsType][s].y*ReelConfig.reel.deltaY,wildReelSmb_[i][a].fade=animSeq_[wildReelSmb_[i][a].fsType].fade,(x>350&&x<910&&y>150&&y<600||3==wildReelSmb_[i][a].fsType)&&(3!=wildReelSmb_[i][a].fsType?(wildReelSmb_[i][a].anim[s]=game_.add.sprite(xOrigin,yOrigin,"animW"+wildReelSmb_[i][a].fsType+"_"+s),wildReelSmb_[i][a].anim[s].anchor.set(.5,.5),wildReelSmb_[i][a].anim[s].alpha=1,wildReelSmb_[i][a].anim[s].visible=!0,g.add(wildReelSmb_[i][a].anim[s]),wildReelSmb_[i][a].anim[s].scale.x=0,wildReelSmb_[i][a].anim[s].scale.y=0,TweenMax.to(wildReelSmb_[i][a].anim[s].scale,resume_?.1:1,{x:1,y:1,onComplete:startMovie_,onCompleteParams:[wildReelSmb_[i][a].anim[s]]}),TweenMax.to(wildReelSmb_[i][a].anim[s],resume_?.1:1,{x:x,y:y}),setTimeout(startTween_,resume_?100:1e3,wildReelSmb_[i][a].portal),wildReelSmb_[i][a].special[ss]="placed"):1==s?(wildReelSmb_[i][a].anim[s]=game_.add.sprite(xOrigin-ReelConfig.reel.deltaX/2,yOrigin-ReelConfig.reel.deltaX/2,"animW"+wildReelSmb_[i][a].fsType+"_"+s),wildReelSmb_[i][a].anim[s].anchor.set(.5,.5),wildReelSmb_[i][a].anim[s].alpha=1,wildReelSmb_[i][a].anim[s].visible=!0,g.add(wildReelSmb_[i][a].anim[s]),wildReelSmb_[i][a].anim[s].scale.x=0,wildReelSmb_[i][a].anim[s].scale.y=0,TweenMax.to(wildReelSmb_[i][a].anim[s].scale,resume_?.1:1,{x:1,y:1,onComplete:startMovieTurtle_,onCompleteParams:[wildReelSmb_[i][a].anim[s]]}),TweenMax.to(wildReelSmb_[i][a].anim[s],resume_?.1:1,{x:x-ReelConfig.reel.deltaX/2,y:y-ReelConfig.reel.deltaX/2}),setTimeout(startTween_,resume_?100:1e3,wildReelSmb_[i][a].portal),
turtle1_=wildReelSmb_[i][a].anim[s],wildReelSmb_[i][a].special[ss]="placed"):(wildReelSmb_[i][a].anim[s]=game_.add.sprite(x-ReelConfig.reel.deltaX/2,y-ReelConfig.reel.deltaX/2,"animW"+wildReelSmb_[i][a].fsType+"_"+s),wildReelSmb_[i][a].anim[s].anchor.set(.5,.5),wildReelSmb_[i][a].anim[s].alpha=0,wildReelSmb_[i][a].anim[s].visible=!0,g.add(wildReelSmb_[i][a].anim[s]),wildReelSmb_[i][a].anim[s].scale.x=1,wildReelSmb_[i][a].anim[s].scale.y=1,turtle2_=wildReelSmb_[i][a].anim[s]),wildReelSmb_[i][a].anim[s].fsType=wildReelSmb_[i][a].fsType);gameClass_.setStickyWildSimbs(wildReelSmb_),wildReelSmb_[i][a].anim.group=g,wildClassObject_.mainGroup_.add(g),expWildPos_[i][a]=!0,showWildReel=!0,play_=!0}soundManager_.stopSound("portalLoop")}for(var i=0;i<spinManager_.getReels().length;i++)for(var a=0;a<4;a++)for(var ss in wildReelSmb_[i][a].special){var sp=wildReelSmb_[i][a].special[ss];null!=sp&&void 0!=sp&&"anim"==sp&&(expWildPos_[i][a]=!0,wildReelSmb_[i][a].special[ss]="anim",wildReelSmb_[i][a].anim={},wildReelSmb_[i][a].anim.group=g)}play_&&soundManager_.playSound("wild_start")},wildClass_.clearWild=function(wild){var rollBack=!1;wildReelSmb_=wild,resume_=!1;var placed=[];if(1==freeSpinsManager_.getIsInFs())for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<4;a++)for(var ss in wildReelSmb_[i][a].special){if(void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.alpha=1),"placed"==wildReelSmb_[i][a].special[ss]&&placed.indexOf(i.toString()+a.toString())<0)if(3!=wildReelSmb_[i][a].fsType)for(var s in wildReelSmb_[i][a].anim)void 0!=wildReelSmb_[i][a].anim[s].animations&&(1==wildReelSmb_[i][a].fade?TweenMax.to(wildReelSmb_[i][a].anim[s],1,{delay:1.5,alpha:0,onComplete:subst_,onCompleteParams:[i,a,s]}):(rollBack=!0,wildReelSmb_[i][a].anim[s].animations.add("anim",wildReelSmb_[i][a].anim[s].revAnimFrameSeq_),wildReelSmb_[i][a].anim[s].animations.play("anim",24,!1,!0,subst_,[i,a])));else{if(0==wildReelSmb_[i][a].fade){turtle2_.visible=!1,turtle2_=null,turtle1_.alpha=1,void 0!=turtle1_&&(rollBack=!0,turtle1_.animations.add("anim",turtle1_.revAnimFrameSeq_),turtle1_.animations.play("anim",24,!1,!0,subst_,[i,a]));break}turtle1_.visible=!1,turtle1_=null,void 0!=turtle2_&&TweenMax.to(turtle2_,1,{delay:1.5,alpha:0,onComplete:subst_,onCompleteParams:[i,a,s]})}wildReelSmb_[i][a].special[ss]=""}gameClass_.setStickyWildSimbs(wildReelSmb_),rollBack&&soundManager_.playSound("wild_end")},wildClass_.resetWilds=function(){for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)expWildPos_[i][a]=!1,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null),void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0),wildReelSmb_[i][a].special=[];for(var a in wildClassObject_.mainGroup_.children)wildClassObject_.mainGroup_.remove(wildClassObject_.mainGroup_.children[a])},wildClass_.hasWildReel=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)if(1==expWildPos_[i][a])return!0;return!1},wildClass_.isSymbolWilded=function(reel,smb){return expWildPos_[reel][smb]},wildClass_.wildReelWinAnim=function(reel,smb){},wildClass_.resumeWildReel=function(){getStickyWildNumber_()},wildClass_}function ExpandingLStickyWild(gameRef,gameClass){function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function subst_(par){var i=par[0],a=par[1];void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i][a]&&void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0)}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,showWildReel=!1,expWildPos_=[],revAnimFrameSeq_=[];for(wildReelSmb_=[],i=0;i<5;i++)for(wildReelSmb_[i]=[],expWildPos_[i]=[],a=0;a<3;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1;return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)for(var a=0;a<3;a++)for(var ss in wildReelSmb_[i][a].special){var sp=wildReelSmb_[i][a].special[ss];if(null!=sp&&void 0!=sp&&""!=sp){void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null);var smb=spinManager_.getReels()[i].getRealPosSmb(wildReelSmb_[i][a].simbolReference.smbToRemove);smb&&(smb.visible=!1),wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animW10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",gameClass_.getCompulsivePlayer()?128:24,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildReelSmb_[i][a].anim.visible=!0,revAnimFrameSeq_=[];for(var b=1;b<=wildReelSmb_[i][a].anim.animations._outputFrames.length;b++)b%2==0&&revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),expWildPos_[i][a]=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),play_=!0,gameClass_.setStickyWildSimbs(wildReelSmb_)}}play_&&soundManager_.playSound("stickyWild")},wildClass_.clearWild=function(wild){var rollBack=!1;wildReelSmb_=wild;var placed=[];if(1==freeSpinsManager_.getIsInFs())for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)for(var ss in wildReelSmb_[i][a].special)if(void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.alpha=1),null!=wildReelSmb_[i][a].special[ss]){var sp=wildReelSmb_[i][a].special[ss];if(null!=sp&&void 0!=sp&&""!=sp)if(sp.indexOf("done")>=0)expWildPos_[i][a]=!1,placed.indexOf(i.toString()+a.toString())<0&&(rollBack=!0,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildReelSmb_[i][a].anim.animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i][a].anim.animations.play("anim",48,!1,!0,subst_,[i,a])));else if(""!=sp)for(var s=0;s<2;s++){var reel=sp.split("-")[s].split(",")[1],smb=Number(sp.split("-")[s].split(",")[0]);wildReelSmb_[reel][smb].simbolReference=spinManager_.getReels()[reel].getSymbol(smb),wildReelSmb_[reel][smb].simbolReference.smbToRemove=smb;var x=wildReelSmb_[reel][smb].simbolReference.x,y=wildReelSmb_[reel][smb].simbolReference.y;void 0!=wildReelSmb_[reel][smb].anim&&(wildReelSmb_[reel][smb].anim.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[reel][smb].anim),wildReelSmb_[reel][smb].anim=null),placed.push(reel.toString()+smb.toString()),wildReelSmb_[reel][smb].anim=game_.add.sprite(x,y,"stickyWild"),wildReelSmb_[reel][smb].anim.animations.add("anim"),wildReelSmb_[reel][smb].anim.animations.play("anim",gameClass_.getCompulsivePlayer()?128:24,!1),wildReelSmb_[reel][smb].anim.anchor.set(.5,.5),wildReelSmb_[reel][smb].anim.alpha=1,wildReelSmb_[reel][smb].anim.visible=!0,void 0!=wildReelSmb_[reel][smb].simbolReference&&(wildReelSmb_[reel][smb].simbolReference.visible=!1),expWildPos_[reel][smb]=!0,rollBack=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[reel][smb].anim)}wildReelSmb_[i][a].special[ss]=""}gameClass_.setStickyWildSimbs(wildReelSmb_),rollBack&&soundManager_.playSound("stickyWild")},wildClass_.resetWilds=function(){for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)expWildPos_[i][a]=!1,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null),void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0),wildReelSmb_[i][a].special=[];for(var a in wildClassObject_.mainGroup_.children)wildClassObject_.mainGroup_.remove(wildClassObject_.mainGroup_.children[a])},wildClass_.hasWildReel=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)if(1==expWildPos_[i][a])return!0;return!1},wildClass_.isSymbolWilded=function(reel,smb){return expWildPos_[reel][smb]},wildClass_.wildReelWinAnim=function(reel,smb){null!=wildReelSmb_[reel][smb].anim&&1==wildReelSmb_[reel][smb].anim.scale.x&&(wildReelSmb_[reel][smb].anim.alpha=1,void 0!=wildReelSmb_[reel][smb].anim.bgAnim&&(wildReelSmb_[reel][smb].anim.bgAnim.alpha=1),TweenMax.to(wildReelSmb_[reel][smb].anim.scale,.2,{x:1.2,y:1.2,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel][smb].anim]}))},wildClass_.resumeWildReel=function(){spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var a=0;a<3;a++)if(void 0==wildReelSmb_[i][a].special&&(wildReelSmb_[i][a].special=[]),[10].indexOf(resumeJson[i].smb[a].smb)>=0){var smb_=spinManager_.getReels()[i].getSymbol(a);smb_.visible=!1,wildReelSmb_[i][a].simbolReference=smb_,wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animW10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",48,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].special.push("n/a"!=resumeJson[i].smb[a].special?resumeJson[i].smb[a].special:"done"),wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),expWildPos_[i][a]=!0}gameClass_.setStickyWildSimbs(wildReelSmb_)},wildClass_}function ExpandingStickyWild(gameRef,gameClass){function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function subst_(par){var i=par[0],a=par[1];void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i][a]&&void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0),void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i][a]&&void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim=null)}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,showWildReel=!1,expWildPos_=[],revAnimFrameSeq_=[];for(wildReelSmb_=[],i=0;i<5;i++)for(wildReelSmb_[i]=[],expWildPos_[i]=[],a=0;a<3;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1;return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)for(var a=0;a<3;a++){var sp=wildReelSmb_[i][a].special;if(void 0!=sp&&sp.split("-")[0].indexOf("stage1")>=0){void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.visible=!1,wildReelSmb_[i][a].anim=null),wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animW10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",gameClass_.getCompulsivePlayer()?128:24,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1;var smb=spinManager_.getReels()[i].getSymbol(wildReelSmb_[i][a].simbolReference.smbToRemove);smb.visible=!1,revAnimFrameSeq_=[];for(var b=1;b<=wildReelSmb_[i][a].anim.animations._outputFrames.length;b++)b%2==0&&revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),expWildPos_[i][a]=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),play_=!0,gameClass_.setStickyWildSimbs(wildReelSmb_)}}play_&&soundManager_.playSound("stickyWild")},wildClass_.clearWild=function(wild){var rollBack=!1,placed=[];if(wildReelSmb_=wild,1==freeSpinsManager_.getIsInFs())for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)if(void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.alpha=1),null!=wildReelSmb_[i][a].special){var sp=wildReelSmb_[i][a].special;if(void 0!=sp&&""!=sp)if(sp.split("-")[0].indexOf("done")>=0)placed.indexOf(i.toString()+a.toString())<0&&(rollBack=!0,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i][a].anim.animations.play("anim",48,!1,!0,subst_,[i,a])),wildReelSmb_[i][a].special="",expWildPos_[i][a]=!1);else if(sp.split("-")[0].indexOf("stage")>=0&&""!=sp.split("-")[1]){var reel=sp.split("-")[1].split(",")[1],smb=Number(sp.split("-")[1].split(",")[0]);wildReelSmb_[reel][smb].simbolReference=spinManager_.getReels()[reel].getSymbol(smb),wildReelSmb_[reel][smb].simbolReference.smbToRemove=smb;var x=wildReelSmb_[reel][smb].simbolReference.x,y=wildReelSmb_[reel][smb].simbolReference.y;void 0!=wildReelSmb_[reel][smb].anim&&(wildReelSmb_[reel][smb].anim.visible=!1,wildReelSmb_[reel][smb].anim=null),placed.push(reel.toString()+smb.toString()),wildReelSmb_[reel][smb].anim=game_.add.sprite(x,y,"stickyWild"),wildReelSmb_[reel][smb].anim.animations.add("anim"),wildReelSmb_[reel][smb].anim.animations.play("anim",gameClass_.getCompulsivePlayer()?128:24,!1),wildReelSmb_[reel][smb].anim.anchor.set(.5,.5),wildReelSmb_[reel][smb].anim.alpha=1,void 0!=wildReelSmb_[reel][smb].simbolReference&&(wildReelSmb_[reel][smb].simbolReference.visible=!1),wildReelSmb_[i][a].special="",wildReelSmb_[reel][smb].special="",expWildPos_[reel][smb]=!0,rollBack=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[reel][smb].anim),gameClass_.setStickyWildSimbs(wildReelSmb_)}}if(rollBack)soundManager_.playSound("stickyWild");else if(showWildReel){showWildReel=!1;for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)expWildPos_[i][a]=!1,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.alpha=0,wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim.alpha),wildReelSmb_[i][a].anim=null),void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0);for(var a in wildClassObject_.mainGroup_.children)wildClassObject_.mainGroup_.remove(wildClassObject_.mainGroup_.children[a])}},wildClass_.resetWilds=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)expWildPos_[i][a]=!1,wildReelSmb_[i][a].special=null},wildClass_.hasWildReel=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)if(1==expWildPos_[i][a])return!0;return!1},wildClass_.isSymbolWilded=function(reel,smb){return expWildPos_[reel][smb]},wildClass_.wildReelWinAnim=function(reel,smb){null!=wildReelSmb_[reel][smb].anim&&1==wildReelSmb_[reel][smb].anim.scale.x&&(wildReelSmb_[reel][smb].anim.alpha=1,void 0!=wildReelSmb_[reel][smb].anim.bgAnim&&(wildReelSmb_[reel][smb].anim.bgAnim.alpha=1),TweenMax.to(wildReelSmb_[reel][smb].anim.scale,.2,{x:1.2,y:1.2,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel][smb].anim]}))},wildClass_.resumeWildReel=function(){spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var a=0;a<3;a++)if([10].indexOf(resumeJson[i].smb[a].smb)>=0){var smb_=spinManager_.getReels()[i].getSymbol(a);smb_.visible=!1,wildReelSmb_[i][a].simbolReference=smb_,wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animW10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",48,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].special="n/a"!=resumeJson[i].smb[a].special?resumeJson[i].smb[a].special:"done",wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),expWildPos_[i][a]=!0}gameClass_.setStickyWildSimbs(wildReelSmb_)},wildClass_}function ExternalWildReel(gameRef,gameClass){function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseOut})}function hideIcons(icon){icon.visible=!1}function sghowIcons(icon){icon.visible=!0,showWildReel=!1}function subst_(par){var i=par[0],a=par[1];void 0!=wildClassObject_.wildReelSmb_&&void 0!=wildClassObject_.wildReelSmb_[i]&&void 0!=wildClassObject_.wildReelSmb_[i].simbolReference&&void 0!=wildClassObject_.wildReelSmb_[i].simbolReference[a]&&(wildClassObject_.wildReelSmb_[i].simbolReference[a].visible=!0),void 0!=wildClassObject_.wildReelSmb_&&void 0!=wildClassObject_.wildReelSmb_[i]&&void 0!=wildClassObject_.wildReelSmb_[i].anim&&void 0!=wildClassObject_.wildReelSmb_[i].anim[a]&&(wildClassObject_.wildReelSmb_[i].anim[a]=null)}var game_=gameRef,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,showWildReel=!1,shiftWildReelPos_=[];return wildClass_.showWild=function(){for(var play_=!1,i=0;i<spinManager_.getReels().length;i++)if(void 0!=wildClassObject_.wildReelSmb_[i].pos[0])for(var a in wildClassObject_.wildReelSmb_[i].pos)if(1==game_.cache.checkImageKey("wildReel")&&void 0==wildClassObject_.wildReelSmb_[i].anim[a]&&void 0!=wildClassObject_.wildReelSmb_[i].pos[a]){wildClassObject_.wildReelSmb_[i].anim[a]=game_.add.sprite(wildClassObject_.wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildClassObject_.wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height/2-10),"wildReel"),wildClassObject_.wildReelSmb_[i].anim[a].animations.add("anim"),wildClassObject_.wildReelSmb_[i].anim[a].animations.play("anim",24,!1),wildClassObject_.wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildClassObject_.wildReelSmb_[i].anim[a].scale.x=1.1,wildClassObject_.wildReelSmb_[i].anim[a].scale.y=1.1,shiftWildReelPos_[i]=!0;var ind=0;for(var r in wildClassObject_.wildReelSmb_[i].substOnreel)void 0!=wildClassObject_.wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,400-100*Number(ind),wildClassObject_.wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildClassObject_.wildReelSmb_[i].anim[a]),play_=!0}play_&&soundManager_.playSound("wildReel")},wildClass_.wildReelWinAnim=function(reel){for(var a in wildClassObject_.wildReelSmb_[reel].anim)null!=wildClassObject_.wildReelSmb_[reel].anim[a]&&1.1==wildClassObject_.wildReelSmb_[reel].anim[a].scale.x&&TweenMax.to(wildClassObject_.wildReelSmb_[reel].anim[a].scale,.2,{x:1.2,y:1.2,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildClassObject_.wildReelSmb_[reel].anim[a]]})},wildClass_.clearWild=function(){for(var rollBack=!1,i=0;i<spinManager_.getReels().length;i++)if(null!=wildClassObject_.wildReelSmb_[i])for(var a in wildClassObject_.wildReelSmb_[i].smbNum)if(wildClassObject_.wildReelSmb_[i].anim[a]&&"0"==wildClassObject_.wildReelSmb_[i].sticky){rollBack=!0,shiftWildReelPos_[i]=!1;var pos=new Phaser.Point(wildClassObject_.wildReelSmb_[i].anim[a].x,wildClassObject_.wildReelSmb_[i].anim[a].y);wildClassObject_.wildReelSmb_[i].anim[a].visible=!1,wildClassObject_.wildReelSmb_[i].anim[a]=null,wildClassObject_.wildReelSmb_[i].anim[a]=game_.add.sprite(pos.x,pos.y,"wildReelBack"),wildClassObject_.wildReelSmb_[i].anim[a].animations.add("anim"),wildClassObject_.wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildClassObject_.wildReelSmb_[i].anim[a].scale.x=1.1,wildClassObject_.wildReelSmb_[i].anim[a].scale.y=1.1,wildClassObject_.wildReelSmb_[i].anim[a].animations.play("anim",48,!1,!0,subst_,[i,a]);var ind=0;for(var r in wildClassObject_.wildReelSmb_[i].substOnreel)void 0!=wildClassObject_.wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,400+150*Number(ind),wildClassObject_.wildReelSmb_[i].substOnreel[r]),ind++)}if(rollBack)soundManager_.playSound("wildReelOut");else for(var a in wildClassObject_.mainGroup_)wildClassObject_.mainGroup_.remove(a)},wildClass_.hasWildReel=function(){return showWildReel},wildClass_.isReelWilded=function(num){var ret=!1;return void 0!=shiftWildReelPos_[num]&&(ret=shiftWildReelPos_[num]),ret},wildClass_.resumeWildReel=function(){var a=0,wilSimbsNum_=0,reels=spinManager_.getReels();for(i=0;i<ReelConfig.numReels;i++)void 0!=wildClassObject_&&(wildClassObject_.wildReelSmb_[i]={},wildClassObject_.wildReelSmb_[i].simbolReference=[],wildClassObject_.wildReelSmb_[i].substOnreel=[],wildClassObject_.wildReelSmb_[i].smbNum=[],wildClassObject_.wildReelSmb_[i].pos=[],wildClassObject_.wildReelSmb_[i].reel=[],void 0==wildClassObject_.wildReelSmb_[i].anim&&(wildClassObject_.wildReelSmb_[i].anim=[]),void 0==wildClassObject_.wildReelSmb_[i].sticky&&(wildClassObject_.wildReelSmb_[i].sticky=0));if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)if(wildManager_.getTriggerIcon().indexOf(resumeJson[i].smb[0].smb)>=0){var ind=0;wildClassObject_.wildReelSmb_[i].smbNum.push(wildManager_.getTriggerIcon()),wildClassObject_.wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildClassObject_.wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildClassObject_.wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(0)),wildClassObject_.wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildClassObject_.wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),"0"==wildClassObject_.wildReelSmb_[i].sticky&&wilSimbsNum_++,wildClassObject_.wildReelSmb_[i].sticky=null!=resumeJson[i].smb[0].stick?"1":"0",wildClassObject_.wildReelSmb_[i].anim[0]=game_.add.sprite(wildClassObject_.wildReelSmb_[i].pos[ind].x+ReelConfig.icon.width/2,wildClassObject_.wildReelSmb_[i].pos[ind].y+(ReelConfig.icon.height+ReelConfig.icon.height/2-10),"resumeWildReel"),wildClassObject_.wildReelSmb_[i].anim[0].anchor.set(.5,.5),wildClassObject_.wildReelSmb_[i].anim[0].scale.x=1.1,wildClassObject_.wildReelSmb_[i].anim[0].scale.y=1.1,shiftWildReelPos_[i]=!0;for(var r in wildClassObject_.wildReelSmb_[i].substOnreel)void 0!=wildClassObject_.wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,400-100*Number(ind),wildClassObject_.wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildClassObject_.wildReelSmb_[i].anim[0]),play_=!0}void 0!=wildClassObject_&&winManager_.setWildSimbs(wildClassObject_.wildReelSmb_)},wildClass_}function FadingWildReel(gameRef,gameClass){function placeImages_(par){return}function nextPart_(par){var i=par[0],a=par[1];wildReelSmb_[i].anim[a].f.play("anim",24,!1,!0),wildReelSmb_[i].anim[a].a=game_.add.sprite(wildReelSmb_[i].anim[a].a.x,wildReelSmb_[i].anim[a].a.y,"wildReel_a_1"),wildReelSmb_[i].anim[a].a.animations.add("anim"),wildReelSmb_[i].anim[a].a.animations.play("anim",gameClass_.getCompulsivePlayer()?64:24,!1,!1,placeImages_,[i,a]),wildReelSmb_[i].anim[a].a.anchor.set(.5,.5),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].a),animFrameSeq_=[],revAnimFrameSeq_=[];for(var b=1;b<wildReelSmb_[i].anim[a].a.animations._outputFrames.length;b++)animFrameSeq_.push(b),revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse()}function hideIcons(icon){icon.visible=!1}function sghowIcons(icon){icon.visible=!0,showWildReel=!1}function subst_(par){var i=par[0],a=par[1];void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i].simbolReference&&void 0!=wildReelSmb_[i].simbolReference[a]&&(wildReelSmb_[i].simbolReference[a].visible=!0),void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i].anim&&void 0!=wildReelSmb_[i].anim[a]&&(wildReelSmb_[i].anim[a]=null)}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,animFrameSeq_=[],revAnimFrameSeq_=[],showWildReel=!1,shiftWildReelPos_=[],fw=[];for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],void 0==wildReelSmb_[i].anim&&(wildReelSmb_[i].anim=[]),void 0==wildReelSmb_[i].sticky&&(wildReelSmb_[i].sticky=0);return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(void 0!=wildReelSmb_[i].pos[0])for(var a in wildReelSmb_[i].pos)if(void 0==wildReelSmb_[i].anim[a]&&void 0!=wildReelSmb_[i].pos[a]){wildReelSmb_[i].anim[a]={},wildReelSmb_[i].anim[a].a=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_a_0"),wildReelSmb_[i].anim[a].b=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_b"),wildReelSmb_[i].anim[a].f=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2)+270,"fworks"),wildReelSmb_[i].anim[a].c=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_c"),wildReelSmb_[i].anim[a].a.animations.add("anim"),wildReelSmb_[i].anim[a].b.animations.add("anim"),wildReelSmb_[i].anim[a].c.animations.add("anim"),wildReelSmb_[i].anim[a].f.animations.add("anim"),wildReelSmb_[i].anim[a].a.animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!0,nextPart_,[i,a]),wildReelSmb_[i].anim[a].b.animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!1),wildReelSmb_[i].anim[a].c.animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!1),shiftWildReelPos_[i]=!0,wildReelSmb_[i].anim[a].a.anchor.set(.5,.5),wildReelSmb_[i].anim[a].b.anchor.set(.5,.5),wildReelSmb_[i].anim[a].c.anchor.set(.5,.5),wildReelSmb_[i].anim[a].f.anchor.set(.5,.5),wildReelSmb_[i].simbolReference[a].visible=!1;var ind=0;if(1==ReelConfig.wildReelOrigin)for(var r=0;r<=wildReelSmb_[i].substOnreel.length;r++)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);else for(var r=wildReelSmb_[i].substOnreel.length;r>=0;r--)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].c),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].f),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].b),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].a),play_=!0}play_&&soundManager_.playSound("wildReel")},wildClass_.wildReelWinAnim=function(reel){for(var a in wildReelSmb_[reel].anim)wildReelSmb_[reel].anim[a].a.animations.play("anim",24,!1,!1)},wildClass_.clearWild=function(wild){var rollBack=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a in wildReelSmb_[i].smbNum)if(wildReelSmb_[i].anim[a]&&"0"==wildReelSmb_[i].sticky){rollBack=!0,shiftWildReelPos_[i]=!1,1==ReelConfig.wilTextAnim&&(void 0!=wildReelSmb_[i].anim[a].bg&&(wildReelSmb_[i].anim[a].bg.visible=!1),void 0!=wildReelSmb_[i].anim[a].text&&(wildReelSmb_[i].anim[a].text.visible=!1),wildReelSmb_[i].anim[a].a.visible=!0,null!=wildReelSmb_[i].anim[a].b&&(wildReelSmb_[i].anim[a].b.visible=!0,wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a].b),wildReelSmb_[i].anim[a].b=null),null!=wildReelSmb_[i].anim[a].c&&(wildReelSmb_[i].anim[a].c.visible=!0,wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a].c),wildReelSmb_[i].anim[a].c=null)),wildReelSmb_[i].anim[a].a.animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i].anim[a].a.animations.play("anim",48,!1,!0,subst_,[i,a]);var ind=0;if(1==ReelConfig.wildReelOrigin)for(var r=0;r<=wildReelSmb_[i].substOnreel.length;r++)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,void 0!=ReelConfig.rollbackBaseTime?ReelConfig.rollbackBaseTime:400+150*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);else for(var r=wildReelSmb_[i].substOnreel.length;r>=0;r--)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,void 0!=ReelConfig.rollbackBaseTime?ReelConfig.rollbackBaseTime:400+150*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++)}if(rollBack){soundManager_.playSound("wildReelOut");for(var a in fw)displayManager_.getGroup("fireworks").remove(fw[a]);fw=[]}},wildClass_.resumeWildReel=function(){var a=0,wilSimbsNum_=0,reels=spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)if(wildManager_.getTriggerIcon().indexOf(resumeJson[i].smb[0].smb)>=0){var ind=a;wildReelSmb_[i].smbNum.push(wildManager_.getTriggerIcon()),wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(0)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),"0"==wildReelSmb_[i].sticky&&wilSimbsNum_++,wildReelSmb_[i].sticky=null!=resumeJson[i].smb[0].stick?"1":"0",wildReelSmb_[i].anim[0]={},wildReelSmb_[i].anim[0].a=game_.add.sprite(reels[i].getPos(a).x+ReelConfig.icon.width/2,reels[i].getPos(a).y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_a_1"),wildReelSmb_[i].anim[0].a.animations.add("anim"),wildReelSmb_[i].anim[0].a.animations.play("anim",24,!1),wildReelSmb_[i].anim[0].a.anchor.set(.5,.5),wildReelSmb_[i].anim[0].a.scale.x=1,wildReelSmb_[i].anim[0].a.scale.y=1,shiftWildReelPos_[i]=!0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(hideIcons(wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[0].a),play_=!0}winManager_.setWildSimbs(wildReelSmb_)},wildClass_.hasWildReel=function(){return showWildReel},wildClass_.isReelWilded=function(num){var ret=!1;return void 0!=shiftWildReelPos_[num]&&(ret=shiftWildReelPos_[num]),ret},wildClass_}function FightStickyWild(gameRef,gameClass){function endFightAndMove_(par){var r=par[0],s=par[1];wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].animVSBg),TweenMax.to(wildReelSmb_[r][s].anim,1,{delay:.5,x:ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*r+ReelConfig.icon.width/2),Ease:Sine.EaseInOut,onComplete:endKnightMoveAfterFight_,onCompleteParams:[r,s]}),wildReelSmb_[r][s].animBg.animations.add("anim",[18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]),wildReelSmb_[r][s].animBg.animations.play("anim",24,!1)}function endKnightMoveAfterFight_(r,s){wildReelSmb_[r][s].anim.visible=!1,wildReelSmb_[r][s].animBg.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].anim),wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].animBg),wildReelSmb_[r][s].anim=null,wildReelSmb_[r][s].animBg=null}function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function updateFight_(par){var r=par[0],s=par[1];wildReelSmb_[r][s].anim.visible=!1,wildReelSmb_[r][s].animBg.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].anim),wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].animBg),wildReelSmb_[r][s].anim=null,wildReelSmb_[r][s].animBg=null,wildReelSmb_[r][s].animVS.visible=!1,wildReelSmb_[r][s].animVSBg.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].animVS),wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].animVSBg),wildReelSmb_[r][s].animVS=null,wildReelSmb_[r][s].animVSBg=null}function endKnightMoveL_(r,s){1==wildReelSmb_[r][s].fight?(void 0!=wildReelSmb_[r]&&null!=wildReelSmb_[r][s].animVS&&(wildReelSmb_[r][s].animVS.animations.add("anim"),wildReelSmb_[r][s].animVS.animations.play("anim",24,!1)),null!=wildReelSmb_[r][s].anim&&(wildReelSmb_[r][s].anim.animations.add("anim"),wildReelSmb_[r][s].anim.animations.play("anim",24,!1,!0,updateFight_,[r,s,r+1]))):(wildReelSmb_[r][s].anim.visible=!1,wildReelSmb_[r][s].animBg.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].anim),wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].animBg),wildReelSmb_[r][s].anim=null,wildReelSmb_[r][s].animBg=null),gameClass_.setStickyWildSimbs(wildReelSmb_)}function endKnightMoveR_(r,s){1==wildReelSmb_[r][s].fight?(void 0!=wildReelSmb_[r]&&null!=wildReelSmb_[r][s].animVS&&(wildReelSmb_[r][s].animVS.animations.add("anim"),
wildReelSmb_[r][s].animVS.animations.play("anim",24,!1)),wildReelSmb_[r][s].anim.animations.add("anim"),wildReelSmb_[r][s].anim.animations.play("anim",24,!1,!0,updateFight_,[r,s])):(wildReelSmb_[r][s].anim.visible=!1,wildReelSmb_[r][s].animBg.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].anim),wildClassObject_.mainGroup_.remove(wildReelSmb_[r][s].animBg),wildReelSmb_[r][s].anim=null,wildReelSmb_[r][s].animBg=null),gameClass_.setStickyWildSimbs(wildReelSmb_)}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,showWildReel=!1,expWildPos_=[];for(wildReelSmb_=[],i=0;i<5;i++)for(wildReelSmb_[i]=[],expWildPos_[i]=[],a=0;a<3;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1;wildClass_.showWild=function(wild){};var sequencer=[];sequencer[0]=[],sequencer[1]=[],sequencer[2]=[],sequencer[3]=[],sequencer[4]=[],sequencer[11]=[],sequencer[12]=[];var spawn={},fight={};return wildClass_.spinAnim=function(wild){var play_=!1,delay=0,xCorr=0,yCorr=-5;wildReelSmb_=wild;for(var a=0;a<3;a++)displayManager_.getGroup("bgFS1")["knL"+a].children[0].scale.x=.5,displayManager_.getGroup("bgFS1")["knL"+a].children[0].scale.y=.5,displayManager_.getGroup("bgFS1")["knR"+a].children[0].scale.x=.5,displayManager_.getGroup("bgFS1")["knR"+a].children[0].scale.y=.5,TweenMax.to(displayManager_.getGroup("bgFS1")["knL"+a].children[0],.5,{alpha:1}),TweenMax.to(displayManager_.getGroup("bgFS1")["knR"+a].children[0],.5,{alpha:1});for(var i=0;i<spinManager_.getReels().length;i++)for(var a=0;a<3;a++)wildReelSmb_[i][a].animBg&&wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].animBg),wildReelSmb_[i][a].anim&&wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].animVSBg&&wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].animVSBg),wildReelSmb_[i][a].animVS&&wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].animVS);for(var i=0;i<spinManager_.getReels().length;i++)for(var a=0;a<3;a++){var sp=wildReelSmb_[i][a];if(void 0!=sp)if((sp.prevReel<0||sp.prevReel>4)&&sp.prevReel<6&&0==sp.placed){var kn;sp.prevReel<0?(kn=displayManager_.getGroup("bgFS1")["knL"+a].children[0],xCorr=10):(kn=displayManager_.getGroup("bgFS1")["knR"+a].children[0],xCorr=-10),TweenMax.to(kn.scale,.5,{x:.8,y:.8}),TweenMax.to(kn,.5,{delay:.3,alpha:0}),sp.placed=!0,wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x+xCorr,wildReelSmb_[i][a].simbolReference.y+yCorr,"icon"+wildReelSmb_[i][a].iconNum),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=0,TweenMax.to(wildReelSmb_[i][a].anim,.3,{delay:.8,alpha:1}),expWildPos_[i][a]=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),play_=!0,gameClass_.setStickyWildSimbs(wildReelSmb_),spawn.x=wildReelSmb_[i][a].simbolReference.x,spawn.y=wildReelSmb_[i][a].simbolReference.y,sequencer[wildReelSmb_[i][a].iconNum].push(spawn)}else if(sp.prevReel>=0&&sp.prevReel<5&&0==sp.moved){sp.moved=!0;var moveFirst=!0;12==wildReelSmb_[i][a].iconNum?(xCorr=8,1==sp.fight&&(3==sp.prevReel?(moveFirst=!1,wildReelSmb_[i][a].animBg=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width),wildReelSmb_[i][a].simbolReference.y,"leftBgKnight"),wildReelSmb_[i][a].animBg.anchor.set(.5,.5),wildReelSmb_[i][a].animBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animBg),wildReelSmb_[i][a].anim=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"leftKnight"),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildReelSmb_[i][a].anim.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].animVSBg=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*i,wildReelSmb_[i][a].simbolReference.y,"rightBgKnight"),wildReelSmb_[i][a].animVSBg.anchor.set(.5,.5),wildReelSmb_[i][a].animVSBg.alpha=1,wildReelSmb_[i][a].animVSBg.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVSBg),wildReelSmb_[i][a].animVS=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*i+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"rightKnight"),wildReelSmb_[i][a].animVS.anchor.set(.5,.5),wildReelSmb_[i][a].animVS.alpha=1,wildReelSmb_[i][a].animVS.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVS),fight.reel=sp.prevReel,fight.vs=i,fight.smb=a,sequencer[wildReelSmb_[i][a].iconNum].push(fight)):(1==i&&0==sp.prevReel?(wildReelSmb_[i][a].animBg=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width),wildReelSmb_[i][a].simbolReference.y,"leftBgKnight"),wildReelSmb_[i][a].animBg.anchor.set(.5,.5),wildReelSmb_[i][a].animBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animBg),wildReelSmb_[i][a].anim=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"leftKnight"),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildReelSmb_[i][a].anim.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].animVSBg=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*(sp.prevReel+1),wildReelSmb_[i][a].simbolReference.y,"rightBgKnight"),wildReelSmb_[i][a].animVS=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*(sp.prevReel+1)+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"rightKnight"),moveFirst=!1,fight.reel=sp.prevReel,fight.vs=sp.prevReel+1,fight.smb=a,sequencer[wildReelSmb_[i][a].iconNum].push(fight)):(wildReelSmb_[i][a].animVSBg=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*(i+1),wildReelSmb_[i][a].simbolReference.y,"rightBgKnight"),wildReelSmb_[i][a].animVS=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*(i+1)+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"rightKnight"),fight.reel=sp.prevReel,fight.vs=sp.prevReel+1,fight.smb=a,sequencer[wildReelSmb_[i][a].iconNum].push(fight)),wildReelSmb_[i][a].animVSBg.anchor.set(.5,.5),wildReelSmb_[i][a].animVSBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVSBg),wildReelSmb_[i][a].animVS.anchor.set(.5,.5),wildReelSmb_[i][a].animVS.alpha=1,wildReelSmb_[i][a].animVS.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVS))),moveFirst?(wildReelSmb_[i][a].animBg=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width)-1,wildReelSmb_[i][a].simbolReference.y-3,"leftBgKnight"),wildReelSmb_[i][a].animBg.anchor.set(.5,.5),wildReelSmb_[i][a].animBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animBg),wildReelSmb_[i][a].animBg.animations.add("anim",[18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]),wildReelSmb_[i][a].animBg.animations.play("anim",24,!1),wildReelSmb_[i][a].anim=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width/2)+11,wildReelSmb_[i][a].simbolReference.y-34,"leftKnight"),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),TweenMax.to(wildReelSmb_[i][a].anim,1,{delay:.5,x:ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*i+ReelConfig.icon.width/2),Ease:Sine.EaseInOut,onComplete:endKnightMoveL_,onCompleteParams:[i,a]})):(wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].animVS.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",24,!1,!1,endFightAndMove_,[i,a]),wildReelSmb_[i][a].animVS.animations.play("anim",24,!1,!0)),delay=2):11==wildReelSmb_[i][a].iconNum&&(1==sp.fight&&(1==sp.prevReel?(moveFirst=!1,wildReelSmb_[i][a].animBg=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*sp.prevReel,wildReelSmb_[i][a].simbolReference.y,"rightBgKnight"),wildReelSmb_[i][a].animBg.anchor.set(.5,.5),wildReelSmb_[i][a].animBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animBg),wildReelSmb_[i][a].anim=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"rightKnight"),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildReelSmb_[i][a].anim.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].animVSBg=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*i+ReelConfig.icon.width),wildReelSmb_[i][a].simbolReference.y,"leftBgKnight"),wildReelSmb_[i][a].animVSBg.anchor.set(.5,.5),wildReelSmb_[i][a].animVSBg.alpha=1,wildReelSmb_[i][a].animVSBg.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVSBg),wildReelSmb_[i][a].animVS=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*i+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"leftKnight"),wildReelSmb_[i][a].animVS.anchor.set(.5,.5),wildReelSmb_[i][a].animVS.alpha=1,wildReelSmb_[i][a].animVS.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVS)):(3==i&&4==sp.prevReel?(wildReelSmb_[i][a].animBg=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*sp.prevReel,wildReelSmb_[i][a].simbolReference.y,"rightBgKnight"),wildReelSmb_[i][a].animBg.anchor.set(.5,.5),wildReelSmb_[i][a].animBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animBg),wildReelSmb_[i][a].anim=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"rightKnight"),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildReelSmb_[i][a].anim.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].animVSBg=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*(sp.prevReel-1)+ReelConfig.icon.width),wildReelSmb_[i][a].simbolReference.y,"leftBgKnight"),wildReelSmb_[i][a].animVS=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*(sp.prevReel-1)+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"leftKnight"),moveFirst=!1):(wildReelSmb_[i][a].animVSBg=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*(i-1)+ReelConfig.icon.width),wildReelSmb_[i][a].simbolReference.y,"leftBgKnight"),wildReelSmb_[i][a].animVS=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*(i-1)+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y,"leftKnight")),wildReelSmb_[i][a].animVSBg.anchor.set(.5,.5),wildReelSmb_[i][a].animVSBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVSBg),wildReelSmb_[i][a].animVS.anchor.set(.5,.5),wildReelSmb_[i][a].animVS.alpha=1,wildReelSmb_[i][a].animVS.added=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animVS))),moveFirst?(wildReelSmb_[i][a].animBg=game_.add.sprite(ReelConfig.reel.deltaX_0+ReelConfig.reel.deltaX*sp.prevReel,wildReelSmb_[i][a].simbolReference.y,"rightBgKnight"),wildReelSmb_[i][a].animBg.anchor.set(.5,.5),wildReelSmb_[i][a].animBg.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].animBg),wildReelSmb_[i][a].animBg.animations.add("anim",[18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]),wildReelSmb_[i][a].animBg.animations.play("anim",24,!1),wildReelSmb_[i][a].anim=game_.add.sprite(ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*sp.prevReel+ReelConfig.icon.width/2),wildReelSmb_[i][a].simbolReference.y+yCorr,"rightKnight"),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),TweenMax.to(wildReelSmb_[i][a].anim,1,{delay:.5,x:ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*i+ReelConfig.icon.width/2),Ease:Sine.EaseInOut,onComplete:endKnightMoveR_,onCompleteParams:[i,a]})):(wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].animVS.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",24,!1,!1,endFightAndMove_,[i,a,i]),wildReelSmb_[i][a].animVS.animations.play("anim",24,!1,!0)),delay=2)}}play_&&soundManager_.playSound("stickyWild"),setTimeout(spinManager_.setResponseReceived,delay)},wildClass_.clearWild=function(wild){return},wildClass_.resetWilds=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)expWildPos_[i][a]=!1,wildReelSmb_[i][a].special=null},wildClass_.hasWildReel=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)if(1==expWildPos_[i][a])return!0;return!1},wildClass_.isSymbolWilded=function(reel,smb){return expWildPos_[reel][smb]},wildClass_.wildReelWinAnim=function(reel,smb){null!=wildReelSmb_[reel][smb].anim&&1==wildReelSmb_[reel][smb].anim.scale.x&&(wildReelSmb_[reel][smb].anim.alpha=1,void 0!=wildReelSmb_[reel][smb].anim.bgAnim&&(wildReelSmb_[reel][smb].anim.bgAnim.alpha=1),TweenMax.to(wildReelSmb_[reel][smb].anim.scale,.2,{x:1.2,y:1.2,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel][smb].anim]}))},wildClass_.resumeWildReel=function(){spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var a=0;a<3;a++)if([10].indexOf(resumeJson[i].smb[a].smb)>=0){var smb_=spinManager_.getReels()[i].getSymbol(a);smb_.visible=!1,wildReelSmb_[i][a].simbolReference=smb_,wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animW10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",48,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].special="n/a"!=resumeJson[i].smb[a].special?resumeJson[i].smb[a].special:"done",wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),expWildPos_[i][a]=!0}gameClass_.setStickyWildSimbs(wildReelSmb_)},wildClass_}function MultipleWildsReel(gameRef,gameClass){function placeImages_(par){var i=par[0],a=par[1];0==freeSpinsManager_.getIsInFs()&&(wildReelSmb_[i].anim[a].bg=game_.add.sprite(wildReelSmb_[i].anim[a].x,wildReelSmb_[i].anim[a].y,"wildBg"),wildReelSmb_[i].anim[a].bg.anchor.set(.5,.5),wildReelSmb_[i].anim[a].visible=!1,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].bg),wildReelSmb_[i].anim[a].text=game_.add.sprite(wildReelSmb_[i].anim[a].x,wildReelSmb_[i].anim[a].y,"wildText"),wildReelSmb_[i].anim[a].text.anchor.set(.5,.5),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].text))}function nextPart_(par){var i=par[0],a=par[1];wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].anim[a].x,wildReelSmb_[i].anim[a].y,"wildReel_"+spinManager_.getSpinResp().spin.reels[wildReelSmb_[i].simbolReference[0].reel].smb[0].smb+"_1"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),1!=ReelConfig.wilTextAnimOnly||spinManager_.getSpinResp().spin.reels[wildReelSmb_[i].simbolReference[0].reel].smb[0].smb>10?wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1):wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!1,placeImages_,[i,a]),wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a])}function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function hideIcons(icon){icon.visible=!1}function sghowIcons(icon){icon.visible=!0,showWildReel=!1}function subst_(par){var i=par[0],a=par[1];void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i].simbolReference&&void 0!=wildReelSmb_[i].simbolReference[a]&&(wildReelSmb_[i].simbolReference[a].visible=!0),void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i].anim&&void 0!=wildReelSmb_[i].anim[a]&&(wildReelSmb_[i].anim[a]=null)}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,animFrameSeq_=[],revAnimFrameSeq_=[],showWildReel=!1,shiftWildReelPos_=[];for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],void 0==wildReelSmb_[i].anim&&(wildReelSmb_[i].anim=[]),void 0==wildReelSmb_[i].sticky&&(wildReelSmb_[i].sticky=0);return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(void 0!=wildReelSmb_[i].pos[0])for(var a in wildReelSmb_[i].pos)if(void 0==wildReelSmb_[i].anim[a]&&void 0!=wildReelSmb_[i].pos[a]){1==game_.cache.checkImageKey("wildReel")?(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel"),null!=ReelConfig.wildReelOrigin_Y_Offset&&(wildReelSmb_[i].anim[a].y=wildReelSmb_[i].anim[a].y+ReelConfig.wildReelOrigin_Y_Offset),null!=ReelConfig.wildReelOrigin_X_Offset&&(wildReelSmb_[i].anim[a].x=wildReelSmb_[i].anim[a].x+ReelConfig.wildReelOrigin_X_Offset),wildReelSmb_[i].anim[a].animations.add("anim"),1!=ReelConfig.wilTextAnimOnly?wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1):wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!1,placeImages_,[i,a])):1==game_.cache.checkImageKey("wildReel_"+spinManager_.getSpinResp().spin.reels[wildReelSmb_[i].simbolReference[0].reel].smb[0].smb+"_0")&&(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_"+spinManager_.getSpinResp().spin.reels[wildReelSmb_[i].simbolReference[0].reel].smb[0].smb+"_0"),null!=ReelConfig.wildReelOrigin_Y_Offset&&(wildReelSmb_[i].anim[a].y=wildReelSmb_[i].anim[a].y+ReelConfig.wildReelOrigin_Y_Offset),null!=ReelConfig.wildReelOrigin_X_Offset&&(wildReelSmb_[i].anim[a].x=wildReelSmb_[i].anim[a].x+ReelConfig.wildReelOrigin_X_Offset),wildReelSmb_[i].anim[a].animations.add("anim"),wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!0,nextPart_,[i,a])),shiftWildReelPos_[i]=!0,animFrameSeq_=[],revAnimFrameSeq_=[];for(var b=1;b<wildReelSmb_[i].anim[a].animations._outputFrames.length;b++)animFrameSeq_.push(b),revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildReelSmb_[i].simbolReference[a].visible=!1;var ind=0;if(1==ReelConfig.wildReelOrigin)for(var r=0;r<=wildReelSmb_[i].substOnreel.length;r++)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);else for(var r=wildReelSmb_[i].substOnreel.length;r>=0;r--)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a]),play_=!0}play_&&soundManager_.playSound("wildReel")},wildClass_.wildReelWinAnim=function(reel){for(var a in wildReelSmb_[reel].anim)1!=ReelConfig.wilTextAnimOnly?null!=wildReelSmb_[reel].anim[a]&&1==wildReelSmb_[reel].anim[a].scale.x&&TweenMax.to(wildReelSmb_[reel].anim[a].scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel].anim[a]]}):null!=wildReelSmb_[reel].anim[a].text&&1==wildReelSmb_[reel].anim[a].text.scale.x&&TweenMax.to(wildReelSmb_[reel].anim[a].text.scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel].anim[a].text]})},wildClass_.clearWild=function(wild){var rollBack=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a in wildReelSmb_[i].smbNum)if(wildReelSmb_[i].anim[a]&&"0"==wildReelSmb_[i].sticky){rollBack=!0,shiftWildReelPos_[i]=!1,1==ReelConfig.wilTextAnimOnly&&(void 0!=wildReelSmb_[i].anim[a].bg&&(wildReelSmb_[i].anim[a].bg.visible=!1),void 0!=wildReelSmb_[i].anim[a].text&&(wildReelSmb_[i].anim[a].text.visible=!1),wildReelSmb_[i].anim[a].visible=!0,wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a].bg),wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a].text),wildReelSmb_[i].anim[a].bg=null,wildReelSmb_[i].anim[a].text=null),wildReelSmb_[i].anim[a].animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",48,!1,!0,subst_,[i,a]);var ind=0;if(1==ReelConfig.wildReelOrigin)for(var r=0;r<=wildReelSmb_[i].substOnreel.length;r++)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,void 0!=ReelConfig.rollbackBaseTime?ReelConfig.rollbackBaseTime:400+150*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);else for(var r=wildReelSmb_[i].substOnreel.length;r>=0;r--)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,void 0!=ReelConfig.rollbackBaseTime?ReelConfig.rollbackBaseTime:400+150*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++)}rollBack&&soundManager_.playSound("wildReelOut")},wildClass_.resumeWildReel=function(){var a=0,wilSimbsNum_=0,reels=spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)if(wildManager_.getTriggerIcon().indexOf(resumeJson[i].smb[0].smb)>=0){var ind=a;wildReelSmb_[i].smbNum.push(wildManager_.getTriggerIcon()),wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(0)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),"0"==wildReelSmb_[i].sticky&&wilSimbsNum_++,wildReelSmb_[i].sticky=null!=resumeJson[i].smb[0].stick?"1":"0",wildReelSmb_[i].anim[0]=game_.add.sprite(reels[i].getPos(a).x+ReelConfig.icon.width/2,reels[i].getPos(a).y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_"+resumeJson[i].smb[0].smb+"_1"),null!=ReelConfig.wildReelOrigin_Y_Offset&&(wildReelSmb_[i].anim[0].y=wildReelSmb_[i].anim[0].y+ReelConfig.wildReelOrigin_Y_Offset),null!=ReelConfig.wildReelOrigin_X_Offset&&(wildReelSmb_[i].anim[0].x=wildReelSmb_[i].anim[0].x+ReelConfig.wildReelOrigin_X_Offset),wildReelSmb_[i].anim[0].animations.add("anim"),wildReelSmb_[i].anim[0].animations.play("anim",24,!1),wildReelSmb_[i].anim[0].anchor.set(.5,.5),wildReelSmb_[i].anim[0].scale.x=1,wildReelSmb_[i].anim[0].scale.y=1,shiftWildReelPos_[i]=!0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,400-100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[0]),play_=!0}winManager_.setWildSimbs(wildReelSmb_)},wildClass_.hasWildReel=function(){return showWildReel},wildClass_.isReelWilded=function(num){var ret=!1;return void 0!=shiftWildReelPos_[num]&&(ret=shiftWildReelPos_[num]),ret},wildClass_}function StickyWild(gameRef,gameClass){function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function subst_(par){var i=par[0],a=par[1];void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i][a]&&void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0)}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,showWildReel=!1,expWildPos_=[],revAnimFrameSeq_=[];for(wildReelSmb_=[],i=0;i<5;i++)for(wildReelSmb_[i]=[],expWildPos_[i]=[],a=0;a<3;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1;return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)for(var a=0;a<3;a++)for(var ss in wildReelSmb_[i][a].special){var sp=wildReelSmb_[i][a].special[ss];if(null!=sp&&void 0!=sp&&""!=sp){void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null);var smb=spinManager_.getReels()[i].getRealPosSmb(wildReelSmb_[i][a].simbolReference.smbToRemove);smb&&(smb.visible=!1),wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animW10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",gameClass_.getCompulsivePlayer()?128:24,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildReelSmb_[i][a].anim.visible=!0,revAnimFrameSeq_=[];for(var b=1;b<=wildReelSmb_[i][a].anim.animations._outputFrames.length;b++)b%2==0&&revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),expWildPos_[i][a]=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),play_=!0,gameClass_.setStickyWildSimbs(wildReelSmb_)}}play_&&soundManager_.playSound("stickyWild")},wildClass_.clearWild=function(wild){var rollBack=!1;wildReelSmb_=wild;var placed=[];if(1==freeSpinsManager_.getIsInFs())for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)for(var ss in wildReelSmb_[i][a].special)if(void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.alpha=1),null!=wildReelSmb_[i][a].special[ss]){var sp=wildReelSmb_[i][a].special[ss];if(null!=sp&&void 0!=sp&&""!=sp)if(sp.indexOf("done")>=0)expWildPos_[i][a]=!1,placed.indexOf(i.toString()+a.toString())<0&&(rollBack=!0,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildReelSmb_[i][a].anim.animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i][a].anim.animations.play("anim",48,!1,!0,subst_,[i,a])));else if(""!=sp)for(var s=0;s<2;s++){var reel=sp.split("-")[s].split(",")[1],smb=Number(sp.split("-")[s].split(",")[0]);wildReelSmb_[reel][smb].simbolReference=spinManager_.getReels()[reel].getSymbol(smb),wildReelSmb_[reel][smb].simbolReference.smbToRemove=smb;var x=wildReelSmb_[reel][smb].simbolReference.x,y=wildReelSmb_[reel][smb].simbolReference.y;void 0!=wildReelSmb_[reel][smb].anim&&(wildReelSmb_[reel][smb].anim.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[reel][smb].anim),wildReelSmb_[reel][smb].anim=null),placed.push(reel.toString()+smb.toString()),wildReelSmb_[reel][smb].anim=game_.add.sprite(x,y,"stickyWild"),wildReelSmb_[reel][smb].anim.animations.add("anim"),wildReelSmb_[reel][smb].anim.animations.play("anim",gameClass_.getCompulsivePlayer()?128:24,!1),wildReelSmb_[reel][smb].anim.anchor.set(.5,.5),wildReelSmb_[reel][smb].anim.alpha=1,wildReelSmb_[reel][smb].anim.visible=!0,void 0!=wildReelSmb_[reel][smb].simbolReference&&(wildReelSmb_[reel][smb].simbolReference.visible=!1),expWildPos_[reel][smb]=!0,rollBack=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[reel][smb].anim)}wildReelSmb_[i][a].special[ss]=""}gameClass_.setStickyWildSimbs(wildReelSmb_),rollBack&&soundManager_.playSound("stickyWild")},wildClass_.resetWilds=function(){for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)expWildPos_[i][a]=!1,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null),void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0),wildReelSmb_[i][a].special=[];for(var a in wildClassObject_.mainGroup_.children)wildClassObject_.mainGroup_.remove(wildClassObject_.mainGroup_.children[a])},wildClass_.hasWildReel=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)if(1==expWildPos_[i][a])return!0;return!1},wildClass_.isSymbolWilded=function(reel,smb){return expWildPos_[reel][smb]},wildClass_.wildReelWinAnim=function(reel,smb){null!=wildReelSmb_[reel][smb].anim&&1==wildReelSmb_[reel][smb].anim.scale.x&&(wildReelSmb_[reel][smb].anim.alpha=1,void 0!=wildReelSmb_[reel][smb].anim.bgAnim&&(wildReelSmb_[reel][smb].anim.bgAnim.alpha=1),TweenMax.to(wildReelSmb_[reel][smb].anim.scale,.2,{x:1.2,y:1.2,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel][smb].anim]}))},wildClass_.resumeWildReel=function(){spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var a=0;a<3;a++)if(void 0==wildReelSmb_[i][a].special&&(wildReelSmb_[i][a].special=[]),[10].indexOf(resumeJson[i].smb[a].smb)>=0){var smb_=spinManager_.getReels()[i].getSymbol(a);smb_.visible=!1,wildReelSmb_[i][a].simbolReference=smb_,wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animW10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",48,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].special.push("n/a"!=resumeJson[i].smb[a].special?resumeJson[i].smb[a].special:"done"),wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),expWildPos_[i][a]=!0}gameClass_.setStickyWildSimbs(wildReelSmb_)},wildClass_}function TumblingWildReel(gameRef,gameClass){function nextPart_(par){try{var i=par[0],a=par[1],offSet=0;void 0!=ReelConfig.wildAnimOffset&&(offSet=ReelConfig.wildAnimOffset*ReelConfig.icon.height),wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+offSet,"wildReel_1"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",24,!1,!0,lastPart_,[i,a]),wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a])}catch(e){}}function lastPart_(par){for(var i=par[0],a=par[1],reels=spinManager_.getReels(),a=0;a<4;a++){reels[i].getPos(a);1==game_.cache.checkImageKey("icon"+(14+Number(a)))&&reels[i].swapSmb(14+Number(a),a)}}function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function hideIcons(icon){icon.visible=!1}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,animFrameSeq_=[],revAnimFrameSeq_=[],showWildReel=!1,shiftWildReelPos_=[];for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],void 0==wildReelSmb_[i].anim&&(wildReelSmb_[i].anim=[]),void 0==wildReelSmb_[i].sticky&&(wildReelSmb_[i].sticky=0);return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(void 0!=wildReelSmb_[i].pos[0])for(var a in wildReelSmb_[i].pos)if(void 0==wildReelSmb_[i].anim[a]&&void 0!=wildReelSmb_[i].pos[a]){void 0!=ReelConfig.wildReelAnimOffset?ReelConfig.wildReelAnimOffset:0;1==game_.cache.checkImageKey("wildReel")?(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y,"wildReel"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",24,!1,!0,lastPart_,[i,a]),void 0!=ReelConfig.wildReelOrigin_X_Offset&&(wildReelSmb_[i].anim[a].x=wildReelSmb_[i].anim[a].x+ReelConfig.wildReelOrigin_X_Offset)):1==game_.cache.checkImageKey("wildReel_0")&&(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y,"wildReel_0"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",24,!1,!0,nextPart_,[i,a])),shiftWildReelPos_[i]=!0,animFrameSeq_=[],revAnimFrameSeq_=[];for(var b=1;b<=wildReelSmb_[i].anim[a].animations._outputFrames.length;b++)animFrameSeq_.push(b),revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),wildReelSmb_[i].anim[a].anchor.set(.5,.5);
var ind=0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a]),play_=!0}play_&&soundManager_.playSound("wildReel")},wildClass_.wildReelWinAnim=function(reel){for(var a in wildReelSmb_[reel].anim)null!=wildReelSmb_[reel].anim[a]&&1==wildReelSmb_[reel].anim[a].scale.x&&TweenMax.to(wildReelSmb_[reel].anim[a].scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel].anim[a]]})},wildClass_.clearWild=function(wild){for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],wildReelSmb_[i].anim=[],wildReelSmb_[i].sticky=0;winManager_.setWildSimbs(wildReelSmb_)},wildClass_.resumeWildReel=function(){var a=3,wilSimbsNum_=0,reels=spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)if(wildManager_.getTriggerIcon().indexOf(resumeJson[i].smb[0].smb)>=0){var ind=0;wildReelSmb_[i].smbNum.push(wildManager_.getTriggerIcon()),wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(3)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),"0"==wildReelSmb_[i].sticky&&wilSimbsNum_++,wildReelSmb_[i].sticky=null!=resumeJson[i].smb[0].stick?"1":"0",wildReelSmb_[i].anim[0]=game_.add.sprite(wildReelSmb_[i].pos[ind].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[ind].y+(ReelConfig.icon.height+ReelConfig.icon.height/2-10),"wildReel_1"),wildReelSmb_[i].anim[0].animations.add("anim"),wildReelSmb_[i].anim[0].animations.play("anim",24,!1),wildReelSmb_[i].anim[0].anchor.set(.5,.5),wildReelSmb_[i].anim[0].scale.x=1,wildReelSmb_[i].anim[0].scale.y=1,shiftWildReelPos_[i]=!0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,400-100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[0]),play_=!0}winManager_.setWildSimbs(wildReelSmb_)},wildClass_.hasWildReel=function(){return showWildReel},wildClass_.isReelWilded=function(num){var ret=!1;return void 0!=shiftWildReelPos_[num]&&(ret=shiftWildReelPos_[num]),ret},wildClass_}function VikingTumblingWildReel(gameRef,gameClass){function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function hideIcons(icon){icon.visible=!1}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,animFrameSeq_=[],revAnimFrameSeq_=[],showWildReel=!1,shiftWildReelPos_=[],anim_=[];for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],void 0==wildReelSmb_[i].anim&&(wildReelSmb_[i].anim=[]),void 0==wildReelSmb_[i].sticky&&(wildReelSmb_[i].sticky=0);return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(void 0!=wildReelSmb_[i].pos[0])for(var a in wildReelSmb_[i].pos)if(void 0==wildReelSmb_[i].anim[a]&&void 0!=wildReelSmb_[i].pos[a]){void 0!=ReelConfig.wildReelAnimOffset?ReelConfig.wildReelAnimOffset:0;1==game_.cache.checkImageKey("wildReel")?(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y,"wildReel"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",24,!1)):1==game_.cache.checkImageKey("wildReel_0")&&(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y,"wildReel_0"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",24,!1,!0,nextPart_,[i,a])),anim_[i]=!1,shiftWildReelPos_[i]=!0,animFrameSeq_=[],revAnimFrameSeq_=[];for(var b=1;b<=wildReelSmb_[i].anim[a].animations._outputFrames.length;b++)animFrameSeq_.push(b),revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),wildReelSmb_[i].anim[a].anchor.set(.5,.5);var ind=0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a]),play_=!0}play_&&(soundManager_.playSound("wildReel"),setTimeout(gameClass_.triggerKey,500,[spinManager_.getSpinResp().status.keys]))},wildClass_.wildReelWinAnim=function(reel){anim_[reel]=!0;for(var a in wildReelSmb_[reel].anim)null!=wildReelSmb_[reel].anim[a]&&1==wildReelSmb_[reel].anim[a].scale.x&&TweenMax.to(wildReelSmb_[reel].anim[a].scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel].anim[a]]})},wildClass_.clearWild=function(wild){for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a in wildReelSmb_[i].anim)void 0!=wildReelSmb_[i].anim[a]&&(0==wild&&1!=anim_[i]||(wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a]),wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],wildReelSmb_[i].anim=[]),wildReelSmb_[i].sticky=0,anim_[i]=!1);if(0!=wild){for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],wildReelSmb_[i].anim=[],wildReelSmb_[i].sticky=0;winManager_.setWildSimbs(wildReelSmb_)}else{for(i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i].sticky=0;winManager_.setWildSimbs(wildReelSmb_)}},wildClass_.resumeWildReel=function(){var a=3,wilSimbsNum_=0,reels=spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)if(wildManager_.getTriggerIcon().indexOf(resumeJson[i].smb[1].smb)>=0){var ind=0;wildReelSmb_[i].smbNum.push(wildManager_.getTriggerIcon()),wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(3)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(0)),"0"==wildReelSmb_[i].sticky&&wilSimbsNum_++,wildReelSmb_[i].sticky=null!=resumeJson[i].smb[0].stick?"1":"0",wildReelSmb_[i].anim[0]=game_.add.sprite(wildReelSmb_[i].pos[ind].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[ind].y,"wildReel"),wildReelSmb_[i].anim[0].animations.add("anim"),wildReelSmb_[i].anim[0].animations.play("anim",48,!1),wildReelSmb_[i].anim[0].anchor.set(.5,.5),wildReelSmb_[i].anim[0].scale.x=1,wildReelSmb_[i].anim[0].scale.y=1,shiftWildReelPos_[i]=!0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,400-100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[0]),play_=!0}winManager_.setWildSimbs(wildReelSmb_)},wildClass_.hasWildReel=function(){return showWildReel},wildClass_.isReelWilded=function(num){var ret=!1;return void 0!=shiftWildReelPos_[num]&&(ret=shiftWildReelPos_[num]),ret},wildClass_}function WaikikiPopUpWild(gameRef,gameClass){function spreadWilds_(i,a){if(void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.visible=!1,wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null),void 0!=wildReelSmb_[i][a].simbolReference.smbToRemove){var smb=spinManager_.getReels()[i].getRealPosSmb(wildReelSmb_[i][a].simbolReference.smbToRemove);smb&&(smb.visible=!1)}if(void 0!=wildReelSmb_[i][a].simbolReference.indexToRemove&&(smb=spinManager_.getReels()[i].getSymbol(wildReelSmb_[i][a].simbolReference.indexToRemove),smb&&(smb.visible=!1)),0==freeSpinsManager_.getIsInFs())var anim="animW9";else anim=indexFlower_%2==0?"animWb10":"animWr10",indexFlower_++;if(0==freeSpinsManager_.getIsInFs()&&6==wildReelSmb_[i][a].simbolReference.prevSmb&&2==i&&1==a){anim="anim13";var msg1=balanceManager_.getCurrencySmb()+""+Util.formatNumber(winManager_.getScatterWinAmt()[0][6].amt,Util.getNubersOfDecimal()),txt1=new Phaser.BitmapText(game_,wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y+30,"bmpFont",msg1,100,"center");txt1.alpha=0,txt1.anchor.set(.5,.5),displayManager_.getGroup("lines").add(txt1),TweenMax.to(txt1,.2,{delay:.8,alpha:1}),TweenMax.to(txt1.scale,.3,{delay:.8,x:1.5,y:1.5,ease:Bounce.easeOut,onComplete:bounce,onCompleteParams:[txt1]}),soundManager_.playSound("tokenNewLevel")}wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,anim),1==freeSpinsManager_.getIsInFs()&&i>=2&&(wildReelSmb_[i][a].anim.scale.x=-1),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",gameClass_.getCompulsivePlayer()?128:24,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].anim.alpha=1,wildReelSmb_[i][a].anim.visible=!0,revAnimFrameSeq_=[];for(var b=1;b<=wildReelSmb_[i][a].anim.animations._outputFrames.length;b++)b%2==0&&revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),expWildPos_[i][a]=!0,showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),gameClass_.setStickyWildSimbs(wildReelSmb_),soundManager_.playSound(1==freeSpinsManager_.getIsInFs()?"stickyWildFs":"stickyWild")}function bounce(txt){TweenMax.to(txt.scale,.5,{x:1.2,y:1.2,ease:Bounce.easeOut,onComplete:move,onCompleteParams:[txt]})}function move(txt){setTimeout(lineManager_.completeBonusValue,1600,winManager_.getScatterWinAmt()[0][6].amt,"Scatter Win"),TweenMax.to(txt,.7,{delay:1.6,alpha:.3,y:560,onComplete:kill,onCompleteParams:[txt]})}function kill(txt){txt.visible=!1,txt.destroy()}function subst_(par){var i=par[0],a=par[1];void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i][a]&&void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0,wildReelSmb_[i][a].anim=null)}function scaleBack_(anim){TweenMax.to(anim.scale,.3,{delay:.2,x:1.15,y:1.15,onComplete:riScaleBack_,onCompleteParams:[anim]})}function scaleBack1_(anim){TweenMax.to(anim.scale,.3,{delay:.2,x:1.15,y:1.15,onComplete:riScaleBack1_,onCompleteParams:[anim]})}function riScaleBack_(anim){TweenMax.to(anim.scale,.3,{delay:.2,x:1,y:1,onComplete:scaleBack1_,onCompleteParams:[anim]})}function riScaleBack1_(anim){TweenMax.to(anim.scale,.3,{delay:.2,x:1,y:1,onCompleteParams:[anim]})}var wildReelSmb_,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),game_=gameRef,wildClassObject_=wildClass_.__proto__,showWildReel=!1,expWildPos_=[],revAnimFrameSeq_=[],indexFlower_=0;for(wildReelSmb_=[],i=0;i<5;i++)for(wildReelSmb_[i]=[],expWildPos_[i]=[],a=0;a<3;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1;return wildClass_.showWild=function(wild){wildReelSmb_=wild;for(var index=0,aa=0;aa<3;aa++)if(wild.order[aa].length>0)for(var s in wild.order[aa]){var i=wild.order[aa][s].pos.split("-")[0],a=wild.order[aa][s].pos.split("-")[1];setTimeout(spreadWilds_,600*index,i,a),index++}},wildClass_.clearWild=function(wild){var rollBack=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a=0;a<3;a++)void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.alpha=1),void 0!=wildReelSmb_[i][a].anim&&(rollBack=!0,wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildReelSmb_[i][a].anim.animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i][a].anim.animations.play("anim",48,!1,!0,subst_,[i,a])),expWildPos_[i][a]=!1;for(wildReelSmb_=[],i=0;i<5;i++)for(wildReelSmb_[i]=[],expWildPos_[i]=[],a=0;a<3;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1;gameClass_.setStickyWildSimbs(wildReelSmb_),rollBack&&soundManager_.playSound("Fs")},wildClass_.resetWilds=function(){for(var i=0;i<spinManager_.getReels().length;i++)if(wildReelSmb_[i]=[],expWildPos_[i]=[],null!=wildReelSmb_[i])for(var a=0;a<3;a++)wildReelSmb_[i][a]={},expWildPos_[i][a]=!1,void 0!=wildReelSmb_[i][a].anim&&(wildReelSmb_[i][a].anim.bgAnim&&(wildReelSmb_[i][a].anim.bgAnim=null),wildClassObject_.mainGroup_.remove(wildReelSmb_[i][a].anim),wildReelSmb_[i][a].anim=null),void 0!=wildReelSmb_[i][a].simbolReference&&(wildReelSmb_[i][a].simbolReference.visible=!0),wildReelSmb_[i][a].special=[];for(var a in wildClassObject_.mainGroup_.children)wildClassObject_.mainGroup_.remove(wildClassObject_.mainGroup_.children[a])},wildClass_.hasWildReel=function(){for(var i=0;i<5;i++)for(var a=0;a<3;a++)if(1==expWildPos_[i][a])return!0;return!1},wildClass_.isSymbolWilded=function(reel,smb){return expWildPos_[reel][smb]},wildClass_.wildReelWinAnim=function(reel,smb){null!=wildReelSmb_[reel][smb].anim&&1==wildReelSmb_[reel][smb].anim.scale.x&&(wildReelSmb_[reel][smb].anim.alpha=1,void 0!=wildReelSmb_[reel][smb].anim.bgAnim&&(wildReelSmb_[reel][smb].anim.bgAnim.alpha=1),TweenMax.to(wildReelSmb_[reel][smb].anim.scale,.2,{x:1.2,y:1.2,Ease:Sine.EaseInOut,onComplete:scaleBack_,onCompleteParams:[wildReelSmb_[reel][smb].anim]}))},wildClass_.resumeWildReel=function(){var reels=spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)for(var a=0;a<3;a++)if(void 0==wildReelSmb_[i][a].special&&(wildReelSmb_[i][a].special=[]),[10].indexOf(resumeJson[i].smb[a].smb)>=0){var smb_=spinManager_.getReels()[i].getRealPosSmb(a);smb_.visible=!1,smb_=spinManager_.getReels()[i].getSymbol(a),smb_.visible=!1,wildReelSmb_[i][a].simbolReference=reels[i].getSymbol(a),wildReelSmb_[i][a].anim=game_.add.sprite(wildReelSmb_[i][a].simbolReference.x,wildReelSmb_[i][a].simbolReference.y,"animWb10"),wildReelSmb_[i][a].anim.animations.add("anim"),wildReelSmb_[i][a].anim.animations.play("anim",48,!1),wildReelSmb_[i][a].anim.anchor.set(.5,.5),wildReelSmb_[i][a].special.push("n/a"!=resumeJson[i].smb[a].special?resumeJson[i].smb[a].special:"done"),wildClassObject_.mainGroup_.add(wildReelSmb_[i][a].anim),expWildPos_[i][a]=!0}gameClass_.setStickyWildSimbs(wildReelSmb_)},wildClass_}function Wild(gameRef,gameClass){function initClass_(){scope.mainGroup_=displayManager_.getGroup("wild")}this.wildReelSmb_={},this.mainGroup_;var scope=this;return initClass_(),this}function WildManager(gameRef,gameClass,_ReelConfig){function initClass_(){triggerIcon_=ReelConfig_.wildNum;try{wildClass_=new window[ReelConfig_.wildType](game_,gameClass_)}catch(e){}}function showWild_(wild){null!=wildClass_&&wildClass_.showWild(wild)}function spinAnim_(wild){null!=wildClass_&&wildClass_.spinAnim(wild)}function clearWild_(wild){null!=wildClass_&&null!=wild&&wildClass_.clearWild(wild)}function endAnimHandle_(wild,evt){null!=wildClass_&&null!=wild&&null!=wild&&(evt.addEvent(showWild_,null!=ReelConfig_.wildDelay?ReelConfig_.wildDelay:0,wild),evt.addEvent(gameClass_.fakeEvent,ReelConfig_.animDelayAfterWild))}function wildReelWinAnim_(reel,smb){null!=wildClass_&&wildClass_.wildReelWinAnim(reel,smb)}function resetWilds_(){null!=wildClass_&&null!=wildClass_.resetWilds&&wildClass_.resetWilds()}var wildClass_,triggerIcon_,game_=gameRef,gameClass_=gameClass,ReelConfig_=_ReelConfig,me={clearWild:clearWild_,resetWilds:resetWilds_,showWild:showWild_,spinAnim:spinAnim_,endAnimHandle:endAnimHandle_,wildReelWinAnim:wildReelWinAnim_,getTriggerIcon:function(){return null!=triggerIcon_?triggerIcon_:999},getWildReel:function(i){return null!=winManager_.getWildSimbs()[i].anim[0]},getWildReelStickyNum:function(i){return ret=0,null!=winManager_.getWildSimbs()[i]&&null!=winManager_.getWildSimbs()[i].reel&&null!=winManager_.getWildSimbs()[i].sticky&&(ret=void 0!=winManager_.getWildSimbs()[i].sticky?winManager_.getWildSimbs()[i].sticky:0),ret},hasWildReel:function(){return("WildReel"==ReelConfig_.wildType||"WildShiftingReel"==ReelConfig_.wildType||"ExpandingStickyWild"==ReelConfig_.wildType||"ExpandingStickyWild"==ReelConfig_.wildType||"FightStickyWild"==ReelConfig_.wildType)&&wildClass_.hasWildReel()},resumeWildReel:function(){null!=wildClass_.resumeWildReel&&wildClass_.resumeWildReel()},isReelWilded:function(num){return null!=wildClass_.isReelWilded&&wildClass_.isReelWilded(num)},isSymbolWilded:function(reel,smb){return null!=wildClass_.isSymbolWilded&&wildClass_.isSymbolWilded(reel,smb)}};return initClass_(),me}function WildReel(gameRef,gameClass){function placeImages_(par){var i=par[0],a=par[1];wildReelSmb_[i].anim[a].bg=game_.add.sprite(wildReelSmb_[i].anim[a].x,wildReelSmb_[i].anim[a].y,"wildBg"),wildReelSmb_[i].anim[a].bg.anchor.set(.5,.5),wildReelSmb_[i].anim[a].visible=!1,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].bg),wildReelSmb_[i].anim[a].text=game_.add.sprite(wildReelSmb_[i].anim[a].x,wildReelSmb_[i].anim[a].y,"wildText"),wildReelSmb_[i].anim[a].text.anchor.set(.5,.5),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a].text)}function nextPart_(par){var i=par[0],a=par[1];wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].anim[a].x,wildReelSmb_[i].anim[a].y,"wildReel_1"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),1!=ReelConfig.wilTextAnimOnly?wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1):wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!1,placeImages_,[i,a]),wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a])}function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function hideIcons(icon){icon.visible=!1}function sghowIcons(icon){icon.visible=!0,showWildReel=!1}function subst_(par){var i=par[0],a=par[1];void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i].simbolReference&&void 0!=wildReelSmb_[i].simbolReference[a]&&(wildReelSmb_[i].simbolReference[a].visible=!0),void 0!=wildReelSmb_&&void 0!=wildReelSmb_[i]&&void 0!=wildReelSmb_[i].anim&&void 0!=wildReelSmb_[i].anim[a]&&(wildReelSmb_[i].anim[a]=null)}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,animFrameSeq_=[],revAnimFrameSeq_=[],showWildReel=!1,shiftWildReelPos_=[];for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],void 0==wildReelSmb_[i].anim&&(wildReelSmb_[i].anim=[]),void 0==wildReelSmb_[i].sticky&&(wildReelSmb_[i].sticky=0);return wildClass_.showWild=function(wild){var play_=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(void 0!=wildReelSmb_[i].pos[0])for(var a in wildReelSmb_[i].pos)if(void 0==wildReelSmb_[i].anim[a]&&void 0!=wildReelSmb_[i].pos[a]){1==game_.cache.checkImageKey("wildReel")?(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel"),null!=ReelConfig.wildReelOrigin_Y_Offset&&(wildReelSmb_[i].anim[a].y=wildReelSmb_[i].anim[a].y+ReelConfig.wildReelOrigin_Y_Offset),null!=ReelConfig.wildReelOrigin_X_Offset&&(wildReelSmb_[i].anim[a].x=wildReelSmb_[i].anim[a].x+ReelConfig.wildReelOrigin_X_Offset),wildReelSmb_[i].anim[a].animations.add("anim"),1!=ReelConfig.wilTextAnimOnly?wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1):wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!1,placeImages_,[i,a])):1==game_.cache.checkImageKey("wildReel_0")&&(wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_0"),null!=ReelConfig.wildReelOrigin_Y_Offset&&(wildReelSmb_[i].anim[a].y=wildReelSmb_[i].anim[a].y+ReelConfig.wildReelOrigin_Y_Offset),null!=ReelConfig.wildReelOrigin_X_Offset&&(wildReelSmb_[i].anim[a].x=wildReelSmb_[i].anim[a].x+ReelConfig.wildReelOrigin_X_Offset),wildReelSmb_[i].anim[a].animations.add("anim"),wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!0,nextPart_,[i,a])),shiftWildReelPos_[i]=!0,animFrameSeq_=[],revAnimFrameSeq_=[];for(var b=1;b<wildReelSmb_[i].anim[a].animations._outputFrames.length;b++)animFrameSeq_.push(b),revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildReelSmb_[i].simbolReference[a].visible=!1;var ind=0;if(1==ReelConfig.wildReelOrigin)for(var r=0;r<=wildReelSmb_[i].substOnreel.length;r++)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);else for(var r=wildReelSmb_[i].substOnreel.length;r>=0;r--)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:300+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a]),play_=!0}play_&&soundManager_.playSound("wildReel")},wildClass_.wildReelWinAnim=function(reel){for(var a in wildReelSmb_[reel].anim)1!=ReelConfig.wilTextAnimOnly?null!=wildReelSmb_[reel].anim[a]&&1==wildReelSmb_[reel].anim[a].scale.x&&TweenMax.to(wildReelSmb_[reel].anim[a].scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel].anim[a]]}):null!=wildReelSmb_[reel].anim[a].text&&1==wildReelSmb_[reel].anim[a].text.scale.x&&TweenMax.to(wildReelSmb_[reel].anim[a].text.scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel].anim[a].text]})},wildClass_.clearWild=function(wild){var rollBack=!1;wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i])for(var a in wildReelSmb_[i].smbNum)if(wildReelSmb_[i].anim[a]&&"0"==wildReelSmb_[i].sticky){rollBack=!0,shiftWildReelPos_[i]=!1,1==ReelConfig.wilTextAnimOnly&&(void 0!=wildReelSmb_[i].anim[a].bg&&(wildReelSmb_[i].anim[a].bg.visible=!1),void 0!=wildReelSmb_[i].anim[a].text&&(wildReelSmb_[i].anim[a].text.visible=!1),wildReelSmb_[i].anim[a].visible=!0,wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a].bg),wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a].text),wildReelSmb_[i].anim[a].bg=null,wildReelSmb_[i].anim[a].text=null),wildReelSmb_[i].anim[a].animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",48,!1,!0,subst_,[i,a]);var ind=0;if(1==ReelConfig.wildReelOrigin)for(var r=0;r<=wildReelSmb_[i].substOnreel.length;r++)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,void 0!=ReelConfig.rollbackBaseTime?ReelConfig.rollbackBaseTime:400+150*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);else for(var r=wildReelSmb_[i].substOnreel.length;r>=0;r--)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,void 0!=ReelConfig.rollbackBaseTime?ReelConfig.rollbackBaseTime:400+150*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++)}rollBack&&soundManager_.playSound("wildReelOut")},wildClass_.resumeWildReel=function(){var a=0,wilSimbsNum_=0,reels=spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)if(wildManager_.getTriggerIcon().indexOf(resumeJson[i].smb[0].smb)>=0){var ind=a;wildReelSmb_[i].smbNum.push(wildManager_.getTriggerIcon()),wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(0)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),"0"==wildReelSmb_[i].sticky&&wilSimbsNum_++,wildReelSmb_[i].sticky=null!=resumeJson[i].smb[0].stick?"1":"0",wildReelSmb_[i].anim[0]=game_.add.sprite(reels[i].getPos(a).x+ReelConfig.icon.width/2,reels[i].getPos(a).y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"wildReel_1"),null!=ReelConfig.wildReelOrigin_Y_Offset&&(wildReelSmb_[i].anim[0].y=wildReelSmb_[i].anim[0].y+ReelConfig.wildReelOrigin_Y_Offset),null!=ReelConfig.wildReelOrigin_X_Offset&&(wildReelSmb_[i].anim[0].x=wildReelSmb_[i].anim[0].x+ReelConfig.wildReelOrigin_X_Offset),wildReelSmb_[i].anim[0].animations.add("anim"),wildReelSmb_[i].anim[0].animations.play("anim",24,!1),wildReelSmb_[i].anim[0].anchor.set(.5,.5),wildReelSmb_[i].anim[0].scale.x=1,wildReelSmb_[i].anim[0].scale.y=1,shiftWildReelPos_[i]=!0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,400-100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[0]),play_=!0}winManager_.setWildSimbs(wildReelSmb_)},wildClass_.hasWildReel=function(){return showWildReel},wildClass_.isReelWilded=function(num){var ret=!1;return void 0!=shiftWildReelPos_[num]&&(ret=shiftWildReelPos_[num]),ret},wildClass_}function WildShiftingReel(gameRef,gameClass){function expandingWild_(params){var i=params[0],a=params[1],x=wildReelSmb_[i].anim[a].x,y=wildReelSmb_[i].anim[a].y+ReelConfig.icon.height;wildClassObject_.mainGroup_.remove(wildReelSmb_[i].anim[a]),wildReelSmb_[i].anim[a]=null,1==game_.cache.checkImageKey("shiftWildReel")?(wildReelSmb_[i].anim[a]=game_.add.sprite(x,y,"shiftWildReel"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1),wildReelSmb_[i].anim[a].anchor.set(.5,.5)):1==game_.cache.checkImageKey("shiftWildReel_0")&&(wildReelSmb_[i].anim[a]=game_.add.sprite(x,y,"shiftWildReel_0"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!0,nextPart_,[i,a]),wildReelSmb_[i].anim[a].anchor.set(.5,.5)),animFrameSeq_=[],revAnimFrameSeq_=[];for(var b=1;b<=wildReelSmb_[i].anim[a].animations._outputFrames.length;b++)animFrameSeq_.push(b),revAnimFrameSeq_.push(b);revAnimFrameSeq_.reverse(),wildReelSmb_[i].shift="1",wildReelSmb_[i].simbolReference[a].visible=!1;var ind=0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,gameClass_.getCompulsivePlayer()?100:700+100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a]),play_&&soundManager_.playSound("fsWildReel"),play_=!1}function nextPart_(par){var i=par[0],a=par[1];wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].anim[a].x,wildReelSmb_[i].anim[a].y,"shiftWildReel_1"),wildReelSmb_[i].anim[a].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1),wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a])}function backWR_(obj){TweenMax.to(obj.scale,.2,{x:1,y:1,Ease:Sine.EaseOut})}function hideIcons(icon){icon.visible=!1}function sghowIcons(icon){icon.visible=!0,showWildReel=!1}function subst_(par){par[0],par[1]}function moveFinish_(){for(var i=0;i<5;i++)1==shiftWildReelPos_[i]?TweenMax.to(spinManager_.getReels()[i].getAllIcons(),.5,{alpha:0}):TweenMax.to(spinManager_.getReels()[i].getAllIcons(),.5,{alpha:1});tweens_[i]=null}var wildReelSmb_,game_=gameRef,gameClass_=gameClass,wildClass_=Object.create(new Wild(gameRef,gameClass)),wildClassObject_=wildClass_.__proto__,animFrameSeq_=[],revAnimFrameSeq_=[],showWildReel=!1,shiftWildReelPos_=[],tweens_=[],play_=!1;for(wildReelSmb_=[],i=0;i<ReelConfig.numReels;i++)void 0!=wildClassObject_&&(shiftWildReelPos_[i]=!1,wildReelSmb_[i]={},wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],void 0==wildReelSmb_[i].anim&&(wildReelSmb_[i].anim=[]),void 0==wildReelSmb_[i].shift&&(wildReelSmb_[i].shift=0));return wildClass_.showWild=function(wild){wildReelSmb_=wild;for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_&&null!=wildReelSmb_[i]&&null!=wildReelSmb_[i].pos&&void 0!=wildReelSmb_[i].pos[0])for(var a in wildReelSmb_[i].pos)void 0==wildReelSmb_[i].anim[a]&&void 0!=wildReelSmb_[i].pos[a]&&"0"==wildReelSmb_[i].shift&&0==shiftWildReelPos_[i]&&(shiftWildReelPos_[i]=!0,wildReelSmb_[i].anim[a]=game_.add.sprite(wildReelSmb_[i].pos[a].x+ReelConfig.icon.width/2,wildReelSmb_[i].pos[a].y+ReelConfig.icon.height/2,"anim11"),wildReelSmb_[i].anim[a].animations.add("anim"),wildReelSmb_[i].anim[a].animations.play("anim",gameClass_.getCompulsivePlayer()?48:24,!1,!1,expandingWild_,[i,a]),wildReelSmb_[i].anim[a].anchor.set(.5,.5),wildReelSmb_[i].simbolReference[a].visible=!1,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[a]),play_=!0);play_&&soundManager_.playSound("stickyWild")},wildClass_.wildReelWinAnim=function(reel){for(var a in wildReelSmb_[reel].anim)null!=wildReelSmb_[reel].anim[a]&&1==wildReelSmb_[reel].anim[a].scale.x&&TweenMax.to(wildReelSmb_[reel].anim[a].scale,.2,{x:1.1,y:1.1,Ease:Sine.EaseInOut,onComplete:backWR_,onCompleteParams:[wildReelSmb_[reel].anim[a]]})},wildClass_.clearWild=function(wild){var rollBack=!1;if(wildReelSmb_=wild,null!=wildReelSmb_){for(var i=0;i<spinManager_.getReels().length;i++)if(null!=wildReelSmb_[i]&&1==shiftWildReelPos_[i])for(var a in wildReelSmb_[i].anim)if(wildReelSmb_[i].anim[a]){if("0"==wildReelSmb_[i].shift||0==i||0==freeSpinsManager_.getIsInFs()){rollBack=!0,wildReelSmb_[i].anim[a].animations.add("anim",revAnimFrameSeq_),wildReelSmb_[i].anim[a].animations.play("anim",120,!1,!0,subst_,[i,a]);var ind=0;for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(sghowIcons,gameClass_.getCompulsivePlayer()?300:400+150*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);TweenMax.to(spinManager_.getReels()[i].getAllIcons(),.5,{alpha:1}),spinManager_.getReels()[i].getAllIcons().alpha=1}else tweens_[i]=TweenMax.to(wildReelSmb_[i].anim[a],1,{x:ReelConfig.reel.deltaX_0+(ReelConfig.reel.deltaX*(i-1)+ReelConfig.icon.width/2)}),wildReelSmb_[i-1]=wildReelSmb_[i],shiftWildReelPos_[i-1]=!0;shiftWildReelPos_[i]=!1}setTimeout(moveFinish_,500),rollBack&&soundManager_.playSound("wildReelOut"),void 0!=wildClassObject_&&gameClass_.setWildSimbs(wildReelSmb_)}},wildClass_.hasWildReel=function(){for(var i=0;i<spinManager_.getReels().length;i++)if(1==shiftWildReelPos_[i])return!0;return!1},wildClass_.isReelWilded=function(num){var ret=!1;return void 0!=shiftWildReelPos_[num]&&(ret=shiftWildReelPos_[num]),ret},wildClass_.resumeWildReel=function(){var a=0,wilSimbsNum_=0,reels=spinManager_.getReels();if(null!=communicationManager_.getResumeStatus().status&&null!=communicationManager_.getResumeStatus().status.reels)for(var resumeJson=communicationManager_.getResumeStatus().status.reels,i=0;i<resumeJson.length;i++)if([11].indexOf(resumeJson[i].smb[0].smb)>=0){var ind=0;wildReelSmb_[i].smbNum.push([11]),wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(0)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),
"0"==wildReelSmb_[i].shift&&wilSimbsNum_++,wildReelSmb_[i].shift="1",shiftWildReelPos_[i]=!0,wildReelSmb_[i].anim[0]=game_.add.sprite(reels[i].getPos(a).x+ReelConfig.icon.width/2,reels[i].getPos(a).y+(ReelConfig.icon.height+ReelConfig.icon.height/2),"shiftWildReel_1"),wildReelSmb_[i].anim[0].animations.add("anim",animFrameSeq_),wildReelSmb_[i].anim[0].animations.play("anim",48,!1),wildReelSmb_[i].anim[0].anchor.set(.5,.5);for(var r in wildReelSmb_[i].substOnreel)void 0!=wildReelSmb_[i].substOnreel[r]&&(setTimeout(hideIcons,400-100*Number(ind),wildReelSmb_[i].substOnreel[r]),ind++);showWildReel=!0,wildClassObject_.mainGroup_.add(wildReelSmb_[i].anim[0]),play_=!0}void 0!=wildClassObject_&&gameClass_.setWildSimbs(wildReelSmb_)},wildClass_}function BigWin(gameRef,gameClass_){var winAmtClass_=Object.create(new BounceWin(gameRef,gameClass));return winAmtClass_}function BounceWin(gameRef,gameClass,config,txt){function initClass_(){dispManager_=displayManager_,winTxt_=dispManager_.getText(txt_),setScale(winTxt_,1),winTxt_.setText("")}function forceToComplete_(){logger(" force animation to complete ");for(var a in tweens)null!=tweens[a]&&null!=tweens[a]&&(tweens[a].time(tweens[a].totalDuration()),tweens[a].kill(),tweens[a]=null);setScale(winTxt_,1),bCompleted_=!1,tweens=[]}function showShortWin_(value,start,update,complete,additionalText){logger(" showShortWin_"),bCompleted_=!1,startCb_=start,updateCb_=update,completeCb_=complete,gameClass_.updateBalance(additionalText),additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",twObject.amt=0,winTxt_.amt=value,gameClass_.getCompulsivePlayer()||soundManager_.playSound(accuSnd_),totalDuration_=1,tweens.push(TweenMax.to(twObject,gameClass_.getCompulsivePlayer()?.3:1,{amt:value,onUpdate:updatingValue_,onComplete:scaleComplete2_}))}function showWin_(value,start,update,complete,startVal,additionalText,scaleFactor,duration,easing){bCompleted_=!1,startCb_=start,updateCb_=update,completeCb_=complete,additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",twObject.amt=startVal,winTxt_.amt=value,gcmCalls_("PAID",winManager_.getWinAmtCash()),soundManager_.playSound(accuSnd_),totalDuration_=duration,scale_=scaleFactor,scaleBack_=.85*scale_,void 0!=easing?tweens.push(TweenMax.to(winTxt_,.5,{scaleX:scale_,scaleY:scale_,onComplete:scaleComplete_,repeat:-1,yoyo:!0,ease:[easing].easeOut})):tweens.push(TweenMax.to(winTxt_,.5,{scaleX:scale_,scaleY:scale_,onComplete:scaleComplete_,repeat:-1,yoyo:!0})),tweens.push(TweenMax.to(winTxt_,.2,{y:1*winTxt_.y+scale_/2})),tweens.push(TweenMax.to(twObject,totalDuration_,{ease:Power1.easeIn,amt:value,onUpdate:updatingValue_,onComplete:onComplete_}))}function showIstantUpdateWin_(value,additionalText){logger(" bounce win showIstantUpdateWin_"),gcmCalls_("PAID",winManager_.getWinAmtCash()),additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",winTxt_.setText(ReelConfig.additionalPreText+additionalPreText_+balanceManager_.getCurrencySmb()+""+Util.formatNumber(value,Util.getNubersOfDecimal())+ReelConfig.additionalPostText),gameClass_.updateBalance(additionalText),scaleBack_=winTxt_.scaleX,scale_=winTxt_.scaleX+1.2*winTxt_.scaleX,tweens.push(TweenMax.to(winTxt_,.2,{scaleX:scale_,scaleY:scale_,onComplete:showIstantUpdateWinScale_}))}function showIstantUpdateWinScale_(){tweens.push(TweenMax.to(winTxt_,.2,{scaleX:1,scaleY:1}))}function onComplete_(){null!=completeCb_&&completeCb_()}function scaleComplete2_(){soundManager_.stopSound(accuSnd_),gameClass_.getCompulsivePlayer()||null==soundManager_.getSound(sndEffect_+winEffect_[winStage_])||soundManager_.getSound(sndEffect_+winEffect_[winStage_]).play(),tweens.push(TweenMax.to(winTxt_,.2,{scaleX:winTxt_.scaleX*scaleBack_,scaleY:winTxt_.scaleY*scaleBack_,onComplete:showIstantUpdateWinScale_})),winTxt_.fill=winColors_[0],bCompleted_=!0}function scaleComplete_(){soundManager_.stopSound(accuSnd_),null!=soundManager_.getSound(sndEffect_+winEffect_[winStage_])&&soundManager_.getSound(sndEffect_+winEffect_[winStage_]).play(),winTxt_.fill=winColors_[0],bCompleted_=!0}function updatingValue_(){var value=Util.formatNumber(twObject.amt,Util.getNubersOfDecimal());winTxt_.setText(ReelConfig.additionalPreText+additionalPreText_+balanceManager_.getCurrencySmb()+""+value+ReelConfig.additionalPostText),updateCb_&&updateCb_(value)}function changeFilters_(color){winTxt_.stroke=color}function getInterruptedWinAnim_(){return!bCompleted_}var dispManager_,winTxt_,startCb_,updateCb_,completeCb_,gameClass_=gameClass,ReelConfig_=config,txt_=txt,twObject={},winColors_=(null!=ReelConfig_.winTxtClasses?ReelConfig_.winTxtClasses:[1,2,5,10,20,50,200,500,1e3,9999999999],null!=ReelConfig_.winTxtDuration?ReelConfig_.winTxtDuration:[.3,.5,.6,1,1.5,2,2.2,2.3,2.4,2.5],null!=ReelConfig_.winTxtColors?ReelConfig_.winTxtColors:["#ffffff","#ffffff","#ffffff","#ecc041","#ff6600","#ff0000","#9933ff","#3333cc","#00ff00","#0099ff"]),winEffect_=null!=ReelConfig_.winSndEffect?ReelConfig_.winSndEffect:["","","","1","2","3","4","5","6","7"],accuSnd_=null!=ReelConfig_.winSndEffect?ReelConfig_.accuSnd:"incWin",sndEffect_=null!=ReelConfig_.winSndEffect?ReelConfig_.winSndEffect:"winEffect",scale_=1,scaleBack_=1,winStage_=-1,totalDuration_=0,tweens=[],bCompleted_=!1,additionalPreText_="",me={showWin:showWin_,showShortWin:showShortWin_,showIstantUpdateWin:showIstantUpdateWin_,getTotalDuration:function(){return totalDuration_},resetWinManager:function(){totalDuration_=0},clearAll:function(){for(var a in tweens)null!=tweens[a]&&(tweens[a].kill(),tweens[a]=null);winTxt_.setText(""),tweens=[]},forceToComplete:forceToComplete_,changeFilters:changeFilters_,getInterruptedWinAnim:getInterruptedWinAnim_,winAnimStarted:function(){bCompleted_=!1}};return initClass_(),me}function CentralAllLinesWin(gameRef,gameClass_,config,txt){function initClass_(){winTxt_.setText("")}function forceToComplete_(){for(var a in tweens)null!=tweens[a]&&tweens[a].time(tweens[a].totalDuration());bCompleted_=!0}function showShortWin_(value,start,update,complete){}function showWin_(value,start,update,complete){logger(value)}function changeWinValue_(amt){winTxt_.setText(Translate["do"]("Win")+": "+balanceManager_.getCurrencySmb()+Util.formatNumber(amt,Util.getNubersOfDecimal()))}function getInterruptedWinAnim_(){return!bCompleted_}var tweens=[],bCompleted_=!1,totalDuration_=0,winTxt_=displayManager_.getText(txt),me={showWin:showWin_,showShortWin:showShortWin_,getTotalDuration:function(){return totalDuration_},resetWinManager:function(){totalDuration_=0},clearAll:function(){for(var a in tweens)null!=tweens[a]&&tweens[a].kill();winTxt_.setText("")},forceToComplete:forceToComplete_,getInterruptedWinAnim:getInterruptedWinAnim_,winAnimStarted:function(){bCompleted_=!1},changeWinValue:changeWinValue_};return initClass_(),me}function CentralSimpleWin(gameRef,gameClass_){var winAmtClass_=Object.create(new BounceWin(gameRef,gameClass));return winAmtClass_}function CentralStagesWin(gameRef,gameClass_){var winAmtClass_=Object.create(new BounceWin(gameRef,gameClass));return winAmtClass_}function NewUIBounceWin(gameRef,gameClass,config,txt){function initClass_(){dispManager_=displayManager_,winTxt_=dispManager_.getText(txt_),winTxt_.scaleX=1,winTxt_.scaleY=1,writeText_("")}function forceToComplete_(){logger(" force animation to complete ");for(var a in tweens)null!=tweens[a]&&null!=tweens[a]&&(tweens[a].time(tweens[a].totalDuration()),tweens[a].kill(),tweens[a]=null);winTxt_.scaleX=1,winTxt_.scaleY=1,bCompleted_=!1,tweens=[]}function showShortWin_(value,start,update,complete,additionalText){logger(" showShortWin_"),bCompleted_=!1,startCb_=start,updateCb_=update,completeCb_=complete,gameClass_.updateBalance(additionalText),additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",twObject.amt=0,winTxt_.amt=value,gameClass_.getCompulsivePlayer()||soundManager_.playSound(accuSnd_),totalDuration_=1,tweens.push(TweenMax.to(twObject,gameClass_.getCompulsivePlayer()?.3:1,{amt:value,onUpdate:updatingValue_,onComplete:scaleComplete2_}))}function showWin_(value,start,update,complete,startVal,additionalText,scaleFactor,duration,easing){bCompleted_=!1,startCb_=start,updateCb_=update,completeCb_=complete,additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",twObject.amt=startVal,winTxt_.amt=value,gcmCalls_("PAID",winManager_.getWinAmtCash()),soundManager_.playSound(accuSnd_),totalDuration_=duration,scale_=scaleFactor,scaleBack_=.85*scale_,void 0!=easing?tweens.push(TweenMax.to(winTxt_,.5,{scaleX:scale_,scaleY:scale_,onComplete:scaleComplete_,repeat:-1,yoyo:!0,ease:[easing].easeOut})):tweens.push(TweenMax.to(winTxt_,.5,{scaleX:scale_,scaleY:scale_,onComplete:scaleComplete_,repeat:-1,yoyo:!0})),tweens.push(TweenMax.to(winTxt_,.2,{y:1*winTxt_.y+scale_/2})),tweens.push(TweenMax.to(twObject,totalDuration_,{ease:Power1.easeIn,amt:value,onUpdate:updatingValue_,onComplete:onComplete_}))}function showIstantUpdateWin_(value,additionalText){logger(" bounce win showIstantUpdateWin_"),gcmCalls_("PAID",winManager_.getWinAmtCash()),additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",writeText_(ReelConfig.additionalPreText+additionalPreText_+balanceManager_.getCurrencySmb()+""+Util.formatNumber(value,Util.getNubersOfDecimal())+ReelConfig.additionalPostText),gameClass_.updateBalance(additionalText),scaleBack_=winTxt_.scaleX,scale_=winTxt_.scaleX+1.2*winTxt_.scaleX,tweens.push(TweenMax.to(winTxt_,.2,{scaleX:scale_,scaleY:scale_,onComplete:showIstantUpdateWinScale_}))}function showIstantUpdateWinScale_(){tweens.push(TweenMax.to(winTxt_,.2,{scaleX:1,scaleY:1}))}function onComplete_(){null!=completeCb_&&completeCb_()}function scaleComplete2_(){soundManager_.stopSound(accuSnd_),gameClass_.getCompulsivePlayer()||null==soundManager_.getSound(sndEffect_+winEffect_[winStage_])||soundManager_.getSound(sndEffect_+winEffect_[winStage_]).play(),tweens.push(TweenMax.to(winTxt_,.2,{scaleX:winTxt_.scaleX*scaleBack_,scaleY:winTxt_.scaleY*scaleBack_,onComplete:showIstantUpdateWinScale_})),winTxt_.fill=winColors_[0],bCompleted_=!0}function scaleComplete_(){soundManager_.stopSound(accuSnd_),null!=soundManager_.getSound(sndEffect_+winEffect_[winStage_])&&soundManager_.getSound(sndEffect_+winEffect_[winStage_]).play(),winTxt_.fill=winColors_[0],bCompleted_=!0}function updatingValue_(){var value=Util.formatNumber(twObject.amt,Util.getNubersOfDecimal());writeText_(ReelConfig.additionalPreText+additionalPreText_+balanceManager_.getCurrencySmb()+""+value+ReelConfig.additionalPostText),updateCb_&&updateCb_(value)}function changeFilters_(color){winTxt_.stroke=color}function getInterruptedWinAnim_(){return!bCompleted_}function writeText_(amt){ReelConfig.newUI?window.innerHeight>window.innerWidth?$("#footer-top-win").html(amt):$("#footer-bottom-message").html(amt):winTxt_.setText(amt)}var dispManager_,winTxt_,startCb_,updateCb_,completeCb_,gameClass_=gameClass,ReelConfig_=config,txt_=txt,twObject={},winColors_=(null!=ReelConfig_.winTxtClasses?ReelConfig_.winTxtClasses:[1,2,5,10,20,50,200,500,1e3,9999999999],null!=ReelConfig_.winTxtDuration?ReelConfig_.winTxtDuration:[.3,.5,.6,1,1.5,2,2.2,2.3,2.4,2.5],null!=ReelConfig_.winTxtColors?ReelConfig_.winTxtColors:["#ffffff","#ffffff","#ffffff","#ecc041","#ff6600","#ff0000","#9933ff","#3333cc","#00ff00","#0099ff"]),winEffect_=null!=ReelConfig_.winSndEffect?ReelConfig_.winSndEffect:["","","","1","2","3","4","5","6","7"],accuSnd_=null!=ReelConfig_.winSndEffect?ReelConfig_.accuSnd:"incWin",sndEffect_=null!=ReelConfig_.winSndEffect?ReelConfig_.winSndEffect:"winEffect",scale_=1,scaleBack_=1,winStage_=-1,totalDuration_=0,tweens=[],bCompleted_=!1,additionalPreText_="",me={showWin:showWin_,showShortWin:showShortWin_,showIstantUpdateWin:showIstantUpdateWin_,getTotalDuration:function(){return totalDuration_},resetWinManager:function(){totalDuration_=0},clearAll:function(){for(var a in tweens)null!=tweens[a]&&(tweens[a].kill(),tweens[a]=null);writeText_(""),tweens=[]},forceToComplete:forceToComplete_,changeFilters:changeFilters_,getInterruptedWinAnim:getInterruptedWinAnim_,winAnimStarted:function(){bCompleted_=!1}};return initClass_(),me}function SimpleWin(gameRef,gameClass,config,txt){function initClass_(){dispManager_=displayManager_,winTxt_=dispManager_.getText(txt_),setScale(winTxt_,1),winTxt_.setText("")}function forceToComplete_(){logger(" force animation to complete ");for(var a in tweens)null!=tweens[a]&&null!=tweens[a]&&(tweens[a].time(tweens[a].totalDuration()),tweens[a].kill(),tweens[a]=null);setScale(winTxt_,1),bCompleted_=!1,tweens=[]}function showShortWin_(value,start,update,complete,additionalText){logger(" showShortWin_"),bCompleted_=!1,startCb_=start,updateCb_=update,completeCb_=complete,gameClass_.updateBalance(additionalText),additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",twObject.amt=0,winTxt_.amt=value,gameClass_.getCompulsivePlayer()||soundManager_.playSound(accuSnd_),soundManager_.playSound(accuSnd_),totalDuration_=1,tweens.push(TweenMax.to(twObject,gameClass_.getCompulsivePlayer()?.3:1,{amt:value,onUpdate:updatingValue_,onComplete:scaleComplete2_}))}function showWin_(value,start,update,complete,startVal,additionalText,scaleFactor,duration,easing){bCompleted_=!1,startCb_=start,updateCb_=update,completeCb_=complete,additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",twObject.amt=startVal,soundManager_.playSound(accuSnd_),totalDuration_=duration,scale_=scaleFactor,winTxt_.amt=value,gcmCalls_("PAID",winManager_.getWinAmtCash()),tweens.push(TweenMax.to(winTxt_,.5,{ease:Bounce.easeOut,scaleX:scale_,scaleY:scale_})),void 0!=easing?tweens.push(TweenMax.to(twObject,totalDuration_,{ease:[easing].easeInOut,amt:value,onUpdate:updatingValue_,onComplete:onComplete_})):tweens.push(TweenMax.to(twObject,totalDuration_,{ease:Sine.easeIn,amt:value,onUpdate:updatingValue_,onComplete:onComplete_}))}function showIstantUpdateWin_(value,additionalText){gcmCalls_("PAID",winManager_.getWinAmtCash()),additionalPreText_=null!=additionalText?Translate["do"](additionalText)+" ":"",winTxt_.setText(ReelConfig.additionalPreText+additionalPreText_+balanceManager_.getCurrencySmb()+""+Util.formatNumber(value,Util.getNubersOfDecimal())+ReelConfig.additionalPostText),gameClass_.updateBalance(additionalText)}function onComplete_(){null!=completeCb_&&completeCb_(),soundManager_.stopSound(accuSnd_),null!=soundManager_.getSound(sndEffect_+winEffect_[winStage_])&&soundManager_.getSound(sndEffect_+winEffect_[winStage_]).play(),winTxt_.fill=winColors_[0],bCompleted_=!0}function scaleComplete2_(){soundManager_.stopSound(accuSnd_),gameClass_.getCompulsivePlayer()||null==soundManager_.getSound(sndEffect_+winEffect_[winStage_])||soundManager_.getSound(sndEffect_+winEffect_[winStage_]).play(),winTxt_.fill=winColors_[0],bCompleted_=!0}function updatingValue_(){var value=Util.formatNumber(twObject.amt,Util.getNubersOfDecimal());winTxt_.setText(ReelConfig.additionalPreText+additionalPreText_+balanceManager_.getCurrencySmb()+""+value+ReelConfig.additionalPostText),updateCb_&&updateCb_(value)}function changeFilters_(color){winTxt_.stroke=color}function getInterruptedWinAnim_(){return!bCompleted_}var dispManager_,winTxt_,startCb_,updateCb_,completeCb_,gameClass_=gameClass,ReelConfig_=config,txt_=txt,twObject={},winColors_=(null!=ReelConfig_.winTxtClasses?ReelConfig_.winTxtClasses:[1,2,5,10,20,50,200,500,1e3,9999999999],null!=ReelConfig_.winTxtDuration?ReelConfig_.winTxtDuration:[.3,.5,.6,1,1.5,2,2.2,2.3,2.4,2.5],null!=ReelConfig_.winTxtColors?ReelConfig_.winTxtColors:["#ffffff","#ffffff","#ffffff","#ecc041","#ff6600","#ff0000","#9933ff","#3333cc","#00ff00","#0099ff"]),winEffect_=null!=ReelConfig_.winSndEffect?ReelConfig_.winSndEffect:["","","","1","2","3","4","5","6","7"],accuSnd_=null!=ReelConfig_.winSndEffect?ReelConfig_.accuSnd:"incWin",sndEffect_=null!=ReelConfig_.winSndEffect?ReelConfig_.winSndEffect:"winEffect",scale_=1,winStage_=-1,totalDuration_=0,tweens=[],bCompleted_=!1,additionalPreText_="",me={showWin:showWin_,showShortWin:showShortWin_,showIstantUpdateWin:showIstantUpdateWin_,getTotalDuration:function(){return totalDuration_},resetWinManager:function(){totalDuration_=0},clearAll:function(){for(var a in tweens)null!=tweens[a]&&(tweens[a].kill(),tweens[a]=null);winTxt_.setText(""),tweens=[]},forceToComplete:forceToComplete_,changeFilters:changeFilters_,getInterruptedWinAnim:getInterruptedWinAnim_,winAnimStarted:function(){bCompleted_=!1}};return initClass_(),me}function StagesBigWin(gameRef,gameClass_){var winAmtClass_=Object.create(new BounceWin(gameRef,gameClass));return winAmtClass_}function WinAmtManager(gameRef,gameClass){function initClass_(){try{winAmtClass_=new window[ReelConfig.statusWinType](game_,gameClass_,ReelConfig,"winValue")}catch(e){}}function showWin_(value,start,update,complete,startVal,additionalText,scaleFactor,duration){winAmtClass_.showWin(value,start,update,complete,startVal,additionalText,scaleFactor,duration)}function showShortWin_(value,start,update,complete){winAmtClass_.showShortWin(value,start,update,complete,"WIN")}function showIstantUpdateWin_(value,txt){winAmtClass_.showIstantUpdateWin(value,txt)}function forceToComplete_(){winAmtClass_.forceToComplete()}function getInterruptedWinAnim_(){return winAmtClass_.getInterruptedWinAnim()}function winAnimStarted_(){winAmtClass_.winAnimStarted()}function changeWinValue_(amt){winAmtClass_.changeWinValue(amt)}var winAmtClass_,game_=gameRef,gameClass_=gameClass,me={showWin:showWin_,showShortWin:showShortWin_,showIstantUpdateWin:showIstantUpdateWin_,clearAll:function(){return winAmtClass_.clearAll()},getTotalDuration:function(){return winAmtClass_.getTotalDuration()},resetWinManager:function(){winAmtClass_.resetWinManager()},forceToComplete:forceToComplete_,getInterruptedWinAnim:getInterruptedWinAnim_,winAnimStarted:winAnimStarted_,changeWinValue:changeWinValue_,getWinAmtClass:function(){return winAmtClass_}};return initClass_(),me}function WinManager(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("wins");for(var i=0;i<7;i++)wildReelSmb_[i]={}}function evaluate_(reels){var i,win=spinManager_.getWinResp(),ret=!1;for(bonusAmountCash_=0,winAmountCash_=null!=win.total?win.total:0,lineAmountCash_=null!=win.lineWin?win.lineWin:0,currentMult_=null!=win.multiplier?win.multiplier:1,null!=win.total&&win.total>0?(winAmount_=win.total/balanceManager_.getCoinValue()*lineManager_.getLinesNumber(),lineAmount_=win.lineWin/balanceManager_.getCoinValue()*lineManager_.getLinesNumber()):(winAmount_="0.00",lineAmount_="0.00"),scatterWinAmount_=null!=win.scatter?win.scatter:0,jpotWinAmount_=null!=win.jackpot?win.jackpot:0,fsNum_=0,scatterNum_=0,wilSimbsNum_=0,jpotSimbsNum_=0,winSmb_=[],fsSmb_.simbolReference=[],fsSmb_.smbNum=[],fsSmb_.pos=[],fsSmb_.anim=[],i=0;i<reels.length;i++)wildReelSmb_[i].simbolReference=[],wildReelSmb_[i].substOnreel=[],wildReelSmb_[i].smbNum=[],wildReelSmb_[i].pos=[],wildReelSmb_[i].reel=[],void 0==wildReelSmb_[i].anim&&(wildReelSmb_[i].anim=[]),void 0==wildReelSmb_[i].sticky&&(wildReelSmb_[i].sticky=0);if(scatterSmb_=[],scatterNormalSmb_=[],bonusSmb_=[],null!=freeSpinsManager_)for(var i=0;i<reels.length;i++)for(var a=1;a<=3;a++)reels[i].getIconNum(a)==freeSpinsManager_.getTriggerIcon()&&(fsSmb_.smbNum.push(freeSpinsManager_.getTriggerIcon()),fsSmb_.simbolReference.push(reels[i].getSymbol(a)),fsSmb_.pos.push(reels[i].getPos(a)),fsNum_++);if(null!=scatterManager_)for(var i=0;i<reels.length;i++)for(var a=0;a<=3;a++)reels[i].getIconNum(a)==scatterManager_.getTriggerIcon()&&scatterNormalSmb_.push(reels[i].getSymbol(a));if(null!=wildManager_&&void 0!=ReelConfig.wildReelOrigin)for(i=0;i<reels.length;i++)a=ReelConfig.wildReelOrigin,void 0!=spinManager_.getSpinReelResp().reel[i]&&wildManager_.getTriggerIcon().indexOf(spinManager_.getSpinReelResp().reel[i].smb[a].smb)>=0&&null!=wildManager_&&(void 0!=ReelConfig.wildReelAnim&&(a=ReelConfig.wildReelAnim),wildReelSmb_[i].smbNum.push(wildManager_.getTriggerIcon()),wildReelSmb_[i].simbolReference.push(reels[i].getSymbol(a)),wildReelSmb_[i].pos.push(reels[i].getPos(a)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(0)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(1)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(2)),wildReelSmb_[i].substOnreel.push(reels[i].getSymbol(3)),"0"==wildReelSmb_[i].sticky&&wilSimbsNum_++,wildReelSmb_[i].sticky=null!=spinManager_.getSpinReelResp().reel[i].smb[a].stick?"1":"0");if("7008"!=gameParams.gameID&&"7017"!=gameParams.gameID&&"7019"!=gameParams.gameID&&"7023"!=gameParams.gameID&&"7012"!=gameParams.gameID&&"7014"!=gameParams.gameID&&"7016"!=gameParams.gameID&&"7022"!=gameParams.gameID)for(var jj in win.line){ret=!0;var j=win.line[jj].id,obj={},smbWinNum=0;obj.line=win.line[jj].id,obj.winAmountCash=win.line[jj].amt,obj.winAmount=win.line[jj].amt/balanceManager_.getCoinValue()*lineManager_.getLinesNumber();var conf=win.line[jj].config.split("");obj.reel=[],obj.icon=[],obj.anim=[],obj.substOnreel=[],obj.smbNum=[],obj.realSmbNum=[],obj.pos=[],obj.simbolReference=[];for(var i=0;i<conf.length;i++)if("1"==conf[i]){smbWinNum++,obj.reel.push(i),obj.icon.push(Number(lineConfig.line.lines[j].config[i])),obj.smbNum.push(reels[i].getIconNum(Number(lineConfig.line.lines[j].config[i])));var smbIndex=Number(lineConfig.line.lines[j].config[i]);obj.realSmbNum.push(spinManager_.getSpinReelResp().reel[i].smb[smbIndex].smb),obj.simbolReference.push(reels[i].getSymbol(Number(lineConfig.line.lines[j].config[i]))),obj.pos.push(reels[i].getPos(Number(lineConfig.line.lines[j].config[i])))}obj.smbWinNum=smbWinNum,winSmb_.push(obj)}if(null!=jackpotManager_&&jackpotManager_.setJackpotLevel(numWinning),"7015"!=gameParams.gameID&&null!=spinManager_.getFsResp()&&spinManager_.getFsResp().won>0&&"tumble"!=spinManager_.getFsResp().type&&"convert"!=spinManager_.getFsResp().type&&"respin"!=spinManager_.getFsResp().type){if("7019"==gameParams.gameID&&freeSpinsManager_.getIsInFs())return ret;if("7021"==gameParams.gameID&&freeSpinsManager_.getIsInFs()&&"0"!=spinManager_.getFsResp().object.wonAdditionalFromWilds)return ret;freeSpinsManager_.fsWon(spinManager_.getFsResp().won)}return ret}function getFsNum_(){return fsNum_}function showFs_(){groupFs_=game_.add.group();for(var a in fsSmb_.smbNum)1==game.cache.checkImageKey("anim"+fsSmb_.smbNum[a])&&(fsSmb_.anim[a]=game_.add.sprite(fsSmb_.pos[a].x,fsSmb_.pos[a].y,"anim"+fsSmb_.smbNum[a]),fsSmb_.anim[a].animations.add("anim"),fsSmb_.anim[a].animations.play("anim",24,!1),fsSmb_.anim[a].width=ReelConfig.icon.width,fsSmb_.anim[a].height=ReelConfig.icon.height,groupFs_.add(fsSmb_.anim[a]));mainGroup_.add(groupFs_),setTimeout(clearFsWin_,lineConfig.win.duration)}function showAllWinHL_(){var index=0;soundManager_.playSound("winSound"),group_=game_.add.group(),mainGroup_.add(group_);for(var i in winSmb_)if(void 0!=winSmb_[i])for(var a in winSmb_[i].smbNum)setTimeout(startAnimSmb_,200*index,i,a,group_),index++;setTimeout(clearWin_,200*index+Number(lineConfig.win.duration))}function startAnimSmb_(i,a,group_){1==game.cache.checkImageKey("anim"+winSmb_[i].smbNum[a])&&(winSmb_[i].anim[a]=game_.add.sprite(winSmb_[i].pos[a].x,winSmb_[i].pos[a].y,"anim"+winSmb_[i].smbNum[a]),winSmb_[i].anim[a].animations.add("anim"),winSmb_[i].anim[a].animations.play("anim",24,!1,!0,restoreIcon_,winSmb_[i].simbolReference[a]),winSmb_[i].anim[a].width=ReelConfig.icon.width,winSmb_[i].anim[a].height=ReelConfig.icon.height,winSmb_[i].simbolReference[a].visible=!1,group_.add(winSmb_[i].anim[a]))}function restoreIcon_(par){par.visible=!0}function clearFsWin_(){if(null==fsSmb_||1!=fsSmb_.length){for(var a in fsSmb_)null!=fsSmb_[a].destroy&&fsSmb_[a].destroy();groupFs_&&groupFs_.destroy()}}function clearWin_(){displayManager_.getGroup("wins").visible=!1;for(var i in winSmb_)if(void 0!=winSmb_[i]){for(var b in winSmb_[i].anim)winSmb_[i].anim[b]&&(winSmb_[i].anim[b].anims.pause(),winSmb_[i].anim[b].visible=!1,winSmb_[i].anim[b].destroy(),void 0!=winSmb_[i].simbolReference[b]&&(winSmb_[i].simbolReference[b].visible=!0));for(var a in winSmb_[i])null!=winSmb_[i][a].destroy&&winSmb_[i][a].destroy()}for(var i in winSmbTemp)if(void 0!=winSmbTemp[i])for(var s in winSmbTemp[i])for(var b in winSmbTemp[i][s].anim)winSmbTemp[i][s].anim[b]&&(winSmbTemp[i][s].anim[b].anims.pause(),winSmbTemp[i][s].anim[b].visible=!1,winSmbTemp[i][s].anim[b].destroy(),void 0!=winSmbTemp[i][s].simbolReference[b]&&(winSmbTemp[i][s].simbolReference[b].visible=!0));group_&&group_.destroy()}function toggleCredits_(){}function getAllFS_(){return fsSmb_}function getWin_(line){return winSmb_[line]}function getAllWinsSmbWinNumAggregated_(){lineAmount_>0&&winSmb_.sort(function(a,b){return b.smbWinNum-a.smbWinNum}),winSmbTemp=[];var prevNum=0,prevSmbNum=-1,prevObj={};for(var a in winSmb_){var smbWinNum=winSmb_[a].smbWinNum;prevNum==smbWinNum&&prevSmbNum==winSmb_[a].smbNum[0]||(prevNum=smbWinNum,prevSmbNum=winSmb_[a].smbNum[0],void 0==winSmbTemp[prevNum]&&(winSmbTemp[prevNum]=[]),void 0==winSmbTemp[prevNum][prevSmbNum]&&(winSmbTemp[prevNum][prevSmbNum]={},winSmbTemp[prevNum][prevSmbNum].winAmount=0,winSmbTemp[prevNum][prevSmbNum].winAmountCash=0,winSmbTemp[prevNum][prevSmbNum].line=[],winSmbTemp[prevNum][prevSmbNum].lineSmbNum=[],winSmbTemp[prevNum][prevSmbNum].simbolReference=[],winSmbTemp[prevNum][prevSmbNum].reel=[],winSmbTemp[prevNum][prevSmbNum].smbNum=[],winSmbTemp[prevNum][prevSmbNum].realSmbNum=[],winSmbTemp[prevNum][prevSmbNum].icon=[],winSmbTemp[prevNum][prevSmbNum].pos=[],winSmbTemp[prevNum][prevSmbNum].anim=[],winSmbTemp[prevNum][prevSmbNum].substOnreel=[]),winSmbTemp[prevNum][prevSmbNum].refer=winSmb_[a],winSmb_[a].refer=winSmbTemp[prevNum][prevSmbNum]),prevObj=winSmb_[a],winSmbTemp[prevNum][prevSmbNum].winAmount+=Number(prevObj.winAmount),winSmbTemp[prevNum][prevSmbNum].winAmountCash+=Number(prevObj.winAmountCash),winSmbTemp[prevNum][prevSmbNum].line.push(prevObj.line),winSmbTemp[prevNum][prevSmbNum].lineSmbNum.push(prevObj.smbNum[0]);for(var b=0;b<prevObj.simbolReference.length;b++)winSmbTemp[prevNum][prevSmbNum].simbolReference.indexOf(prevObj.simbolReference[b])<0&&(winSmbTemp[prevNum][prevSmbNum].simbolReference.push(prevObj.simbolReference[b]),winSmbTemp[prevNum][prevSmbNum].reel.push(prevObj.reel[b]),winSmbTemp[prevNum][prevSmbNum].smbNum.push(prevObj.smbNum[b]),winSmbTemp[prevNum][prevSmbNum].realSmbNum.push(prevObj.realSmbNum[b]),winSmbTemp[prevNum][prevSmbNum].icon.push(prevObj.icon[b]),winSmbTemp[prevNum][prevSmbNum].pos.push(prevObj.pos[b]),winSmbTemp[prevNum][prevSmbNum].substOnreel.push(prevObj.substOnreel[b]))}return winSmbTemp}function getAllWinsSorted_(type){return winAmount_>0&&("desc"==type?winSmb_.sort(function(b,a){return b.smbWinNum+a.smbWinNum}):winSmb_.sort(function(a,b){return b.smbWinNum-a.smbWinNum})),winSmb_}function getAllWinsSortedByAmt_(type){return winAmount_>0&&("desc"==type?winSmb_.sort(function(b,a){return b.winAmount+a.winAmount}):winSmb_.sort(function(a,b){return b.winAmount-a.winAmount})),winSmb_}function getTumblingWinningSymbols_(){var reels=spinManager_.getReels(),obj={};for(winSmb_=[],obj.reel=[],obj.icon=[],obj.anim=[],obj.substOnreel=[],obj.smbNum=[],obj.pos=[],obj.realSmbNum=[],obj.simbolReference=[],obj.tumble=[],obj.winAmountCash=winAmountCash_,obj.winAmount=winAmount_,i=0;i<reels.length;i++)if(void 0!=spinManager_.getSpinReelResp().reel[i])for(var icons="7016"==gameParams.gameID||"7019"==gameParams.gameID||"7023"==gameParams.gameID||"7022"==gameParams.gameID?spinManager_.getSpinReelResp().reel[i].smb.length:ReelConfig.numIcons,a=0;a<icons;a++)if(void 0!=spinManager_.getSpinReelResp().reel[i].smb[a]){var aa="7016"==gameParams.gameID||"7019"==gameParams.gameID||"7023"==gameParams.gameID||"7022"==gameParams.gameID?spinManager_.getSpinReelResp().reel[i].smb.length-1-a+ReelConfig.numIconsOnBottom:a;if("tumble"==spinManager_.getSpinReelResp().reel[i].smb[a].special&&14!=spinManager_.getSpinReelResp().reel[i].smb[a].smb){obj.reel.push(i),obj.icon.push(aa),obj.smbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.realSmbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.tumble.push(!0),obj.pos.push(reels[i].getPos(aa));var smb="7016"==gameParams.gameID||"7019"==gameParams.gameID||"7023"==gameParams.gameID||"7022"==gameParams.gameID?reels[i].getArr()[aa]:reels[i].getSymbol(aa);smb.attributes=spinManager_.getSpinReelResp().reel[i].smb[a],obj.simbolReference.push(smb)}else if(spinManager_.getSpinReelResp().reel[i].smb[a].special.indexOf("convert")>=0||spinManager_.getSpinReelResp().reel[i].smb[a].special.indexOf("explode")>=0){obj.reel.push(i),obj.icon.push(aa),obj.smbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.tumble.push(!1),obj.realSmbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].special.split(",")[1]),obj.pos.push(reels[i].getPos(aa));var smb="7016"==gameParams.gameID||"7019"==gameParams.gameID||"7023"==gameParams.gameID||"7022"==gameParams.gameID?reels[i].getArr()[aa]:reels[i].getSymbol(aa);obj.simbolReference.push(smb)}else if(spinManager_.getSpinReelResp().reel[i].smb[a].special.indexOf("explode")>=0){obj.reel.push(i),obj.icon.push(aa),obj.smbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.realSmbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].special.split(",")[1]),obj.tumble.push(!1),obj.pos.push(reels[i].getPos(aa));var smb="7016"==gameParams.gameID||"7019"==gameParams.gameID||"7023"==gameParams.gameID||"7022"==gameParams.gameID?reels[i].getArr()[aa]:reels[i].getSymbol(aa);obj.simbolReference.push(smb)}else if(spinManager_.getSpinReelResp().reel[i].smb[a].special.indexOf("anim")>=0&&13!=spinManager_.getSpinReelResp().reel[i].smb[a].smb){obj.reel.push(i),obj.icon.push(aa),obj.smbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.realSmbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.tumble.push(!1),obj.pos.push(reels[i].getPos(aa));var smb="7016"==gameParams.gameID||"7019"==gameParams.gameID||"7023"==gameParams.gameID||"7022"==gameParams.gameID?reels[i].getArr()[aa]:reels[i].getSymbol(aa);obj.simbolReference.push(smb)}}return winSmb_.push(obj),winSmb_}function getResumeTumblingWinningSymbols_(){var reels=scommunicationManager_.getResumeStatus().reels,obj={};for(winSmb_=[],obj.reel=[],obj.icon=[],obj.anim=[],obj.substOnreel=[],obj.smbNum=[],obj.pos=[],obj.realSmbNum=[],obj.simbolReference=[],obj.winAmountCash=winAmountCash_,obj.winAmount=winAmount_,i=0;i<reels.length;i++)if(void 0!=spinManager_.getSpinReelResp().reel[i])for(var a=0;a<ReelConfig.numIcons;a++)if("tumble"==spinManager_.getSpinReelResp().reel[i].smb[a].special){var aa=0+ReelConfig.numIconsOnBottom;0==a&&(aa=3+ReelConfig.numIconsOnBottom),1==a&&(aa=2+ReelConfig.numIconsOnBottom),2==a&&(aa=1+ReelConfig.numIconsOnBottom),obj.reel.push(i),obj.icon.push(aa),obj.smbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.realSmbNum.push(spinManager_.getSpinReelResp().reel[i].smb[a].smb),obj.pos.push(reels[i].getPos(aa)),obj.simbolReference.push(reels[i].getArr()[aa])}return winSmb_.push(obj),winSmb_}var group_,groupFs_,mainGroup_,game_=gameRef,winSmb_=[],winSmbTemp=[],fsSmb_={},wildReelSmb_=[],scatterSmb_=[],scatterNormalSmb_=[],bonusSmb_=[],winAmount_=0,winAmountCash_=0,bonusAmountCash_=0,currentMult_=0,lineAmount_=0,lineAmountCash_=0,jpotWinAmount_=0,scatterWinAmount_=0,fsNum_=0,scatterNum_=0,wilSimbsNum_=0,jpotSimbsNum_=0,numWinning=0,me={getFsNum:getFsNum_,clearWin:clearWin_,evaluate:evaluate_,showAllWinHL:showAllWinHL_,getWin:getWin_,getAllWinsSorted:getAllWinsSorted_,getAllWinsSmbWinNumAggregated:getAllWinsSmbWinNumAggregated_,getAllWinsSortedByAmt:getAllWinsSortedByAmt_,getAllFS:getAllFS_,showFs:showFs_,toggleCredits:toggleCredits_,getTumblingWinningSymbols:getTumblingWinningSymbols_,getResumeTumblingWinningSymbols_:getResumeTumblingWinningSymbols_,updateWinAmt:function(amt){winAmount_=amt},getLineWinAmt:function(){return 0==balanceManager_.getShowIncredits()?lineAmountCash_:lineAmount_},getWinAmt:function(){
return 0==balanceManager_.getShowIncredits()?winAmountCash_:winAmount_},resetWinAmt:function(){winAmountCash_=0,winAmount_=0,bonusAmountCash_=0},setWinAmountBonus:function(value){bonusAmountCash_=value},getWinAmtCash:function(){return winAmountCash_+bonusAmountCash_},setTry:function(val){winAmountCash_=val},getGroup:function(){return group_},getConsecutiveWinnings:function(){return numWinning},setWildSimbs:function(val){wildReelSmb_=val},getWildNum:function(){return wilSimbsNum_},getWildSimbs:function(){return wildReelSmb_},getNormalScatterSimbs:function(){return scatterNormalSmb_},getScatterSimbs:function(){return scatterSmb_},getFsSimbs:function(){return scatterSmb_},getScatterWinAmt:function(){return scatterWinAmount_},getJpotIcons:function(){return jpotSimbsNum_},addScatterWinSmb:function(obj){scatterSmb_.push(obj)},addFsWinSmb:function(obj){scatterSmb_.push(obj)},getMultiplier:function(){return currentMult_}};return initClass_(),me}function Debounce(func,debounce){function _init(func_,debounce_){_func=func_,_debounce=debounce?debounce_:250}function debounce_(){return new Promise(function(resolve,reject){setTimeout(function(){_fire=!0,resolve()},_debounce)})}function fire_(args_){_fire&&(_fire=!1,debounce_(),_func(args_))}function guaranteedFire_(arg_){arg_=arg_,_fire&&(_fire=!1,debounce_().then(function(){_func(arg_)}))}var _debounce,_func,_fire=!0,me={fire:fire_,guaranteedFire:guaranteedFire_};return _init(func,debounce),me}function EventManager(){var timer,eventList=[],evtStart=!1,totalDelay_=0,clearEvt_=function(){void 0!=timer&&clearTimeout(timer),timer=[],evtStart=!1;for(var a in eventList)null!=eventList[a]&&null!=eventList[a].timer&&clearTimeout(eventList[a].timer);eventList=null,eventList=[],totalDelay_=0},addEvt_=function(name,delay,args){delay=Math.min(delay,6e4);var obj={};if(obj.func=name,totalDelay_+=parseInt(delay),obj.delay=delay,obj.complete=!1,obj.timer=null,obj.force=!1,null!=args){obj.objects=[];for(var a in args)obj.objects[a]=args[a]}else obj.objects="";eventList.push(obj)},addEvtForce_=function(name,delay,args){delay=Math.min(delay,6e4);var obj={};if(obj.func=name,totalDelay_+=parseInt(delay),obj.delay=delay,obj.complete=!1,obj.timer=null,obj.force=!0,null!=args){obj.objects=[];for(var a in args)obj.objects[a]=args[a]}else obj.objects="";eventList.push(obj)},triggerEvt_=function(){try{if(1==evtStart)return;var evtFound=!1,i=0;for(var a in eventList)if(i++,0==eventList[a].complete)return eventList[a].complete=!0,timer=setTimeout(myCallBack_,eventList[a].delay,eventList[a].func,eventList[a].objects,eventList[a].force),evtStart=!0,void(evtFound=!0);0==evtFound&&(eventList=null,eventList=[])}catch(e){}},myCallBack_=function(funct,param,force){try{clearTimeout(timer),0==gameClass_.getMessageOnOff()&&0==buttonManager_.gotMsg()&&0==displayManager_.getEventBlockWindOn()||1==force?(evtStart=!1,triggerEvt_(),funct(param)):timer=setTimeout(myCallBack_,500,funct,param,!1)}catch(e){}},executeEvt_=function(name,param){try{evtStart=!1,name(param),triggerEvt_()}catch(e){}},me={triggerEvt:triggerEvt_,executeEvt:executeEvt_,addEvent:addEvt_,addEvtForce:addEvtForce_,clearEvt:clearEvt_};return me}function EventManagerCheck(){var timer,eventList=[],evtStart=!1,totalDelay_=0,clearEvt_=function(){void 0!=timer&&clearTimeout(timer),timer=[],evtStart=!1;for(var a in eventList)null!=eventList[a]&&null!=eventList[a].timer&&clearTimeout(eventList[a].timer);eventList=null,eventList=[],totalDelay_=0},addEvt_=function(name,delay,check,args){delay=Math.min(delay,6e4);var obj={};if(obj.func=name,obj.check=check,totalDelay_+=parseInt(delay),obj.delay=delay,obj.complete=!1,obj.timer=null,obj.force=!1,null!=args){obj.objects=[];for(var a in args)obj.objects[a]=args[a]}else obj.objects="";eventList.push(obj)},addEvtForce_=function(name,delay,args){delay=Math.min(delay,6e4);var obj={};if(obj.func=name,obj.check=null,totalDelay_+=parseInt(delay),obj.delay=delay,obj.complete=!1,obj.timer=null,obj.force=!0,null!=args){obj.objects=[];for(var a in args)obj.objects[a]=args[a]}else obj.objects="";eventList.push(obj)},triggerEvt_=function(){try{if(1==evtStart)return;var evtFound=!1,i=0;for(var a in eventList)if(i++,0==eventList[a].complete)return eventList[a].complete=!0,timer=setTimeout(myCallBack_,eventList[a].delay,eventList[a].func,eventList[a].check,eventList[a].objects,eventList[a].force),evtStart=!0,void(evtFound=!0);0==evtFound&&(eventList=null,eventList=[])}catch(e){}},myCallBack_=function(funct,check,param,force){try{clearTimeout(timer),0==gameClass_.getMessageOnOff()&&0==buttonManager_.gotMsg()&&0==displayManager_.getEventBlockWindOn()||1==force?null==check||1==check()?(evtStart=!1,triggerEvt_(),funct(param)):timer=setTimeout(myCallBack_,200,funct,check,param,!1):timer=setTimeout(myCallBack_,500,funct,check,param,!1)}catch(e){}},executeEvt_=function(name,param){try{evtStart=!1,name(param),triggerEvt_()}catch(e){}},me={triggerEvt:triggerEvt_,executeEvt:executeEvt_,addEvent:addEvt_,addEvtForce:addEvtForce_,clearEvt:clearEvt_};return me}function FindSmoothPath(nodeArray,evenSpacing,dotDistance){function Point(x,y){this.x=x||0,this.y=y||0}for(var dist,nodeArray_=nodeArray,evenSpacing_=void 0!=evenSpacing&&evenSpacing,dotDistance_=void 0!=dotDistance?dotDistance:10,pathArray=[],theAngle=0,percent=0,percentStepping=.05,drawCurrentItem=0,stopRender=!1,findDistance=function(_point1,_point2){var dx=_point1.x-_point2.x,dy=_point1.y-_point2.y;return Math.floor(Math.sqrt(dx*dx+dy*dy))},findTheAngle=function(point1,point2){var px=point1.x-point2.x,py=point1.y-point2.y,radians=Math.atan2(py,px);return Math.floor(180*radians/Math.PI)},findValue=function(point0,point1,point2,point3,time){var timeSub=1-time,returnVal=Math.pow(timeSub,3)*point0;return returnVal+=3*time*Math.pow(timeSub,2)*point1,returnVal+=3*Math.pow(time,2)*timeSub*point2,returnVal+=Math.pow(time,3)*point3};!stopRender;){if(percent>=1)if(percent=0,drawCurrentItem+=1,drawCurrentItem<nodeArray_.length-1){var subItem=nodeArray_[drawCurrentItem-1],firstItem=nodeArray_[drawCurrentItem],secondItem=nodeArray_[drawCurrentItem+1],thirdItem=nodeArray_[drawCurrentItem+2];if(null==thirdItem)theAngle=0,stopRender=!0;else{var theSubAngle=findTheAngle(subItem,secondItem);theAngle=findTheAngle(firstItem,thirdItem),evenSpacing_&&(dist=findDistance(firstItem,secondItem),percentStepping=dotDistance_/dist);var firstDist=.15*findDistance(secondItem,subItem),radians=theSubAngle/180*Math.PI,x0speed=Math.cos(radians)*firstDist,y0speed=Math.sin(radians)*firstDist,secondDist=.15*findDistance(firstItem,thirdItem);radians=theAngle/180*Math.PI;var xspeed=Math.cos(radians)*secondDist,yspeed=Math.sin(radians)*secondDist,node1=new Point(firstItem.x-x0speed,firstItem.y-y0speed),node2=new Point(secondItem.x+xspeed,secondItem.y+yspeed)}}else stopRender=!0;else{var _point=new Point;null!=firstItem&&null!=secondItem&&null!=node1&&null!=node2&&(_point.x=findValue(firstItem.x,node1.x,node2.x,secondItem.x,percent),_point.y=findValue(firstItem.y,node1.y,node2.y,secondItem.y,percent),pathArray.push(_point))}percent+=percentStepping}var me={getArrayOfPoints:function(){return pathArray}};return me}function IdleCycleManager(gameRef,gameClass){function initClass_(){mainGroup_=displayManager_.getGroup("idleObjects")}function startIdleCycle_(){if(null!=mainGroup_){var x,y,scaleX,scaleY,fps,alpha,clear,sound,index=0;clearTimeout(interval_),mainGroup_.visible=!0;for(var a in displayManager.groups.idleObjects.objects)if(null==displayManager.groups.idleObjects.objects[a].name){if(Util.getRandomInt(1,1e3)>1e3-10*displayManager.groups.idleObjects.objects[a].prob)for(var b in displayManager.groups.idleObjects.objects[a]){var name=displayManager.groups.idleObjects.objects[a][b].name;if(1==game_.cache.checkImageKey(name)&&1==hasFocus_){if(x=getParameter_(displayManager.groups.idleObjects.objects[a][b],"x"),y=getParameter_(displayManager.groups.idleObjects.objects[a][b],"y"),alpha=getParameter_(displayManager.groups.idleObjects.objects[a][b],"alpha",1),scaleX=getParameter_(displayManager.groups.idleObjects.objects[a][b],"scaleX",.6),scaleY=getParameter_(displayManager.groups.idleObjects.objects[a][b],"scaleY",scaleX),fps=getParameter_(displayManager.groups.idleObjects.objects[a][b],"fps",24),clear=getParameter_(displayManager.groups.idleObjects.objects[a][b],"clear",!0),sound=getParameter_(displayManager.groups.idleObjects.objects[a][b],"sound",""),null!=objs_[b]){objs_[b].visible=!0;var ob=objs_[a]}else{var ob=game_.add.sprite(x,y,name);ob.anchor.set(.5,.5),ob.animations.add("anim"),ob.alpha=alpha,ob.scale.x=scaleX/10,ob.scale.y=scaleY/10,objs_[b]=ob,mainGroup_.add(ob)}if(ob.animations.play("anim",fps,!1,clear,null,null),""!=sound&&soundManager_.playSound(sound),index++,null!=displayManager.groups.idleObjects.onlyOne&&1==displayManager.groups.idleObjects.onlyOne)return void(interval_=setTimeout(startIdleCycle_,Util.getRandomInt(displayManager.groups.idleObjects.frequency[0],displayManager.groups.idleObjects.frequency[1])))}}}else if(Util.getRandomInt(1,1e3)>1e3-10*displayManager.groups.idleObjects.objects[a].prob){var name=displayManager.groups.idleObjects.objects[a].name;if(1==game_.cache.checkImageKey(name)&&1==hasFocus_){if(x=getParameter_(displayManager.groups.idleObjects.objects[a],"x"),y=getParameter_(displayManager.groups.idleObjects.objects[a],"y"),alpha=getParameter_(displayManager.groups.idleObjects.objects[a],"alpha",1),scaleX=getParameter_(displayManager.groups.idleObjects.objects[a],"scaleX",.6),scaleY=getParameter_(displayManager.groups.idleObjects.objects[a],"scaleY",scaleX),fps=getParameter_(displayManager.groups.idleObjects.objects[a],"fps",24),clear=getParameter_(displayManager.groups.idleObjects.objects[a],"clear",24),sound=getParameter_(displayManager.groups.idleObjects.objects[a],"sound",""),null!=objs_[a]){objs_[a].visible=!0;var ob=objs_[a]}else{var ob=game_.add.sprite(x,y,name);objs_[a]=ob,ob.anchor.set(.5,.5),ob.animations.add("anim"),ob.alpha=alpha,ob.scale.x=scaleX/10,ob.scale.y=scaleY/10,mainGroup_.add(ob)}if(ob.animations.play("anim",fps,!1,clear,null,null),""!=sound&&soundManager_.playSound(sound),index++,null!=displayManager.groups.idleObjects.onlyOne&&1==displayManager.groups.idleObjects.onlyOne)return void(interval_=setTimeout(startIdleCycle_,Util.getRandomInt(displayManager.groups.idleObjects.frequency[0],displayManager.groups.idleObjects.frequency[1])))}}interval_=setTimeout(startIdleCycle_,Util.getRandomInt(displayManager.groups.idleObjects.frequency[0],displayManager.groups.idleObjects.frequency[1]))}}function getParameter_(node,name,def){return void 0==node[name]?def:Array.isArray(node[name])?Util.getRandomInt(node[name][0],node[name][1]):node[name]}function stopIdleCycle_(){clearTimeout(interval_)}function forceIdleCycle_(obj){var x,y,scaleX,scaleY,fps,alpha,clear,sound;if(null!=displayManager.groups.idleObjects&&null!=displayManager.groups.idleObjects.objects[obj]){var name=displayManager.groups.idleObjects.objects[obj].name;if(1==game_.cache.checkImageKey(name)&&1==hasFocus_){if(x=getParameter_(displayManager.groups.idleObjects.objects[obj],"x"),y=getParameter_(displayManager.groups.idleObjects.objects[obj],"y"),alpha=getParameter_(displayManager.groups.idleObjects.objects[obj],"alpha",1),scaleX=getParameter_(displayManager.groups.idleObjects.objects[obj],"scaleX",.6),scaleY=getParameter_(displayManager.groups.idleObjects.objects[obj],"scaleY",scaleX),fps=getParameter_(displayManager.groups.idleObjects.objects[obj],"fps",24),clear=getParameter_(displayManager.groups.idleObjects.objects[obj],"clear",24),sound=getParameter_(displayManager.groups.idleObjects.objects[obj],"sound",""),null!=objs_[obj]){objs_[obj].visible=!0;var ob=objs_[obj]}else{var ob=game_.add.sprite(x,y,name);objs_[obj]=ob,ob.anchor.set(.5,.5),ob.animations.add("anim"),ob.alpha=alpha,ob.scale.x=scaleX/10,ob.scale.y=scaleY/10,mainGroup_.add(ob)}ob.animations.play("anim",fps,!1,clear,null,null),""!=sound&&soundManager_.playSound(sound),""!=getParameter_(displayManager.groups.idleObjects.objects[obj],"evt","")&&void 0!=gameClass_.doBuyFeature&&(ob.inputEnabled=!0,ob.events.onInputDown.add(gameClass_.doBuyFeature,this))}}}var mainGroup_,gameClass_=gameClass,game_=gameRef,interval_=0,objs_=[],me={startIdleCycle:startIdleCycle_,stopIdleCycle:stopIdleCycle_,forceIdleCycle:forceIdleCycle_};return initClass_(),me}function isBSTinEffect(){for(var d=new Date,i=31;i>0;i--){var tmp=new Date(d.getFullYear(),2,i);if(0===tmp.getDay()){lSoM=tmp;break}}for(var k=31;k>0;k--){var tmp1=new Date(d.getFullYear(),9,k);if(0===tmp1.getDay()){lSoO=tmp1;break}}return d<lSoM||d>lSoO?0:1}function TimeUpdater(gameRef,field){function writeBalance_(time,name){ReelConfig.newUI?window.innerHeight>window.innerWidth?($("#footer-bottom-clock").html(time).append("&nbsp;&nbsp;&nbsp;"),$("#footer-middle-name").html(name)):$("#footer-bottom-clock").html(name+" - "+time):field_.setText(name+" - "+time)}function setPreText_(txt){pretext_=txt+" - "}var field_=field,pretext_="",initClass_=function(){writeHour_(),setInterval(writeHour_,1e3)},writeHour_=function(){var d=new Date,time=Util.formatTwoDigit(d.getHours(),2)+":"+Util.formatTwoDigit(d.getMinutes(),2)+":"+Util.formatTwoDigit(d.getSeconds(),2);writeBalance_(time,pretext_+gameParams.gameName)},me={writeHour:writeHour_,setPreText:setPreText_};return initClass_(),me}function Tween(_context,_ReelConfig){var obj,duration,stp,callBackParam,raf,onFinishCallback,startTime,context=_context,value=[],stop=[],to_=function(_obj,_duration,_prop,_stop,_onFinishCallback,_par){obj=_obj,callBackParam=_par,stp=_stop,duration=_duration;for(a in obj.pos)value[a]=obj.pos[a].y,stop[a]=value[a]+_stop;onFinishCallback=_onFinishCallback,startTime=new Date,animate()},animate=function(){var active=!0;context.clearRect(obj.pos[0].x,0,ReelConfig.icon.width,1080);for(a in obj.img){new Date;value[a]=value[a]+stp/duration/60,obj.pos[a].y=value[a],context.drawImage(obj.img[a],obj.pos[a].x,value[a],ReelConfig.icon.width,ReelConfig.icon.height),(stp>0&&value[a]>=stop[a]||stp<0&&value[a]<=stop[a])&&(active=!1)}0==active?(onFinishCallback&&onFinishCallback(obj,callBackParam),cancelAnimationFrame(raf)):raf=requestAnimationFrame(animate)},me={to:to_};return me}function TweenManager(){var raf,tweenList=[],active=0,startAnimate_=function(anim){if(0==active){for(var t in tweenList)null!=tweenList[t]&&(tweenList[t].callback(),tweenList[t]=null);cancelAnimationFrame(raf)}else{active=0;for(var t in tweenList)null!=tweenList[t]&&(active+=tweenList[t].animate());raf=requestAnimationFrame(startAnimate_)}},addTween_=function(tw){tweenList.push(tw),0==active&&(active=1,requestAnimationFrame(startAnimate_))},me={startAnimate:startAnimate_,addTween:addTween_};return me}function start_(){function iframe(){try{return window.self!==window.top}catch(e){return!0}}var height=screen.height,width=screen.width,size=height>width?height:width,small=size<1025,touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,mobile=small&&touch;if(mobile&&iframe()&&document.body.classList.add("HANDLE_IFRAME"),"Enable"==gameParams.force?$("#debug").css("visibility","visible"):$("#debug").css("visibility","hidden"),mainDivWrapper=$("#mainDivWrapper"),mainDiv=$("#mainDiv",mainDivWrapper),null!=ReelConfig.phaserVer&&(phaserVer_=ReelConfig.phaserVer),2==phaserVer_)game=new Phaser.Game(1920,1080,displayManager.render,"gameContainer",{preload:preload,create:create,update:update,render:render},(!0),(!0),null,(!1));else{var config={type:Phaser.AUTO,parent:"gameContainer",width:1920,height:1080,scene:{preload:preload,create:create,update:update,render:render,pack:{files:[{type:"scenePlugin",key:"SpineWebGLPlugin",url:"../lib/SpineWebGLPlugin.js",sceneKey:"spine"}]}}};game=new Phaser.Game(config)}game.config.setForceTimeOut=!0,lastCheck=(new Date).getTime(),setTimeout(adjust,200)}function preload(){3==phaserVer_&&(game=this),clientMessageSend("load-start"),spriteManager_=new SpriteManager(game),clientMessageSend("load-start"),loaderManager_=new LoaderManager(game);for(a in loaderAssets.sounds)loaderManager_.loadAudio(a,loaderAssets.sounds[a].name);for(a in loaderAssets.assets)loadingAssNum_++,loaderManager_.loadImage(a,loaderAssets.assets[a]);if(null!=loaderAssets.loaderMc.ironDogLogo&&loaderManager_.loadAtlas("ironDogLogo",loaderAssets.loaderMc.ironDogLogo.sprite,loaderAssets.loaderMc.ironDogLogo.json),null!=loaderAssets.loaderMc.staticLoaderLogo&&loaderManager_.loadImage("staticLoaderLogo",loaderAssets.loaderMc.staticLoaderLogo.sprite),loaderAssets.loaderMc.progressBar&&loaderManager_.loadAtlas("progressBar",loaderAssets.loaderMc.progressBar.sprite,loaderAssets.loaderMc.progressBar.json),"DEV_139"==gameParams.clientName&&(gameParams.clientName="NYX"),null!=loaderAssets.loaderMc.staticLoaderLogoClient){if(void 0!=gameAssets.clientAssets.conf[gameParams.clientName])clientName_=gameParams.clientName,clientDispName_=gameAssets.clientAssets.conf[gameParams.clientName].name;else for(var a in gameAssets.clientAssets.conf)for(var b in gameAssets.clientAssets.conf[a])if(b.indexOf(gameParams.clientName)>=0&&gameAssets.clientAssets.conf[a][b].indexOf(gameParams.site)>=0){clientName_=a,clientDispName_=gameAssets.clientAssets.conf[a].name;break}var file=loaderAssets.loaderMc.staticLoaderLogoClient.path+clientName_+"/"+loaderAssets.loaderMc.staticLoaderLogoClient.name;game.load.image("staticLoaderLogo",file)}loaderManager_.loadJson("translations_common",gameParams.pathCDN+"f1x2games/properties/ironDog/lang/common/local_"+gameParams.lang+".json"),loaderManager_.loadJson("translations_game",gameParams.pathCDN+"f1x2games/properties/ironDog/lang/"+gameParams.folderName+"/localization/local_"+gameParams.lang+".json")}function render(){}function update(){}function create(){adjust(),3==phaserVer_?(Translate.translationsGame=null!=game.cache.json.get("translations_game")?game.cache.json.get("translations_game").Messages:null,Translate.translationsGeneral=null!=game.cache.json.get("translations_common")?game.cache.json.get("translations_common").Messages:null):(Translate.translationsGame=null!=game.cache.getJSON("translations_game")?game.cache.getJSON("translations_game").Messages:null,Translate.translationsGeneral=null!=game.cache.getJSON("translations_common")?game.cache.getJSON("translations_common").Messages:null),Translate.parseLang(),animationManager_=new AnimationsManager(this),created_=!0,1==hasFocus_?setTimeout(continueLoading_,1200):setTimeout(create,500)}function continueLoading_(){if(loader_=new Loader(game),2==phaserVer_){var canvas=$("#gameContainer canvas"),ctx=canvas.context;ctx.mozImageSmoothingEnabled=!0,ctx.webkitImageSmoothingEnabled=!0}}function initSounds_(){null!=gameClass_&&1==gameClass_.getOnGame()?(soundManager_.startSounds(),setTimeout(gameClass_.startSounds,500)):setTimeout(initSounds_,500)}function initGame_(){loaded_=!0,1==hasFocus_&&loginVars.doLogin()}function initGameClasses_(){void 0==displayManager_&&(1==hasFocus_&&void 0!=loginVars.getCurrencySmb()?(displayManager_=new DisplayManager(game),messageBox_=new MessageBox(game),gameGUI=new GuiFullScreen,gameClass_=new Game(game),iOS=!0,0==iOS?completeInit_():(void 0!=framework&&framework.hideFramework(),1!=ReelConfig.newUI||1!=framework.isTouch()?message=new MessageScreen("","",Translate["do"]("Activate sounds?"),[{action:function(){message.destroy(),continueWOS_()},label:"NO"},{action:function(){message.destroy(),continueWS_()},label:"OK"}],(!1),(!0)):setTimeout(continueWOS_,500))):setTimeout(initGameClasses_,500),window.f1x2gan&&window.f1x2gan.main&&window.f1x2gan.main.gameLoaded())}function doYes(){localStorage.setItem("slots__sound",!0),localStorage.setItem(gameParams.gameName+"__effects__on",!0),localStorage.setItem(gameParams.gameName+"__bg__on",!0),completeInit_()}function doNo(){localStorage.setItem("slots__sound",!1),localStorage.setItem(gameParams.gameName+"__effects__on",!1),localStorage.setItem(gameParams.gameName+"__bg__on",!1),completeInit_()}function continueWS_(){localStorage.setItem("slots__sound",!0),localStorage.setItem(gameParams.gameName+"__effects__on",!0),localStorage.setItem(gameParams.gameName+"__bg__on",!0),completeInit_()}function continueWOS_(){localStorage.setItem("slots__sound",!1),localStorage.setItem(gameParams.gameName+"__effects__on",!1),localStorage.setItem(gameParams.gameName+"__bg__on",!1),completeInit_()}function completeInit_(){2==phaserVer_&&game.enableAudioContext(),iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,1==iOS&&void 0!=framework&&framework.showFramework(),eventManager_=new EventManager,winManager_=new WinManager(game,gameClass_),timeHandle_=new TimeUpdater(game,displayManager_.getText("time")),spinManager_=new SpinManager(game,gameClass_),winAmtManager_=new WinAmtManager(game,gameClass_),lineWinAmtManager_=new LineWinAmtManager(game,gameClass_),soundManager_=new SoundManager(game,gameClass_),autoPlayManager_=new AutoPlay(game,gameClass_),freeSpinsManager_=new FreeSpinsManager(game,gameClass_),freeRoundsManager_=new FreeRoundsManager(game,gameClass_),multiplierManager_=new MultiplierManager(game,gameClass_),wildManager_=new WildManager(game,gameClass_,ReelConfig),scatterManager_=new ScatterManager(game,gameClass_),bonusManager_=new BonusManager(game,gameClass_),lineManager_=new LineManager(game,gameClass_),balanceManager_=new BalanceManager(game,gameClass_),twinReelManager_=new TwinReelsManager(game,gameClass_),guiBottomBar_=new BottomBar(game,gameClass_),idleCycleManager_=new IdleCycleManager(game,gameClass_),creditsCoinsDisplay_=new CashCreditsDisplay(game,gameClass_),buttonManager_=new ButtonStatesManager(game,gameClass_),jackpotManager_=new JackpotManager(game,gameClass_),previewManager_=new PreviewManager(game,gameClass_),framework.initClass(),""!=clientName_&&"default"!=clientName_&&timeHandle_.setPreText(clientDispName_),new f1x2.GcmFunctions(function(){autoPlayManager_.getIsInAutoPlay()&&autoPlayManager_.toggleAutoPlay(),framework.setAutoPlayState(0)},function(){},function(input){balanceManager_.setBalance(input),balanceManager_.forceBalanceUpdate()}),messagesSE=window.f1x2.messageHandlerInit=new window.f1x2.MessageHandlerInit(gameParams.path,gameParams.pathCDN+"f1x2games/",gameParams.clientName,[gameInfo.accountID,loginVars.getLoginParams().customerID,gameParams.gameID,loginVars.getRegParams().jurisdiction,gameParams.lang,gameParams.site,gameInfo.username],[loginVars.getRegParams().realitycheck_uk_exit,gameParams.lobbyurl,loginVars.getRegParams().realitycheck_uk_history]),f1x2.clientWrapperInit.send("update-user",{accountID:gameInfo.accountID,customerID:gameInfo.customerID,currency:gameInfo.currency,gameID:gameParams.gameID,username:gameInfo.username,playMode:gameParams.fun_real,minStake:void 0!=framework.getBetValues&&framework.getBetValues.lenght>0?framework.getBetValues[0]:0,maxStake:void 0!=framework.getBetValues&&framework.getBetValues.lenght>0?framework.getBetValues[lenght]:0}),gcmCalls_("GAME_READY",0,!0)}function adjust(){if(void 0!=game)if(1==ReelConfig.newUI){if(void 0==loader_||void 0!=gameClass_&&void 0!=gameClass_.getOnGame||loader_.switchPortrait("portrait"!=getOrientation()),canRotate_=!1,"Enable"==gameParams.force){if(null!=ReelConfig.ForceFeature&&void 0!=ReelConfig.ForceFeature)for(var a=1;a<=20;a++)void 0!=ReelConfig.ForceFeature["ch"+a]&&(document.getElementsByName("ch"+a)[0].value=ReelConfig.ForceFeature["ch"+a].value,document.getElementsByName("ch"+a)[0].style.visibility="visible",document.getElementsByName("ch"+a)[0].nextSibling.innerHTML=ReelConfig.ForceFeature["ch"+a].description,document.getElementsByName("ch"+a)[0].nextSibling.style.visibility="visible",null!=document.getElementsByName("ch"+a)&&null!=document.getElementsByName("ch"+a)[0]&&(document.getElementsByName("ch"+a)[0].checked=!1));$("#debug").css("visibility","visible"),document.getElementsByName("chForceEnable")[0].style.visibility="visible",document.getElementsByName("chForceEnable")[0].nextSibling.innerHTML="Force Enabled",document.getElementsByName("chForceEnable")[0].nextSibling.style.visibility="visible",gameParams.singleTexts="Enabled","Disable"!=gameParams.singleTexts&&""!=gameParams.singleTexts||"7020"!=gameParams.gameID&&$(".debugTxtSingle").addClass("hidden"),"Disable"==gameParams.seeding&&($(".seedTxt").addClass("hidden"),$(".debugTxt").addClass("hidden")),document.getElementsByName("hideDebug")[0].addEventListener("click",function(event){$("#debug").hasClass("hidden")?$("#debug").removeClass("hidden"):$("#debug").addClass("hidden")})}else $("#debug").css("visibility","hidden"),$("#hideDebug").css("visibility","hidden");if(1==framework.isTouch()&&1==ReelConfig.newUI)if(null!=gameClass_&&null!=gameClass_.hideGame&&gameClass_.hideGame(!0),framework.resize(),window.innerHeight>window.innerWidth)game.scale.isGamePortrait=!0,game.scale.setGameSize(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio),setSizes(!0);else{if(3==phaserVer_)game.scale.setGameSize(1920,1080);else{var divgame=document.getElementById("gameContainer");divgame.style.width=window.innerWidth*window.devicePixelRatio+"px",divgame.style.height=window.innerHeight*window.devicePixelRatio+"px",game.scale.setGameSize(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio)}setSizes(!1)}else{var divgame=document.getElementById("gameContainer");divgame.style.width=window.innerWidth+"px",divgame.style.height=window.innerHeight+"px",framework.resize()}setTimeout(unlockCanRotate_,500)}else{if("Enable"==gameParams.force){if(null!=ReelConfig.ForceFeature&&void 0!=ReelConfig.ForceFeature)for(var a=1;a<=20;a++)void 0!=ReelConfig.ForceFeature["ch"+a]&&(document.getElementsByName("ch"+a)[0].value=ReelConfig.ForceFeature["ch"+a].value,document.getElementsByName("ch"+a)[0].style.visibility="visible",document.getElementsByName("ch"+a)[0].nextSibling.innerHTML=ReelConfig.ForceFeature["ch"+a].description,document.getElementsByName("ch"+a)[0].nextSibling.style.visibility="visible",null!=document.getElementsByName("ch"+a)&&null!=document.getElementsByName("ch"+a)[0]&&(document.getElementsByName("ch"+a)[0].checked=!1));$("#debug").css("visibility","visible"),gameParams.singleTexts="Enabled","Disable"!=gameParams.singleTexts&&""!=gameParams.singleTexts||$(".debugTxtSingle").addClass("hidden"),"Disable"==gameParams.seeding&&($(".seedTxt").addClass("hidden"),$(".debugTxt").addClass("hidden")),document.getElementsByName("hideDebug")[0].addEventListener("click",function(event){$("#debug").hasClass("hidden")?$("#debug").removeClass("hidden"):$("#debug").addClass("hidden")})}else $("#debug").css("visibility","hidden"),$("#hideDebug").css("visibility","hidden");var divgame=document.getElementById("gameContainer");divgame.style.width=window.innerWidth+"px",divgame.style.height=window.innerHeight+"px",framework.resize()}}function setSizes(portrait){var canvas=document.getElementById("gameContainer");canvas.style="",portrait?($("canvas")[0].style.width=window.innerWidth+"px",$("canvas")[0].style.height=window.innerHeight+"px",void 0!=$("#mainViewport")[0].style.transform&&""!=$("#mainViewport")[0].style.transform?($("canvas")[0].style.marginLeft=$("#mainViewport")[0].style.left,$("canvas")[0].style.marginTop=$("#mainViewport")[0].style.top):($("canvas")[0].style["margin-left"]="0px",$("canvas")[0].style["margin-top"]="0px"),void 0!=gameClass_&&null!=gameClass_.setPortrait&&(gameClass_.setPortrait(!0),void 0!=loader_&&(loader_.getLoadingGroup().x=-280))):($("canvas")[0].style.width=$("#mainViewport")[0].clientWidth*framework.getScaleFactorX()+"px",$("canvas")[0].style.height=$("#mainViewport")[0].clientHeight*framework.getScaleFactorY()+"px",void 0!=$("#mainViewport")[0].style.transform&&""!=$("#mainViewport")[0].style.transform?($("canvas")[0].style.marginLeft=$("#mainViewport")[0].style.left,$("canvas")[0].style.marginTop=$("#mainViewport")[0].style.top):($("canvas")[0].style["margin-left"]="0px",$("canvas")[0].style["margin-top"]="0px"),void 0!=gameClass_&&null!=gameClass_.setPortrait&&(gameClass_.setPortrait(!1),void 0!=loader_&&(loader_.getLoadingGroup().x=0)))}function unlockCanRotate_(){canRotate_=!0}function logger(msg){"true"==gameParams.doLog}function getStackTrace(){if("true"!=gameParams.doLog)return[];var stack;try{throw new Error("")}catch(error){stack=error.stack||""}return stack=stack.split("\n").map(function(line){return line.trim()}),stack.splice("Error"==stack[0]?2:1)}function getOrientation(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function checkBrowser_(){var ua=window.navigator.userAgent;return!/MSIE 10/i.test(navigator.userAgent)&&(!/MSIE 9/i.test(navigator.userAgent)&&!/rv:11.0/i.test(navigator.userAgent)&&(!/Edge\/\d./i.test(navigator.userAgent)&&(/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)?!!framework.isTouch():ua.indexOf("MQQBrowser")==-1&&ua.indexOf("QQ")==-1&&((ua.indexOf("Opera")||ua.indexOf("OPR"))==-1&&(ua.indexOf("Chrome")!=-1||(ua.indexOf("Firefox")!=-1||ua.indexOf("Mozi")!=-1?!framework.isTouch():(ua.indexOf("MSIE")!=-1||1==!!document.documentMode,!1)))))))}function gcmCalls_(type,arg,force){if(null==force||0==force){if(null==displayManager_.getGroup("bg")||0==displayManager_.getGroup("bg").visible&&1!=framework.isTouch())return;if("PAID"==type&&freeSpinsManager_.getIsInFs()&&arg>0)return;if("PAID"==type&&1!=balanceManager_.getCcanUpdate())return;if("PAID"==type&&1!=gameClass_.getOnGame())return;if("BALANCE"==type&&1!=gameClass_.getOnGame())return}"BALANCE"==type?f1x2.GcmSendMessage(JSON.stringify({type:type,data:{balance:Util.formatNumber(arg,2),params:{accountID:gameInfo.accountID,customerID:gameInfo.customerID,siteID:gameParams.site,currency:gameInfo.currency,gameID:gameParams.gameID}}}),"*"):"BALANCESPIN"==type?f1x2.GcmSendMessage(JSON.stringify({type:"BALANCE",data:{balance:Util.formatNumber(arg[0],2),stake:Util.formatNumber(arg[1],2),winnings:Util.formatNumber(arg[2],2),params:{accountID:gameInfo.accountID,customerID:gameInfo.customerID,siteID:gameParams.site,currency:gameInfo.currency,gameID:gameParams.gameID}}}),"*"):"STAKE"==type||"PAID"==type||"LOAD"==type?f1x2.GcmSendMessage(JSON.stringify({type:type,data:Util.formatNumber(arg,2)}),"*"):"MUTE"==type?f1x2.GcmSendMessage(JSON.stringify({type:type,data:arg}),"*"):f1x2.GcmSendMessage(JSON.stringify({type:type}),"*")}function clientMessageSend(msg){f1x2.clientWrapperInit.send(msg)}function checkContent_(obj,num){var child=obj.children,objNum=0;if(null!=child){objNum+=child.length;for(var a in child)objNum+=checkContent_(child[a],objNum)}return objNum}function resetKeyPress_(){skip_=!1}function resetAp_(){void 0!=buttonManager_.getButton("autoPlay")&&(buttonManager_.getButton("autoPlay").setText(""),buttonManager_.getButton("autoPlay").setBackGround(frameworkSettings.buttons.autoButton.bg)),apState_=0,framework.setAutoPlayState(0),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START")}function getBFAvaila_(){var page="http://www.1x2-cloud-1.com/f1x2games/infrastr_generic-framework/buy-a-feature.config.json";return 0==gameParams.clientName&&(gameParams.clientName="1X2_dev"),$.get(page).then(function(data){var config=data.client,jurisdiction=data.jurisdiction,sites=config[gameParams.clientName.toUpperCase()];buyFeatureAvailable_=!(jurisdiction[loginVars.getRegParams().jurisdiction.toUpperCase()]||sites&&sites[gameParams.site])},function(responseError){buyFeatureAvailable_=!1})}function buyFeatureEnabled_(){return"IntegratedSlots"==ReelConfig.slotEngine?void 0!=communicationManager_.getResumeStatus()&&1==communicationManager_.getResumeStatus().status.hasBuyIn:void 0!=communicationManager_.getResumeStatus()&&0==communicationManager_.getResumeStatus().disableBuyIn}function addGroup(){return 3==phaserVer_?game.add.container():game.add.group()}function setScale(obj,x,y){3==phaserVer_?(obj.scaleX=x,obj.scaleY=null!=y?y:x):(obj.scale.x=x,obj.scale.y=null!=y?y:x)}!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){
if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}function D(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c)}catch(e){}M.set(a,b,c)}else c=void 0;return c}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Fa(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;e--;)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===mb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"===n.type(a)&&!a.nodeType&&!n.isWindow(a)&&!(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function qa(){}function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=va(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);return qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)},h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0;
}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,h,c))>-1;)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;j--;)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=p[f++])&&!b.isPropagationStopped();)b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td,n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c))for(j=0;e=f[j++];)fa.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={},ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f),a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}}))}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);
delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f)for(f={};b=gb.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ib;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n}),!function(){"use strict";var a="undefined"!=typeof window&&void 0!==window.document?window.document:{},b="undefined"!=typeof module&&module.exports,c="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};d<e;d++)if((b=c[d])&&b[1]in a){for(d=0;d<b.length;d++)f[c[0][d]]=b[d];return f}return!1}(),e={change:d.fullscreenchange,error:d.fullscreenerror},f={request:function(b){var e=d.requestFullscreen;b=b||a.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?b[e]():b[e](c?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){a[d.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(b,c){var d=e[b];d&&a.addEventListener(d,c,!1)},off:function(b,c){var d=e[b];d&&a.removeEventListener(d,c,!1)},raw:d};return d?(Object.defineProperties(f,{isFullscreen:{get:function(){return Boolean(a[d.fullscreenElement])}},element:{enumerable:!0,get:function(){return a[d.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(a[d.fullscreenEnabled])}}}),void(b?module.exports=f:window.screenfull=f)):void(b?module.exports=!1:window.screenfull=!1)}();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(Animation,SimpleTimeline,TweenLite){var _slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_applyCycle=function(vars,targets,i){var p,val,alt=vars.cycle;for(p in alt)val=alt[p],vars[p]="function"==typeof val?val(i,targets[i]):val[i%val.length];delete vars.cycle},TweenMax=function(target,duration,vars){TweenLite.call(this,target,duration,vars),this._cycle=0,this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=TweenMax.prototype.render},_tinyNum=1e-10,TweenLiteInternals=TweenLite._internals,_isSelector=TweenLiteInternals.isSelector,_isArray=TweenLiteInternals.isArray,p=TweenMax.prototype=TweenLite.to({},.1,{}),_blankArray=[];TweenMax.version="2.0.1",p.constructor=TweenMax,p.kill()._gc=!1,TweenMax.killTweensOf=TweenMax.killDelayedCallsTo=TweenLite.killTweensOf,TweenMax.getTweensOf=TweenLite.getTweensOf,TweenMax.lagSmoothing=TweenLite.lagSmoothing,TweenMax.ticker=TweenLite.ticker,TweenMax.render=TweenLite.render,p.invalidate=function(){return this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),TweenLite.prototype.invalidate.call(this)},p.updateTo=function(vars,resetDuration){var p,curRatio=this.ratio,immediate=this.vars.immediateRender||vars.immediateRender;resetDuration&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(p in vars)this.vars[p]=vars[p];if(this._initted||immediate)if(resetDuration)this._initted=!1,immediate&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&TweenLite._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var prevTime=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(prevTime,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||immediate)for(var endValue,inv=1/(1-curRatio),pt=this._firstPT;pt;)endValue=pt.s+pt.c,pt.c*=inv,pt.s=endValue-pt.c,pt=pt._next;return this},p.render=function(time,suppressEvents,force){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var isComplete,callback,pt,cycleDuration,r,type,pow,rawPrevTime,yoyoEase,totalDur=this._dirty?this.totalDuration():this._totalDuration,prevTime=this._time,prevTotalTime=this._totalTime,prevCycle=this._cycle,duration=this._duration,prevRawPrevTime=this._rawPrevTime;if(time>=totalDur-1e-7&&time>=0?(this._totalTime=totalDur,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(isComplete=!0,callback="onComplete",force=force||this._timeline.autoRemoveChildren),0===duration&&(this._initted||!this.vars.lazy||force)&&(this._startTime===this._timeline._duration&&(time=0),(prevRawPrevTime<0||time<=0&&time>=-1e-7||prevRawPrevTime===_tinyNum&&"isPause"!==this.data)&&prevRawPrevTime!==time&&(force=!0,prevRawPrevTime>_tinyNum&&(callback="onReverseComplete")),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)):time<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==prevTotalTime||0===duration&&prevRawPrevTime>0)&&(callback="onReverseComplete",isComplete=this._reversed),time<0&&(this._active=!1,0===duration&&(this._initted||!this.vars.lazy||force)&&(prevRawPrevTime>=0&&(force=!0),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)),this._initted||(force=!0)):(this._totalTime=this._time=time,0!==this._repeat&&(cycleDuration=duration+this._repeatDelay,this._cycle=this._totalTime/cycleDuration>>0,0!==this._cycle&&this._cycle===this._totalTime/cycleDuration&&prevTotalTime<=time&&this._cycle--,this._time=this._totalTime-this._cycle*cycleDuration,this._yoyo&&0!==(1&this._cycle)&&(this._time=duration-this._time,yoyoEase=this._yoyoEase||this.vars.yoyoEase,yoyoEase&&(this._yoyoEase||(yoyoEase!==!0||this._initted?this._yoyoEase=yoyoEase=yoyoEase===!0?this._ease:yoyoEase instanceof Ease?yoyoEase:Ease.map[yoyoEase]:(yoyoEase=this.vars.ease,this._yoyoEase=yoyoEase=yoyoEase?yoyoEase instanceof Ease?yoyoEase:"function"==typeof yoyoEase?new Ease(yoyoEase,this.vars.easeParams):Ease.map[yoyoEase]||TweenLite.defaultEase:TweenLite.defaultEase)),this.ratio=yoyoEase?1-yoyoEase.getRatio((duration-this._time)/duration):0)),this._time>duration?this._time=duration:this._time<0&&(this._time=0)),this._easeType&&!yoyoEase?(r=this._time/duration,type=this._easeType,pow=this._easePower,(1===type||3===type&&r>=.5)&&(r=1-r),3===type&&(r*=2),1===pow?r*=r:2===pow?r*=r*r:3===pow?r*=r*r*r:4===pow&&(r*=r*r*r*r),1===type?this.ratio=1-r:2===type?this.ratio=r:this._time/duration<.5?this.ratio=r/2:this.ratio=1-r/2):yoyoEase||(this.ratio=this._ease.getRatio(this._time/duration))),prevTime===this._time&&!force&&prevCycle===this._cycle)return void(prevTotalTime!==this._totalTime&&this._onUpdate&&(suppressEvents||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!force&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=prevTime,this._totalTime=prevTotalTime,this._rawPrevTime=prevRawPrevTime,this._cycle=prevCycle,TweenLiteInternals.lazyTweens.push(this),void(this._lazy=[time,suppressEvents]);!this._time||isComplete||yoyoEase?isComplete&&this._ease._calcEnd&&!yoyoEase&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/duration)}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==prevTime&&time>=0&&(this._active=!0),0===prevTotalTime&&(2===this._initted&&time>0&&this._init(),this._startAt&&(time>=0?this._startAt.render(time,!0,force):callback||(callback="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==duration||suppressEvents||this._callback("onStart"))),pt=this._firstPT;pt;)pt.f?pt.t[pt.p](pt.c*this.ratio+pt.s):pt.t[pt.p]=pt.c*this.ratio+pt.s,pt=pt._next;this._onUpdate&&(time<0&&this._startAt&&this._startTime&&this._startAt.render(time,!0,force),suppressEvents||(this._totalTime!==prevTotalTime||callback)&&this._callback("onUpdate")),this._cycle!==prevCycle&&(suppressEvents||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),callback&&(this._gc&&!force||(time<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(time,!0,force),isComplete&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback),0===duration&&this._rawPrevTime===_tinyNum&&rawPrevTime!==_tinyNum&&(this._rawPrevTime=0)))},TweenMax.to=function(target,duration,vars){return new TweenMax(target,duration,vars)},TweenMax.from=function(target,duration,vars){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,new TweenMax(target,duration,vars)},TweenMax.fromTo=function(target,duration,fromVars,toVars){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,new TweenMax(target,duration,toVars)},TweenMax.staggerTo=TweenMax.allTo=function(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){stagger=stagger||0;var l,copy,i,p,delay=0,a=[],finalComplete=function(){vars.onComplete&&vars.onComplete.apply(vars.onCompleteScope||this,arguments),onCompleteAll.apply(onCompleteAllScope||vars.callbackScope||this,onCompleteAllParams||_blankArray)},cycle=vars.cycle,fromCycle=vars.startAt&&vars.startAt.cycle;for(_isArray(targets)||("string"==typeof targets&&(targets=TweenLite.selector(targets)||targets),_isSelector(targets)&&(targets=_slice(targets))),targets=targets||[],stagger<0&&(targets=_slice(targets),targets.reverse(),stagger*=-1),l=targets.length-1,i=0;i<=l;i++){copy={};for(p in vars)copy[p]=vars[p];if(cycle&&(_applyCycle(copy,targets,i),null!=copy.duration&&(duration=copy.duration,delete copy.duration)),fromCycle){fromCycle=copy.startAt={};for(p in vars.startAt)fromCycle[p]=vars.startAt[p];_applyCycle(copy.startAt,targets,i)}copy.delay=delay+(copy.delay||0),i===l&&onCompleteAll&&(copy.onComplete=finalComplete),a[i]=new TweenMax(targets[i],duration,copy),delay+=stagger}return a},TweenMax.staggerFrom=TweenMax.allFrom=function(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,TweenMax.staggerTo(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},TweenMax.staggerFromTo=TweenMax.allFromTo=function(targets,duration,fromVars,toVars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,TweenMax.staggerTo(targets,duration,toVars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},TweenMax.delayedCall=function(delay,callback,params,scope,useFrames){return new TweenMax(callback,0,{delay:delay,onComplete:callback,onCompleteParams:params,callbackScope:scope,onReverseComplete:callback,onReverseCompleteParams:params,immediateRender:!1,useFrames:useFrames,overwrite:0})},TweenMax.set=function(target,vars){return new TweenMax(target,0,vars)},TweenMax.isTweening=function(target){return TweenLite.getTweensOf(target,!0).length>0};var _getChildrenOf=function(timeline,includeTimelines){for(var a=[],cnt=0,tween=timeline._first;tween;)tween instanceof TweenLite?a[cnt++]=tween:(includeTimelines&&(a[cnt++]=tween),
a=a.concat(_getChildrenOf(tween,includeTimelines)),cnt=a.length),tween=tween._next;return a},getAllTweens=TweenMax.getAllTweens=function(includeTimelines){return _getChildrenOf(Animation._rootTimeline,includeTimelines).concat(_getChildrenOf(Animation._rootFramesTimeline,includeTimelines))};TweenMax.killAll=function(complete,tweens,delayedCalls,timelines){null==tweens&&(tweens=!0),null==delayedCalls&&(delayedCalls=!0);var isDC,tween,i,a=getAllTweens(0!=timelines),l=a.length,allTrue=tweens&&delayedCalls&&timelines;for(i=0;i<l;i++)tween=a[i],(allTrue||tween instanceof SimpleTimeline||(isDC=tween.target===tween.vars.onComplete)&&delayedCalls||tweens&&!isDC)&&(complete?tween.totalTime(tween._reversed?0:tween.totalDuration()):tween._enabled(!1,!1))},TweenMax.killChildTweensOf=function(parent,complete){if(null!=parent){var a,curParent,p,i,l,tl=TweenLiteInternals.tweenLookup;if("string"==typeof parent&&(parent=TweenLite.selector(parent)||parent),_isSelector(parent)&&(parent=_slice(parent)),_isArray(parent))for(i=parent.length;--i>-1;)TweenMax.killChildTweensOf(parent[i],complete);else{a=[];for(p in tl)for(curParent=tl[p].target.parentNode;curParent;)curParent===parent&&(a=a.concat(tl[p].tweens)),curParent=curParent.parentNode;for(l=a.length,i=0;i<l;i++)complete&&a[i].totalTime(a[i].totalDuration()),a[i]._enabled(!1,!1)}}};var _changePause=function(pause,tweens,delayedCalls,timelines){tweens=tweens!==!1,delayedCalls=delayedCalls!==!1,timelines=timelines!==!1;for(var isDC,tween,a=getAllTweens(timelines),allTrue=tweens&&delayedCalls&&timelines,i=a.length;--i>-1;)tween=a[i],(allTrue||tween instanceof SimpleTimeline||(isDC=tween.target===tween.vars.onComplete)&&delayedCalls||tweens&&!isDC)&&tween.paused(pause)};return TweenMax.pauseAll=function(tweens,delayedCalls,timelines){_changePause(!0,tweens,delayedCalls,timelines)},TweenMax.resumeAll=function(tweens,delayedCalls,timelines){_changePause(!1,tweens,delayedCalls,timelines)},TweenMax.globalTimeScale=function(value){var tl=Animation._rootTimeline,t=TweenLite.ticker.time;return arguments.length?(value=value||_tinyNum,tl._startTime=t-(t-tl._startTime)*tl._timeScale/value,tl=Animation._rootFramesTimeline,t=TweenLite.ticker.frame,tl._startTime=t-(t-tl._startTime)*tl._timeScale/value,tl._timeScale=Animation._rootTimeline._timeScale=value,value):tl._timeScale},p.progress=function(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-value:value)+this._cycle*(this._duration+this._repeatDelay),suppressEvents):this._time/this.duration()},p.totalProgress=function(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this._totalTime/this.totalDuration()},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),value>this._duration&&(value=this._duration),this._yoyo&&0!==(1&this._cycle)?value=this._duration-value+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(value+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(value,suppressEvents)):this._time},p.duration=function(value){return arguments.length?Animation.prototype.duration.call(this,value):this._duration},p.totalDuration=function(value){return arguments.length?this._repeat===-1?this:this.duration((value-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},p.repeat=function(value){return arguments.length?(this._repeat=value,this._uncache(!0)):this._repeat},p.repeatDelay=function(value){return arguments.length?(this._repeatDelay=value,this._uncache(!0)):this._repeatDelay},p.yoyo=function(value){return arguments.length?(this._yoyo=value,this):this._yoyo},TweenMax},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(Animation,SimpleTimeline,TweenLite){var TimelineLite=function(vars){SimpleTimeline.call(this,vars),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var val,p,v=this.vars;for(p in v)val=v[p],_isArray(val)&&val.join("").indexOf("{self}")!==-1&&(v[p]=this._swapSelfInParams(val));_isArray(v.tweens)&&this.add(v.tweens,0,v.align,v.stagger)},_tinyNum=1e-10,TweenLiteInternals=TweenLite._internals,_internals=TimelineLite._internals={},_isSelector=TweenLiteInternals.isSelector,_isArray=TweenLiteInternals.isArray,_lazyTweens=TweenLiteInternals.lazyTweens,_lazyRender=TweenLiteInternals.lazyRender,_globals=_gsScope._gsDefine.globals,_copy=function(vars){var p,copy={};for(p in vars)copy[p]=vars[p];return copy},_applyCycle=function(vars,targets,i){var p,val,alt=vars.cycle;for(p in alt)val=alt[p],vars[p]="function"==typeof val?val(i,targets[i]):val[i%val.length];delete vars.cycle},_pauseCallback=_internals.pauseCallback=function(){},_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},p=TimelineLite.prototype=new SimpleTimeline;return TimelineLite.version="2.0.1",p.constructor=TimelineLite,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(target,duration,vars,position){var Engine=vars.repeat&&_globals.TweenMax||TweenLite;return duration?this.add(new Engine(target,duration,vars),position):this.set(target,vars,position)},p.from=function(target,duration,vars,position){return this.add((vars.repeat&&_globals.TweenMax||TweenLite).from(target,duration,vars),position)},p.fromTo=function(target,duration,fromVars,toVars,position){var Engine=toVars.repeat&&_globals.TweenMax||TweenLite;return duration?this.add(Engine.fromTo(target,duration,fromVars,toVars),position):this.set(target,toVars,position)},p.staggerTo=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){var copy,i,tl=new TimelineLite({onComplete:onCompleteAll,onCompleteParams:onCompleteAllParams,callbackScope:onCompleteAllScope,smoothChildTiming:this.smoothChildTiming}),cycle=vars.cycle;for("string"==typeof targets&&(targets=TweenLite.selector(targets)||targets),targets=targets||[],_isSelector(targets)&&(targets=_slice(targets)),stagger=stagger||0,stagger<0&&(targets=_slice(targets),targets.reverse(),stagger*=-1),i=0;i<targets.length;i++)copy=_copy(vars),copy.startAt&&(copy.startAt=_copy(copy.startAt),copy.startAt.cycle&&_applyCycle(copy.startAt,targets,i)),cycle&&(_applyCycle(copy,targets,i),null!=copy.duration&&(duration=copy.duration,delete copy.duration)),tl.to(targets[i],duration,copy,i*stagger);return this.add(tl,position)},p.staggerFrom=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return vars.immediateRender=0!=vars.immediateRender,vars.runBackwards=!0,this.staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.staggerFromTo=function(targets,duration,fromVars,toVars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,this.staggerTo(targets,duration,toVars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.call=function(callback,params,scope,position){return this.add(TweenLite.delayedCall(0,callback,params,scope),position)},p.set=function(target,vars,position){return position=this._parseTimeOrLabel(position,0,!0),null==vars.immediateRender&&(vars.immediateRender=position===this._time&&!this._paused),this.add(new TweenLite(target,0,vars),position)},TimelineLite.exportRoot=function(vars,ignoreDelayedCalls){vars=vars||{},null==vars.smoothChildTiming&&(vars.smoothChildTiming=!0);var hasNegativeStart,time,tween,next,tl=new TimelineLite(vars),root=tl._timeline;for(null==ignoreDelayedCalls&&(ignoreDelayedCalls=!0),root._remove(tl,!0),tl._startTime=0,tl._rawPrevTime=tl._time=tl._totalTime=root._time,tween=root._first;tween;)next=tween._next,ignoreDelayedCalls&&tween instanceof TweenLite&&tween.target===tween.vars.onComplete||(time=tween._startTime-tween._delay,time<0&&(hasNegativeStart=1),tl.add(tween,time)),tween=next;return root.add(tl,0),hasNegativeStart&&tl.totalDuration(),tl},p.add=function(value,position,align,stagger){var curTime,l,i,child,tl,beforeRawTime;if("number"!=typeof position&&(position=this._parseTimeOrLabel(position,0,!0,value)),!(value instanceof Animation)){if(value instanceof Array||value&&value.push&&_isArray(value)){for(align=align||"normal",stagger=stagger||0,curTime=position,l=value.length,i=0;i<l;i++)_isArray(child=value[i])&&(child=new TimelineLite({tweens:child})),this.add(child,curTime),"string"!=typeof child&&"function"!=typeof child&&("sequence"===align?curTime=child._startTime+child.totalDuration()/child._timeScale:"start"===align&&(child._startTime-=child.delay())),curTime+=stagger;return this._uncache(!0)}if("string"==typeof value)return this.addLabel(value,position);if("function"!=typeof value)throw"Cannot add "+value+" into the timeline; it is not a tween, timeline, function, or string.";value=TweenLite.delayedCall(0,value)}if(SimpleTimeline.prototype.add.call(this,value,position),value._time&&value.render((this.rawTime()-value._startTime)*value._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(tl=this,beforeRawTime=tl.rawTime()>value._startTime;tl._timeline;)beforeRawTime&&tl._timeline.smoothChildTiming?tl.totalTime(tl._totalTime,!0):tl._gc&&tl._enabled(!0,!1),tl=tl._timeline;return this},p.remove=function(value){if(value instanceof Animation){this._remove(value,!1);var tl=value._timeline=value.vars.useFrames?Animation._rootFramesTimeline:Animation._rootTimeline;return value._startTime=(value._paused?value._pauseTime:tl._time)-(value._reversed?value.totalDuration()-value._totalTime:value._totalTime)/value._timeScale,this}if(value instanceof Array||value&&value.push&&_isArray(value)){for(var i=value.length;--i>-1;)this.remove(value[i]);return this}return"string"==typeof value?this.removeLabel(value):this.kill(null,value)},p._remove=function(tween,skipDisable){SimpleTimeline.prototype._remove.call(this,tween,skipDisable);var last=this._last;return last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(value,offsetOrLabel){return this.add(value,this._parseTimeOrLabel(null,offsetOrLabel,!0,value))},p.insert=p.insertMultiple=function(value,position,align,stagger){return this.add(value,position||0,align,stagger)},p.appendMultiple=function(tweens,offsetOrLabel,align,stagger){return this.add(tweens,this._parseTimeOrLabel(null,offsetOrLabel,!0,tweens),align,stagger)},p.addLabel=function(label,position){return this._labels[label]=this._parseTimeOrLabel(position),this},p.addPause=function(position,callback,params,scope){var t=TweenLite.delayedCall(0,_pauseCallback,params,scope||this);return t.vars.onComplete=t.vars.onReverseComplete=callback,t.data="isPause",this._hasPause=!0,this.add(t,position)},p.removeLabel=function(label){return delete this._labels[label],this},p.getLabelTime=function(label){return null!=this._labels[label]?this._labels[label]:-1},p._parseTimeOrLabel=function(timeOrLabel,offsetOrLabel,appendIfAbsent,ignore){var clippedDuration,i;if(ignore instanceof Animation&&ignore.timeline===this)this.remove(ignore);else if(ignore&&(ignore instanceof Array||ignore.push&&_isArray(ignore)))for(i=ignore.length;--i>-1;)ignore[i]instanceof Animation&&ignore[i].timeline===this&&this.remove(ignore[i]);if(clippedDuration="number"!=typeof timeOrLabel||offsetOrLabel?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof offsetOrLabel)return this._parseTimeOrLabel(offsetOrLabel,appendIfAbsent&&"number"==typeof timeOrLabel&&null==this._labels[offsetOrLabel]?timeOrLabel-clippedDuration:0,appendIfAbsent);if(offsetOrLabel=offsetOrLabel||0,"string"!=typeof timeOrLabel||!isNaN(timeOrLabel)&&null==this._labels[timeOrLabel])null==timeOrLabel&&(timeOrLabel=clippedDuration);else{if(i=timeOrLabel.indexOf("="),i===-1)return null==this._labels[timeOrLabel]?appendIfAbsent?this._labels[timeOrLabel]=clippedDuration+offsetOrLabel:offsetOrLabel:this._labels[timeOrLabel]+offsetOrLabel;offsetOrLabel=parseInt(timeOrLabel.charAt(i-1)+"1",10)*Number(timeOrLabel.substr(i+1)),timeOrLabel=i>1?this._parseTimeOrLabel(timeOrLabel.substr(0,i-1),0,appendIfAbsent):clippedDuration}return Number(timeOrLabel)+offsetOrLabel},p.seek=function(position,suppressEvents){return this.totalTime("number"==typeof position?position:this._parseTimeOrLabel(position),suppressEvents!==!1)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(position,suppressEvents){return this.play(position,suppressEvents)},p.gotoAndStop=function(position,suppressEvents){return this.pause(position,suppressEvents)},p.render=function(time,suppressEvents,force){this._gc&&this._enabled(!0,!1);var tween,isComplete,next,callback,internalForce,pauseTween,curTime,prevTime=this._time,totalDur=this._dirty?this.totalDuration():this._totalDuration,prevStart=this._startTime,prevTimeScale=this._timeScale,prevPaused=this._paused;if(prevTime!==this._time&&(time+=this._time-prevTime),time>=totalDur-1e-7&&time>=0)this._totalTime=this._time=totalDur,this._reversed||this._hasPausedChild()||(isComplete=!0,callback="onComplete",internalForce=!!this._timeline.autoRemoveChildren,0===this._duration&&(time<=0&&time>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===_tinyNum)&&this._rawPrevTime!==time&&this._first&&(internalForce=!0,this._rawPrevTime>_tinyNum&&(callback="onReverseComplete"))),this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,time=totalDur+1e-4;else if(time<1e-7)if(this._totalTime=this._time=0,(0!==prevTime||0===this._duration&&this._rawPrevTime!==_tinyNum&&(this._rawPrevTime>0||time<0&&this._rawPrevTime>=0))&&(callback="onReverseComplete",isComplete=this._reversed),time<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(internalForce=isComplete=!0,callback="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(internalForce=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,0===time&&isComplete)for(tween=this._first;tween&&0===tween._startTime;)tween._duration||(isComplete=!1),tween=tween._next;time=0,this._initted||(internalForce=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!suppressEvents){if(time>=prevTime)for(tween=this._first;tween&&tween._startTime<=time&&!pauseTween;)tween._duration||"isPause"!==tween.data||tween.ratio||0===tween._startTime&&0===this._rawPrevTime||(pauseTween=tween),tween=tween._next;else for(tween=this._last;tween&&tween._startTime>=time&&!pauseTween;)tween._duration||"isPause"===tween.data&&tween._rawPrevTime>0&&(pauseTween=tween),tween=tween._prev;pauseTween&&(this._time=time=pauseTween._startTime,this._totalTime=time+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=time}if(this._time!==prevTime&&this._first||force||internalForce||pauseTween){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==prevTime&&time>0&&(this._active=!0),0===prevTime&&this.vars.onStart&&(0===this._time&&this._duration||suppressEvents||this._callback("onStart")),curTime=this._time,curTime>=prevTime)for(tween=this._first;tween&&(next=tween._next,curTime===this._time&&(!this._paused||prevPaused));)(tween._active||tween._startTime<=curTime&&!tween._paused&&!tween._gc)&&(pauseTween===tween&&this.pause(),tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;else for(tween=this._last;tween&&(next=tween._prev,curTime===this._time&&(!this._paused||prevPaused));){if(tween._active||tween._startTime<=prevTime&&!tween._paused&&!tween._gc){if(pauseTween===tween){for(pauseTween=tween._prev;pauseTween&&pauseTween.endTime()>this._time;)pauseTween.render(pauseTween._reversed?pauseTween.totalDuration()-(time-pauseTween._startTime)*pauseTween._timeScale:(time-pauseTween._startTime)*pauseTween._timeScale,suppressEvents,force),pauseTween=pauseTween._prev;pauseTween=null,this.pause()}tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)}tween=next}this._onUpdate&&(suppressEvents||(_lazyTweens.length&&_lazyRender(),this._callback("onUpdate"))),callback&&(this._gc||prevStart!==this._startTime&&prevTimeScale===this._timeScale||(0===this._time||totalDur>=this.totalDuration())&&(isComplete&&(_lazyTweens.length&&_lazyRender(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback)))}},p._hasPausedChild=function(){for(var tween=this._first;tween;){if(tween._paused||tween instanceof TimelineLite&&tween._hasPausedChild())return!0;tween=tween._next}return!1},p.getChildren=function(nested,tweens,timelines,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||-9999999999;for(var a=[],tween=this._first,cnt=0;tween;)tween._startTime<ignoreBeforeTime||(tween instanceof TweenLite?tweens!==!1&&(a[cnt++]=tween):(timelines!==!1&&(a[cnt++]=tween),nested!==!1&&(a=a.concat(tween.getChildren(!0,tweens,timelines)),cnt=a.length))),tween=tween._next;return a},p.getTweensOf=function(target,nested){var tweens,i,disabled=this._gc,a=[],cnt=0;for(disabled&&this._enabled(!0,!0),tweens=TweenLite.getTweensOf(target),i=tweens.length;--i>-1;)(tweens[i].timeline===this||nested&&this._contains(tweens[i]))&&(a[cnt++]=tweens[i]);return disabled&&this._enabled(!1,!0),a},p.recent=function(){return this._recent},p._contains=function(tween){for(var tl=tween.timeline;tl;){if(tl===this)return!0;tl=tl.timeline}return!1},p.shiftChildren=function(amount,adjustLabels,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||0;for(var p,tween=this._first,labels=this._labels;tween;)tween._startTime>=ignoreBeforeTime&&(tween._startTime+=amount),tween=tween._next;if(adjustLabels)for(p in labels)labels[p]>=ignoreBeforeTime&&(labels[p]+=amount);return this._uncache(!0)},p._kill=function(vars,target){if(!vars&&!target)return this._enabled(!1,!1);for(var tweens=target?this.getTweensOf(target):this.getChildren(!0,!0,!1),i=tweens.length,changed=!1;--i>-1;)tweens[i]._kill(vars,target)&&(changed=!0);return changed},p.clear=function(labels){var tweens=this.getChildren(!1,!0,!0),i=tweens.length;for(this._time=this._totalTime=0;--i>-1;)tweens[i]._enabled(!1,!1);return labels!==!1&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var tween=this._first;tween;)tween.invalidate(),tween=tween._next;return Animation.prototype.invalidate.call(this)},p._enabled=function(enabled,ignoreTimeline){if(enabled===this._gc)for(var tween=this._first;tween;)tween._enabled(enabled,!0),tween=tween._next;return SimpleTimeline.prototype._enabled.call(this,enabled,ignoreTimeline)},p.totalTime=function(time,suppressEvents,uncapped){this._forcingPlayhead=!0;var val=Animation.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,val},p.duration=function(value){return arguments.length?(0!==this.duration()&&0!==value&&this.timeScale(this._duration/value),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(value){if(!arguments.length){if(this._dirty){for(var prev,end,max=0,tween=this._last,prevStart=999999999999;tween;)prev=tween._prev,tween._dirty&&tween.totalDuration(),tween._startTime>prevStart&&this._sortChildren&&!tween._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(tween,tween._startTime-tween._delay),this._calculatingDuration=0):prevStart=tween._startTime,tween._startTime<0&&!tween._paused&&(max-=tween._startTime,this._timeline.smoothChildTiming&&(this._startTime+=tween._startTime/this._timeScale,this._time-=tween._startTime,this._totalTime-=tween._startTime,this._rawPrevTime-=tween._startTime),this.shiftChildren(-tween._startTime,!1,-9999999999),prevStart=0),end=tween._startTime+tween._totalDuration/tween._timeScale,end>max&&(max=end),tween=prev;this._duration=this._totalDuration=max,this._dirty=!1}return this._totalDuration}return value&&this.totalDuration()?this.timeScale(this._totalDuration/value):this},p.paused=function(value){if(!value)for(var tween=this._first,time=this._time;tween;)tween._startTime===time&&"isPause"===tween.data&&(tween._rawPrevTime=0),tween=tween._next;return Animation.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var tl=this._timeline;tl._timeline;)tl=tl._timeline;return tl===Animation._rootFramesTimeline},p.rawTime=function(wrapRepeats){return wrapRepeats&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(wrapRepeats)-this._startTime)*this._timeScale},TimelineLite},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(TimelineLite,TweenLite,Ease){var TimelineMax=function(vars){TimelineLite.call(this,vars),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},_tinyNum=1e-10,TweenLiteInternals=TweenLite._internals,_lazyTweens=TweenLiteInternals.lazyTweens,_lazyRender=TweenLiteInternals.lazyRender,_globals=_gsScope._gsDefine.globals,_easeNone=new Ease(null,null,1,0),p=TimelineMax.prototype=new TimelineLite;return p.constructor=TimelineMax,p.kill()._gc=!1,TimelineMax.version="2.0.1",p.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),TimelineLite.prototype.invalidate.call(this)},p.addCallback=function(callback,position,params,scope){return this.add(TweenLite.delayedCall(0,callback,params,scope),position)},p.removeCallback=function(callback,position){if(callback)if(null==position)this._kill(null,callback);else for(var a=this.getTweensOf(callback,!1),i=a.length,time=this._parseTimeOrLabel(position);--i>-1;)a[i]._startTime===time&&a[i]._enabled(!1,!1);return this},p.removePause=function(position){return this.removeCallback(TimelineLite._internals.pauseCallback,position)},p.tweenTo=function(position,vars){vars=vars||{};var duration,p,t,copy={ease:_easeNone,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},Engine=vars.repeat&&_globals.TweenMax||TweenLite;for(p in vars)copy[p]=vars[p];return copy.time=this._parseTimeOrLabel(position),duration=Math.abs(Number(copy.time)-this._time)/this._timeScale||.001,t=new Engine(this,duration,copy),copy.onStart=function(){t.target.paused(!0),t.vars.time===t.target.time()||duration!==t.duration()||t.isFromTo||t.duration(Math.abs(t.vars.time-t.target.time())/t.target._timeScale).render(t.time(),!0,!0),vars.onStart&&vars.onStart.apply(vars.onStartScope||vars.callbackScope||t,vars.onStartParams||[])},t},p.tweenFromTo=function(fromPosition,toPosition,vars){vars=vars||{},fromPosition=this._parseTimeOrLabel(fromPosition),vars.startAt={onComplete:this.seek,onCompleteParams:[fromPosition],callbackScope:this},vars.immediateRender=vars.immediateRender!==!1;var t=this.tweenTo(toPosition,vars);return t.isFromTo=1,t.duration(Math.abs(t.vars.time-fromPosition)/this._timeScale||.001)},p.render=function(time,suppressEvents,force){this._gc&&this._enabled(!0,!1);var tween,isComplete,next,callback,internalForce,cycleDuration,pauseTween,curTime,prevTime=this._time,totalDur=this._dirty?this.totalDuration():this._totalDuration,dur=this._duration,prevTotalTime=this._totalTime,prevStart=this._startTime,prevTimeScale=this._timeScale,prevRawPrevTime=this._rawPrevTime,prevPaused=this._paused,prevCycle=this._cycle;if(prevTime!==this._time&&(time+=this._time-prevTime),time>=totalDur-1e-7&&time>=0)this._locked||(this._totalTime=totalDur,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(isComplete=!0,callback="onComplete",internalForce=!!this._timeline.autoRemoveChildren,0===this._duration&&(time<=0&&time>=-1e-7||prevRawPrevTime<0||prevRawPrevTime===_tinyNum)&&prevRawPrevTime!==time&&this._first&&(internalForce=!0,prevRawPrevTime>_tinyNum&&(callback="onReverseComplete"))),this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,this._yoyo&&0!==(1&this._cycle)?this._time=time=0:(this._time=dur,time=dur+1e-4);else if(time<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==prevTime||0===dur&&prevRawPrevTime!==_tinyNum&&(prevRawPrevTime>0||time<0&&prevRawPrevTime>=0)&&!this._locked)&&(callback="onReverseComplete",isComplete=this._reversed),time<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(internalForce=isComplete=!0,callback="onReverseComplete"):prevRawPrevTime>=0&&this._first&&(internalForce=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=dur||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,0===time&&isComplete)for(tween=this._first;tween&&0===tween._startTime;)tween._duration||(isComplete=!1),tween=tween._next;time=0,this._initted||(internalForce=!0)}else if(0===dur&&prevRawPrevTime<0&&(internalForce=!0),this._time=this._rawPrevTime=time,this._locked||(this._totalTime=time,0!==this._repeat&&(cycleDuration=dur+this._repeatDelay,this._cycle=this._totalTime/cycleDuration>>0,0!==this._cycle&&this._cycle===this._totalTime/cycleDuration&&prevTotalTime<=time&&this._cycle--,this._time=this._totalTime-this._cycle*cycleDuration,this._yoyo&&0!==(1&this._cycle)&&(this._time=dur-this._time),this._time>dur?(this._time=dur,time=dur+1e-4):this._time<0?this._time=time=0:time=this._time)),this._hasPause&&!this._forcingPlayhead&&!suppressEvents){if(time=this._time,time>=prevTime||this._repeat&&prevCycle!==this._cycle)for(tween=this._first;tween&&tween._startTime<=time&&!pauseTween;)tween._duration||"isPause"!==tween.data||tween.ratio||0===tween._startTime&&0===this._rawPrevTime||(pauseTween=tween),tween=tween._next;else for(tween=this._last;tween&&tween._startTime>=time&&!pauseTween;)tween._duration||"isPause"===tween.data&&tween._rawPrevTime>0&&(pauseTween=tween),tween=tween._prev;pauseTween&&pauseTween._startTime<dur&&(this._time=time=pauseTween._startTime,this._totalTime=time+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==prevCycle&&!this._locked){var backwards=this._yoyo&&0!==(1&prevCycle),wrap=backwards===(this._yoyo&&0!==(1&this._cycle)),recTotalTime=this._totalTime,recCycle=this._cycle,recRawPrevTime=this._rawPrevTime,recTime=this._time;if(this._totalTime=prevCycle*dur,this._cycle<prevCycle?backwards=!backwards:this._totalTime+=dur,this._time=prevTime,this._rawPrevTime=0===dur?prevRawPrevTime-1e-4:prevRawPrevTime,this._cycle=prevCycle,this._locked=!0,prevTime=backwards?0:dur,this.render(prevTime,suppressEvents,0===dur),suppressEvents||this._gc||this.vars.onRepeat&&(this._cycle=recCycle,this._locked=!1,this._callback("onRepeat")),prevTime!==this._time)return;if(wrap&&(this._cycle=prevCycle,this._locked=!0,prevTime=backwards?dur+1e-4:-1e-4,this.render(prevTime,!0,!1)),this._locked=!1,this._paused&&!prevPaused)return;this._time=recTime,this._totalTime=recTotalTime,this._cycle=recCycle,this._rawPrevTime=recRawPrevTime}if(!(this._time!==prevTime&&this._first||force||internalForce||pauseTween))return void(prevTotalTime!==this._totalTime&&this._onUpdate&&(suppressEvents||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==prevTotalTime&&time>0&&(this._active=!0),0===prevTotalTime&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||suppressEvents||this._callback("onStart")),curTime=this._time,curTime>=prevTime)for(tween=this._first;tween&&(next=tween._next,curTime===this._time&&(!this._paused||prevPaused));)(tween._active||tween._startTime<=this._time&&!tween._paused&&!tween._gc)&&(pauseTween===tween&&this.pause(),tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;else for(tween=this._last;tween&&(next=tween._prev,curTime===this._time&&(!this._paused||prevPaused));){if(tween._active||tween._startTime<=prevTime&&!tween._paused&&!tween._gc){if(pauseTween===tween){for(pauseTween=tween._prev;pauseTween&&pauseTween.endTime()>this._time;)pauseTween.render(pauseTween._reversed?pauseTween.totalDuration()-(time-pauseTween._startTime)*pauseTween._timeScale:(time-pauseTween._startTime)*pauseTween._timeScale,suppressEvents,force),pauseTween=pauseTween._prev;pauseTween=null,this.pause()}tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)}tween=next}this._onUpdate&&(suppressEvents||(_lazyTweens.length&&_lazyRender(),this._callback("onUpdate"))),callback&&(this._locked||this._gc||prevStart!==this._startTime&&prevTimeScale===this._timeScale||(0===this._time||totalDur>=this.totalDuration())&&(isComplete&&(_lazyTweens.length&&_lazyRender(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback)))},p.getActive=function(nested,tweens,timelines){null==nested&&(nested=!0),null==tweens&&(tweens=!0),null==timelines&&(timelines=!1);var i,tween,a=[],all=this.getChildren(nested,tweens,timelines),cnt=0,l=all.length;for(i=0;i<l;i++)tween=all[i],tween.isActive()&&(a[cnt++]=tween);return a},p.getLabelAfter=function(time){time||0!==time&&(time=this._time);var i,labels=this.getLabelsArray(),l=labels.length;for(i=0;i<l;i++)if(labels[i].time>time)return labels[i].name;return null},p.getLabelBefore=function(time){null==time&&(time=this._time);for(var labels=this.getLabelsArray(),i=labels.length;--i>-1;)if(labels[i].time<time)return labels[i].name;return null},p.getLabelsArray=function(){var p,a=[],cnt=0;for(p in this._labels)a[cnt++]={time:this._labels[p],name:p};return a.sort(function(a,b){return a.time-b.time}),a},p.invalidate=function(){return this._locked=!1,TimelineLite.prototype.invalidate.call(this)},p.progress=function(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-value:value)+this._cycle*(this._duration+this._repeatDelay),suppressEvents):this._time/this.duration()||0},p.totalProgress=function(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this._totalTime/this.totalDuration()||0},p.totalDuration=function(value){return arguments.length?this._repeat!==-1&&value?this.timeScale(this.totalDuration()/value):this:(this._dirty&&(TimelineLite.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),value>this._duration&&(value=this._duration),this._yoyo&&0!==(1&this._cycle)?value=this._duration-value+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(value+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(value,suppressEvents)):this._time},p.repeat=function(value){return arguments.length?(this._repeat=value,this._uncache(!0)):this._repeat},p.repeatDelay=function(value){return arguments.length?(this._repeatDelay=value,this._uncache(!0)):this._repeatDelay},p.yoyo=function(value){
return arguments.length?(this._yoyo=value,this):this._yoyo},p.currentLabel=function(value){return arguments.length?this.seek(value,!0):this.getLabelBefore(this._time+1e-8)},TimelineMax},!0),function(){var _RAD2DEG=180/Math.PI,_r1=[],_r2=[],_r3=[],_corProps={},_globals=_gsScope._gsDefine.globals,Segment=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},_correlate=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",cubicToQuadratic=function(a,b,c,d){var q1={a:a},q2={},q3={},q4={c:d},mab=(a+b)/2,mbc=(b+c)/2,mcd=(c+d)/2,mabc=(mab+mbc)/2,mbcd=(mbc+mcd)/2,m8=(mbcd-mabc)/8;return q1.b=mab+(a-mab)/4,q2.b=mabc+m8,q1.c=q2.a=(q1.b+q2.b)/2,q2.c=q3.a=(mabc+mbcd)/2,q3.b=mbcd-m8,q4.b=mcd+(d-mcd)/4,q3.c=q4.a=(q3.b+q4.b)/2,[q1,q2,q3,q4]},_calculateControlPoints=function(a,curviness,quad,basic,correlate){var i,p1,p2,p3,seg,m1,m2,mm,cp2,qb,r1,r2,tl,l=a.length-1,ii=0,cp1=a[0].a;for(i=0;i<l;i++)seg=a[ii],p1=seg.a,p2=seg.d,p3=a[ii+1].d,correlate?(r1=_r1[i],r2=_r2[i],tl=(r2+r1)*curviness*.25/(basic?.5:_r3[i]||.5),m1=p2-(p2-p1)*(basic?.5*curviness:0!==r1?tl/r1:0),m2=p2+(p3-p2)*(basic?.5*curviness:0!==r2?tl/r2:0),mm=p2-(m1+((m2-m1)*(3*r1/(r1+r2)+.5)/4||0))):(m1=p2-(p2-p1)*curviness*.5,m2=p2+(p3-p2)*curviness*.5,mm=p2-(m1+m2)/2),m1+=mm,m2+=mm,seg.c=cp2=m1,0!==i?seg.b=cp1:seg.b=cp1=seg.a+.6*(seg.c-seg.a),seg.da=p2-p1,seg.ca=cp2-p1,seg.ba=cp1-p1,quad?(qb=cubicToQuadratic(p1,cp1,cp2,p2),a.splice(ii,1,qb[0],qb[1],qb[2],qb[3]),ii+=4):ii++,cp1=m2;seg=a[ii],seg.b=cp1,seg.c=cp1+.4*(seg.d-cp1),seg.da=seg.d-seg.a,seg.ca=seg.c-seg.a,seg.ba=cp1-seg.a,quad&&(qb=cubicToQuadratic(seg.a,cp1,seg.c,seg.d),a.splice(ii,1,qb[0],qb[1],qb[2],qb[3]))},_parseAnchors=function(values,p,correlate,prepend){var l,i,p1,p2,p3,tmp,a=[];if(prepend)for(values=[prepend].concat(values),i=values.length;--i>-1;)"string"==typeof(tmp=values[i][p])&&"="===tmp.charAt(1)&&(values[i][p]=prepend[p]+Number(tmp.charAt(0)+tmp.substr(2)));if(l=values.length-2,l<0)return a[0]=new Segment(values[0][p],0,0,values[0][p]),a;for(i=0;i<l;i++)p1=values[i][p],p2=values[i+1][p],a[i]=new Segment(p1,0,0,p2),correlate&&(p3=values[i+2][p],_r1[i]=(_r1[i]||0)+(p2-p1)*(p2-p1),_r2[i]=(_r2[i]||0)+(p3-p2)*(p3-p2));return a[i]=new Segment(values[i][p],0,0,values[i+1][p]),a},bezierThrough=function(values,curviness,quadratic,basic,correlate,prepend){var i,p,a,j,r,l,seamless,last,obj={},props=[],first=prepend||values[0];correlate="string"==typeof correlate?","+correlate+",":_correlate,null==curviness&&(curviness=1);for(p in values[0])props.push(p);if(values.length>1){for(last=values[values.length-1],seamless=!0,i=props.length;--i>-1;)if(p=props[i],Math.abs(first[p]-last[p])>.05){seamless=!1;break}seamless&&(values=values.concat(),prepend&&values.unshift(prepend),values.push(values[1]),prepend=values[values.length-3])}for(_r1.length=_r2.length=_r3.length=0,i=props.length;--i>-1;)p=props[i],_corProps[p]=correlate.indexOf(","+p+",")!==-1,obj[p]=_parseAnchors(values,p,_corProps[p],prepend);for(i=_r1.length;--i>-1;)_r1[i]=Math.sqrt(_r1[i]),_r2[i]=Math.sqrt(_r2[i]);if(!basic){for(i=props.length;--i>-1;)if(_corProps[p])for(a=obj[props[i]],l=a.length-1,j=0;j<l;j++)r=a[j+1].da/_r2[j]+a[j].da/_r1[j]||0,_r3[j]=(_r3[j]||0)+r*r;for(i=_r3.length;--i>-1;)_r3[i]=Math.sqrt(_r3[i])}for(i=props.length,j=quadratic?4:1;--i>-1;)p=props[i],a=obj[p],_calculateControlPoints(a,curviness,quadratic,basic,_corProps[p]),seamless&&(a.splice(0,j),a.splice(a.length-j,j));return obj},_parseBezierData=function(values,type,prepend){type=type||"soft";var a,b,c,d,cur,i,j,l,p,cnt,tmp,obj={},inc="cubic"===type?3:2,soft="soft"===type,props=[];if(soft&&prepend&&(values=[prepend].concat(values)),null==values||values.length<inc+1)throw"invalid Bezier data";for(p in values[0])props.push(p);for(i=props.length;--i>-1;){for(p=props[i],obj[p]=cur=[],cnt=0,l=values.length,j=0;j<l;j++)a=null==prepend?values[j][p]:"string"==typeof(tmp=values[j][p])&&"="===tmp.charAt(1)?prepend[p]+Number(tmp.charAt(0)+tmp.substr(2)):Number(tmp),soft&&j>1&&j<l-1&&(cur[cnt++]=(a+cur[cnt-2])/2),cur[cnt++]=a;for(l=cnt-inc+1,cnt=0,j=0;j<l;j+=inc)a=cur[j],b=cur[j+1],c=cur[j+2],d=2===inc?0:cur[j+3],cur[cnt++]=tmp=3===inc?new Segment(a,b,c,d):new Segment(a,(2*b+a)/3,(2*b+c)/3,c);cur.length=cnt}return obj},_addCubicLengths=function(a,steps,resolution){for(var d,d1,s,da,ca,ba,p,i,inv,bez,index,inc=1/resolution,j=a.length;--j>-1;)for(bez=a[j],s=bez.a,da=bez.d-s,ca=bez.c-s,ba=bez.b-s,d=d1=0,i=1;i<=resolution;i++)p=inc*i,inv=1-p,d=d1-(d1=(p*p*da+3*inv*(p*ca+inv*ba))*p),index=j*resolution+i-1,steps[index]=(steps[index]||0)+d*d},_parseLengthData=function(obj,resolution){resolution=resolution>>0||6;var p,i,l,index,a=[],lengths=[],d=0,total=0,threshold=resolution-1,segments=[],curLS=[];for(p in obj)_addCubicLengths(obj[p],a,resolution);for(l=a.length,i=0;i<l;i++)d+=Math.sqrt(a[i]),index=i%resolution,curLS[index]=d,index===threshold&&(total+=d,index=i/resolution>>0,segments[index]=curLS,lengths[index]=total,d=0,curLS=[]);return{length:total,lengths:lengths,segments:segments}},BezierPlugin=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(target,vars,tween){this._target=target,vars instanceof Array&&(vars={values:vars}),this._func={},this._mod={},this._props=[],this._timeRes=null==vars.timeResolution?6:parseInt(vars.timeResolution,10);var p,isFunc,i,j,prepend,values=vars.values||[],first={},second=values[0],autoRotate=vars.autoRotate||tween.vars.orientToBezier;this._autoRotate=autoRotate?autoRotate instanceof Array?autoRotate:[["x","y","rotation",autoRotate===!0?0:Number(autoRotate)||0]]:null;for(p in second)this._props.push(p);for(i=this._props.length;--i>-1;)p=this._props[i],this._overwriteProps.push(p),isFunc=this._func[p]="function"==typeof target[p],first[p]=isFunc?target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]():parseFloat(target[p]),prepend||first[p]!==values[0][p]&&(prepend=first);if(this._beziers="cubic"!==vars.type&&"quadratic"!==vars.type&&"soft"!==vars.type?bezierThrough(values,isNaN(vars.curviness)?1:vars.curviness,!1,"thruBasic"===vars.type,vars.correlate,prepend):_parseBezierData(values,vars.type,first),this._segCount=this._beziers[p].length,this._timeRes){var ld=_parseLengthData(this._beziers,this._timeRes);this._length=ld.length,this._lengths=ld.lengths,this._segments=ld.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(autoRotate=this._autoRotate)for(this._initialRotations=[],autoRotate[0]instanceof Array||(this._autoRotate=autoRotate=[autoRotate]),i=autoRotate.length;--i>-1;){for(j=0;j<3;j++)p=autoRotate[i][j],this._func[p]="function"==typeof target[p]&&target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)];p=autoRotate[i][2],this._initialRotations[i]=(this._func[p]?this._func[p].call(this._target):this._target[p])||0,this._overwriteProps.push(p)}return this._startRatio=tween.vars.runBackwards?1:0,!0},set:function(v){var curIndex,inv,i,p,b,t,val,l,lengths,curSeg,segments=this._segCount,func=this._func,target=this._target,notStart=v!==this._startRatio;if(this._timeRes){if(lengths=this._lengths,curSeg=this._curSeg,v*=this._length,i=this._li,v>this._l2&&i<segments-1){for(l=segments-1;i<l&&(this._l2=lengths[++i])<=v;);this._l1=lengths[i-1],this._li=i,this._curSeg=curSeg=this._segments[i],this._s2=curSeg[this._s1=this._si=0]}else if(v<this._l1&&i>0){for(;i>0&&(this._l1=lengths[--i])>=v;);0===i&&v<this._l1?this._l1=0:i++,this._l2=lengths[i],this._li=i,this._curSeg=curSeg=this._segments[i],this._s1=curSeg[(this._si=curSeg.length-1)-1]||0,this._s2=curSeg[this._si]}if(curIndex=i,v-=this._l1,i=this._si,v>this._s2&&i<curSeg.length-1){for(l=curSeg.length-1;i<l&&(this._s2=curSeg[++i])<=v;);this._s1=curSeg[i-1],this._si=i}else if(v<this._s1&&i>0){for(;i>0&&(this._s1=curSeg[--i])>=v;);0===i&&v<this._s1?this._s1=0:i++,this._s2=curSeg[i],this._si=i}t=(i+(v-this._s1)/(this._s2-this._s1))*this._prec||0}else curIndex=v<0?0:v>=1?segments-1:segments*v>>0,t=(v-curIndex*(1/segments))*segments;for(inv=1-t,i=this._props.length;--i>-1;)p=this._props[i],b=this._beziers[p][curIndex],val=(t*t*b.da+3*inv*(t*b.ca+inv*b.ba))*t+b.a,this._mod[p]&&(val=this._mod[p](val,target)),func[p]?target[p](val):target[p]=val;if(this._autoRotate){var b2,x1,y1,x2,y2,add,conv,ar=this._autoRotate;for(i=ar.length;--i>-1;)p=ar[i][2],add=ar[i][3]||0,conv=ar[i][4]===!0?1:_RAD2DEG,b=this._beziers[ar[i][0]],b2=this._beziers[ar[i][1]],b&&b2&&(b=b[curIndex],b2=b2[curIndex],x1=b.a+(b.b-b.a)*t,x2=b.b+(b.c-b.b)*t,x1+=(x2-x1)*t,x2+=(b.c+(b.d-b.c)*t-x2)*t,y1=b2.a+(b2.b-b2.a)*t,y2=b2.b+(b2.c-b2.b)*t,y1+=(y2-y1)*t,y2+=(b2.c+(b2.d-b2.c)*t-y2)*t,val=notStart?Math.atan2(y2-y1,x2-x1)*conv+add:this._initialRotations[i],this._mod[p]&&(val=this._mod[p](val,target)),func[p]?target[p](val):target[p]=val)}}}),p=BezierPlugin.prototype;BezierPlugin.bezierThrough=bezierThrough,BezierPlugin.cubicToQuadratic=cubicToQuadratic,BezierPlugin._autoCSS=!0,BezierPlugin.quadraticToCubic=function(a,b,c){return new Segment(a,(2*b+a)/3,(2*b+c)/3,c)},BezierPlugin._cssRegister=function(){var CSSPlugin=_globals.CSSPlugin;if(CSSPlugin){var _internals=CSSPlugin._internals,_parseToProxy=_internals._parseToProxy,_setPluginRatio=_internals._setPluginRatio,CSSPropTween=_internals.CSSPropTween;_internals._registerComplexSpecialProp("bezier",{parser:function(t,e,prop,cssp,pt,plugin){e instanceof Array&&(e={values:e}),plugin=new BezierPlugin;var i,p,data,values=e.values,l=values.length-1,pluginValues=[],v={};if(l<0)return pt;for(i=0;i<=l;i++)data=_parseToProxy(t,values[i],cssp,pt,plugin,l!==i),pluginValues[i]=data.end;for(p in e)v[p]=e[p];return v.values=pluginValues,pt=new CSSPropTween(t,"bezier",0,0,data.pt,2),pt.data=data,pt.plugin=plugin,pt.setRatio=_setPluginRatio,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(i=v.autoRotate===!0?0:Number(v.autoRotate),v.autoRotate=null!=data.end.left?[["left","top","rotation",i,!1]]:null!=data.end.x&&[["x","y","rotation",i,!1]]),v.autoRotate&&(cssp._transform||cssp._enableTransforms(!1),data.autoRotate=cssp._target._gsTransform,data.proxy.rotation=data.autoRotate.rotation||0,cssp._overwriteProps.push("rotation")),plugin._onInitTween(data.proxy,v,cssp._tween),pt}})}},p._mod=function(lookup){for(var val,op=this._overwriteProps,i=op.length;--i>-1;)val=lookup[op[i]],val&&"function"==typeof val&&(this._mod[op[i]]=val)},p._kill=function(lookup){var p,i,a=this._props;for(p in this._beziers)if(p in lookup)for(delete this._beziers[p],delete this._func[p],i=a.length;--i>-1;)a[i]===p&&a.splice(i,1);if(a=this._autoRotate)for(i=a.length;--i>-1;)lookup[a[i][2]]&&a.splice(i,1);return this._super._kill.call(this,lookup)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(TweenPlugin,TweenLite){var _hasPriority,_suffixMap,_cs,_overwriteProps,CSSPlugin=function(){TweenPlugin.call(this,"css"),this._overwriteProps.length=0,this.setRatio=CSSPlugin.prototype.setRatio},_globals=_gsScope._gsDefine.globals,_specialProps={},p=CSSPlugin.prototype=new TweenPlugin("css");p.constructor=CSSPlugin,CSSPlugin.version="1.20.5",CSSPlugin.API=2,CSSPlugin.defaultTransformPerspective=0,CSSPlugin.defaultSkewType="compensated",CSSPlugin.defaultSmoothOrigin=!0,p="px",CSSPlugin.suffixMap={top:p,right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var _autoRound,_reqSafariFix,_isSafari,_isFirefox,_isSafariLT6,_ieVers,_target,_index,_numExp=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_relNumExp=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_valuesExp=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_NaNExp=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,_suffixExp=/(?:\d|\-|\+|=|#|\.)*/g,_opacityExp=/opacity *= *([^)]*)/i,_opacityValExp=/opacity:([^;]*)/i,_alphaFilterExp=/alpha\(opacity *=.+?\)/i,_rgbhslExp=/^(rgb|hsl)/,_capsExp=/([A-Z])/g,_camelExp=/-([a-z])/gi,_urlExp=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,_camelFunc=function(s,g){return g.toUpperCase()},_horizExp=/(?:Left|Right|Width)/i,_ieGetMatrixExp=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,_ieSetMatrixExp=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,_commasOutsideParenExp=/,(?=[^\)]*(?:\(|$))/gi,_complexExp=/[\s,\(]/i,_DEG2RAD=Math.PI/180,_RAD2DEG=180/Math.PI,_forcePT={},_dummyElement={style:{}},_doc=_gsScope.document||{createElement:function(){return _dummyElement}},_createElement=function(type,ns){return _doc.createElementNS?_doc.createElementNS(ns||"http://www.w3.org/1999/xhtml",type):_doc.createElement(type)},_tempDiv=_createElement("div"),_tempImg=_createElement("img"),_internals=CSSPlugin._internals={_specialProps:_specialProps},_agent=(_gsScope.navigator||{}).userAgent||"",_supportsOpacity=function(){var i=_agent.indexOf("Android"),a=_createElement("a");return _isSafari=_agent.indexOf("Safari")!==-1&&_agent.indexOf("Chrome")===-1&&(i===-1||parseFloat(_agent.substr(i+8,2))>3),_isSafariLT6=_isSafari&&parseFloat(_agent.substr(_agent.indexOf("Version/")+8,2))<6,_isFirefox=_agent.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_agent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_agent))&&(_ieVers=parseFloat(RegExp.$1)),!!a&&(a.style.cssText="top:1px;opacity:.55;",/^0.55/.test(a.style.opacity))}(),_getIEOpacity=function(v){return _opacityExp.test("string"==typeof v?v:(v.currentStyle?v.currentStyle.filter:v.style.filter)||"")?parseFloat(RegExp.$1)/100:1},_log=function(s){_gsScope.console},_prefixCSS="",_prefix="",_checkPropPrefix=function(p,e){e=e||_tempDiv;var a,i,s=e.style;if(void 0!==s[p])return p;for(p=p.charAt(0).toUpperCase()+p.substr(1),a=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===s[a[i]+p];);return i>=0?(_prefix=3===i?"ms":a[i],_prefixCSS="-"+_prefix.toLowerCase()+"-",_prefix+p):null},_getComputedStyle=("undefined"!=typeof window?window:_doc.defaultView||{getComputedStyle:function(){}}).getComputedStyle,_getStyle=CSSPlugin.getStyle=function(t,p,cs,calc,dflt){var rv;return _supportsOpacity||"opacity"!==p?(!calc&&t.style[p]?rv=t.style[p]:(cs=cs||_getComputedStyle(t))?rv=cs[p]||cs.getPropertyValue(p)||cs.getPropertyValue(p.replace(_capsExp,"-$1").toLowerCase()):t.currentStyle&&(rv=t.currentStyle[p]),null==dflt||rv&&"none"!==rv&&"auto"!==rv&&"auto auto"!==rv?rv:dflt):_getIEOpacity(t)},_convertToPixels=_internals.convertToPixels=function(t,p,v,sfx,recurse){if("px"===sfx||!sfx&&"lineHeight"!==p)return v;if("auto"===sfx||!v)return 0;var pix,cache,time,horiz=_horizExp.test(p),node=t,style=_tempDiv.style,neg=v<0,precise=1===v;if(neg&&(v=-v),precise&&(v*=100),"lineHeight"!==p||sfx)if("%"===sfx&&p.indexOf("border")!==-1)pix=v/100*(horiz?t.clientWidth:t.clientHeight);else{if(style.cssText="border:0 solid red;position:"+_getStyle(t,"position")+";line-height:0;","%"!==sfx&&node.appendChild&&"v"!==sfx.charAt(0)&&"rem"!==sfx)style[horiz?"borderLeftWidth":"borderTopWidth"]=v+sfx;else{if(node=t.parentNode||_doc.body,_getStyle(node,"display").indexOf("flex")!==-1&&(style.position="absolute"),cache=node._gsCache,time=TweenLite.ticker.frame,cache&&horiz&&cache.time===time)return cache.width*v/100;style[horiz?"width":"height"]=v+sfx}node.appendChild(_tempDiv),pix=parseFloat(_tempDiv[horiz?"offsetWidth":"offsetHeight"]),node.removeChild(_tempDiv),horiz&&"%"===sfx&&CSSPlugin.cacheWidths!==!1&&(cache=node._gsCache=node._gsCache||{},cache.time=time,cache.width=pix/v*100),0!==pix||recurse||(pix=_convertToPixels(t,p,v,sfx,!0))}else cache=_getComputedStyle(t).lineHeight,t.style.lineHeight=v,pix=parseFloat(_getComputedStyle(t).lineHeight),t.style.lineHeight=cache;return precise&&(pix/=100),neg?-pix:pix},_calculateOffset=_internals.calculateOffset=function(t,p,cs){if("absolute"!==_getStyle(t,"position",cs))return 0;var dim="left"===p?"Left":"Top",v=_getStyle(t,"margin"+dim,cs);return t["offset"+dim]-(_convertToPixels(t,p,parseFloat(v),v.replace(_suffixExp,""))||0)},_getAllStyles=function(t,cs){var i,tr,p,s={};if(cs=cs||_getComputedStyle(t,null))if(i=cs.length)for(;--i>-1;)p=cs[i],p.indexOf("-transform")!==-1&&_transformPropCSS!==p||(s[p.replace(_camelExp,_camelFunc)]=cs.getPropertyValue(p));else for(i in cs)i.indexOf("Transform")!==-1&&_transformProp!==i||(s[i]=cs[i]);else if(cs=t.currentStyle||t.style)for(i in cs)"string"==typeof i&&void 0===s[i]&&(s[i.replace(_camelExp,_camelFunc)]=cs[i]);return _supportsOpacity||(s.opacity=_getIEOpacity(t)),tr=_getTransform(t,cs,!1),s.rotation=tr.rotation,s.skewX=tr.skewX,s.scaleX=tr.scaleX,s.scaleY=tr.scaleY,s.x=tr.x,s.y=tr.y,_supports3D&&(s.z=tr.z,s.rotationX=tr.rotationX,s.rotationY=tr.rotationY,s.scaleZ=tr.scaleZ),s.filters&&delete s.filters,s},_cssDif=function(t,s1,s2,vars,forceLookup){var val,p,mpt,difs={},style=t.style;for(p in s2)"cssText"!==p&&"length"!==p&&isNaN(p)&&(s1[p]!==(val=s2[p])||forceLookup&&forceLookup[p])&&p.indexOf("Origin")===-1&&("number"!=typeof val&&"string"!=typeof val||(difs[p]="auto"!==val||"left"!==p&&"top"!==p?""!==val&&"auto"!==val&&"none"!==val||"string"!=typeof s1[p]||""===s1[p].replace(_NaNExp,"")?val:0:_calculateOffset(t,p),void 0!==style[p]&&(mpt=new MiniPropTween(style,p,style[p],mpt))));if(vars)for(p in vars)"className"!==p&&(difs[p]=vars[p]);return{difs:difs,firstMPT:mpt}},_dimensions={width:["Left","Right"],height:["Top","Bottom"]},_margins=["marginLeft","marginRight","marginTop","marginBottom"],_getDimension=function(t,p,cs){if("svg"===(t.nodeName+"").toLowerCase())return(cs||_getComputedStyle(t))[p]||0;if(t.getCTM&&_isSVG(t))return t.getBBox()[p]||0;var v=parseFloat("width"===p?t.offsetWidth:t.offsetHeight),a=_dimensions[p],i=a.length;for(cs=cs||_getComputedStyle(t,null);--i>-1;)v-=parseFloat(_getStyle(t,"padding"+a[i],cs,!0))||0,v-=parseFloat(_getStyle(t,"border"+a[i]+"Width",cs,!0))||0;return v},_parsePosition=function(v,recObj){if("contain"===v||"auto"===v||"auto auto"===v)return v+" ";null!=v&&""!==v||(v="0 0");var i,a=v.split(" "),x=v.indexOf("left")!==-1?"0%":v.indexOf("right")!==-1?"100%":a[0],y=v.indexOf("top")!==-1?"0%":v.indexOf("bottom")!==-1?"100%":a[1];if(a.length>3&&!recObj){for(a=v.split(", ").join(",").split(","),v=[],i=0;i<a.length;i++)v.push(_parsePosition(a[i]));return v.join(",")}return null==y?y="center"===x?"50%":"0":"center"===y&&(y="50%"),("center"===x||isNaN(parseFloat(x))&&(x+"").indexOf("=")===-1)&&(x="50%"),v=x+" "+y+(a.length>2?" "+a[2]:""),recObj&&(recObj.oxp=x.indexOf("%")!==-1,recObj.oyp=y.indexOf("%")!==-1,recObj.oxr="="===x.charAt(1),recObj.oyr="="===y.charAt(1),recObj.ox=parseFloat(x.replace(_NaNExp,"")),recObj.oy=parseFloat(y.replace(_NaNExp,"")),recObj.v=v),recObj||v},_parseChange=function(e,b){return"function"==typeof e&&(e=e(_index,_target)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(b)||0},_parseVal=function(v,d){return"function"==typeof v&&(v=v(_index,_target)),null==v?d:"string"==typeof v&&"="===v.charAt(1)?parseInt(v.charAt(0)+"1",10)*parseFloat(v.substr(2))+d:parseFloat(v)||0},_parseAngle=function(v,d,p,directionalEnd){var cap,split,dif,result,isRelative,min=1e-6;return"function"==typeof v&&(v=v(_index,_target)),null==v?result=d:"number"==typeof v?result=v:(cap=360,split=v.split("_"),isRelative="="===v.charAt(1),dif=(isRelative?parseInt(v.charAt(0)+"1",10)*parseFloat(split[0].substr(2)):parseFloat(split[0]))*(v.indexOf("rad")===-1?1:_RAD2DEG)-(isRelative?0:d),split.length&&(directionalEnd&&(directionalEnd[p]=d+dif),v.indexOf("short")!==-1&&(dif%=cap,dif!==dif%(cap/2)&&(dif=dif<0?dif+cap:dif-cap)),v.indexOf("_cw")!==-1&&dif<0?dif=(dif+9999999999*cap)%cap-(dif/cap|0)*cap:v.indexOf("ccw")!==-1&&dif>0&&(dif=(dif-9999999999*cap)%cap-(dif/cap|0)*cap)),result=d+dif),result<min&&result>-min&&(result=0),result},_colorLookup={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},_hue=function(h,m1,m2){return h=h<0?h+1:h>1?h-1:h,255*(6*h<1?m1+(m2-m1)*h*6:h<.5?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1)+.5|0},_parseColor=CSSPlugin.parseColor=function(v,toHSL){var a,r,g,b,h,s,l,max,min,d,wasHSL;if(v)if("number"==typeof v)a=[v>>16,v>>8&255,255&v];else{if(","===v.charAt(v.length-1)&&(v=v.substr(0,v.length-1)),_colorLookup[v])a=_colorLookup[v];else if("#"===v.charAt(0))4===v.length&&(r=v.charAt(1),g=v.charAt(2),b=v.charAt(3),v="#"+r+r+g+g+b+b),v=parseInt(v.substr(1),16),a=[v>>16,v>>8&255,255&v];else if("hsl"===v.substr(0,3))if(a=wasHSL=v.match(_numExp),toHSL){if(v.indexOf("=")!==-1)return v.match(_relNumExp)}else h=Number(a[0])%360/360,s=Number(a[1])/100,l=Number(a[2])/100,g=l<=.5?l*(s+1):l+s-l*s,r=2*l-g,a.length>3&&(a[3]=Number(a[3])),a[0]=_hue(h+1/3,r,g),a[1]=_hue(h,r,g),a[2]=_hue(h-1/3,r,g);else a=v.match(_numExp)||_colorLookup.transparent;a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3]))}else a=_colorLookup.black;return toHSL&&!wasHSL&&(r=a[0]/255,g=a[1]/255,b=a[2]/255,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2,max===min?h=s=0:(d=max-min,s=l>.5?d/(2-max-min):d/(max+min),h=max===r?(g-b)/d+(g<b?6:0):max===g?(b-r)/d+2:(r-g)/d+4,h*=60),a[0]=h+.5|0,a[1]=100*s+.5|0,a[2]=100*l+.5|0),a},_formatColors=function(s,toHSL){var i,color,temp,colors=s.match(_colorExp)||[],charIndex=0,parsed="";if(!colors.length)return s;for(i=0;i<colors.length;i++)color=colors[i],temp=s.substr(charIndex,s.indexOf(color,charIndex)-charIndex),charIndex+=temp.length+color.length,color=_parseColor(color,toHSL),3===color.length&&color.push(1),parsed+=temp+(toHSL?"hsla("+color[0]+","+color[1]+"%,"+color[2]+"%,"+color[3]:"rgba("+color.join(","))+")";return parsed+s.substr(charIndex)},_colorExp="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(p in _colorLookup)_colorExp+="|"+p+"\\b";_colorExp=new RegExp(_colorExp+")","gi"),CSSPlugin.colorStringFilter=function(a){var toHSL,combined=a[0]+" "+a[1];_colorExp.test(combined)&&(toHSL=combined.indexOf("hsl(")!==-1||combined.indexOf("hsla(")!==-1,a[0]=_formatColors(a[0],toHSL),a[1]=_formatColors(a[1],toHSL)),_colorExp.lastIndex=0},TweenLite.defaultStringFilter||(TweenLite.defaultStringFilter=CSSPlugin.colorStringFilter);var _getFormatter=function(dflt,clr,collapsible,multi){if(null==dflt)return function(v){return v};var formatter,dColor=clr?(dflt.match(_colorExp)||[""])[0]:"",dVals=dflt.split(dColor).join("").match(_valuesExp)||[],pfx=dflt.substr(0,dflt.indexOf(dVals[0])),sfx=")"===dflt.charAt(dflt.length-1)?")":"",delim=dflt.indexOf(" ")!==-1?" ":",",numVals=dVals.length,dSfx=numVals>0?dVals[0].replace(_numExp,""):"";return numVals?formatter=clr?function(v){var color,vals,i,a;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(color=(v.match(_colorExp)||[dColor])[0],vals=v.split(color).join("").match(_valuesExp)||[],i=vals.length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return pfx+vals.join(delim)+delim+color+sfx+(v.indexOf("inset")!==-1?" inset":"")}:function(v){var vals,a,i;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(vals=v.match(_valuesExp)||[],i=vals.length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return pfx+vals.join(delim)+sfx}:function(v){return v}},_getEdgeParser=function(props){return props=props.split(","),function(t,e,p,cssp,pt,plugin,vars){var i,a=(e+"").split(" ");for(vars={},i=0;i<4;i++)vars[props[i]]=a[i]=a[i]||a[(i-1)/2>>0];return cssp.parse(t,vars,pt,plugin)}},MiniPropTween=(_internals._setPluginRatio=function(v){this.plugin.setRatio(v);for(var val,pt,i,str,p,d=this.data,proxy=d.proxy,mpt=d.firstMPT,min=1e-6;mpt;)val=proxy[mpt.v],mpt.r?val=mpt.r(val):val<min&&val>-min&&(val=0),mpt.t[mpt.p]=val,mpt=mpt._next;if(d.autoRotate&&(d.autoRotate.rotation=d.mod?d.mod.call(this._tween,proxy.rotation,this.t,this._tween):proxy.rotation),1===v||0===v)for(mpt=d.firstMPT,p=1===v?"e":"b";mpt;){if(pt=mpt.t,pt.type){if(1===pt.type){for(str=pt.xs0+pt.s+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt[p]=str}}else pt[p]=pt.s+pt.xs0;mpt=mpt._next}},function(t,p,v,next,r){this.t=t,this.p=p,this.v=v,this.r=r,next&&(next._prev=this,this._next=next)}),CSSPropTween=(_internals._parseToProxy=function(t,vars,cssp,pt,plugin,shallow){var i,p,xp,mpt,firstPT,bpt=pt,start={},end={},transform=cssp._transform,oldForce=_forcePT;for(cssp._transform=null,_forcePT=vars,pt=firstPT=cssp.parse(t,vars,pt,plugin),_forcePT=oldForce,shallow&&(cssp._transform=transform,bpt&&(bpt._prev=null,bpt._prev&&(bpt._prev._next=null)));pt&&pt!==bpt;){if(pt.type<=1&&(p=pt.p,end[p]=pt.s+pt.c,start[p]=pt.s,shallow||(mpt=new MiniPropTween(pt,"s",p,mpt,pt.r),pt.c=0),1===pt.type))for(i=pt.l;--i>0;)xp="xn"+i,p=pt.p+"_"+xp,end[p]=pt.data[xp],start[p]=pt[xp],shallow||(mpt=new MiniPropTween(pt,xp,p,mpt,pt.rxp[xp]));pt=pt._next}return{proxy:start,end:end,firstMPT:mpt,pt:firstPT}},_internals.CSSPropTween=function(t,p,s,c,next,type,n,r,pr,b,e){this.t=t,this.p=p,this.s=s,this.c=c,this.n=n||p,t instanceof CSSPropTween||_overwriteProps.push(this.n),this.r=r?"function"==typeof r?r:Math.round:r,this.type=type||0,pr&&(this.pr=pr,_hasPriority=!0),this.b=void 0===b?s:b,this.e=void 0===e?s+c:e,next&&(this._next=next,next._prev=this)}),_addNonTweeningNumericPT=function(target,prop,start,end,next,overwriteProp){var pt=new CSSPropTween(target,prop,start,end-start,next,(-1),overwriteProp);return pt.b=start,pt.e=pt.xs0=end,pt},_parseComplex=CSSPlugin.parseComplex=function(t,p,b,e,clrs,dflt,pt,pr,plugin,setRatio){b=b||dflt||"","function"==typeof e&&(e=e(_index,_target)),pt=new CSSPropTween(t,p,0,0,pt,setRatio?2:1,null,(!1),pr,b,e),e+="",clrs&&_colorExp.test(e+b)&&(e=[b,e],CSSPlugin.colorStringFilter(e),b=e[0],e=e[1]);var i,xi,ni,bv,ev,bnums,enums,bn,hasAlpha,temp,cv,str,useHSL,ba=b.split(", ").join(",").split(" "),ea=e.split(", ").join(",").split(" "),l=ba.length,autoRound=_autoRound!==!1;for(e.indexOf(",")===-1&&b.indexOf(",")===-1||((e+b).indexOf("rgb")!==-1||(e+b).indexOf("hsl")!==-1?(ba=ba.join(" ").replace(_commasOutsideParenExp,", ").split(" "),ea=ea.join(" ").replace(_commasOutsideParenExp,", ").split(" ")):(ba=ba.join(" ").split(",").join(", ").split(" "),ea=ea.join(" ").split(",").join(", ").split(" ")),l=ba.length),l!==ea.length&&(ba=(dflt||"").split(" "),l=ba.length),pt.plugin=plugin,pt.setRatio=setRatio,_colorExp.lastIndex=0,i=0;i<l;i++)if(bv=ba[i],ev=ea[i]+"",bn=parseFloat(bv),bn||0===bn)pt.appendXtra("",bn,_parseChange(ev,bn),ev.replace(_relNumExp,""),!(!autoRound||ev.indexOf("px")===-1)&&Math.round,!0);else if(clrs&&_colorExp.test(bv))str=ev.indexOf(")")+1,str=")"+(str?ev.substr(str):""),useHSL=ev.indexOf("hsl")!==-1&&_supportsOpacity,temp=ev,bv=_parseColor(bv,useHSL),ev=_parseColor(ev,useHSL),hasAlpha=bv.length+ev.length>6,hasAlpha&&!_supportsOpacity&&0===ev[3]?(pt["xs"+pt.l]+=pt.l?" transparent":"transparent",pt.e=pt.e.split(ea[i]).join("transparent")):(_supportsOpacity||(hasAlpha=!1),useHSL?pt.appendXtra(temp.substr(0,temp.indexOf("hsl"))+(hasAlpha?"hsla(":"hsl("),bv[0],_parseChange(ev[0],bv[0]),",",!1,!0).appendXtra("",bv[1],_parseChange(ev[1],bv[1]),"%,",!1).appendXtra("",bv[2],_parseChange(ev[2],bv[2]),hasAlpha?"%,":"%"+str,!1):pt.appendXtra(temp.substr(0,temp.indexOf("rgb"))+(hasAlpha?"rgba(":"rgb("),bv[0],ev[0]-bv[0],",",Math.round,!0).appendXtra("",bv[1],ev[1]-bv[1],",",Math.round).appendXtra("",bv[2],ev[2]-bv[2],hasAlpha?",":str,Math.round),hasAlpha&&(bv=bv.length<4?1:bv[3],pt.appendXtra("",bv,(ev.length<4?1:ev[3])-bv,str,!1))),_colorExp.lastIndex=0;else if(bnums=bv.match(_numExp)){if(enums=ev.match(_relNumExp),!enums||enums.length!==bnums.length)return pt;for(ni=0,xi=0;xi<bnums.length;xi++)cv=bnums[xi],temp=bv.indexOf(cv,ni),pt.appendXtra(bv.substr(ni,temp-ni),Number(cv),_parseChange(enums[xi],cv),"",!(!autoRound||"px"!==bv.substr(temp+cv.length,2))&&Math.round,0===xi),ni=temp+cv.length;pt["xs"+pt.l]+=bv.substr(ni)}else pt["xs"+pt.l]+=pt.l||pt["xs"+pt.l]?" "+ev:ev;if(e.indexOf("=")!==-1&&pt.data){for(str=pt.xs0+pt.data.s,i=1;i<pt.l;i++)str+=pt["xs"+i]+pt.data["xn"+i];pt.e=str+pt["xs"+i]}return pt.l||(pt.type=-1,pt.xs0=pt.e),pt.xfirst||pt},i=9;for(p=CSSPropTween.prototype,p.l=p.pr=0;--i>0;)p["xn"+i]=0,p["xs"+i]="";p.xs0="",p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null,p.appendXtra=function(pfx,s,c,sfx,r,pad){var pt=this,l=pt.l;return pt["xs"+l]+=pad&&(l||pt["xs"+l])?" "+pfx:pfx||"",c||0===l||pt.plugin?(pt.l++,pt.type=pt.setRatio?2:1,pt["xs"+pt.l]=sfx||"",l>0?(pt.data["xn"+l]=s+c,pt.rxp["xn"+l]=r,pt["xn"+l]=s,pt.plugin||(pt.xfirst=new CSSPropTween(pt,"xn"+l,s,c,pt.xfirst||pt,0,pt.n,r,pt.pr),pt.xfirst.xs0=0),pt):(pt.data={s:s+c},pt.rxp={},pt.s=s,pt.c=c,pt.r=r,pt)):(pt["xs"+l]+=s+(sfx||""),pt)};var SpecialProp=function(p,options){options=options||{},this.p=options.prefix?_checkPropPrefix(p)||p:p,_specialProps[p]=_specialProps[this.p]=this,this.format=options.formatter||_getFormatter(options.defaultValue,options.color,options.collapsible,options.multi),options.parser&&(this.parse=options.parser),this.clrs=options.color,this.multi=options.multi,this.keyword=options.keyword,this.dflt=options.defaultValue,this.pr=options.priority||0},_registerComplexSpecialProp=_internals._registerComplexSpecialProp=function(p,options,defaults){"object"!=typeof options&&(options={parser:defaults});var i,temp,a=p.split(","),d=options.defaultValue;for(defaults=defaults||[d],i=0;i<a.length;i++)options.prefix=0===i&&options.prefix,options.defaultValue=defaults[i]||d,temp=new SpecialProp(a[i],options)},_registerPluginProp=_internals._registerPluginProp=function(p){if(!_specialProps[p]){var pluginName=p.charAt(0).toUpperCase()+p.substr(1)+"Plugin";_registerComplexSpecialProp(p,{parser:function(t,e,p,cssp,pt,plugin,vars){var pluginClass=_globals.com.greensock.plugins[pluginName];return pluginClass?(pluginClass._cssRegister(),_specialProps[p].parse(t,e,p,cssp,pt,plugin,vars)):(_log("Error: "+pluginName+" js file not loaded."),pt)}})}};p=SpecialProp.prototype,p.parseComplex=function(t,b,e,pt,plugin,setRatio){var i,ba,ea,l,bi,ei,kwd=this.keyword;if(this.multi&&(_commasOutsideParenExp.test(e)||_commasOutsideParenExp.test(b)?(ba=b.replace(_commasOutsideParenExp,"|").split("|"),ea=e.replace(_commasOutsideParenExp,"|").split("|")):kwd&&(ba=[b],ea=[e])),ea){for(l=ea.length>ba.length?ea.length:ba.length,i=0;i<l;i++)b=ba[i]=ba[i]||this.dflt,e=ea[i]=ea[i]||this.dflt,kwd&&(bi=b.indexOf(kwd),ei=e.indexOf(kwd),bi!==ei&&(ei===-1?ba[i]=ba[i].split(kwd).join(""):bi===-1&&(ba[i]+=" "+kwd)));b=ba.join(", "),e=ea.join(", ")}return _parseComplex(t,this.p,b,e,this.clrs,this.dflt,pt,this.pr,plugin,setRatio)},p.parse=function(t,e,p,cssp,pt,plugin,vars){return this.parseComplex(t.style,this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),this.format(e),pt,plugin)},CSSPlugin.registerSpecialProp=function(name,onInitTween,priority){_registerComplexSpecialProp(name,{parser:function(t,e,p,cssp,pt,plugin,vars){var rv=new CSSPropTween(t,p,0,0,pt,2,p,(!1),priority);return rv.plugin=plugin,rv.setRatio=onInitTween(t,e,cssp._tween,p),rv},priority:priority})},CSSPlugin.useSVGTransformAttr=!0;var _useSVGTransformAttr,_transformProps="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),_transformProp=_checkPropPrefix("transform"),_transformPropCSS=_prefixCSS+"transform",_transformOriginProp=_checkPropPrefix("transformOrigin"),_supports3D=null!==_checkPropPrefix("perspective"),Transform=_internals.Transform=function(){
this.perspective=parseFloat(CSSPlugin.defaultTransformPerspective)||0,this.force3D=!(CSSPlugin.defaultForce3D===!1||!_supports3D)&&(CSSPlugin.defaultForce3D||"auto")},_SVGElement=_gsScope.SVGElement,_createSVG=function(type,container,attributes){var p,element=_doc.createElementNS("http://www.w3.org/2000/svg",type),reg=/([a-z])([A-Z])/g;for(p in attributes)element.setAttributeNS(null,p.replace(reg,"$1-$2").toLowerCase(),attributes[p]);return container.appendChild(element),element},_docElement=_doc.documentElement||{},_forceSVGTransformAttr=function(){var svg,rect,width,force=_ieVers||/Android/i.test(_agent)&&!_gsScope.chrome;return _doc.createElementNS&&!force&&(svg=_createSVG("svg",_docElement),rect=_createSVG("rect",svg,{width:100,height:50,x:100}),width=rect.getBoundingClientRect().width,rect.style[_transformOriginProp]="50% 50%",rect.style[_transformProp]="scaleX(0.5)",force=width===rect.getBoundingClientRect().width&&!(_isFirefox&&_supports3D),_docElement.removeChild(svg)),force}(),_parseSVGOrigin=function(e,local,decoratee,absolute,smoothOrigin,skipRecord){var v,x,y,xOrigin,yOrigin,a,b,c,d,tx,ty,determinant,xOriginOld,yOriginOld,tm=e._gsTransform,m=_getMatrix(e,!0);tm&&(xOriginOld=tm.xOrigin,yOriginOld=tm.yOrigin),(!absolute||(v=absolute.split(" ")).length<2)&&(b=e.getBBox(),0===b.x&&0===b.y&&b.width+b.height===0&&(b={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),local=_parsePosition(local).split(" "),v=[(local[0].indexOf("%")!==-1?parseFloat(local[0])/100*b.width:parseFloat(local[0]))+b.x,(local[1].indexOf("%")!==-1?parseFloat(local[1])/100*b.height:parseFloat(local[1]))+b.y]),decoratee.xOrigin=xOrigin=parseFloat(v[0]),decoratee.yOrigin=yOrigin=parseFloat(v[1]),absolute&&m!==_identity2DMatrix&&(a=m[0],b=m[1],c=m[2],d=m[3],tx=m[4],ty=m[5],determinant=a*d-b*c,determinant&&(x=xOrigin*(d/determinant)+yOrigin*(-c/determinant)+(c*ty-d*tx)/determinant,y=xOrigin*(-b/determinant)+yOrigin*(a/determinant)-(a*ty-b*tx)/determinant,xOrigin=decoratee.xOrigin=v[0]=x,yOrigin=decoratee.yOrigin=v[1]=y)),tm&&(skipRecord&&(decoratee.xOffset=tm.xOffset,decoratee.yOffset=tm.yOffset,tm=decoratee),smoothOrigin||smoothOrigin!==!1&&CSSPlugin.defaultSmoothOrigin!==!1?(x=xOrigin-xOriginOld,y=yOrigin-yOriginOld,tm.xOffset+=x*m[0]+y*m[2]-x,tm.yOffset+=x*m[1]+y*m[3]-y):tm.xOffset=tm.yOffset=0),skipRecord||e.setAttribute("data-svg-origin",v.join(" "))},_getBBoxHack=function(swapIfPossible){var bbox,svg=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),oldParent=this.parentNode,oldSibling=this.nextSibling,oldCSS=this.style.cssText;if(_docElement.appendChild(svg),svg.appendChild(this),this.style.display="block",swapIfPossible)try{bbox=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=_getBBoxHack}catch(e){}else this._originalGetBBox&&(bbox=this._originalGetBBox());return oldSibling?oldParent.insertBefore(this,oldSibling):oldParent.appendChild(this),_docElement.removeChild(svg),this.style.cssText=oldCSS,bbox},_getBBox=function(e){try{return e.getBBox()}catch(error){return _getBBoxHack.call(e,!0)}},_isSVG=function(e){return!(!_SVGElement||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!_getBBox(e))},_identity2DMatrix=[1,0,0,1,0,0],_getMatrix=function(e,force2D){var isDefault,s,m,n,dec,none,tm=e._gsTransform||new Transform,rnd=1e5,style=e.style;if(_transformProp?s=_getStyle(e,_transformPropCSS,null,!0):e.currentStyle&&(s=e.currentStyle.filter.match(_ieGetMatrixExp),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),tm.x||0,tm.y||0].join(","):""),isDefault=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,!_transformProp||!(none=!_getComputedStyle(e)||"none"===_getComputedStyle(e).display)&&e.parentNode||(none&&(n=style.display,style.display="block"),e.parentNode||(dec=1,_docElement.appendChild(e)),s=_getStyle(e,_transformPropCSS,null,!0),isDefault=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,n?style.display=n:none&&_removeProp(style,"display"),dec&&_docElement.removeChild(e)),(tm.svg||e.getCTM&&_isSVG(e))&&(isDefault&&(style[_transformProp]+"").indexOf("matrix")!==-1&&(s=style[_transformProp],isDefault=0),m=e.getAttribute("transform"),isDefault&&m&&(m=e.transform.baseVal.consolidate().matrix,s="matrix("+m.a+","+m.b+","+m.c+","+m.d+","+m.e+","+m.f+")",isDefault=0)),isDefault)return _identity2DMatrix;for(m=(s||"").match(_numExp)||[],i=m.length;--i>-1;)n=Number(m[i]),m[i]=(dec=n-(n|=0))?(dec*rnd+(dec<0?-.5:.5)|0)/rnd+n:n;return force2D&&m.length>6?[m[0],m[1],m[4],m[5],m[12],m[13]]:m},_getTransform=_internals.getTransform=function(t,cs,rec,parse){if(t._gsTransform&&rec&&!parse)return t._gsTransform;var m,i,scaleX,scaleY,rotation,skewX,tm=rec?t._gsTransform||new Transform:new Transform,invX=tm.scaleX<0,min=2e-5,rnd=1e5,zOrigin=_supports3D?parseFloat(_getStyle(t,_transformOriginProp,cs,!1,"0 0 0").split(" ")[2])||tm.zOrigin||0:0,defaultTransformPerspective=parseFloat(CSSPlugin.defaultTransformPerspective)||0;if(tm.svg=!(!t.getCTM||!_isSVG(t)),tm.svg&&(_parseSVGOrigin(t,_getStyle(t,_transformOriginProp,cs,!1,"50% 50%")+"",tm,t.getAttribute("data-svg-origin")),_useSVGTransformAttr=CSSPlugin.useSVGTransformAttr||_forceSVGTransformAttr),m=_getMatrix(t),m!==_identity2DMatrix){if(16===m.length){var t1,t2,t3,cos,sin,a11=m[0],a21=m[1],a31=m[2],a41=m[3],a12=m[4],a22=m[5],a32=m[6],a42=m[7],a13=m[8],a23=m[9],a33=m[10],a14=m[12],a24=m[13],a34=m[14],a43=m[11],angle=Math.atan2(a32,a33);tm.zOrigin&&(a34=-tm.zOrigin,a14=a13*a34-m[12],a24=a23*a34-m[13],a34=a33*a34+tm.zOrigin-m[14]),tm.rotationX=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a12*cos+a13*sin,t2=a22*cos+a23*sin,t3=a32*cos+a33*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33=a32*-sin+a33*cos,a43=a42*-sin+a43*cos,a12=t1,a22=t2,a32=t3),angle=Math.atan2(-a31,a33),tm.rotationY=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a11*cos-a13*sin,t2=a21*cos-a23*sin,t3=a31*cos-a33*sin,a23=a21*sin+a23*cos,a33=a31*sin+a33*cos,a43=a41*sin+a43*cos,a11=t1,a21=t2,a31=t3),angle=Math.atan2(a21,a11),tm.rotation=angle*_RAD2DEG,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),t1=a11*cos+a21*sin,t2=a12*cos+a22*sin,t3=a13*cos+a23*sin,a21=a21*cos-a11*sin,a22=a22*cos-a12*sin,a23=a23*cos-a13*sin,a11=t1,a12=t2,a13=t3),tm.rotationX&&Math.abs(tm.rotationX)+Math.abs(tm.rotation)>359.9&&(tm.rotationX=tm.rotation=0,tm.rotationY=180-tm.rotationY),angle=Math.atan2(a12,a22),tm.scaleX=(Math.sqrt(a11*a11+a21*a21+a31*a31)*rnd+.5|0)/rnd,tm.scaleY=(Math.sqrt(a22*a22+a32*a32)*rnd+.5|0)/rnd,tm.scaleZ=(Math.sqrt(a13*a13+a23*a23+a33*a33)*rnd+.5|0)/rnd,a11/=tm.scaleX,a12/=tm.scaleY,a21/=tm.scaleX,a22/=tm.scaleY,Math.abs(angle)>min?(tm.skewX=angle*_RAD2DEG,a12=0,"simple"!==tm.skewType&&(tm.scaleY*=1/Math.cos(angle))):tm.skewX=0,tm.perspective=a43?1/(a43<0?-a43:a43):0,tm.x=a14,tm.y=a24,tm.z=a34,tm.svg&&(tm.x-=tm.xOrigin-(tm.xOrigin*a11-tm.yOrigin*a12),tm.y-=tm.yOrigin-(tm.yOrigin*a21-tm.xOrigin*a22))}else if(!_supports3D||parse||!m.length||tm.x!==m[4]||tm.y!==m[5]||!tm.rotationX&&!tm.rotationY){var k=m.length>=6,a=k?m[0]:1,b=m[1]||0,c=m[2]||0,d=k?m[3]:1;tm.x=m[4]||0,tm.y=m[5]||0,scaleX=Math.sqrt(a*a+b*b),scaleY=Math.sqrt(d*d+c*c),rotation=a||b?Math.atan2(b,a)*_RAD2DEG:tm.rotation||0,skewX=c||d?Math.atan2(c,d)*_RAD2DEG+rotation:tm.skewX||0,tm.scaleX=scaleX,tm.scaleY=scaleY,tm.rotation=rotation,tm.skewX=skewX,_supports3D&&(tm.rotationX=tm.rotationY=tm.z=0,tm.perspective=defaultTransformPerspective,tm.scaleZ=1),tm.svg&&(tm.x-=tm.xOrigin-(tm.xOrigin*a+tm.yOrigin*c),tm.y-=tm.yOrigin-(tm.xOrigin*b+tm.yOrigin*d))}Math.abs(tm.skewX)>90&&Math.abs(tm.skewX)<270&&(invX?(tm.scaleX*=-1,tm.skewX+=tm.rotation<=0?180:-180,tm.rotation+=tm.rotation<=0?180:-180):(tm.scaleY*=-1,tm.skewX+=tm.skewX<=0?180:-180)),tm.zOrigin=zOrigin;for(i in tm)tm[i]<min&&tm[i]>-min&&(tm[i]=0)}return rec&&(t._gsTransform=tm,tm.svg&&(_useSVGTransformAttr&&t.style[_transformProp]?TweenLite.delayedCall(.001,function(){_removeProp(t.style,_transformProp)}):!_useSVGTransformAttr&&t.getAttribute("transform")&&TweenLite.delayedCall(.001,function(){t.removeAttribute("transform")}))),tm},_setIETransformRatio=function(v){var filters,val,t=this.data,ang=-t.rotation*_DEG2RAD,skew=ang+t.skewX*_DEG2RAD,rnd=1e5,a=(Math.cos(ang)*t.scaleX*rnd|0)/rnd,b=(Math.sin(ang)*t.scaleX*rnd|0)/rnd,c=(Math.sin(skew)*-t.scaleY*rnd|0)/rnd,d=(Math.cos(skew)*t.scaleY*rnd|0)/rnd,style=this.t.style,cs=this.t.currentStyle;if(cs){val=b,b=-c,c=-val,filters=cs.filter,style.filter="";var dx,dy,w=this.t.offsetWidth,h=this.t.offsetHeight,clip="absolute"!==cs.position,m="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+b+", M21="+c+", M22="+d,ox=t.x+w*t.xPercent/100,oy=t.y+h*t.yPercent/100;if(null!=t.ox&&(dx=(t.oxp?w*t.ox*.01:t.ox)-w/2,dy=(t.oyp?h*t.oy*.01:t.oy)-h/2,ox+=dx-(dx*a+dy*b),oy+=dy-(dx*c+dy*d)),clip?(dx=w/2,dy=h/2,m+=", Dx="+(dx-(dx*a+dy*b)+ox)+", Dy="+(dy-(dx*c+dy*d)+oy)+")"):m+=", sizingMethod='auto expand')",filters.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?style.filter=filters.replace(_ieSetMatrixExp,m):style.filter=m+" "+filters,0!==v&&1!==v||1===a&&0===b&&0===c&&1===d&&(clip&&m.indexOf("Dx=0, Dy=0")===-1||_opacityExp.test(filters)&&100!==parseFloat(RegExp.$1)||filters.indexOf(filters.indexOf("Alpha"))===-1&&style.removeAttribute("filter")),!clip){var marg,prop,dif,mult=_ieVers<8?1:-1;for(dx=t.ieOffsetX||0,dy=t.ieOffsetY||0,t.ieOffsetX=Math.round((w-((a<0?-a:a)*w+(b<0?-b:b)*h))/2+ox),t.ieOffsetY=Math.round((h-((d<0?-d:d)*h+(c<0?-c:c)*w))/2+oy),i=0;i<4;i++)prop=_margins[i],marg=cs[prop],val=marg.indexOf("px")!==-1?parseFloat(marg):_convertToPixels(this.t,prop,parseFloat(marg),marg.replace(_suffixExp,""))||0,dif=val!==t[prop]?i<2?-t.ieOffsetX:-t.ieOffsetY:i<2?dx-t.ieOffsetX:dy-t.ieOffsetY,style[prop]=(t[prop]=Math.round(val-dif*(0===i||2===i?1:mult)))+"px"}}},_setTransformRatio=_internals.set3DTransformRatio=_internals.setTransformRatio=function(v){var t1,a11,a12,a13,a21,a22,a23,a31,a32,a33,a41,a42,a43,zOrigin,min,cos,sin,t2,transform,comma,zero,skew,rnd,t=this.data,style=this.t.style,angle=t.rotation,rotationX=t.rotationX,rotationY=t.rotationY,sx=t.scaleX,sy=t.scaleY,sz=t.scaleZ,x=t.x,y=t.y,z=t.z,isSVG=t.svg,perspective=t.perspective,force3D=t.force3D,skewY=t.skewY,skewX=t.skewX;if(skewY&&(skewX+=skewY,angle+=skewY),((1===v||0===v)&&"auto"===force3D&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!force3D)&&!z&&!perspective&&!rotationY&&!rotationX&&1===sz||_useSVGTransformAttr&&isSVG||!_supports3D)return void(angle||skewX||isSVG?(angle*=_DEG2RAD,skew=skewX*_DEG2RAD,rnd=1e5,a11=Math.cos(angle)*sx,a21=Math.sin(angle)*sx,a12=Math.sin(angle-skew)*-sy,a22=Math.cos(angle-skew)*sy,skew&&"simple"===t.skewType&&(t1=Math.tan(skew-skewY*_DEG2RAD),t1=Math.sqrt(1+t1*t1),a12*=t1,a22*=t1,skewY&&(t1=Math.tan(skewY*_DEG2RAD),t1=Math.sqrt(1+t1*t1),a11*=t1,a21*=t1)),isSVG&&(x+=t.xOrigin-(t.xOrigin*a11+t.yOrigin*a12)+t.xOffset,y+=t.yOrigin-(t.xOrigin*a21+t.yOrigin*a22)+t.yOffset,_useSVGTransformAttr&&(t.xPercent||t.yPercent)&&(min=this.t.getBBox(),x+=.01*t.xPercent*min.width,y+=.01*t.yPercent*min.height),min=1e-6,x<min&&x>-min&&(x=0),y<min&&y>-min&&(y=0)),transform=(a11*rnd|0)/rnd+","+(a21*rnd|0)/rnd+","+(a12*rnd|0)/rnd+","+(a22*rnd|0)/rnd+","+x+","+y+")",isSVG&&_useSVGTransformAttr?this.t.setAttribute("transform","matrix("+transform):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+transform):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+sx+",0,0,"+sy+","+x+","+y+")");if(_isFirefox&&(min=1e-4,sx<min&&sx>-min&&(sx=sz=2e-5),sy<min&&sy>-min&&(sy=sz=2e-5),!perspective||t.z||t.rotationX||t.rotationY||(perspective=0)),angle||skewX)angle*=_DEG2RAD,cos=a11=Math.cos(angle),sin=a21=Math.sin(angle),skewX&&(angle-=skewX*_DEG2RAD,cos=Math.cos(angle),sin=Math.sin(angle),"simple"===t.skewType&&(t1=Math.tan((skewX-skewY)*_DEG2RAD),t1=Math.sqrt(1+t1*t1),cos*=t1,sin*=t1,t.skewY&&(t1=Math.tan(skewY*_DEG2RAD),t1=Math.sqrt(1+t1*t1),a11*=t1,a21*=t1))),a12=-sin,a22=cos;else{if(!(rotationY||rotationX||1!==sz||perspective||isSVG))return void(style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) translate3d(":"translate3d(")+x+"px,"+y+"px,"+z+"px)"+(1!==sx||1!==sy?" scale("+sx+","+sy+")":""));a11=a22=1,a12=a21=0}a33=1,a13=a23=a31=a32=a41=a42=0,a43=perspective?-1/perspective:0,zOrigin=t.zOrigin,min=1e-6,comma=",",zero="0",angle=rotationY*_DEG2RAD,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),a31=-sin,a41=a43*-sin,a13=a11*sin,a23=a21*sin,a33=cos,a43*=cos,a11*=cos,a21*=cos),angle=rotationX*_DEG2RAD,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),t1=a12*cos+a13*sin,t2=a22*cos+a23*sin,a32=a33*sin,a42=a43*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33*=cos,a43*=cos,a12=t1,a22=t2),1!==sz&&(a13*=sz,a23*=sz,a33*=sz,a43*=sz),1!==sy&&(a12*=sy,a22*=sy,a32*=sy,a42*=sy),1!==sx&&(a11*=sx,a21*=sx,a31*=sx,a41*=sx),(zOrigin||isSVG)&&(zOrigin&&(x+=a13*-zOrigin,y+=a23*-zOrigin,z+=a33*-zOrigin+zOrigin),isSVG&&(x+=t.xOrigin-(t.xOrigin*a11+t.yOrigin*a12)+t.xOffset,y+=t.yOrigin-(t.xOrigin*a21+t.yOrigin*a22)+t.yOffset),x<min&&x>-min&&(x=zero),y<min&&y>-min&&(y=zero),z<min&&z>-min&&(z=0)),transform=t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix3d(":"matrix3d(",transform+=(a11<min&&a11>-min?zero:a11)+comma+(a21<min&&a21>-min?zero:a21)+comma+(a31<min&&a31>-min?zero:a31),transform+=comma+(a41<min&&a41>-min?zero:a41)+comma+(a12<min&&a12>-min?zero:a12)+comma+(a22<min&&a22>-min?zero:a22),rotationX||rotationY||1!==sz?(transform+=comma+(a32<min&&a32>-min?zero:a32)+comma+(a42<min&&a42>-min?zero:a42)+comma+(a13<min&&a13>-min?zero:a13),transform+=comma+(a23<min&&a23>-min?zero:a23)+comma+(a33<min&&a33>-min?zero:a33)+comma+(a43<min&&a43>-min?zero:a43)+comma):transform+=",0,0,0,0,1,0,",transform+=x+comma+y+comma+z+comma+(perspective?1+-z/perspective:1)+")",style[_transformProp]=transform};p=Transform.prototype,p.x=p.y=p.z=p.skewX=p.skewY=p.rotation=p.rotationX=p.rotationY=p.zOrigin=p.xPercent=p.yPercent=p.xOffset=p.yOffset=0,p.scaleX=p.scaleY=p.scaleZ=1,_registerComplexSpecialProp("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,parsingProp,cssp,pt,plugin,vars){if(cssp._lastParsedTransform===vars)return pt;cssp._lastParsedTransform=vars;var swapFunc,scaleFunc=vars.scale&&"function"==typeof vars.scale?vars.scale:0;"function"==typeof vars[parsingProp]&&(swapFunc=vars[parsingProp],vars[parsingProp]=e),scaleFunc&&(vars.scale=scaleFunc(_index,t));var m2,copy,has3D,hasChange,dr,x,y,matrix,p,originalGSTransform=t._gsTransform,style=t.style,min=1e-6,i=_transformProps.length,v=vars,endRotations={},transformOriginString="transformOrigin",m1=_getTransform(t,_cs,!0,v.parseTransform),orig=v.transform&&("function"==typeof v.transform?v.transform(_index,_target):v.transform);if(m1.skewType=v.skewType||m1.skewType||CSSPlugin.defaultSkewType,cssp._transform=m1,orig&&"string"==typeof orig&&_transformProp)copy=_tempDiv.style,copy[_transformProp]=orig,copy.display="block",copy.position="absolute",orig.indexOf("%")!==-1&&(copy.width=_getStyle(t,"width"),copy.height=_getStyle(t,"height")),_doc.body.appendChild(_tempDiv),m2=_getTransform(_tempDiv,null,!1),"simple"===m1.skewType&&(m2.scaleY*=Math.cos(m2.skewX*_DEG2RAD)),m1.svg&&(x=m1.xOrigin,y=m1.yOrigin,m2.x-=m1.xOffset,m2.y-=m1.yOffset,(v.transformOrigin||v.svgOrigin)&&(orig={},_parseSVGOrigin(t,_parsePosition(v.transformOrigin),orig,v.svgOrigin,v.smoothOrigin,!0),x=orig.xOrigin,y=orig.yOrigin,m2.x-=orig.xOffset-m1.xOffset,m2.y-=orig.yOffset-m1.yOffset),(x||y)&&(matrix=_getMatrix(_tempDiv,!0),m2.x-=x-(x*matrix[0]+y*matrix[2]),m2.y-=y-(x*matrix[1]+y*matrix[3]))),_doc.body.removeChild(_tempDiv),m2.perspective||(m2.perspective=m1.perspective),null!=v.xPercent&&(m2.xPercent=_parseVal(v.xPercent,m1.xPercent)),null!=v.yPercent&&(m2.yPercent=_parseVal(v.yPercent,m1.yPercent));else if("object"==typeof v){if(m2={scaleX:_parseVal(null!=v.scaleX?v.scaleX:v.scale,m1.scaleX),scaleY:_parseVal(null!=v.scaleY?v.scaleY:v.scale,m1.scaleY),scaleZ:_parseVal(v.scaleZ,m1.scaleZ),x:_parseVal(v.x,m1.x),y:_parseVal(v.y,m1.y),z:_parseVal(v.z,m1.z),xPercent:_parseVal(v.xPercent,m1.xPercent),yPercent:_parseVal(v.yPercent,m1.yPercent),perspective:_parseVal(v.transformPerspective,m1.perspective)},dr=v.directionalRotation,null!=dr)if("object"==typeof dr)for(copy in dr)v[copy]=dr[copy];else v.rotation=dr;"string"==typeof v.x&&v.x.indexOf("%")!==-1&&(m2.x=0,m2.xPercent=_parseVal(v.x,m1.xPercent)),"string"==typeof v.y&&v.y.indexOf("%")!==-1&&(m2.y=0,m2.yPercent=_parseVal(v.y,m1.yPercent)),m2.rotation=_parseAngle("rotation"in v?v.rotation:"shortRotation"in v?v.shortRotation+"_short":"rotationZ"in v?v.rotationZ:m1.rotation,m1.rotation,"rotation",endRotations),_supports3D&&(m2.rotationX=_parseAngle("rotationX"in v?v.rotationX:"shortRotationX"in v?v.shortRotationX+"_short":m1.rotationX||0,m1.rotationX,"rotationX",endRotations),m2.rotationY=_parseAngle("rotationY"in v?v.rotationY:"shortRotationY"in v?v.shortRotationY+"_short":m1.rotationY||0,m1.rotationY,"rotationY",endRotations)),m2.skewX=_parseAngle(v.skewX,m1.skewX),m2.skewY=_parseAngle(v.skewY,m1.skewY)}for(_supports3D&&null!=v.force3D&&(m1.force3D=v.force3D,hasChange=!0),has3D=m1.force3D||m1.z||m1.rotationX||m1.rotationY||m2.z||m2.rotationX||m2.rotationY||m2.perspective,has3D||null==v.scale||(m2.scaleZ=1);--i>-1;)p=_transformProps[i],orig=m2[p]-m1[p],(orig>min||orig<-min||null!=v[p]||null!=_forcePT[p])&&(hasChange=!0,pt=new CSSPropTween(m1,p,m1[p],orig,pt),p in endRotations&&(pt.e=endRotations[p]),pt.xs0=0,pt.plugin=plugin,cssp._overwriteProps.push(pt.n));return orig=v.transformOrigin,m1.svg&&(orig||v.svgOrigin)&&(x=m1.xOffset,y=m1.yOffset,_parseSVGOrigin(t,_parsePosition(orig),m2,v.svgOrigin,v.smoothOrigin),pt=_addNonTweeningNumericPT(m1,"xOrigin",(originalGSTransform?m1:m2).xOrigin,m2.xOrigin,pt,transformOriginString),pt=_addNonTweeningNumericPT(m1,"yOrigin",(originalGSTransform?m1:m2).yOrigin,m2.yOrigin,pt,transformOriginString),x===m1.xOffset&&y===m1.yOffset||(pt=_addNonTweeningNumericPT(m1,"xOffset",originalGSTransform?x:m1.xOffset,m1.xOffset,pt,transformOriginString),pt=_addNonTweeningNumericPT(m1,"yOffset",originalGSTransform?y:m1.yOffset,m1.yOffset,pt,transformOriginString)),orig="0px 0px"),(orig||_supports3D&&has3D&&m1.zOrigin)&&(_transformProp?(hasChange=!0,p=_transformOriginProp,orig=(orig||_getStyle(t,p,_cs,!1,"50% 50%"))+"",pt=new CSSPropTween(style,p,0,0,pt,(-1),transformOriginString),pt.b=style[p],pt.plugin=plugin,_supports3D?(copy=m1.zOrigin,orig=orig.split(" "),m1.zOrigin=(orig.length>2&&(0===copy||"0px"!==orig[2])?parseFloat(orig[2]):copy)||0,pt.xs0=pt.e=orig[0]+" "+(orig[1]||"50%")+" 0px",pt=new CSSPropTween(m1,"zOrigin",0,0,pt,(-1),pt.n),pt.b=copy,pt.xs0=pt.e=m1.zOrigin):pt.xs0=pt.e=orig):_parsePosition(orig+"",m1)),hasChange&&(cssp._transformType=m1.svg&&_useSVGTransformAttr||!has3D&&3!==this._transformType?2:3),swapFunc&&(vars[parsingProp]=swapFunc),scaleFunc&&(vars.scale=scaleFunc),pt},prefix:!0}),_registerComplexSpecialProp("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),_registerComplexSpecialProp("borderRadius",{defaultValue:"0px",parser:function(t,e,p,cssp,pt,plugin){e=this.format(e);var ea1,i,es2,bs2,bs,es,bn,en,w,h,esfx,bsfx,rel,hn,vn,em,props=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],style=t.style;for(w=parseFloat(t.offsetWidth),h=parseFloat(t.offsetHeight),ea1=e.split(" "),i=0;i<props.length;i++)this.p.indexOf("border")&&(props[i]=_checkPropPrefix(props[i])),bs=bs2=_getStyle(t,props[i],_cs,!1,"0px"),bs.indexOf(" ")!==-1&&(bs2=bs.split(" "),bs=bs2[0],bs2=bs2[1]),es=es2=ea1[i],bn=parseFloat(bs),bsfx=bs.substr((bn+"").length),rel="="===es.charAt(1),rel?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.substr((en+"").length-(en<0?1:0))||""):(en=parseFloat(es),esfx=es.substr((en+"").length)),""===esfx&&(esfx=_suffixMap[p]||bsfx),esfx!==bsfx&&(hn=_convertToPixels(t,"borderLeft",bn,bsfx),vn=_convertToPixels(t,"borderTop",bn,bsfx),"%"===esfx?(bs=hn/w*100+"%",bs2=vn/h*100+"%"):"em"===esfx?(em=_convertToPixels(t,"borderLeft",1,"em"),bs=hn/em+"em",bs2=vn/em+"em"):(bs=hn+"px",bs2=vn+"px"),rel&&(es=parseFloat(bs)+en+esfx,es2=parseFloat(bs2)+en+esfx)),pt=_parseComplex(style,props[i],bs+" "+bs2,es+" "+es2,!1,"0px",pt);return pt},prefix:!0,formatter:_getFormatter("0px 0px 0px 0px",!1,!0)}),_registerComplexSpecialProp("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,p,cssp,pt,plugin){return _parseComplex(t.style,p,this.format(_getStyle(t,p,_cs,!1,"0px 0px")),this.format(e),!1,"0px",pt)},prefix:!0,formatter:_getFormatter("0px 0px",!1,!0)}),_registerComplexSpecialProp("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,p,cssp,pt,plugin){var ba,ea,i,pct,overlap,src,bp="background-position",cs=_cs||_getComputedStyle(t,null),bs=this.format((cs?_ieVers?cs.getPropertyValue(bp+"-x")+" "+cs.getPropertyValue(bp+"-y"):cs.getPropertyValue(bp):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),es=this.format(e);if(bs.indexOf("%")!==-1!=(es.indexOf("%")!==-1)&&es.split(",").length<2&&(src=_getStyle(t,"backgroundImage").replace(_urlExp,""),src&&"none"!==src)){for(ba=bs.split(" "),ea=es.split(" "),_tempImg.setAttribute("src",src),i=2;--i>-1;)bs=ba[i],pct=bs.indexOf("%")!==-1,pct!==(ea[i].indexOf("%")!==-1)&&(overlap=0===i?t.offsetWidth-_tempImg.width:t.offsetHeight-_tempImg.height,ba[i]=pct?parseFloat(bs)/100*overlap+"px":parseFloat(bs)/overlap*100+"%");bs=ba.join(" ")}return this.parseComplex(t.style,bs,es,pt,plugin)},formatter:_parsePosition}),_registerComplexSpecialProp("backgroundSize",{defaultValue:"0 0",formatter:function(v){return v+="","co"===v.substr(0,2)?v:_parsePosition(v.indexOf(" ")===-1?v+" "+v:v)}}),_registerComplexSpecialProp("perspective",{defaultValue:"0px",prefix:!0}),_registerComplexSpecialProp("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),_registerComplexSpecialProp("transformStyle",{prefix:!0}),_registerComplexSpecialProp("backfaceVisibility",{prefix:!0}),_registerComplexSpecialProp("userSelect",{prefix:!0}),_registerComplexSpecialProp("margin",{parser:_getEdgeParser("marginTop,marginRight,marginBottom,marginLeft")}),_registerComplexSpecialProp("padding",{parser:_getEdgeParser("paddingTop,paddingRight,paddingBottom,paddingLeft")}),_registerComplexSpecialProp("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,p,cssp,pt,plugin){var b,cs,delim;return _ieVers<9?(cs=t.currentStyle,delim=_ieVers<8?" ":",",b="rect("+cs.clipTop+delim+cs.clipRight+delim+cs.clipBottom+delim+cs.clipLeft+")",e=this.format(e).split(",").join(delim)):(b=this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,b,e,pt,plugin)}}),_registerComplexSpecialProp("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),_registerComplexSpecialProp("autoRound,strictUnits",{parser:function(t,e,p,cssp,pt){return pt}}),_registerComplexSpecialProp("border",{defaultValue:"0px solid #000",parser:function(t,e,p,cssp,pt,plugin){var bw=_getStyle(t,"borderTopWidth",_cs,!1,"0px"),end=this.format(e).split(" "),esfx=end[0].replace(_suffixExp,"");return"px"!==esfx&&(bw=parseFloat(bw)/_convertToPixels(t,"borderTopWidth",1,esfx)+esfx),this.parseComplex(t.style,this.format(bw+" "+_getStyle(t,"borderTopStyle",_cs,!1,"solid")+" "+_getStyle(t,"borderTopColor",_cs,!1,"#000")),end.join(" "),pt,plugin)},color:!0,formatter:function(v){var a=v.split(" ");return a[0]+" "+(a[1]||"solid")+" "+(v.match(_colorExp)||["#000"])[0]}}),_registerComplexSpecialProp("borderWidth",{parser:_getEdgeParser("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),_registerComplexSpecialProp("float,cssFloat,styleFloat",{parser:function(t,e,p,cssp,pt,plugin){var s=t.style,prop="cssFloat"in s?"cssFloat":"styleFloat";return new CSSPropTween(s,prop,0,0,pt,(-1),p,(!1),0,s[prop],e)}});var _setIEOpacityRatio=function(v){var skip,t=this.t,filters=t.filter||_getStyle(this.data,"filter")||"",val=this.s+this.c*v|0;100===val&&(filters.indexOf("atrix(")===-1&&filters.indexOf("radient(")===-1&&filters.indexOf("oader(")===-1?(t.removeAttribute("filter"),skip=!_getStyle(this.data,"filter")):(t.filter=filters.replace(_alphaFilterExp,""),skip=!0)),skip||(this.xn1&&(t.filter=filters=filters||"alpha(opacity="+val+")"),filters.indexOf("pacity")===-1?0===val&&this.xn1||(t.filter=filters+" alpha(opacity="+val+")"):t.filter=filters.replace(_opacityExp,"opacity="+val))};_registerComplexSpecialProp("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,p,cssp,pt,plugin){var b=parseFloat(_getStyle(t,"opacity",_cs,!1,"1")),style=t.style,isAutoAlpha="autoAlpha"===p;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+b),isAutoAlpha&&1===b&&"hidden"===_getStyle(t,"visibility",_cs)&&0!==e&&(b=0),_supportsOpacity?pt=new CSSPropTween(style,"opacity",b,e-b,pt):(pt=new CSSPropTween(style,"opacity",100*b,100*(e-b),pt),pt.xn1=isAutoAlpha?1:0,style.zoom=1,pt.type=2,pt.b="alpha(opacity="+pt.s+")",pt.e="alpha(opacity="+(pt.s+pt.c)+")",pt.data=t,pt.plugin=plugin,pt.setRatio=_setIEOpacityRatio),isAutoAlpha&&(pt=new CSSPropTween(style,"visibility",0,0,pt,(-1),null,(!1),0,0!==b?"inherit":"hidden",0===e?"hidden":"inherit"),pt.xs0="inherit",cssp._overwriteProps.push(pt.n),cssp._overwriteProps.push(p)),pt}});var _removeProp=function(s,p){p&&(s.removeProperty?("ms"!==p.substr(0,2)&&"webkit"!==p.substr(0,6)||(p="-"+p),s.removeProperty(p.replace(_capsExp,"-$1").toLowerCase())):s.removeAttribute(p))},_setClassNameRatio=function(v){if(this.t._gsClassPT=this,1===v||0===v){this.t.setAttribute("class",0===v?this.b:this.e);for(var mpt=this.data,s=this.t.style;mpt;)mpt.v?s[mpt.p]=mpt.v:_removeProp(s,mpt.p),mpt=mpt._next;1===v&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};_registerComplexSpecialProp("className",{parser:function(t,e,p,cssp,pt,plugin,vars){var difData,bs,cnpt,cnptLookup,mpt,b=t.getAttribute("class")||"",cssText=t.style.cssText;if(pt=cssp._classNamePT=new CSSPropTween(t,p,0,0,pt,2),pt.setRatio=_setClassNameRatio,pt.pr=-11,_hasPriority=!0,pt.b=b,bs=_getAllStyles(t,_cs),cnpt=t._gsClassPT){for(cnptLookup={},mpt=cnpt.data;mpt;)cnptLookup[mpt.p]=1,mpt=mpt._next;cnpt.setRatio(1)}return t._gsClassPT=pt,pt.e="="!==e.charAt(1)?e:b.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",pt.e),difData=_cssDif(t,bs,_getAllStyles(t),vars,cnptLookup),t.setAttribute("class",b),pt.data=difData.firstMPT,t.style.cssText=cssText,pt=pt.xfirst=cssp.parse(t,difData.difs,pt,plugin)}});var _setClearPropsRatio=function(v){if((1===v||0===v)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var a,p,i,clearTransform,transform,s=this.t.style,transformParse=_specialProps.transform.parse;if("all"===this.e)s.cssText="",clearTransform=!0;else for(a=this.e.split(" ").join("").split(","),i=a.length;--i>-1;)p=a[i],_specialProps[p]&&(_specialProps[p].parse===transformParse?clearTransform=!0:p="transformOrigin"===p?_transformOriginProp:_specialProps[p].p),_removeProp(s,p);clearTransform&&(_removeProp(s,_transformProp),transform=this.t._gsTransform,transform&&(transform.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(_registerComplexSpecialProp("clearProps",{parser:function(t,e,p,cssp,pt){return pt=new CSSPropTween(t,p,0,0,pt,2),pt.setRatio=_setClearPropsRatio,pt.e=e,pt.pr=-10,pt.data=cssp._tween,_hasPriority=!0,pt}}),p="bezier,throwProps,physicsProps,physics2D".split(","),i=p.length;i--;)_registerPluginProp(p[i]);p=CSSPlugin.prototype,p._firstPT=p._lastParsedTransform=p._transform=null,p._onInitTween=function(target,vars,tween,index){if(!target.nodeType)return!1;this._target=_target=target,this._tween=tween,this._vars=vars,_index=index,_autoRound=vars.autoRound,_hasPriority=!1,_suffixMap=vars.suffixMap||CSSPlugin.suffixMap,_cs=_getComputedStyle(target,""),_overwriteProps=this._overwriteProps;var v,pt,pt2,first,last,next,zIndex,tpt,threeD,style=target.style;if(_reqSafariFix&&""===style.zIndex&&(v=_getStyle(target,"zIndex",_cs),"auto"!==v&&""!==v||this._addLazySet(style,"zIndex",0)),"string"==typeof vars&&(first=style.cssText,v=_getAllStyles(target,_cs),style.cssText=first+";"+vars,v=_cssDif(target,v,_getAllStyles(target)).difs,!_supportsOpacity&&_opacityValExp.test(vars)&&(v.opacity=parseFloat(RegExp.$1)),vars=v,style.cssText=first),vars.className?this._firstPT=pt=_specialProps.className.parse(target,vars.className,"className",this,null,null,vars):this._firstPT=pt=this.parse(target,vars,null),this._transformType){for(threeD=3===this._transformType,_transformProp?_isSafari&&(_reqSafariFix=!0,""===style.zIndex&&(zIndex=_getStyle(target,"zIndex",_cs),"auto"!==zIndex&&""!==zIndex||this._addLazySet(style,"zIndex",0)),_isSafariLT6&&this._addLazySet(style,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(threeD?"visible":"hidden"))):style.zoom=1,pt2=pt;pt2&&pt2._next;)pt2=pt2._next;tpt=new CSSPropTween(target,"transform",0,0,null,2),this._linkCSSP(tpt,null,pt2),tpt.setRatio=_transformProp?_setTransformRatio:_setIETransformRatio,tpt.data=this._transform||_getTransform(target,_cs,!0),tpt.tween=tween,tpt.pr=-1,_overwriteProps.pop()}if(_hasPriority){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}this._firstPT=first}return!0},p.parse=function(target,vars,pt,plugin){var p,sp,bn,en,bs,es,bsfx,esfx,isStr,rel,style=target.style;for(p in vars){if(es=vars[p],"function"==typeof es&&(es=es(_index,_target)),sp=_specialProps[p])pt=sp.parse(target,es,p,this,pt,plugin,vars);else{if("--"===p.substr(0,2)){this._tween._propLookup[p]=this._addTween.call(this._tween,target.style,"setProperty",_getComputedStyle(target).getPropertyValue(p)+"",es+"",p,!1,p);continue}bs=_getStyle(target,p,_cs)+"",isStr="string"==typeof es,"color"===p||"fill"===p||"stroke"===p||p.indexOf("Color")!==-1||isStr&&_rgbhslExp.test(es)?(isStr||(es=_parseColor(es),es=(es.length>3?"rgba(":"rgb(")+es.join(",")+")"),pt=_parseComplex(style,p,bs,es,!0,"transparent",pt,0,plugin)):isStr&&_complexExp.test(es)?pt=_parseComplex(style,p,bs,es,!0,null,pt,0,plugin):(bn=parseFloat(bs),bsfx=bn||0===bn?bs.substr((bn+"").length):"",""!==bs&&"auto"!==bs||("width"===p||"height"===p?(bn=_getDimension(target,p,_cs),bsfx="px"):"left"===p||"top"===p?(bn=_calculateOffset(target,p,_cs),bsfx="px"):(bn="opacity"!==p?0:1,bsfx="")),rel=isStr&&"="===es.charAt(1),rel?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.replace(_suffixExp,"")):(en=parseFloat(es),esfx=isStr?es.replace(_suffixExp,""):""),""===esfx&&(esfx=p in _suffixMap?_suffixMap[p]:bsfx),es=en||0===en?(rel?en+bn:en)+esfx:vars[p],bsfx!==esfx&&(""===esfx&&"lineHeight"!==p||(en||0===en)&&bn&&(bn=_convertToPixels(target,p,bn,bsfx),"%"===esfx?(bn/=_convertToPixels(target,p,100,"%")/100,vars.strictUnits!==!0&&(bs=bn+"%")):"em"===esfx||"rem"===esfx||"vw"===esfx||"vh"===esfx?bn/=_convertToPixels(target,p,1,esfx):"px"!==esfx&&(en=_convertToPixels(target,p,en,esfx),esfx="px"),rel&&(en||0===en)&&(es=en+bn+esfx))),rel&&(en+=bn),!bn&&0!==bn||!en&&0!==en?void 0!==style[p]&&(es||es+""!="NaN"&&null!=es)?(pt=new CSSPropTween(style,p,en||bn||0,0,pt,(-1),p,(!1),0,bs,es),
pt.xs0="none"!==es||"display"!==p&&p.indexOf("Style")===-1?es:bs):_log("invalid "+p+" tween value: "+vars[p]):(pt=new CSSPropTween(style,p,bn,en-bn,pt,0,p,_autoRound!==!1&&("px"===esfx||"zIndex"===p),0,bs,es),pt.xs0=esfx))}plugin&&pt&&!pt.plugin&&(pt.plugin=plugin)}return pt},p.setRatio=function(v){var val,str,i,pt=this._firstPT,min=1e-6;if(1!==v||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(v||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;pt;){if(val=pt.c*v+pt.s,pt.r?val=pt.r(val):val<min&&val>-min&&(val=0),pt.type)if(1===pt.type)if(i=pt.l,2===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2;else if(3===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3;else if(4===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4;else if(5===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4+pt.xn4+pt.xs5;else{for(str=pt.xs0+val+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.t[pt.p]=str}else pt.type===-1?pt.t[pt.p]=pt.xs0:pt.setRatio&&pt.setRatio(v);else pt.t[pt.p]=val+pt.xs0;pt=pt._next}else for(;pt;)2!==pt.type?pt.t[pt.p]=pt.b:pt.setRatio(v),pt=pt._next;else for(;pt;){if(2!==pt.type)if(pt.r&&pt.type!==-1)if(val=pt.r(pt.s+pt.c),pt.type){if(1===pt.type){for(i=pt.l,str=pt.xs0+val+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.t[pt.p]=str}}else pt.t[pt.p]=val+pt.xs0;else pt.t[pt.p]=pt.e;else pt.setRatio(v);pt=pt._next}},p._enableTransforms=function(threeD){this._transform=this._transform||_getTransform(this._target,_cs,!0),this._transformType=this._transform.svg&&_useSVGTransformAttr||!threeD&&3!==this._transformType?2:3};var lazySet=function(v){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(t,p,v){var pt=this._firstPT=new CSSPropTween(t,p,0,0,this._firstPT,2);pt.e=v,pt.setRatio=lazySet,pt.data=this},p._linkCSSP=function(pt,next,prev,remove){return pt&&(next&&(next._prev=pt),pt._next&&(pt._next._prev=pt._prev),pt._prev?pt._prev._next=pt._next:this._firstPT===pt&&(this._firstPT=pt._next,remove=!0),prev?prev._next=pt:remove||null!==this._firstPT||(this._firstPT=pt),pt._next=next,pt._prev=prev),pt},p._mod=function(lookup){for(var pt=this._firstPT;pt;)"function"==typeof lookup[pt.p]&&(pt.r=lookup[pt.p]),pt=pt._next},p._kill=function(lookup){var pt,p,xfirst,copy=lookup;if(lookup.autoAlpha||lookup.alpha){copy={};for(p in lookup)copy[p]=lookup[p];copy.opacity=1,copy.autoAlpha&&(copy.visibility=1)}for(lookup.className&&(pt=this._classNamePT)&&(xfirst=pt.xfirst,xfirst&&xfirst._prev?this._linkCSSP(xfirst._prev,pt._next,xfirst._prev._prev):xfirst===this._firstPT&&(this._firstPT=pt._next),pt._next&&this._linkCSSP(pt._next,pt._next._next,xfirst._prev),this._classNamePT=null),pt=this._firstPT;pt;)pt.plugin&&pt.plugin!==p&&pt.plugin._kill&&(pt.plugin._kill(lookup),p=pt.plugin),pt=pt._next;return TweenPlugin.prototype._kill.call(this,copy)};var _getChildStyles=function(e,props,targets){var children,i,child,type;if(e.slice)for(i=e.length;--i>-1;)_getChildStyles(e[i],props,targets);else for(children=e.childNodes,i=children.length;--i>-1;)child=children[i],type=child.type,child.style&&(props.push(_getAllStyles(child)),targets&&targets.push(child)),1!==type&&9!==type&&11!==type||!child.childNodes.length||_getChildStyles(child,props,targets)};return CSSPlugin.cascadeTo=function(target,duration,vars){var i,difs,p,from,tween=TweenLite.to(target,duration,vars),results=[tween],b=[],e=[],targets=[],_reservedProps=TweenLite._internals.reservedProps;for(target=tween._targets||tween.target,_getChildStyles(target,b,targets),tween.render(duration,!0,!0),_getChildStyles(target,e),tween.render(0,!0,!0),tween._enabled(!0),i=targets.length;--i>-1;)if(difs=_cssDif(targets[i],b[i],e[i]),difs.firstMPT){difs=difs.difs;for(p in vars)_reservedProps[p]&&(difs[p]=vars[p]);from={};for(p in difs)from[p]=b[i][p];results.push(TweenLite.fromTo(targets[i],duration,from,difs))}return results},TweenPlugin.activate([CSSPlugin]),CSSPlugin},!0),function(){var RoundPropsPlugin=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(target,value,tween){return this._tween=tween,!0}}),_getRoundFunc=function(v){var p=v<1?Math.pow(10,(v+"").length-2):1;return function(n){return(Math.round(n/v)*v*p|0)/p}},_roundLinkedList=function(node,mod){for(;node;)node.f||node.blob||(node.m=mod||Math.round),node=node._next},p=RoundPropsPlugin.prototype;p._onInitAllProps=function(){var pt,next,i,p,tween=this._tween,rp=tween.vars.roundProps,lookup={},rpt=tween._propLookup.roundProps;if("object"!=typeof rp||rp.push)for("string"==typeof rp&&(rp=rp.split(",")),i=rp.length;--i>-1;)lookup[rp[i]]=Math.round;else for(p in rp)lookup[p]=_getRoundFunc(rp[p]);for(p in lookup)for(pt=tween._firstPT;pt;)next=pt._next,pt.pg?pt.t._mod(lookup):pt.n===p&&(2===pt.f&&pt.t?_roundLinkedList(pt.t._firstPT,lookup[p]):(this._add(pt.t,p,pt.s,pt.c,lookup[p]),next&&(next._prev=pt._prev),pt._prev?pt._prev._next=next:tween._firstPT===pt&&(tween._firstPT=next),pt._next=pt._prev=null,tween._propLookup[p]=rpt)),pt=next;return!1},p._add=function(target,p,s,c,mod){this._addTween(target,p,s,s+c,p,mod||Math.round),this._overwriteProps.push(p)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(target,value,tween,index){var p,end;if("function"!=typeof target.setAttribute)return!1;for(p in value)end=value[p],"function"==typeof end&&(end=end(index,target)),this._addTween(target,"setAttribute",target.getAttribute(p)+"",end+"",p,!1,p),this._overwriteProps.push(p);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(target,value,tween,index){"object"!=typeof value&&(value={rotation:value}),this.finals={};var p,v,start,end,dif,split,cap=value.useRadians===!0?2*Math.PI:360,min=1e-6;for(p in value)"useRadians"!==p&&(end=value[p],"function"==typeof end&&(end=end(index,target)),split=(end+"").split("_"),v=split[0],start=parseFloat("function"!=typeof target[p]?target[p]:target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]()),end=this.finals[p]="string"==typeof v&&"="===v.charAt(1)?start+parseInt(v.charAt(0)+"1",10)*Number(v.substr(2)):Number(v)||0,dif=end-start,split.length&&(v=split.join("_"),v.indexOf("short")!==-1&&(dif%=cap,dif!==dif%(cap/2)&&(dif=dif<0?dif+cap:dif-cap)),v.indexOf("_cw")!==-1&&dif<0?dif=(dif+9999999999*cap)%cap-(dif/cap|0)*cap:v.indexOf("ccw")!==-1&&dif>0&&(dif=(dif-9999999999*cap)%cap-(dif/cap|0)*cap)),(dif>min||dif<-min)&&(this._addTween(target,p,start,start+dif,p),this._overwriteProps.push(p)));return!0},set:function(ratio){var pt;if(1!==ratio)this._super.setRatio.call(this,ratio);else for(pt=this._firstPT;pt;)pt.f?pt.t[pt.p](this.finals[pt.p]):pt.t[pt.p]=this.finals[pt.p],pt=pt._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(Ease){var SteppedEase,ExpoScaleEase,RoughEase,_createElastic,w=_gsScope.GreenSockGlobals||_gsScope,gs=w.com.greensock,_2PI=2*Math.PI,_HALF_PI=Math.PI/2,_class=gs._class,_create=function(n,f){var C=_class("easing."+n,function(){},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,C},_easeReg=Ease.register||function(){},_wrap=function(name,EaseOut,EaseIn,EaseInOut,aliases){var C=_class("easing."+name,{easeOut:new EaseOut,easeIn:new EaseIn,easeInOut:new EaseInOut},!0);return _easeReg(C,name),C},EasePoint=function(time,value,next){this.t=time,this.v=value,next&&(this.next=next,next.prev=this,this.c=next.v-value,this.gap=next.t-time)},_createBack=function(n,f){var C=_class("easing."+n,function(overshoot){this._p1=overshoot||0===overshoot?overshoot:1.70158,this._p2=1.525*this._p1},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,p.config=function(overshoot){return new C(overshoot)},C},Back=_wrap("Back",_createBack("BackOut",function(p){return(p-=1)*p*((this._p1+1)*p+this._p1)+1}),_createBack("BackIn",function(p){return p*p*((this._p1+1)*p-this._p1)}),_createBack("BackInOut",function(p){return(p*=2)<1?.5*p*p*((this._p2+1)*p-this._p2):.5*((p-=2)*p*((this._p2+1)*p+this._p2)+2)})),SlowMo=_class("easing.SlowMo",function(linearRatio,power,yoyoMode){power=power||0===power?power:.7,null==linearRatio?linearRatio=.7:linearRatio>1&&(linearRatio=1),this._p=1!==linearRatio?power:0,this._p1=(1-linearRatio)/2,this._p2=linearRatio,this._p3=this._p1+this._p2,this._calcEnd=yoyoMode===!0},!0),p=SlowMo.prototype=new Ease;return p.constructor=SlowMo,p.getRatio=function(p){var r=p+(.5-p)*this._p;return p<this._p1?this._calcEnd?1-(p=1-p/this._p1)*p:r-(p=1-p/this._p1)*p*p*p*r:p>this._p3?this._calcEnd?1===p?0:1-(p=(p-this._p3)/this._p1)*p:r+(p-r)*(p=(p-this._p3)/this._p1)*p*p*p:this._calcEnd?1:r},SlowMo.ease=new SlowMo(.7,.7),p.config=SlowMo.config=function(linearRatio,power,yoyoMode){return new SlowMo(linearRatio,power,yoyoMode)},SteppedEase=_class("easing.SteppedEase",function(steps,immediateStart){steps=steps||1,this._p1=1/steps,this._p2=steps+(immediateStart?0:1),this._p3=immediateStart?1:0},!0),p=SteppedEase.prototype=new Ease,p.constructor=SteppedEase,p.getRatio=function(p){return p<0?p=0:p>=1&&(p=.999999999),((this._p2*p|0)+this._p3)*this._p1},p.config=SteppedEase.config=function(steps,immediateStart){return new SteppedEase(steps,immediateStart)},ExpoScaleEase=_class("easing.ExpoScaleEase",function(start,end,ease){this._p1=Math.log(end/start),this._p2=end-start,this._p3=start,this._ease=ease},!0),p=ExpoScaleEase.prototype=new Ease,p.constructor=ExpoScaleEase,p.getRatio=function(p){return this._ease&&(p=this._ease.getRatio(p)),(this._p3*Math.exp(this._p1*p)-this._p3)/this._p2},p.config=ExpoScaleEase.config=function(start,end,ease){return new ExpoScaleEase(start,end,ease)},RoughEase=_class("easing.RoughEase",function(vars){vars=vars||{};for(var x,y,bump,invX,obj,pnt,taper=vars.taper||"none",a=[],cnt=0,points=0|(vars.points||20),i=points,randomize=vars.randomize!==!1,clamp=vars.clamp===!0,template=vars.template instanceof Ease?vars.template:null,strength="number"==typeof vars.strength?.4*vars.strength:.4;--i>-1;)x=randomize?Math.random():1/points*i,y=template?template.getRatio(x):x,"none"===taper?bump=strength:"out"===taper?(invX=1-x,bump=invX*invX*strength):"in"===taper?bump=x*x*strength:x<.5?(invX=2*x,bump=invX*invX*.5*strength):(invX=2*(1-x),bump=invX*invX*.5*strength),randomize?y+=Math.random()*bump-.5*bump:i%2?y+=.5*bump:y-=.5*bump,clamp&&(y>1?y=1:y<0&&(y=0)),a[cnt++]={x:x,y:y};for(a.sort(function(a,b){return a.x-b.x}),pnt=new EasePoint(1,1,null),i=points;--i>-1;)obj=a[i],pnt=new EasePoint(obj.x,obj.y,pnt);this._prev=new EasePoint(0,0,0!==pnt.t?pnt:pnt.next)},!0),p=RoughEase.prototype=new Ease,p.constructor=RoughEase,p.getRatio=function(p){var pnt=this._prev;if(p>pnt.t){for(;pnt.next&&p>=pnt.t;)pnt=pnt.next;pnt=pnt.prev}else for(;pnt.prev&&p<=pnt.t;)pnt=pnt.prev;return this._prev=pnt,pnt.v+(p-pnt.t)/pnt.gap*pnt.c},p.config=function(vars){return new RoughEase(vars)},RoughEase.ease=new RoughEase,_wrap("Bounce",_create("BounceOut",function(p){return p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375}),_create("BounceIn",function(p){return(p=1-p)<1/2.75?1-7.5625*p*p:p<2/2.75?1-(7.5625*(p-=1.5/2.75)*p+.75):p<2.5/2.75?1-(7.5625*(p-=2.25/2.75)*p+.9375):1-(7.5625*(p-=2.625/2.75)*p+.984375)}),_create("BounceInOut",function(p){var invert=p<.5;return p=invert?1-2*p:2*p-1,p=p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,invert?.5*(1-p):.5*p+.5})),_wrap("Circ",_create("CircOut",function(p){return Math.sqrt(1-(p-=1)*p)}),_create("CircIn",function(p){return-(Math.sqrt(1-p*p)-1)}),_create("CircInOut",function(p){return(p*=2)<1?-.5*(Math.sqrt(1-p*p)-1):.5*(Math.sqrt(1-(p-=2)*p)+1)})),_createElastic=function(n,f,def){var C=_class("easing."+n,function(amplitude,period){this._p1=amplitude>=1?amplitude:1,this._p2=(period||def)/(amplitude<1?amplitude:1),this._p3=this._p2/_2PI*(Math.asin(1/this._p1)||0),this._p2=_2PI/this._p2},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,p.config=function(amplitude,period){return new C(amplitude,period)},C},_wrap("Elastic",_createElastic("ElasticOut",function(p){return this._p1*Math.pow(2,-10*p)*Math.sin((p-this._p3)*this._p2)+1},.3),_createElastic("ElasticIn",function(p){return-(this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2))},.3),_createElastic("ElasticInOut",function(p){return(p*=2)<1?-.5*(this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(p-=1))*Math.sin((p-this._p3)*this._p2)*.5+1},.45)),_wrap("Expo",_create("ExpoOut",function(p){return 1-Math.pow(2,-10*p)}),_create("ExpoIn",function(p){return Math.pow(2,10*(p-1))-.001}),_create("ExpoInOut",function(p){return(p*=2)<1?.5*Math.pow(2,10*(p-1)):.5*(2-Math.pow(2,-10*(p-1)))})),_wrap("Sine",_create("SineOut",function(p){return Math.sin(p*_HALF_PI)}),_create("SineIn",function(p){return-Math.cos(p*_HALF_PI)+1}),_create("SineInOut",function(p){return-.5*(Math.cos(Math.PI*p)-1)})),_class("easing.EaseLookup",{find:function(s){return Ease.map[s]}},!0),_easeReg(w.SlowMo,"SlowMo","ease,"),_easeReg(RoughEase,"RoughEase","ease,"),_easeReg(SteppedEase,"SteppedEase","ease,"),Back},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(window,moduleName){"use strict";var _exports={},_doc=window.document,_globals=window.GreenSockGlobals=window.GreenSockGlobals||window,existingModule=_globals[moduleName];if(existingModule)return"undefined"!=typeof module&&module.exports&&(module.exports=existingModule),existingModule;var a,i,p,_ticker,_tickerActive,_namespace=function(ns){var i,a=ns.split("."),p=_globals;for(i=0;i<a.length;i++)p[a[i]]=p=p[a[i]]||{};return p},gs=_namespace("com.greensock"),_tinyNum=1e-10,_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_emptyFunc=function(){},_isArray=function(){var toString=Object.prototype.toString,array=toString.call([]);return function(obj){return null!=obj&&(obj instanceof Array||"object"==typeof obj&&!!obj.push&&toString.call(obj)===array)}}(),_defLookup={},Definition=function(ns,dependencies,func,global){this.sc=_defLookup[ns]?_defLookup[ns].sc:[],_defLookup[ns]=this,this.gsClass=null,this.func=func;var _classes=[];this.check=function(init){for(var cur,a,n,cl,i=dependencies.length,missing=i;--i>-1;)(cur=_defLookup[dependencies[i]]||new Definition(dependencies[i],[])).gsClass?(_classes[i]=cur.gsClass,missing--):init&&cur.sc.push(this);if(0===missing&&func){if(a=("com.greensock."+ns).split("."),n=a.pop(),cl=_namespace(a.join("."))[n]=this.gsClass=func.apply(func,_classes),global)if(_globals[n]=_exports[n]=cl,"undefined"!=typeof module&&module.exports)if(ns===moduleName){module.exports=_exports[moduleName]=cl;for(i in _exports)cl[i]=_exports[i]}else _exports[moduleName]&&(_exports[moduleName][n]=cl);else"function"==typeof define&&define.amd&&define((window.GreenSockAMDPath?window.GreenSockAMDPath+"/":"")+ns.split(".").pop(),[],function(){return cl});for(i=0;i<this.sc.length;i++)this.sc[i].check()}},this.check(!0)},_gsDefine=window._gsDefine=function(ns,dependencies,func,global){return new Definition(ns,dependencies,func,global)},_class=gs._class=function(ns,func,global){return func=func||function(){},_gsDefine(ns,[],function(){return func},global),func};_gsDefine.globals=_globals;var _baseParams=[0,0,1,1],Ease=_class("easing.Ease",function(func,extraParams,type,power){this._func=func,this._type=type||0,this._power=power||0,this._params=extraParams?_baseParams.concat(extraParams):_baseParams},!0),_easeMap=Ease.map={},_easeReg=Ease.register=function(ease,names,types,create){for(var e,name,j,type,na=names.split(","),i=na.length,ta=(types||"easeIn,easeOut,easeInOut").split(",");--i>-1;)for(name=na[i],e=create?_class("easing."+name,null,!0):gs.easing[name]||{},j=ta.length;--j>-1;)type=ta[j],_easeMap[name+"."+type]=_easeMap[type+name]=e[type]=ease.getRatio?ease:ease[type]||new ease};for(p=Ease.prototype,p._calcEnd=!1,p.getRatio=function(p){if(this._func)return this._params[0]=p,this._func.apply(null,this._params);var t=this._type,pw=this._power,r=1===t?1-p:2===t?p:p<.5?2*p:2*(1-p);return 1===pw?r*=r:2===pw?r*=r*r:3===pw?r*=r*r*r:4===pw&&(r*=r*r*r*r),1===t?1-r:2===t?r:p<.5?r/2:1-r/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=a.length;--i>-1;)p=a[i]+",Power"+i,_easeReg(new Ease(null,null,1,i),p,"easeOut",!0),_easeReg(new Ease(null,null,2,i),p,"easeIn"+(0===i?",easeNone":"")),_easeReg(new Ease(null,null,3,i),p,"easeInOut");_easeMap.linear=gs.easing.Linear.easeIn,_easeMap.swing=gs.easing.Quad.easeInOut;var EventDispatcher=_class("events.EventDispatcher",function(target){this._listeners={},this._eventTarget=target||this});p=EventDispatcher.prototype,p.addEventListener=function(type,callback,scope,useParam,priority){priority=priority||0;var listener,i,list=this._listeners[type],index=0;for(this!==_ticker||_tickerActive||_ticker.wake(),null==list&&(this._listeners[type]=list=[]),i=list.length;--i>-1;)listener=list[i],listener.c===callback&&listener.s===scope?list.splice(i,1):0===index&&listener.pr<priority&&(index=i+1);list.splice(index,0,{c:callback,s:scope,up:useParam,pr:priority})},p.removeEventListener=function(type,callback){var i,list=this._listeners[type];if(list)for(i=list.length;--i>-1;)if(list[i].c===callback)return void list.splice(i,1)},p.dispatchEvent=function(type){var i,t,listener,list=this._listeners[type];if(list)for(i=list.length,i>1&&(list=list.slice(0)),t=this._eventTarget;--i>-1;)listener=list[i],listener&&(listener.up?listener.c.call(listener.s||t,{type:type,target:t}):listener.c.call(listener.s||t))};var _reqAnimFrame=window.requestAnimationFrame,_cancelAnimFrame=window.cancelAnimationFrame,_getTime=Date.now||function(){return(new Date).getTime()},_lastUpdate=_getTime();for(a=["ms","moz","webkit","o"],i=a.length;--i>-1&&!_reqAnimFrame;)_reqAnimFrame=window[a[i]+"RequestAnimationFrame"],_cancelAnimFrame=window[a[i]+"CancelAnimationFrame"]||window[a[i]+"CancelRequestAnimationFrame"];_class("Ticker",function(fps,useRAF){var _fps,_req,_id,_gap,_nextTime,_self=this,_startTime=_getTime(),_useRAF=!(useRAF===!1||!_reqAnimFrame)&&"auto",_lagThreshold=500,_adjustedLag=33,_tickWord="tick",_tick=function(manual){var overlap,dispatch,elapsed=_getTime()-_lastUpdate;elapsed>_lagThreshold&&(_startTime+=elapsed-_adjustedLag),_lastUpdate+=elapsed,_self.time=(_lastUpdate-_startTime)/1e3,overlap=_self.time-_nextTime,(!_fps||overlap>0||manual===!0)&&(_self.frame++,_nextTime+=overlap+(overlap>=_gap?.004:_gap-overlap),dispatch=!0),manual!==!0&&(_id=_req(_tick)),dispatch&&_self.dispatchEvent(_tickWord)};EventDispatcher.call(_self),_self.time=_self.frame=0,_self.tick=function(){_tick(!0)},_self.lagSmoothing=function(threshold,adjustedLag){return arguments.length?(_lagThreshold=threshold||1/_tinyNum,void(_adjustedLag=Math.min(adjustedLag,_lagThreshold,0))):_lagThreshold<1/_tinyNum},_self.sleep=function(){null!=_id&&(_useRAF&&_cancelAnimFrame?_cancelAnimFrame(_id):clearTimeout(_id),_req=_emptyFunc,_id=null,_self===_ticker&&(_tickerActive=!1))},_self.wake=function(seamless){null!==_id?_self.sleep():seamless?_startTime+=-_lastUpdate+(_lastUpdate=_getTime()):_self.frame>10&&(_lastUpdate=_getTime()-_lagThreshold+5),_req=0===_fps?_emptyFunc:_useRAF&&_reqAnimFrame?_reqAnimFrame:function(f){return setTimeout(f,1e3*(_nextTime-_self.time)+1|0)},_self===_ticker&&(_tickerActive=!0),_tick(2)},_self.fps=function(value){return arguments.length?(_fps=value,_gap=1/(_fps||60),_nextTime=this.time+_gap,void _self.wake()):_fps},_self.useRAF=function(value){return arguments.length?(_self.sleep(),_useRAF=value,void _self.fps(_fps)):_useRAF},_self.fps(fps),setTimeout(function(){"auto"===_useRAF&&_self.frame<5&&"hidden"!==(_doc||{}).visibilityState&&_self.useRAF(!1)},1500)}),p=gs.Ticker.prototype=new gs.events.EventDispatcher,p.constructor=gs.Ticker;var Animation=_class("core.Animation",function(duration,vars){if(this.vars=vars=vars||{},this._duration=this._totalDuration=duration||0,this._delay=Number(vars.delay)||0,this._timeScale=1,this._active=vars.immediateRender===!0,this.data=vars.data,this._reversed=vars.reversed===!0,_rootTimeline){_tickerActive||_ticker.wake();var tl=this.vars.useFrames?_rootFramesTimeline:_rootTimeline;tl.add(this,tl._time),this.vars.paused&&this.paused(!0)}});_ticker=Animation.ticker=new gs.Ticker,p=Animation.prototype,p._dirty=p._gc=p._initted=p._paused=!1,p._totalTime=p._time=0,p._rawPrevTime=-1,p._next=p._last=p._onUpdate=p._timeline=p.timeline=null,p._paused=!1;var _checkTimeout=function(){_tickerActive&&_getTime()-_lastUpdate>2e3&&("hidden"!==(_doc||{}).visibilityState||!_ticker.lagSmoothing())&&_ticker.wake();var t=setTimeout(_checkTimeout,2e3);t.unref&&t.unref()};_checkTimeout(),p.play=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.reversed(!1).paused(!1)},p.pause=function(atTime,suppressEvents){return null!=atTime&&this.seek(atTime,suppressEvents),this.paused(!0)},p.resume=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.paused(!1)},p.seek=function(time,suppressEvents){return this.totalTime(Number(time),suppressEvents!==!1)},p.restart=function(includeDelay,suppressEvents){return this.reversed(!1).paused(!1).totalTime(includeDelay?-this._delay:0,suppressEvents!==!1,!0)},p.reverse=function(from,suppressEvents){return null!=from&&this.seek(from||this.totalDuration(),suppressEvents),this.reversed(!0).paused(!1)},p.render=function(time,suppressEvents,force){},p.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},p.isActive=function(){var rawTime,tl=this._timeline,startTime=this._startTime;return!tl||!this._gc&&!this._paused&&tl.isActive()&&(rawTime=tl.rawTime(!0))>=startTime&&rawTime<startTime+this.totalDuration()/this._timeScale-1e-7},p._enabled=function(enabled,ignoreTimeline){return _tickerActive||_ticker.wake(),this._gc=!enabled,this._active=this.isActive(),ignoreTimeline!==!0&&(enabled&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!enabled&&this.timeline&&this._timeline._remove(this,!0)),!1},p._kill=function(vars,target){return this._enabled(!1,!1)},p.kill=function(vars,target){return this._kill(vars,target),this},p._uncache=function(includeSelf){for(var tween=includeSelf?this:this.timeline;tween;)tween._dirty=!0,tween=tween.timeline;return this},p._swapSelfInParams=function(params){for(var i=params.length,copy=params.concat();--i>-1;)"{self}"===params[i]&&(copy[i]=this);return copy},p._callback=function(type){var v=this.vars,callback=v[type],params=v[type+"Params"],scope=v[type+"Scope"]||v.callbackScope||this,l=params?params.length:0;switch(l){case 0:callback.call(scope);break;case 1:callback.call(scope,params[0]);break;case 2:callback.call(scope,params[0],params[1]);break;default:callback.apply(scope,params)}},p.eventCallback=function(type,callback,params,scope){if("on"===(type||"").substr(0,2)){var v=this.vars;if(1===arguments.length)return v[type];null==callback?delete v[type]:(v[type]=callback,v[type+"Params"]=_isArray(params)&&params.join("").indexOf("{self}")!==-1?this._swapSelfInParams(params):params,v[type+"Scope"]=scope),"onUpdate"===type&&(this._onUpdate=callback)}return this},p.delay=function(value){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+value-this._delay),this._delay=value,this):this._delay},p.duration=function(value){return arguments.length?(this._duration=this._totalDuration=value,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==value&&this.totalTime(this._totalTime*(value/this._duration),!0),this):(this._dirty=!1,this._duration)},p.totalDuration=function(value){return this._dirty=!1,arguments.length?this.duration(value):this._totalDuration},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(value>this._duration?this._duration:value,suppressEvents)):this._time},p.totalTime=function(time,suppressEvents,uncapped){if(_tickerActive||_ticker.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(time<0&&!uncapped&&(time+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var totalDuration=this._totalDuration,tl=this._timeline;if(time>totalDuration&&!uncapped&&(time=totalDuration),this._startTime=(this._paused?this._pauseTime:tl._time)-(this._reversed?totalDuration-time:time)/this._timeScale,tl._dirty||this._uncache(!1),tl._timeline)for(;tl._timeline;)tl._timeline._time!==(tl._startTime+tl._totalTime)/tl._timeScale&&tl.totalTime(tl._totalTime,!0),tl=tl._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===time&&0!==this._duration||(_lazyTweens.length&&_lazyRender(),this.render(time,suppressEvents,!1),_lazyTweens.length&&_lazyRender())}return this},p.progress=p.totalProgress=function(value,suppressEvents){var duration=this.duration();return arguments.length?this.totalTime(duration*value,suppressEvents):duration?this._time/duration:this.ratio},p.startTime=function(value){return arguments.length?(value!==this._startTime&&(this._startTime=value,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,value-this._delay)),this):this._startTime},p.endTime=function(includeRepeats){return this._startTime+(0!=includeRepeats?this.totalDuration():this.duration())/this._timeScale},p.timeScale=function(value){if(!arguments.length)return this._timeScale;var pauseTime,t;for(value=value||_tinyNum,this._timeline&&this._timeline.smoothChildTiming&&(pauseTime=this._pauseTime,t=pauseTime||0===pauseTime?pauseTime:this._timeline.totalTime(),this._startTime=t-(t-this._startTime)*this._timeScale/value),this._timeScale=value,t=this.timeline;t&&t.timeline;)t._dirty=!0,t.totalDuration(),t=t.timeline;return this},p.reversed=function(value){return arguments.length?(value!=this._reversed&&(this._reversed=value,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},p.paused=function(value){if(!arguments.length)return this._paused;var raw,elapsed,tl=this._timeline;return value!=this._paused&&tl&&(_tickerActive||value||_ticker.wake(),raw=tl.rawTime(),elapsed=raw-this._pauseTime,!value&&tl.smoothChildTiming&&(this._startTime+=elapsed,this._uncache(!1)),this._pauseTime=value?raw:null,this._paused=value,this._active=this.isActive(),!value&&0!==elapsed&&this._initted&&this.duration()&&(raw=tl.smoothChildTiming?this._totalTime:(raw-this._startTime)/this._timeScale,this.render(raw,raw===this._totalTime,!0))),this._gc&&!value&&this._enabled(!0,!1),this};var SimpleTimeline=_class("core.SimpleTimeline",function(vars){Animation.call(this,0,vars),this.autoRemoveChildren=this.smoothChildTiming=!0});p=SimpleTimeline.prototype=new Animation,p.constructor=SimpleTimeline,p.kill()._gc=!1,p._first=p._last=p._recent=null,p._sortChildren=!1,p.add=p.insert=function(child,position,align,stagger){var prevTween,st;if(child._startTime=Number(position||0)+child._delay,child._paused&&this!==child._timeline&&(child._pauseTime=this.rawTime()-(child._timeline.rawTime()-child._pauseTime)),child.timeline&&child.timeline._remove(child,!0),child.timeline=child._timeline=this,child._gc&&child._enabled(!0,!0),prevTween=this._last,this._sortChildren)for(st=child._startTime;prevTween&&prevTween._startTime>st;)prevTween=prevTween._prev;return prevTween?(child._next=prevTween._next,prevTween._next=child):(child._next=this._first,this._first=child),child._next?child._next._prev=child:this._last=child,child._prev=prevTween,this._recent=child,this._timeline&&this._uncache(!0),this},p._remove=function(tween,skipDisable){return tween.timeline===this&&(skipDisable||tween._enabled(!1,!0),tween._prev?tween._prev._next=tween._next:this._first===tween&&(this._first=tween._next),tween._next?tween._next._prev=tween._prev:this._last===tween&&(this._last=tween._prev),tween._next=tween._prev=tween.timeline=null,tween===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},p.render=function(time,suppressEvents,force){var next,tween=this._first;for(this._totalTime=this._time=this._rawPrevTime=time;tween;)next=tween._next,(tween._active||time>=tween._startTime&&!tween._paused&&!tween._gc)&&(tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next},p.rawTime=function(){return _tickerActive||_ticker.wake(),this._totalTime};var TweenLite=_class("TweenLite",function(target,duration,vars){if(Animation.call(this,duration,vars),this.render=TweenLite.prototype.render,null==target)throw"Cannot tween a null target.";this.target=target="string"!=typeof target?target:TweenLite.selector(target)||target;var i,targ,targets,isSelector=target.jquery||target.length&&target!==window&&target[0]&&(target[0]===window||target[0].nodeType&&target[0].style&&!target.nodeType),overwrite=this.vars.overwrite;if(this._overwrite=overwrite=null==overwrite?_overwriteLookup[TweenLite.defaultOverwrite]:"number"==typeof overwrite?overwrite>>0:_overwriteLookup[overwrite],(isSelector||target instanceof Array||target.push&&_isArray(target))&&"number"!=typeof target[0])for(this._targets=targets=_slice(target),this._propLookup=[],this._siblings=[],i=0;i<targets.length;i++)targ=targets[i],targ?"string"!=typeof targ?targ.length&&targ!==window&&targ[0]&&(targ[0]===window||targ[0].nodeType&&targ[0].style&&!targ.nodeType)?(targets.splice(i--,1),this._targets=targets=targets.concat(_slice(targ))):(this._siblings[i]=_register(targ,this,!1),1===overwrite&&this._siblings[i].length>1&&_applyOverwrite(targ,this,null,1,this._siblings[i])):(targ=targets[i--]=TweenLite.selector(targ),"string"==typeof targ&&targets.splice(i+1,1)):targets.splice(i--,1);else this._propLookup={},this._siblings=_register(target,this,!1),1===overwrite&&this._siblings.length>1&&_applyOverwrite(target,this,null,1,this._siblings);(this.vars.immediateRender||0===duration&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_tinyNum,this.render(Math.min(0,-this._delay)))},!0),_isSelector=function(v){return v&&v.length&&v!==window&&v[0]&&(v[0]===window||v[0].nodeType&&v[0].style&&!v.nodeType)},_autoCSS=function(vars,target){var p,css={};for(p in vars)_reservedProps[p]||p in target&&"transform"!==p&&"x"!==p&&"y"!==p&&"width"!==p&&"height"!==p&&"className"!==p&&"border"!==p||!(!_plugins[p]||_plugins[p]&&_plugins[p]._autoCSS)||(css[p]=vars[p],delete vars[p]);vars.css=css};p=TweenLite.prototype=new Animation,p.constructor=TweenLite,p.kill()._gc=!1,p.ratio=0,p._firstPT=p._targets=p._overwrittenProps=p._startAt=null,p._notifyPluginsOfEnabled=p._lazy=!1,TweenLite.version="2.0.1",TweenLite.defaultEase=p._ease=new Ease(null,null,1,1),TweenLite.defaultOverwrite="auto",TweenLite.ticker=_ticker,TweenLite.autoSleep=120,TweenLite.lagSmoothing=function(threshold,adjustedLag){_ticker.lagSmoothing(threshold,adjustedLag)},TweenLite.selector=window.$||window.jQuery||function(e){var selector=window.$||window.jQuery;return selector?(TweenLite.selector=selector,selector(e)):(_doc||(_doc=window.document),_doc?_doc.querySelectorAll?_doc.querySelectorAll(e):_doc.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var _lazyTweens=[],_lazyLookup={},_numbersExp=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,_relExp=/[\+-]=-?[\.\d]/,_setRatio=function(v){for(var val,pt=this._firstPT,min=1e-6;pt;)val=pt.blob?1===v&&null!=this.end?this.end:v?this.join(""):this.start:pt.c*v+pt.s,pt.m?val=pt.m.call(this._tween,val,this._target||pt.t,this._tween):val<min&&val>-min&&!pt.blob&&(val=0),pt.f?pt.fp?pt.t[pt.p](pt.fp,val):pt.t[pt.p](val):pt.t[pt.p]=val,pt=pt._next},_blobDif=function(start,end,filter,pt){
var startNums,endNums,num,i,l,nonNumbers,currentNum,a=[],charIndex=0,s="",color=0;for(a.start=start,a.end=end,start=a[0]=start+"",end=a[1]=end+"",filter&&(filter(a),start=a[0],end=a[1]),a.length=0,startNums=start.match(_numbersExp)||[],endNums=end.match(_numbersExp)||[],pt&&(pt._next=null,pt.blob=1,a._firstPT=a._applyPT=pt),l=endNums.length,i=0;i<l;i++)currentNum=endNums[i],nonNumbers=end.substr(charIndex,end.indexOf(currentNum,charIndex)-charIndex),s+=nonNumbers||!i?nonNumbers:",",charIndex+=nonNumbers.length,color?color=(color+1)%5:"rgba("===nonNumbers.substr(-5)&&(color=1),currentNum===startNums[i]||startNums.length<=i?s+=currentNum:(s&&(a.push(s),s=""),num=parseFloat(startNums[i]),a.push(num),a._firstPT={_next:a._firstPT,t:a,p:a.length-1,s:num,c:("="===currentNum.charAt(1)?parseInt(currentNum.charAt(0)+"1",10)*parseFloat(currentNum.substr(2)):parseFloat(currentNum)-num)||0,f:0,m:color&&color<4?Math.round:0}),charIndex+=currentNum.length;return s+=end.substr(charIndex),s&&a.push(s),a.setRatio=_setRatio,_relExp.test(end)&&(a.end=null),a},_addPropTween=function(target,prop,start,end,overwriteProp,mod,funcParam,stringFilter,index){"function"==typeof end&&(end=end(index||0,target));var blob,type=typeof target[prop],getterName="function"!==type?"":prop.indexOf("set")||"function"!=typeof target["get"+prop.substr(3)]?prop:"get"+prop.substr(3),s="get"!==start?start:getterName?funcParam?target[getterName](funcParam):target[getterName]():target[prop],isRelative="string"==typeof end&&"="===end.charAt(1),pt={t:target,p:prop,s:s,f:"function"===type,pg:0,n:overwriteProp||prop,m:mod?"function"==typeof mod?mod:Math.round:0,pr:0,c:isRelative?parseInt(end.charAt(0)+"1",10)*parseFloat(end.substr(2)):parseFloat(end)-s||0};if(("number"!=typeof s||"number"!=typeof end&&!isRelative)&&(funcParam||isNaN(s)||!isRelative&&isNaN(end)||"boolean"==typeof s||"boolean"==typeof end?(pt.fp=funcParam,blob=_blobDif(s,isRelative?parseFloat(pt.s)+pt.c+(pt.s+"").replace(/[0-9\-\.]/g,""):end,stringFilter||TweenLite.defaultStringFilter,pt),pt={t:blob,p:"setRatio",s:0,c:1,f:2,pg:0,n:overwriteProp||prop,pr:0,m:0}):(pt.s=parseFloat(s),isRelative||(pt.c=parseFloat(end)-pt.s||0))),pt.c)return(pt._next=this._firstPT)&&(pt._next._prev=pt),this._firstPT=pt,pt},_internals=TweenLite._internals={isArray:_isArray,isSelector:_isSelector,lazyTweens:_lazyTweens,blobDif:_blobDif},_plugins=TweenLite._plugins={},_tweenLookup=_internals.tweenLookup={},_tweenLookupNum=0,_reservedProps=_internals.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},_overwriteLookup={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},_rootFramesTimeline=Animation._rootFramesTimeline=new SimpleTimeline,_rootTimeline=Animation._rootTimeline=new SimpleTimeline,_nextGCFrame=30,_lazyRender=_internals.lazyRender=function(){var tween,i=_lazyTweens.length;for(_lazyLookup={};--i>-1;)tween=_lazyTweens[i],tween&&tween._lazy!==!1&&(tween.render(tween._lazy[0],tween._lazy[1],!0),tween._lazy=!1);_lazyTweens.length=0};_rootTimeline._startTime=_ticker.time,_rootFramesTimeline._startTime=_ticker.frame,_rootTimeline._active=_rootFramesTimeline._active=!0,setTimeout(_lazyRender,1),Animation._updateRoot=TweenLite.render=function(){var i,a,p;if(_lazyTweens.length&&_lazyRender(),_rootTimeline.render((_ticker.time-_rootTimeline._startTime)*_rootTimeline._timeScale,!1,!1),_rootFramesTimeline.render((_ticker.frame-_rootFramesTimeline._startTime)*_rootFramesTimeline._timeScale,!1,!1),_lazyTweens.length&&_lazyRender(),_ticker.frame>=_nextGCFrame){_nextGCFrame=_ticker.frame+(parseInt(TweenLite.autoSleep,10)||120);for(p in _tweenLookup){for(a=_tweenLookup[p].tweens,i=a.length;--i>-1;)a[i]._gc&&a.splice(i,1);0===a.length&&delete _tweenLookup[p]}if(p=_rootTimeline._first,(!p||p._paused)&&TweenLite.autoSleep&&!_rootFramesTimeline._first&&1===_ticker._listeners.tick.length){for(;p&&p._paused;)p=p._next;p||_ticker.sleep()}}},_ticker.addEventListener("tick",Animation._updateRoot);var _register=function(target,tween,scrub){var a,i,id=target._gsTweenID;if(_tweenLookup[id||(target._gsTweenID=id="t"+_tweenLookupNum++)]||(_tweenLookup[id]={target:target,tweens:[]}),tween&&(a=_tweenLookup[id].tweens,a[i=a.length]=tween,scrub))for(;--i>-1;)a[i]===tween&&a.splice(i,1);return _tweenLookup[id].tweens},_onOverwrite=function(overwrittenTween,overwritingTween,target,killedProps){var r1,r2,func=overwrittenTween.vars.onOverwrite;return func&&(r1=func(overwrittenTween,overwritingTween,target,killedProps)),func=TweenLite.onOverwrite,func&&(r2=func(overwrittenTween,overwritingTween,target,killedProps)),r1!==!1&&r2!==!1},_applyOverwrite=function(target,tween,props,mode,siblings){var i,changed,curTween,l;if(1===mode||mode>=4){for(l=siblings.length,i=0;i<l;i++)if((curTween=siblings[i])!==tween)curTween._gc||curTween._kill(null,target,tween)&&(changed=!0);else if(5===mode)break;return changed}var globalStart,startTime=tween._startTime+_tinyNum,overlaps=[],oCount=0,zeroDur=0===tween._duration;for(i=siblings.length;--i>-1;)(curTween=siblings[i])===tween||curTween._gc||curTween._paused||(curTween._timeline!==tween._timeline?(globalStart=globalStart||_checkOverlap(tween,0,zeroDur),0===_checkOverlap(curTween,globalStart,zeroDur)&&(overlaps[oCount++]=curTween)):curTween._startTime<=startTime&&curTween._startTime+curTween.totalDuration()/curTween._timeScale>startTime&&((zeroDur||!curTween._initted)&&startTime-curTween._startTime<=2e-10||(overlaps[oCount++]=curTween)));for(i=oCount;--i>-1;)if(curTween=overlaps[i],2===mode&&curTween._kill(props,target,tween)&&(changed=!0),2!==mode||!curTween._firstPT&&curTween._initted){if(2!==mode&&!_onOverwrite(curTween,tween))continue;curTween._enabled(!1,!1)&&(changed=!0)}return changed},_checkOverlap=function(tween,reference,zeroDur){for(var tl=tween._timeline,ts=tl._timeScale,t=tween._startTime;tl._timeline;){if(t+=tl._startTime,ts*=tl._timeScale,tl._paused)return-100;tl=tl._timeline}return t/=ts,t>reference?t-reference:zeroDur&&t===reference||!tween._initted&&t-reference<2*_tinyNum?_tinyNum:(t+=tween.totalDuration()/tween._timeScale/ts)>reference+_tinyNum?0:t-reference-_tinyNum};p._init=function(){var i,initPlugins,pt,p,startVars,l,v=this.vars,op=this._overwrittenProps,dur=this._duration,immediate=!!v.immediateRender,ease=v.ease;if(v.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),startVars={};for(p in v.startAt)startVars[p]=v.startAt[p];if(startVars.data="isStart",startVars.overwrite=!1,startVars.immediateRender=!0,startVars.lazy=immediate&&v.lazy!==!1,startVars.startAt=startVars.delay=null,startVars.onUpdate=v.onUpdate,startVars.onUpdateParams=v.onUpdateParams,startVars.onUpdateScope=v.onUpdateScope||v.callbackScope||this,this._startAt=TweenLite.to(this.target||{},0,startVars),immediate)if(this._time>0)this._startAt=null;else if(0!==dur)return}else if(v.runBackwards&&0!==dur)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(immediate=!1),pt={};for(p in v)_reservedProps[p]&&"autoCSS"!==p||(pt[p]=v[p]);if(pt.overwrite=0,pt.data="isFromStart",pt.lazy=immediate&&v.lazy!==!1,pt.immediateRender=immediate,this._startAt=TweenLite.to(this.target,0,pt),immediate){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=ease=ease?ease instanceof Ease?ease:"function"==typeof ease?new Ease(ease,v.easeParams):_easeMap[ease]||TweenLite.defaultEase:TweenLite.defaultEase,v.easeParams instanceof Array&&ease.config&&(this._ease=ease.config.apply(ease,v.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(l=this._targets.length,i=0;i<l;i++)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],op?op[i]:null,i)&&(initPlugins=!0);else initPlugins=this._initProps(this.target,this._propLookup,this._siblings,op,0);if(initPlugins&&TweenLite._onPluginEvent("_onInitAllProps",this),op&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),v.runBackwards)for(pt=this._firstPT;pt;)pt.s+=pt.c,pt.c=-pt.c,pt=pt._next;this._onUpdate=v.onUpdate,this._initted=!0},p._initProps=function(target,propLookup,siblings,overwrittenProps,index){var p,i,initPlugins,plugin,pt,v;if(null==target)return!1;_lazyLookup[target._gsTweenID]&&_lazyRender(),this.vars.css||target.style&&target!==window&&target.nodeType&&_plugins.css&&this.vars.autoCSS!==!1&&_autoCSS(this.vars,target);for(p in this.vars)if(v=this.vars[p],_reservedProps[p])v&&(v instanceof Array||v.push&&_isArray(v))&&v.join("").indexOf("{self}")!==-1&&(this.vars[p]=v=this._swapSelfInParams(v,this));else if(_plugins[p]&&(plugin=new _plugins[p])._onInitTween(target,this.vars[p],this,index)){for(this._firstPT=pt={_next:this._firstPT,t:plugin,p:"setRatio",s:0,c:1,f:1,n:p,pg:1,pr:plugin._priority,m:0},i=plugin._overwriteProps.length;--i>-1;)propLookup[plugin._overwriteProps[i]]=this._firstPT;(plugin._priority||plugin._onInitAllProps)&&(initPlugins=!0),(plugin._onDisable||plugin._onEnable)&&(this._notifyPluginsOfEnabled=!0),pt._next&&(pt._next._prev=pt)}else propLookup[p]=_addPropTween.call(this,target,p,"get",v,p,0,null,this.vars.stringFilter,index);return overwrittenProps&&this._kill(overwrittenProps,target)?this._initProps(target,propLookup,siblings,overwrittenProps,index):this._overwrite>1&&this._firstPT&&siblings.length>1&&_applyOverwrite(target,this,propLookup,this._overwrite,siblings)?(this._kill(propLookup,target),this._initProps(target,propLookup,siblings,overwrittenProps,index)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(_lazyLookup[target._gsTweenID]=!0),initPlugins)},p.render=function(time,suppressEvents,force){var isComplete,callback,pt,rawPrevTime,prevTime=this._time,duration=this._duration,prevRawPrevTime=this._rawPrevTime;if(time>=duration-1e-7&&time>=0)this._totalTime=this._time=duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(isComplete=!0,callback="onComplete",force=force||this._timeline.autoRemoveChildren),0===duration&&(this._initted||!this.vars.lazy||force)&&(this._startTime===this._timeline._duration&&(time=0),(prevRawPrevTime<0||time<=0&&time>=-1e-7||prevRawPrevTime===_tinyNum&&"isPause"!==this.data)&&prevRawPrevTime!==time&&(force=!0,prevRawPrevTime>_tinyNum&&(callback="onReverseComplete")),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum);else if(time<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==prevTime||0===duration&&prevRawPrevTime>0)&&(callback="onReverseComplete",isComplete=this._reversed),time<0&&(this._active=!1,0===duration&&(this._initted||!this.vars.lazy||force)&&(prevRawPrevTime>=0&&(prevRawPrevTime!==_tinyNum||"isPause"!==this.data)&&(force=!0),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)),(!this._initted||this._startAt&&this._startAt.progress())&&(force=!0);else if(this._totalTime=this._time=time,this._easeType){var r=time/duration,type=this._easeType,pow=this._easePower;(1===type||3===type&&r>=.5)&&(r=1-r),3===type&&(r*=2),1===pow?r*=r:2===pow?r*=r*r:3===pow?r*=r*r*r:4===pow&&(r*=r*r*r*r),1===type?this.ratio=1-r:2===type?this.ratio=r:time/duration<.5?this.ratio=r/2:this.ratio=1-r/2}else this.ratio=this._ease.getRatio(time/duration);if(this._time!==prevTime||force){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!force&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=prevTime,this._rawPrevTime=prevRawPrevTime,_lazyTweens.push(this),void(this._lazy=[time,suppressEvents]);this._time&&!isComplete?this.ratio=this._ease.getRatio(this._time/duration):isComplete&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==prevTime&&time>=0&&(this._active=!0),0===prevTime&&(this._startAt&&(time>=0?this._startAt.render(time,!0,force):callback||(callback="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==duration||suppressEvents||this._callback("onStart"))),pt=this._firstPT;pt;)pt.f?pt.t[pt.p](pt.c*this.ratio+pt.s):pt.t[pt.p]=pt.c*this.ratio+pt.s,pt=pt._next;this._onUpdate&&(time<0&&this._startAt&&time!==-1e-4&&this._startAt.render(time,!0,force),suppressEvents||(this._time!==prevTime||isComplete||force)&&this._callback("onUpdate")),callback&&(this._gc&&!force||(time<0&&this._startAt&&!this._onUpdate&&time!==-1e-4&&this._startAt.render(time,!0,force),isComplete&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback),0===duration&&this._rawPrevTime===_tinyNum&&rawPrevTime!==_tinyNum&&(this._rawPrevTime=0)))}},p._kill=function(vars,target,overwritingTween){if("all"===vars&&(vars=null),null==vars&&(null==target||target===this.target))return this._lazy=!1,this._enabled(!1,!1);target="string"!=typeof target?target||this._targets||this.target:TweenLite.selector(target)||target;var i,overwrittenProps,p,pt,propLookup,changed,killProps,record,killed,simultaneousOverwrite=overwritingTween&&this._time&&overwritingTween._startTime===this._startTime&&this._timeline===overwritingTween._timeline;if((_isArray(target)||_isSelector(target))&&"number"!=typeof target[0])for(i=target.length;--i>-1;)this._kill(vars,target[i],overwritingTween)&&(changed=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(target===this._targets[i]){propLookup=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],overwrittenProps=this._overwrittenProps[i]=vars?this._overwrittenProps[i]||{}:"all";break}}else{if(target!==this.target)return!1;propLookup=this._propLookup,overwrittenProps=this._overwrittenProps=vars?this._overwrittenProps||{}:"all"}if(propLookup){if(killProps=vars||propLookup,record=vars!==overwrittenProps&&"all"!==overwrittenProps&&vars!==propLookup&&("object"!=typeof vars||!vars._tempKill),overwritingTween&&(TweenLite.onOverwrite||this.vars.onOverwrite)){for(p in killProps)propLookup[p]&&(killed||(killed=[]),killed.push(p));if((killed||!vars)&&!_onOverwrite(this,overwritingTween,target,killed))return!1}for(p in killProps)(pt=propLookup[p])&&(simultaneousOverwrite&&(pt.f?pt.t[pt.p](pt.s):pt.t[pt.p]=pt.s,changed=!0),pt.pg&&pt.t._kill(killProps)&&(changed=!0),pt.pg&&0!==pt.t._overwriteProps.length||(pt._prev?pt._prev._next=pt._next:pt===this._firstPT&&(this._firstPT=pt._next),pt._next&&(pt._next._prev=pt._prev),pt._next=pt._prev=null),delete propLookup[p]),record&&(overwrittenProps[p]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return changed},p.invalidate=function(){return this._notifyPluginsOfEnabled&&TweenLite._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],Animation.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_tinyNum,this.render(Math.min(0,-this._delay))),this},p._enabled=function(enabled,ignoreTimeline){if(_tickerActive||_ticker.wake(),enabled&&this._gc){var i,targets=this._targets;if(targets)for(i=targets.length;--i>-1;)this._siblings[i]=_register(targets[i],this,!0);else this._siblings=_register(this.target,this,!0)}return Animation.prototype._enabled.call(this,enabled,ignoreTimeline),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&TweenLite._onPluginEvent(enabled?"_onEnable":"_onDisable",this)},TweenLite.to=function(target,duration,vars){return new TweenLite(target,duration,vars)},TweenLite.from=function(target,duration,vars){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,new TweenLite(target,duration,vars)},TweenLite.fromTo=function(target,duration,fromVars,toVars){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,new TweenLite(target,duration,toVars)},TweenLite.delayedCall=function(delay,callback,params,scope,useFrames){return new TweenLite(callback,0,{delay:delay,onComplete:callback,onCompleteParams:params,callbackScope:scope,onReverseComplete:callback,onReverseCompleteParams:params,immediateRender:!1,lazy:!1,useFrames:useFrames,overwrite:0})},TweenLite.set=function(target,vars){return new TweenLite(target,0,vars)},TweenLite.getTweensOf=function(target,onlyActive){if(null==target)return[];target="string"!=typeof target?target:TweenLite.selector(target)||target;var i,a,j,t;if((_isArray(target)||_isSelector(target))&&"number"!=typeof target[0]){for(i=target.length,a=[];--i>-1;)a=a.concat(TweenLite.getTweensOf(target[i],onlyActive));for(i=a.length;--i>-1;)for(t=a[i],j=i;--j>-1;)t===a[j]&&a.splice(i,1)}else if(target._gsTweenID)for(a=_register(target).concat(),i=a.length;--i>-1;)(a[i]._gc||onlyActive&&!a[i].isActive())&&a.splice(i,1);return a||[]},TweenLite.killTweensOf=TweenLite.killDelayedCallsTo=function(target,onlyActive,vars){"object"==typeof onlyActive&&(vars=onlyActive,onlyActive=!1);for(var a=TweenLite.getTweensOf(target,onlyActive),i=a.length;--i>-1;)a[i]._kill(vars,target)};var TweenPlugin=_class("plugins.TweenPlugin",function(props,priority){this._overwriteProps=(props||"").split(","),this._propName=this._overwriteProps[0],this._priority=priority||0,this._super=TweenPlugin.prototype},!0);if(p=TweenPlugin.prototype,TweenPlugin.version="1.19.0",TweenPlugin.API=2,p._firstPT=null,p._addTween=_addPropTween,p.setRatio=_setRatio,p._kill=function(lookup){var i,a=this._overwriteProps,pt=this._firstPT;if(null!=lookup[this._propName])this._overwriteProps=[];else for(i=a.length;--i>-1;)null!=lookup[a[i]]&&a.splice(i,1);for(;pt;)null!=lookup[pt.n]&&(pt._next&&(pt._next._prev=pt._prev),pt._prev?(pt._prev._next=pt._next,pt._prev=null):this._firstPT===pt&&(this._firstPT=pt._next)),pt=pt._next;return!1},p._mod=p._roundProps=function(lookup){for(var val,pt=this._firstPT;pt;)val=lookup[this._propName]||null!=pt.n&&lookup[pt.n.split(this._propName+"_").join("")],val&&"function"==typeof val&&(2===pt.f?pt.t._applyPT.m=val:pt.m=val),pt=pt._next},TweenLite._onPluginEvent=function(type,tween){var changed,pt2,first,last,next,pt=tween._firstPT;if("_onInitAllProps"===type){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}pt=tween._firstPT=first}for(;pt;)pt.pg&&"function"==typeof pt.t[type]&&pt.t[type]()&&(changed=!0),pt=pt._next;return changed},TweenPlugin.activate=function(plugins){for(var i=plugins.length;--i>-1;)plugins[i].API===TweenPlugin.API&&(_plugins[(new plugins[i])._propName]=plugins[i]);return!0},_gsDefine.plugin=function(config){if(!(config&&config.propName&&config.init&&config.API))throw"illegal plugin definition.";var prop,propName=config.propName,priority=config.priority||0,overwriteProps=config.overwriteProps,map={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},Plugin=_class("plugins."+propName.charAt(0).toUpperCase()+propName.substr(1)+"Plugin",function(){TweenPlugin.call(this,propName,priority),this._overwriteProps=overwriteProps||[]},config.global===!0),p=Plugin.prototype=new TweenPlugin(propName);p.constructor=Plugin,Plugin.API=config.API;for(prop in map)"function"==typeof config[prop]&&(p[map[prop]]=config[prop]);return Plugin.version=config.version,TweenPlugin.activate([Plugin]),Plugin},a=window._gsQueue){for(i=0;i<a.length;i++)a[i]();for(p in _defLookup)_defLookup[p].func||window.console.log("GSAP encountered missing dependency: "+p)}_tickerActive=!1}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(a,b,c){var d,e,f,g,h,i,j,k,l,m={css:{}},n={css:{}},o={css:{}},p={css:{}},q=_gsScope._gsDefine.globals,r={},s=document,t=s.documentElement||{},u=function(a){return s.createElementNS?s.createElementNS("http://www.w3.org/1999/xhtml",a):s.createElement(a)},v=u("div"),w=[],x=function(){return!1},y=180/Math.PI,z=999999999999999,A=Date.now||function(){return(new Date).getTime()},B=!(s.addEventListener||!s.all),C=s.createElement("div"),D=[],E={},F=0,G=/^(?:a|input|textarea|button|select)$/i,H=0,I=-1!==navigator.userAgent.toLowerCase().indexOf("android"),J=0,K={},L={},M=function(a){if("string"==typeof a&&(a=b.selector(a)),!a||a.nodeType)return[a];var c,d=[],e=a.length;for(c=0;c!==e;d.push(a[c++]));return d},N=function(a){var b,c={};for(b in a)c[b]=a[b];return c},O=function(){for(var a=D.length;--a>-1;)D[a]()},P=function(a){D.push(a),1===D.length&&b.ticker.addEventListener("tick",O,this,!1,1)},Q=function(a){for(var c=D.length;--c>-1;)D[c]===a&&D.splice(c,1);b.to(R,0,{overwrite:"all",delay:15,onComplete:R})},R=function(){D.length||b.ticker.removeEventListener("tick",O)},S=function(a,b){var c;for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},T=function(){return null!=window.pageYOffset?window.pageYOffset:null!=s.scrollTop?s.scrollTop:t.scrollTop||s.body.scrollTop||0},U=function(){return null!=window.pageXOffset?window.pageXOffset:null!=s.scrollLeft?s.scrollLeft:t.scrollLeft||s.body.scrollLeft||0},V=function(a,b){Ia(a,"scroll",b),X(a.parentNode)||V(a.parentNode,b)},W=function(a,b){Ja(a,"scroll",b),X(a.parentNode)||W(a.parentNode,b)},X=function(a){return!(a&&a!==t&&a!==s&&a!==s.body&&a!==window&&a.nodeType&&a.parentNode)},Y=function(a,b){var c="x"===b?"Width":"Height",d="scroll"+c,e="client"+c,f=s.body;return Math.max(0,X(a)?Math.max(t[d],f[d])-(window["inner"+c]||t[e]||f[e]):a[d]-a[e])},Z=function(a){var b=X(a),c=Y(a,"x"),d=Y(a,"y");b?a=L:Z(a.parentNode),a._gsMaxScrollX=c,a._gsMaxScrollY=d,a._gsScrollX=a.scrollLeft||0,a._gsScrollY=a.scrollTop||0},$=function(a,b){return a=a||window.event,r.pageX=a.clientX+s.body.scrollLeft+t.scrollLeft,r.pageY=a.clientY+s.body.scrollTop+t.scrollTop,b&&(a.returnValue=!1),r},_=function(a){return a?("string"==typeof a&&(a=b.selector(a)),a.length&&a!==window&&a[0]&&a[0].style&&!a.nodeType&&(a=a[0]),a===window||a.nodeType&&a.style?a:null):a},aa=function(a,b){var c,e,f,g=a.style;if(void 0===g[b]){for(f=["O","Moz","ms","Ms","Webkit"],e=5,c=b.charAt(0).toUpperCase()+b.substr(1);--e>-1&&void 0===g[f[e]+c];);if(0>e)return"";d=3===e?"ms":f[e],b=d+c}return b},ba=function(a,b,c){var d=a.style;d&&(void 0===d[b]&&(b=aa(a,b)),null==c?d.removeProperty?d.removeProperty(b.replace(/([A-Z])/g,"-$1").toLowerCase()):d.removeAttribute(b):void 0!==d[b]&&(d[b]=c))},ca=s.defaultView?s.defaultView.getComputedStyle:x,da=/(?:Left|Right|Width)/i,ea=/(?:\d|\-|\+|=|#|\.)*/g,fa=function(a,b,c,d,e){if("px"===d||!d)return c;if("auto"===d||!c)return 0;var f,g=da.test(b),h=a,i=v.style,j=0>c;return j&&(c=-c),"%"===d&&-1!==b.indexOf("border")?f=c/100*(g?a.clientWidth:a.clientHeight):(i.cssText="border:0 solid red;position:"+ha(a,"position",!0)+";line-height:0;","%"!==d&&h.appendChild?i[g?"borderLeftWidth":"borderTopWidth"]=c+d:(h=a.parentNode||s.body,i[g?"width":"height"]=c+d),h.appendChild(v),f=parseFloat(v[g?"offsetWidth":"offsetHeight"]),h.removeChild(v),0!==f||e||(f=fa(a,b,c,d,!0))),j?-f:f},ga=function(a,b){if("absolute"!==ha(a,"position",!0))return 0;var c="left"===b?"Left":"Top",d=ha(a,"margin"+c,!0);return a["offset"+c]-(fa(a,b,parseFloat(d),(d+"").replace(ea,""))||0)},ha=function(a,b,c){var d,e=(a._gsTransform||{})[b];return e||0===e?e:(a.style[b]?e=a.style[b]:(d=ca(a))?(e=d.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()),e=e||d.length?e:d[b]):a.currentStyle&&(e=a.currentStyle[b]),"auto"!==e||"top"!==b&&"left"!==b||(e=ga(a,b)),c?e:parseFloat(e)||0)},ia=function(a,b,c){var d=a.vars,e=d[c],f=a._listeners[b];"function"==typeof e&&e.apply(d[c+"Scope"]||d.callbackScope||a,d[c+"Params"]||[a.pointerEvent]),f&&a.dispatchEvent(b)},ja=function(a,b){var c,d,e,f=_(a);return f?Da(f,b):void 0!==a.left?(e=xa(b),{left:a.left-e.x,top:a.top-e.y,width:a.width,height:a.height}):(d=a.min||a.minX||a.minRotation||0,c=a.min||a.minY||0,{left:d,top:c,width:(a.max||a.maxX||a.maxRotation||0)-d,height:(a.max||a.maxY||0)-c})},ka=function(){if(!s.createElementNS)return g=0,void(h=!1);var a,b,c,d,e=u("div"),f=s.createElementNS("http://www.w3.org/2000/svg","svg"),l=u("div"),m=e.style,n=s.body||t;s.body&&na&&(m.position="absolute",n.appendChild(l),l.appendChild(e),d=e.offsetParent,l.style[na]="rotate(1deg)",k=e.offsetParent===d,l.style.position="absolute",m.height="10px",d=e.offsetTop,l.style.border="5px solid red",j=d!==e.offsetTop,n.removeChild(l)),m=f.style,f.setAttributeNS(null,"width","400px"),f.setAttributeNS(null,"height","400px"),f.setAttributeNS(null,"viewBox","0 0 400 400"),m.display="block",m.boxSizing="border-box",m.border="0px solid red",m.transform="none",e.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",n.appendChild(e),e.appendChild(f),c=f.createSVGPoint().matrixTransform(f.getScreenCTM()),b=c.y,e.scrollTop=100,c.x=c.y=0,c=c.matrixTransform(f.getScreenCTM()),i=b-c.y<100.1?0:b-c.y-150,e.removeChild(f),n.removeChild(e),n.appendChild(f),a=f.getScreenCTM(),b=a.e,m.border="50px solid red",a=f.getScreenCTM(),0===b&&0===a.e&&0===a.f&&1===a.a?(g=1,h=!0):(g=b!==a.e?1:0,h=1!==a.a),n.removeChild(f)},la=""!==aa(v,"perspective"),ma=aa(v,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),na=aa(v,"transform"),oa=na.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),pa={},qa={},ra=window.SVGElement,sa=function(a){return!!(ra&&"function"==typeof a.getBBox&&a.getCTM&&(!a.parentNode||a.parentNode.getBBox&&a.parentNode.getCTM))},ta=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&parseFloat(RegExp.$1)<11,ua=[],va=[],wa=function(a){if(!a.getBoundingClientRect||!a.parentNode||!na)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:t};if(Sa.cacheSVGData!==!1&&a._gsCache&&a._gsCache.lastUpdate===b.ticker.frame)return a._gsCache;var c,d,e,f,j,k,l,m,n,o,p,q,r=a,u=ya(a);if(u.lastUpdate=b.ticker.frame,a.getBBox&&!u.isSVGRoot){for(r=a.parentNode,c=a.getBBox();r&&"svg"!==(r.nodeName+"").toLowerCase();)r=r.parentNode;return f=wa(r),u.offsetTop=c.y*f.scaleY,u.offsetLeft=c.x*f.scaleX,u.scaleX=f.scaleX,u.scaleY=f.scaleY,u.offsetParent=r||t,u}for(e=u.offsetParent,e===s.body&&(e=t),va.length=ua.length=0;r&&(j=ha(r,na,!0),"matrix(1, 0, 0, 1, 0, 0)"!==j&&"none"!==j&&"translate3d(0px, 0px, 0px)"!==j&&(va.push(r),ua.push(r.style[na]),r.style[na]="none"),r!==e);)r=r.parentNode;for(d=e.getBoundingClientRect(),j=a.getScreenCTM(),m=a.createSVGPoint(),l=m.matrixTransform(j),m.x=m.y=10,m=m.matrixTransform(j),u.scaleX=(m.x-l.x)/10,u.scaleY=(m.y-l.y)/10,void 0===g&&ka(),u.borderBox&&!h&&a.getAttribute("width")&&(f=ca(a)||{},n=parseFloat(f.borderLeftWidth)+parseFloat(f.borderRightWidth)||0,o=parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth)||0,p=parseFloat(f.width)||0,q=parseFloat(f.height)||0,u.scaleX*=(p-n)/p,u.scaleY*=(q-o)/q),i?(c=a.getBoundingClientRect(),u.offsetLeft=c.left-d.left,u.offsetTop=c.top-d.top):(u.offsetLeft=l.x-d.left,u.offsetTop=l.y-d.top),u.offsetParent=e,k=va.length;--k>-1;)va[k].style[na]=ua[k];return u},xa=function(a,c){if(c=c||{},!a||a===t||!a.parentNode||a===window)return{x:0,y:0};var d=ca(a),e=ma&&d?d.getPropertyValue(ma):"50% 50%",f=e.split(" "),g=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":f[0],h=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":f[1];return("center"===h||null==h)&&(h="50%"),("center"===g||isNaN(parseFloat(g)))&&(g="50%"),a.getBBox&&sa(a)?(a._gsTransform||(b.set(a,{x:"+=0",overwrite:!1}),void 0===a._gsTransform.xOrigin&&void 0),e=a.getBBox(),c.x=a._gsTransform.xOrigin-e.x,c.y=a._gsTransform.yOrigin-e.y):(a.getBBox&&-1!==(g+h).indexOf("%")&&(a=a.getBBox(),a={offsetWidth:a.width,offsetHeight:a.height}),c.x=-1!==g.indexOf("%")?a.offsetWidth*parseFloat(g)/100:parseFloat(g),c.y=-1!==h.indexOf("%")?a.offsetHeight*parseFloat(h)/100:parseFloat(h)),c},ya=function(a){if(Sa.cacheSVGData!==!1&&a._gsCache&&a._gsCache.lastUpdate===b.ticker.frame)return a._gsCache;var c,d=a._gsCache=a._gsCache||{},e=ca(a),f=a.getBBox&&sa(a),g="svg"===(a.nodeName+"").toLowerCase();if(d.isSVG=f,d.isSVGRoot=g,d.borderBox="border-box"===e.boxSizing,d.computedStyle=e,g)c=a.parentNode||t,c.insertBefore(v,a),d.offsetParent=v.offsetParent||t,c.removeChild(v);else if(f){for(c=a.parentNode;c&&"svg"!==(c.nodeName+"").toLowerCase();)c=c.parentNode;d.offsetParent=c}else d.offsetParent=a.offsetParent;return d},za=function(a,b,c,d){if(a===window||!a||!a.style||!a.parentNode)return[1,0,0,1,0,0];var e,f,h,i,l,m,n,o,p,q,r,u,v,w,x=a._gsCache||ya(a),y=a.parentNode,z=y._gsCache||ya(y),A=x.computedStyle,B=x.isSVG?z.offsetParent:y.offsetParent;return e=x.isSVG&&-1!==(a.style[na]+"").indexOf("matrix")?a.style[na]:A?A.getPropertyValue(oa):a.currentStyle?a.currentStyle[na]:"1,0,0,1,0,0",a.getBBox&&-1!==(a.getAttribute("transform")+"").indexOf("matrix")&&(e=a.getAttribute("transform")),e=(e+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0],e.length>6&&(e=[e[0],e[1],e[4],e[5],e[12],e[13]]),d?e[4]=e[5]=0:x.isSVG&&(l=a._gsTransform)&&(l.xOrigin||l.yOrigin)&&(e[0]=parseFloat(e[0]),e[1]=parseFloat(e[1]),e[2]=parseFloat(e[2]),e[3]=parseFloat(e[3]),e[4]=parseFloat(e[4])-(l.xOrigin-(l.xOrigin*e[0]+l.yOrigin*e[2])),e[5]=parseFloat(e[5])-(l.yOrigin-(l.xOrigin*e[1]+l.yOrigin*e[3]))),b&&(void 0===g&&ka(),h=x.isSVG||x.isSVGRoot?wa(a):a,x.isSVG?(i=a.getBBox(),q=z.isSVGRoot?{x:0,y:0}:y.getBBox(),h={offsetLeft:i.x-q.x,offsetTop:i.y-q.y,offsetParent:x.offsetParent}):x.isSVGRoot?(r=parseInt(A.borderTopWidth,10)||0,u=parseInt(A.borderLeftWidth,10)||0,v=(e[0]-g)*u+e[2]*r,w=e[1]*u+(e[3]-g)*r,m=b.x,n=b.y,o=m-(m*e[0]+n*e[2]),p=n-(m*e[1]+n*e[3]),e[4]=parseFloat(e[4])+o,e[5]=parseFloat(e[5])+p,b.x-=o,b.y-=p,m=h.scaleX,n=h.scaleY,b.x*=m,b.y*=n,e[0]*=m,e[1]*=n,e[2]*=m,e[3]*=n,ta||(b.x+=v,b.y+=w)):!j&&a.offsetParent&&(b.x+=parseInt(ha(a.offsetParent,"borderLeftWidth"),10)||0,b.y+=parseInt(ha(a.offsetParent,"borderTopWidth"),10)||0),f=y===t||y===s.body,e[4]=Number(e[4])+b.x+(h.offsetLeft||0)-c.x-(f?0:y.scrollLeft||0),e[5]=Number(e[5])+b.y+(h.offsetTop||0)-c.y-(f?0:y.scrollTop||0),y&&"fixed"===ha(a,"position",A)&&(e[4]+=U(),e[5]+=T()),!y||y===t||B!==h.offsetParent||z.isSVG||k&&"100100"!==za(y).join("")||(h=z.isSVGRoot?wa(y):y,e[4]-=h.offsetLeft||0,e[5]-=h.offsetTop||0,j||!z.offsetParent||x.isSVG||x.isSVGRoot||(e[4]-=parseInt(ha(z.offsetParent,"borderLeftWidth"),10)||0,e[5]-=parseInt(ha(z.offsetParent,"borderTopWidth"),10)||0))),e},Aa=function(a,b){if(!a||a===window||!a.parentNode)return[1,0,0,1,0,0];for(var c,d,e,f,g,h,i,j,k=xa(a,pa),l=xa(a.parentNode,qa),m=za(a,k,l);(a=a.parentNode)&&a.parentNode&&a!==t;)k=l,l=xa(a.parentNode,k===pa?qa:pa),i=za(a,k,l),c=m[0],d=m[1],e=m[2],f=m[3],g=m[4],h=m[5],m[0]=c*i[0]+d*i[2],m[1]=c*i[1]+d*i[3],m[2]=e*i[0]+f*i[2],m[3]=e*i[1]+f*i[3],m[4]=g*i[0]+h*i[2]+i[4],m[5]=g*i[1]+h*i[3]+i[5];return b&&(c=m[0],d=m[1],e=m[2],f=m[3],g=m[4],h=m[5],j=c*f-d*e,m[0]=f/j,m[1]=-d/j,m[2]=-e/j,m[3]=c/j,m[4]=(e*h-f*g)/j,m[5]=-(c*h-d*g)/j),m},Ba=function(a,b,c,d,e){a=_(a);var f=Aa(a,!1,e),g=b.x,h=b.y;return c&&(xa(a,b),g-=b.x,h-=b.y),d=d===!0?b:d||{},d.x=g*f[0]+h*f[2]+f[4],d.y=g*f[1]+h*f[3]+f[5],d},Ca=function(a,b,c){var d=a.x*b[0]+a.y*b[2]+b[4],e=a.x*b[1]+a.y*b[3]+b[5];return a.x=d*c[0]+e*c[2]+c[4],
a.y=d*c[1]+e*c[3]+c[5],a},Da=function(a,b,c){if(!(a=_(a)))return null;b=_(b);var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,u,v,w,x,y,z,A,C=a.getBBox&&sa(a);if(a===window)g=T(),e=U(),f=e+(t.clientWidth||a.innerWidth||s.body.clientWidth||0),h=g+((a.innerHeight||0)-20<t.clientHeight?t.clientHeight:a.innerHeight||s.body.clientHeight||0);else{if(void 0===b||b===window)return a.getBoundingClientRect();d=xa(a),e=-d.x,g=-d.y,C?(o=a.getBBox(),p=o.width,q=o.height):"svg"!==(a.nodeName+"").toLowerCase()&&a.offsetWidth?(p=a.offsetWidth,q=a.offsetHeight):(z=ca(a),p=parseFloat(z.width),q=parseFloat(z.height)),f=e+p,h=g+q,"svg"!==a.nodeName.toLowerCase()||B||(r=wa(a),A=r.computedStyle||{},w=(a.getAttribute("viewBox")||"0 0").split(" "),x=parseFloat(w[0]),y=parseFloat(w[1]),u=parseFloat(A.borderLeftWidth)||0,v=parseFloat(A.borderTopWidth)||0,f-=p-(p-u)/r.scaleX-x,h-=q-(q-v)/r.scaleY-y,e-=u/r.scaleX-x,g-=v/r.scaleY-y,z&&(f+=(parseFloat(A.borderRightWidth)+u)/r.scaleX,h+=(v+parseFloat(A.borderBottomWidth))/r.scaleY))}return a===b?{left:e,top:g,width:f-e,height:h-g}:(i=Aa(a),j=Aa(b,!0),k=Ca({x:e,y:g},i,j),l=Ca({x:f,y:g},i,j),m=Ca({x:f,y:h},i,j),n=Ca({x:e,y:h},i,j),e=Math.min(k.x,l.x,m.x,n.x),g=Math.min(k.y,l.y,m.y,n.y),K.x=K.y=0,c&&xa(b,K),{left:e+K.x,top:g+K.y,width:Math.max(k.x,l.x,m.x,n.x)-e,height:Math.max(k.y,l.y,m.y,n.y)-g})},Ea=function(a){return!!(a&&a.length&&a[0]&&(a[0].nodeType&&a[0].style&&!a.nodeType||a[0].length&&a[0][0]))},Fa=function(a){var b,c,d,e=[],f=a.length;for(b=0;f>b;b++)if(c=a[b],Ea(c))for(d=c.length,d=0;d<c.length;d++)e.push(c[d]);else c&&0!==c.length&&e.push(c);return e},Ga="ontouchstart"in t&&"orientation"in window,Ha=function(a){for(var b=a.split(","),c=(void 0!==v.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==v.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":a).split(","),d={},e=8;--e>-1;)d[b[e]]=c[e],d[c[e]]=b[e];return d}("touchstart,touchmove,touchend,touchcancel"),Ia=function(a,b,c,d){a.addEventListener?a.addEventListener(Ha[b]||b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},Ja=function(a,b,c){a.removeEventListener?a.removeEventListener(Ha[b]||b,c):a.detachEvent&&a.detachEvent("on"+b,c)},Ka=function(a,b){for(var c=a.length;--c>-1;)if(a[c].identifier===b)return!0;return!1},La=function(a){e=a.touches&&H<a.touches.length,Ja(a.target,"touchend",La)},Ma=function(a){e=a.touches&&H<a.touches.length,Ia(a.target,"touchend",La)},Na=function(a,b,c,d,e,f){var g,h,i,j={};if(b)if(1!==e&&b instanceof Array){for(j.end=g=[],i=b.length,h=0;i>h;h++)g[h]=b[h]*e;c+=1.1,d-=1.1}else"function"==typeof b?j.end=function(c){return b.call(a,c)*e}:j.end=b;return(c||0===c)&&(j.max=c),(d||0===d)&&(j.min=d),f&&(j.velocity=0),j},Oa=function(a){var b;return!(!a||!a.getAttribute||"BODY"===a.nodeName)&&(!("true"!==(b=a.getAttribute("data-clickable"))&&("false"===b||!a.onclick&&!G.test(a.nodeName+"")&&"true"!==a.getAttribute("contentEditable")))||Oa(a.parentNode))},Pa=function(a,b){for(var c,d=a.length;--d>-1;)c=a[d],c.ondragstart=c.onselectstart=b?null:x,ba(c,"userSelect",b?"text":"none")},Qa=function(){var a,b=s.createElement("div"),c=s.createElement("div"),d=c.style,e=s.body||v;return d.display="inline-block",d.position="relative",b.style.cssText=c.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",b.appendChild(c),e.appendChild(b),l=c.offsetHeight+18>b.scrollHeight,d.width="100%",na||(d.paddingRight="500px",a=b.scrollLeft=b.scrollWidth-b.clientWidth,d.left="-90px",a=a!==b.scrollLeft),e.removeChild(b),a}(),Ra=function(a,c){a=_(a),c=c||{};var d,e,f,g,h,i,j=s.createElement("div"),k=j.style,m=a.firstChild,n=0,o=0,p=a.scrollTop,q=a.scrollLeft,r=a.scrollWidth,t=a.scrollHeight,u=0,v=0,w=0;la&&c.force3D!==!1?(h="translate3d(",i="px,0px)"):na&&(h="translate(",i="px)"),this.scrollTop=function(a,b){return arguments.length?void this.top(-a,b):-this.top()},this.scrollLeft=function(a,b){return arguments.length?void this.left(-a,b):-this.left()},this.left=function(d,e){if(!arguments.length)return-(a.scrollLeft+o);var f=a.scrollLeft-q,g=o;return(f>2||-2>f)&&!e?(q=a.scrollLeft,b.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-q),void(c.onKill&&c.onKill())):(d=-d,0>d?(o=d-.5|0,d=0):d>v?(o=d-v|0,d=v):o=0,(o||g)&&(h?this._suspendTransforms||(k[na]=h+-o+"px,"+-n+i):k.left=-o+"px",Qa&&o+u>=0&&(k.paddingRight=o+u+"px")),a.scrollLeft=0|d,void(q=a.scrollLeft))},this.top=function(d,e){if(!arguments.length)return-(a.scrollTop+n);var f=a.scrollTop-p,g=n;return(f>2||-2>f)&&!e?(p=a.scrollTop,b.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-p),void(c.onKill&&c.onKill())):(d=-d,0>d?(n=d-.5|0,d=0):d>w?(n=d-w|0,d=w):n=0,(n||g)&&(h?this._suspendTransforms||(k[na]=h+-o+"px,"+-n+i):k.top=-n+"px"),a.scrollTop=0|d,void(p=a.scrollTop))},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return v},this.disable=function(){for(m=j.firstChild;m;)g=m.nextSibling,a.appendChild(m),m=g;a===j.parentNode&&a.removeChild(j)},this.enable=function(){if(m=a.firstChild,m!==j){for(;m;)g=m.nextSibling,j.appendChild(m),m=g;a.appendChild(j),this.calibrate()}},this.calibrate=function(b){var c,g,h=a.clientWidth===d;p=a.scrollTop,q=a.scrollLeft,(!h||a.clientHeight!==e||j.offsetHeight!==f||r!==a.scrollWidth||t!==a.scrollHeight||b)&&((n||o)&&(c=this.left(),g=this.top(),this.left(-a.scrollLeft),this.top(-a.scrollTop)),(!h||b)&&(k.display="block",k.width="auto",k.paddingRight="0px",u=Math.max(0,a.scrollWidth-a.clientWidth),u&&(u+=ha(a,"paddingLeft")+(l?ha(a,"paddingRight"):0))),k.display="inline-block",k.position="relative",k.overflow="visible",k.verticalAlign="top",k.width="100%",k.paddingRight=u+"px",l&&(k.paddingBottom=ha(a,"paddingBottom",!0)),B&&(k.zoom="1"),d=a.clientWidth,e=a.clientHeight,r=a.scrollWidth,t=a.scrollHeight,v=a.scrollWidth-d,w=a.scrollHeight-e,f=j.offsetHeight,k.display="block",(c||g)&&(this.left(c),this.top(g)))},this.content=j,this.element=a,this._suspendTransforms=!1,this.enable()},Sa=function(d,g){a.call(this,d),d=_(d),f||(f=q.com.greensock.plugins.ThrowPropsPlugin),this.vars=g=N(g||{}),this.target=d,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(g.dragResistance)||0,this.edgeResistance=isNaN(g.edgeResistance)?1:parseFloat(g.edgeResistance)||0,this.lockAxis=g.lockAxis,this.autoScroll=g.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!g.allowEventDefault;var h,i,j,k,l,r,u,v,x,D,G,K,O,R,T,U,Y,aa,ca,da,ea,fa,ga,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua=(g.type||(B?"top,left":"x,y")).toLowerCase(),va=-1!==ua.indexOf("x")||-1!==ua.indexOf("y"),wa=-1!==ua.indexOf("rotation"),xa=wa?"rotation":va?"x":"left",ya=va?"y":"top",za=-1!==ua.indexOf("x")||-1!==ua.indexOf("left")||"scroll"===ua,Ca=-1!==ua.indexOf("y")||-1!==ua.indexOf("top")||"scroll"===ua,Da=g.minimumMovement||2,Ea=this,Fa=M(g.trigger||g.handle||d),La={},Qa=0,Ta=!1,Ua=g.clickableTest||Oa,Va=0,Xa=function(a){if(Ea.autoScroll&&Ea.isDragging&&(Ta||aa)){var b,c,e,f,g,h,j,k,l=d,m=15*Ea.autoScroll;for(Ta=!1,L.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=t.scrollTop?t.scrollTop:s.body.scrollTop,L.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=t.scrollLeft?t.scrollLeft:s.body.scrollLeft,f=Ea.pointerX-L.scrollLeft,g=Ea.pointerY-L.scrollTop;l&&!c;)c=X(l.parentNode),b=c?L:l.parentNode,e=c?{bottom:Math.max(t.clientHeight,window.innerHeight||0),right:Math.max(t.clientWidth,window.innerWidth||0),left:0,top:0}:b.getBoundingClientRect(),h=j=0,Ca&&(k=b._gsMaxScrollY-b.scrollTop,0>k?j=k:g>e.bottom-40&&k?(Ta=!0,j=Math.min(k,m*(1-Math.max(0,e.bottom-g)/40)|0)):g<e.top+40&&b.scrollTop&&(Ta=!0,j=-Math.min(b.scrollTop,m*(1-Math.max(0,g-e.top)/40)|0)),j&&(b.scrollTop+=j)),za&&(k=b._gsMaxScrollX-b.scrollLeft,0>k?h=k:f>e.right-40&&k?(Ta=!0,h=Math.min(k,m*(1-Math.max(0,e.right-f)/40)|0)):f<e.left+40&&b.scrollLeft&&(Ta=!0,h=-Math.min(b.scrollLeft,m*(1-Math.max(0,f-e.left)/40)|0)),h&&(b.scrollLeft+=h)),c&&(h||j)&&(window.scrollTo(b.scrollLeft,b.scrollTop),ib(Ea.pointerX+h,Ea.pointerY+j)),l=b}if(aa){var n=Ea.x,o=Ea.y,p=1e-6;p>n&&n>-p&&(n=0),p>o&&o>-p&&(o=0),wa?(oa.data.rotation=Ea.rotation=n,oa.setRatio(1)):i?(Ca&&i.top(o),za&&i.left(n)):va?(Ca&&(oa.data.y=o),za&&(oa.data.x=n),oa.setRatio(1)):(Ca&&(d.style.top=o+"px"),za&&(d.style.left=n+"px")),!v||a||ra||(ra=!0,ia(Ea,"drag","onDrag"),ra=!1)}aa=!1},Ya=function(a,c){var e;Ea.x,Ea.y,d._gsTransform||!va&&!wa||b.set(d,{x:"+=0",overwrite:!1}),va?(Ea.y=d._gsTransform.y,Ea.x=d._gsTransform.x):wa?Ea.x=Ea.rotation=d._gsTransform.rotation:i?(Ea.y=i.top(),Ea.x=i.left()):(Ea.y=parseInt(d.style.top,10)||0,Ea.x=parseInt(d.style.left,10)||0),!da&&!ea||c||(da&&(e=da(Ea.x),e!==Ea.x&&(Ea.x=e,wa&&(Ea.rotation=e),aa=!0)),ea&&(e=ea(Ea.y),e!==Ea.y&&(Ea.y=e),aa=!0)),aa&&Xa(!0),a||ia(Ea,"throwupdate","onThrowUpdate")},Za=function(){var a,b,c,e;u=!1,i?(i.calibrate(),Ea.minX=D=-i.maxScrollLeft(),Ea.minY=K=-i.maxScrollTop(),Ea.maxX=x=Ea.maxY=G=0,u=!0):g.bounds&&(a=ja(g.bounds,d.parentNode),wa?(Ea.minX=D=a.left,Ea.maxX=x=a.left+a.width,Ea.minY=K=Ea.maxY=G=0):void 0!==g.bounds.maxX||void 0!==g.bounds.maxY?(a=g.bounds,Ea.minX=D=a.minX,Ea.minY=K=a.minY,Ea.maxX=x=a.maxX,Ea.maxY=G=a.maxY):(b=ja(d,d.parentNode),Ea.minX=D=ha(d,xa)+a.left-b.left,Ea.minY=K=ha(d,ya)+a.top-b.top,Ea.maxX=x=D+(a.width-b.width),Ea.maxY=G=K+(a.height-b.height)),D>x&&(Ea.minX=x,Ea.maxX=x=D,D=Ea.minX),K>G&&(Ea.minY=G,Ea.maxY=G=K,K=Ea.minY),wa&&(Ea.minRotation=D,Ea.maxRotation=x),u=!0),g.liveSnap&&(c=g.liveSnap===!0?g.snap||{}:g.liveSnap,e=c instanceof Array||"function"==typeof c,wa?(da=fb(e?c:c.rotation,D,x,1),ea=null):(za&&(da=fb(e?c:c.x||c.left||c.scrollLeft,D,x,i?-1:1)),Ca&&(ea=fb(e?c:c.y||c.top||c.scrollTop,K,G,i?-1:1))))},$a=function(){Ea.isThrowing=!1,ia(Ea,"throwcomplete","onThrowComplete")},_a=function(){Ea.isThrowing=!1},ab=function(a,b){var c,e,h,j;a&&f?(a===!0&&(c=g.snap||{},e=c instanceof Array||"function"==typeof c,a={resistance:(g.throwResistance||g.resistance||1e3)/(wa?10:1)},wa?a.rotation=Na(Ea,e?c:c.rotation,x,D,1,b):(za&&(a[xa]=Na(Ea,e?c:c.x||c.left||c.scrollLeft,x,D,i?-1:1,b||"x"===Ea.lockedAxis)),Ca&&(a[ya]=Na(Ea,e?c:c.y||c.top||c.scrollTop,G,K,i?-1:1,b||"y"===Ea.lockedAxis)))),Ea.isThrowing=!0,j=isNaN(g.overshootTolerance)?1===g.edgeResistance?0:1-Ea.edgeResistance+.2:g.overshootTolerance,Ea.tween=h=f.to(i||d,{throwProps:a,ease:g.ease||q.Power3.easeOut,onComplete:$a,onOverwrite:_a,onUpdate:g.fastMode?ia:Ya,onUpdateParams:g.fastMode?[Ea,"onthrowupdate","onThrowUpdate"]:w},isNaN(g.maxDuration)?2:g.maxDuration,isNaN(g.minDuration)?0===j?0:.5:g.minDuration,j),g.fastMode||(i&&(i._suspendTransforms=!0),h.render(h.duration(),!0,!0),Ya(!0,!0),Ea.endX=Ea.x,Ea.endY=Ea.y,wa&&(Ea.endRotation=Ea.x),h.play(0),Ya(!0,!0),i&&(i._suspendTransforms=!1))):u&&Ea.applyBounds()},bb=function(a){var b,c,e,f,g,h,i,l,m,n=ka||[1,0,0,1,0,0];ka=Aa(d.parentNode,!0),a&&Ea.isPressed&&n.join(",")!==ka.join(",")&&(b=n[0],c=n[1],e=n[2],f=n[3],g=n[4],h=n[5],i=b*f-c*e,l=j*(f/i)+k*(-e/i)+(e*h-f*g)/i,m=j*(-c/i)+k*(b/i)+-(b*h-c*g)/i,k=l*ka[1]+m*ka[3]+ka[5],j=l*ka[0]+m*ka[2]+ka[4]),ka[1]||ka[2]||1!=ka[0]||1!=ka[3]||0!=ka[4]||0!=ka[5]||(ka=null)},cb=function(){var a=1-Ea.edgeResistance;bb(!1),ka&&(j=Ea.pointerX*ka[0]+Ea.pointerY*ka[2]+ka[4],k=Ea.pointerX*ka[1]+Ea.pointerY*ka[3]+ka[5]),aa&&(ib(Ea.pointerX,Ea.pointerY),Xa(!0)),i?(Za(),r=i.top(),l=i.left()):(db()?(Ya(!0,!0),Za()):Ea.applyBounds(),wa?(Y=Ba(d,{x:0,y:0}),Ya(!0,!0),l=Ea.x,r=Ea.y=Math.atan2(Y.y-Ea.pointerY,Ea.pointerX-Y.x)*y):(ma=d.parentNode?d.parentNode.scrollTop||0:0,na=d.parentNode?d.parentNode.scrollLeft||0:0,r=ha(d,ya),l=ha(d,xa))),u&&a&&(l>x?l=x+(l-x)/a:D>l&&(l=D-(D-l)/a),wa||(r>G?r=G+(r-G)/a:K>r&&(r=K-(K-r)/a)))},db=function(){return Ea.tween&&Ea.tween.isActive()},eb=function(){!C.parentNode||db()||Ea.isDragging||C.parentNode.removeChild(C)},fb=function(a,b,c,d){return"function"==typeof a?function(e){var f=Ea.isPressed?1-Ea.edgeResistance:1;return a.call(Ea,e>c?c+(e-c)*f:b>e?b+(e-b)*f:e)*d}:a instanceof Array?function(d){for(var e,f,g=a.length,h=0,i=z;--g>-1;)e=a[g],f=e-d,0>f&&(f=-f),i>f&&e>=b&&c>=e&&(h=g,i=f);return a[h]}:isNaN(a)?function(a){return a}:function(){return a*d}},gb=function(a){var c;if(!(!h||Ea.isPressed||!a||("mousedown"===a.type||"pointerdown"===a.type)&&A()-Va<30&&Ha[Ea.pointerEvent.type])){if(la=db(),Ea.pointerEvent=a,Ha[a.type]?(ga=-1!==a.type.indexOf("touch")?a.currentTarget||a.target:s,Ia(ga,"touchend",jb),Ia(ga,"touchmove",hb),Ia(ga,"touchcancel",jb),Ia(s,"touchstart",Ma)):(ga=null,Ia(s,"mousemove",hb)),qa=null,Ia(s,"mouseup",jb),a&&a.target&&Ia(a.target,"mouseup",jb),fa=Ua.call(Ea,a.target)&&!g.dragClickables)return Ia(a.target,"change",jb),ia(Ea,"press","onPress"),void Pa(Fa,!0);if(pa=!(!ga||za===Ca||i||Ea.vars.allowNativeTouchScrolling===!1)&&(za?"y":"x"),B?a=$(a,!0):pa||Ea.allowEventDefault||(a.preventDefault(),a.preventManipulation&&a.preventManipulation()),a.changedTouches?(a=T=a.changedTouches[0],U=a.identifier):a.pointerId?U=a.pointerId:T=U=null,H++,P(Xa),k=Ea.pointerY=a.pageY,j=Ea.pointerX=a.pageX,(pa||Ea.autoScroll)&&Z(d.parentNode),d.parentNode&&(i||Ea.autoScroll&&!wa&&d.parentNode._gsMaxScrollX&&!C.parentNode)&&!d.getBBox&&(C.style.width=d.parentNode.scrollWidth+"px",d.parentNode.appendChild(C)),cb(),Ea.tween&&Ea.tween.kill(),Ea.isThrowing=!1,b.killTweensOf(i||d,!0,La),i&&b.killTweensOf(d,!0,{scrollTo:1}),Ea.tween=Ea.lockedAxis=null,(g.zIndexBoost||!wa&&!i&&g.zIndexBoost!==!1)&&(d.style.zIndex=Sa.zIndex++),Ea.isPressed=!0,v=!(!g.onDrag&&!Ea._listeners.drag),!wa)for(c=Fa.length;--c>-1;)ba(Fa[c],"cursor",g.cursor||"move");ia(Ea,"press","onPress")}},hb=function(a){var b,c,d,f,g=a;if(h&&!e&&Ea.isPressed&&a){if(Ea.pointerEvent=a,b=a.changedTouches){if(a=b[0],a!==T&&a.identifier!==U){for(f=b.length;--f>-1&&(a=b[f]).identifier!==U;);if(0>f)return}}else if(a.pointerId&&U&&a.pointerId!==U)return;if(B)a=$(a,!0);else{if(ga&&pa&&!qa&&(c=a.pageX,d=a.pageY,ka&&(f=c*ka[0]+d*ka[2]+ka[4],d=c*ka[1]+d*ka[3]+ka[5],c=f),qa=Math.abs(c-j)>Math.abs(d-k)&&za?"x":"y",Ea.vars.lockAxisOnTouchScroll!==!1&&(Ea.lockedAxis="x"===qa?"y":"x","function"==typeof Ea.vars.onLockAxis&&Ea.vars.onLockAxis.call(Ea,g)),I&&pa===qa))return void jb(g);Ea.allowEventDefault||pa&&(!qa||pa===qa)||g.cancelable===!1||(g.preventDefault(),g.preventManipulation&&g.preventManipulation())}Ea.autoScroll&&(Ta=!0),ib(a.pageX,a.pageY)}},ib=function(a,b){var c,d,e,f,g,h,i=1-Ea.dragResistance,m=1-Ea.edgeResistance;Ea.pointerX=a,Ea.pointerY=b,wa?(f=Math.atan2(Y.y-b,a-Y.x)*y,g=Ea.y-f,Ea.y=f,g>180?r-=360:-180>g&&(r+=360),e=l+(r-f)*i):(ka&&(h=a*ka[0]+b*ka[2]+ka[4],b=a*ka[1]+b*ka[3]+ka[5],a=h),d=b-k,c=a-j,Da>d&&d>-Da&&(d=0),Da>c&&c>-Da&&(c=0),(Ea.lockAxis||Ea.lockedAxis)&&(c||d)&&(h=Ea.lockedAxis,h||(Ea.lockedAxis=h=za&&Math.abs(c)>Math.abs(d)?"y":Ca?"x":null,h&&"function"==typeof Ea.vars.onLockAxis&&Ea.vars.onLockAxis.call(Ea,Ea.pointerEvent)),"y"===h?d=0:"x"===h&&(c=0)),e=l+c*i,f=r+d*i),da||ea?(da&&(e=da(e)),ea&&(f=ea(f))):u&&(e>x?e=x+(e-x)*m:D>e&&(e=D+(e-D)*m),wa||(f>G?f=G+(f-G)*m:K>f&&(f=K+(f-K)*m))),wa||(e=Math.round(e),f=Math.round(f)),(Ea.x!==e||Ea.y!==f&&!wa)&&(wa?Ea.endRotation=Ea.x=Ea.endX=e:(Ca&&(Ea.y=Ea.endY=f),za&&(Ea.x=Ea.endX=e)),aa=!0,!Ea.isDragging&&Ea.isPressed&&(Ea.isDragging=!0,ia(Ea,"dragstart","onDragStart")))},jb=function(a,c){if(h&&Ea.isPressed&&(!a||null==U||c||!(a.pointerId&&a.pointerId!==U||a.changedTouches&&!Ka(a.changedTouches,U)))){Ea.isPressed=!1;var e,f,i,j,k,l=a,m=Ea.isDragging,n=b.delayedCall(.001,eb);if(ga?(Ja(ga,"touchend",jb),Ja(ga,"touchmove",hb),Ja(ga,"touchcancel",jb),Ja(s,"touchstart",Ma)):Ja(s,"mousemove",hb),Ja(s,"mouseup",jb),a&&a.target&&Ja(a.target,"mouseup",jb),aa=!1,fa)return a&&Ja(a.target,"change",jb),Pa(Fa,!1),ia(Ea,"release","onRelease"),ia(Ea,"click","onClick"),void(fa=!1);if(Q(Xa),!wa)for(f=Fa.length;--f>-1;)ba(Fa[f],"cursor",g.cursor||"move");if(m&&(Qa=J=A(),Ea.isDragging=!1),H--,a){if(B&&(a=$(a,!1)),e=a.changedTouches,e&&(a=e[0],a!==T&&a.identifier!==U)){for(f=e.length;--f>-1&&(a=e[f]).identifier!==U;);if(0>f)return}Ea.pointerEvent=l,Ea.pointerX=a.pageX,Ea.pointerY=a.pageY}return l&&!m?(la&&(g.snap||g.bounds)&&ab(g.throwProps),ia(Ea,"release","onRelease"),I&&"touchmove"===l.type||(ia(Ea,"click","onClick"),j=l.target||l.srcElement||d,Va=A(),k=function(){Va!==sa&&Ea.enabled()&&!Ea.isPressed&&(j.click?j.click():s.createEvent&&(i=s.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,window,1,Ea.pointerEvent.screenX,Ea.pointerEvent.screenY,Ea.pointerX,Ea.pointerY,!1,!1,!1,!1,0,null),j.dispatchEvent(i)))},I||b.delayedCall(1e-5,k))):(ab(g.throwProps),B||Ea.allowEventDefault||!l||!g.dragClickables&&Ua.call(Ea,l.target)||!m||pa&&(!qa||pa!==qa)||l.cancelable===!1||(l.preventDefault(),l.preventManipulation&&l.preventManipulation()),ia(Ea,"release","onRelease")),db()&&n.duration(Ea.tween.duration()),m&&ia(Ea,"dragend","onDragEnd"),!0}},kb=function(a){if(a&&Ea.isDragging){var b=a.target||a.srcElement||d.parentNode,c=b.scrollLeft-b._gsScrollX,e=b.scrollTop-b._gsScrollY;(c||e)&&(ka?(j-=c*ka[0]+e*ka[2],k-=e*ka[3]+c*ka[1]):(j-=c,k-=e),b._gsScrollX+=c,b._gsScrollY+=e,ib(Ea.pointerX,Ea.pointerY))}},lb=function(a){var b=A(),c=40>b-Va,d=40>b-Qa,e=c&&sa===Va,f=!!a.preventDefault,g=c&&ta===Va,h=a.isTrusted||null==a.isTrusted&&c&&e;return f&&(e||d&&Ea.vars.suppressClickOnDrag!==!1)&&a.stopImmediatePropagation(),!c||e&&h===g?void((Ea.isPressed||d||c)&&(f?h&&a.detail&&c||(a.preventDefault(),a.preventManipulation&&a.preventManipulation()):a.returnValue=!1)):(h&&e&&(ta=Va),void(sa=Va))};ca=Sa.get(this.target),ca&&ca.kill(),this.startDrag=function(a){gb(a),Ea.isDragging||(Ea.isDragging=!0,ia(Ea,"dragstart","onDragStart"))},this.drag=hb,this.endDrag=function(a){jb(a,!0)},this.timeSinceDrag=function(){return Ea.isDragging?0:(A()-Qa)/1e3},this.hitTest=function(a,b){return Sa.hitTest(Ea.target,a,b)},this.getDirection=function(a,b){var c,d,e,g,h,i,j="velocity"===a&&f?a:"object"!=typeof a||wa?"start":"element";return"element"===j&&(h=Wa(Ea.target),i=Wa(a)),c="start"===j?Ea.x-l:"velocity"===j?f.getVelocity(this.target,xa):h.left+h.width/2-(i.left+i.width/2),wa?0>c?"counter-clockwise":"clockwise":(b=b||2,d="start"===j?Ea.y-r:"velocity"===j?f.getVelocity(this.target,ya):h.top+h.height/2-(i.top+i.height/2),e=Math.abs(c/d),g=1/b>e?"":0>c?"left":"right",b>e&&(""!==g&&(g+="-"),g+=0>d?"up":"down"),g)},this.applyBounds=function(a){var b,c,e,f,h,i;if(a&&g.bounds!==a)return g.bounds=a,Ea.update(!0);if(Ya(!0),Za(),u){if(b=Ea.x,c=Ea.y,b>x?b=x:D>b&&(b=D),c>G?c=G:K>c&&(c=K),(Ea.x!==b||Ea.y!==c)&&(e=!0,Ea.x=Ea.endX=b,wa?Ea.endRotation=b:Ea.y=Ea.endY=c,aa=!0,Xa(!0),Ea.autoScroll&&!Ea.isDragging))for(Z(d.parentNode),f=d,L.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=t.scrollTop?t.scrollTop:s.body.scrollTop,L.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=t.scrollLeft?t.scrollLeft:s.body.scrollLeft;f&&!i;)i=X(f.parentNode),h=i?L:f.parentNode,Ca&&h.scrollTop>h._gsMaxScrollY&&(h.scrollTop=h._gsMaxScrollY),za&&h.scrollLeft>h._gsMaxScrollX&&(h.scrollLeft=h._gsMaxScrollX),f=h;Ea.isThrowing&&(e||Ea.endX>x||Ea.endX<D||Ea.endY>G||Ea.endY<K)&&ab(g.throwProps,e)}return Ea},this.update=function(a,b,c){var e=Ea.x,f=Ea.y;return bb(!b),a?Ea.applyBounds():(aa&&c&&Xa(!0),Ya(!0)),b&&(ib(Ea.pointerX,Ea.pointerY),aa&&Xa(!0)),Ea.isPressed&&!b&&(za&&Math.abs(e-Ea.x)>.01||Ca&&Math.abs(f-Ea.y)>.01&&!wa)&&cb(),Ea.autoScroll&&(Z(d.parentNode),Ta=Ea.isDragging,Xa(!0)),Ea.autoScroll&&(W(d,kb),V(d,kb)),Ea},this.enable=function(a){var e,j,k;if("soft"!==a){for(j=Fa.length;--j>-1;)k=Fa[j],Ia(k,"mousedown",gb),Ia(k,"touchstart",gb),Ia(k,"click",lb,!0),wa||ba(k,"cursor",g.cursor||"move"),ba(k,"touchCallout","none"),ba(k,"touchAction",za===Ca||i?"none":za?"pan-y":"pan-x");Pa(Fa,!1)}return V(d,kb),h=!0,f&&"soft"!==a&&f.track(i||d,va?"x,y":wa?"rotation":"top,left"),i&&i.enable(),d._gsDragID=e="d"+F++,E[e]=this,i&&(i.element._gsDragID=e),b.set(d,{x:"+=0",overwrite:!1}),oa={t:d,data:B?R:d._gsTransform,tween:{},setRatio:B?function(){b.set(d,O)}:c._internals.setTransformRatio||c._internals.set3DTransformRatio},cb(),Ea.update(!0),Ea},this.disable=function(a){var b,c,e=Ea.isDragging;if(!wa)for(b=Fa.length;--b>-1;)ba(Fa[b],"cursor",null);if("soft"!==a){for(b=Fa.length;--b>-1;)c=Fa[b],ba(c,"touchCallout",null),ba(c,"touchAction",null),Ja(c,"mousedown",gb),Ja(c,"touchstart",gb),Ja(c,"click",lb);Pa(Fa,!0),ga&&(Ja(ga,"touchcancel",jb),Ja(ga,"touchend",jb),Ja(ga,"touchmove",hb)),Ja(s,"mouseup",jb),Ja(s,"mousemove",hb)}return W(d,kb),h=!1,f&&"soft"!==a&&f.untrack(i||d,va?"x,y":wa?"rotation":"top,left"),i&&i.disable(),Q(Xa),Ea.isDragging=Ea.isPressed=fa=!1,e&&ia(Ea,"dragend","onDragEnd"),Ea},this.enabled=function(a,b){return arguments.length?a?Ea.enable(b):Ea.disable(b):h},this.kill=function(){return Ea.isThrowing=!1,b.killTweensOf(i||d,!0,La),Ea.disable(),delete E[d._gsDragID],Ea},-1!==ua.indexOf("scroll")&&(i=this.scrollProxy=new Ra(d,S({onKill:function(){Ea.isPressed&&jb(null)}},g)),d.style.overflowY=Ca&&!Ga?"auto":"hidden",d.style.overflowX=za&&!Ga?"auto":"hidden",d=i.content),g.force3D!==!1&&b.set(d,{force3D:!0}),wa?La.rotation=1:(za&&(La[xa]=1),Ca&&(La[ya]=1)),wa?(O=p,R=O.css,O.overwrite=!1):va&&(O=za&&Ca?m:za?n:o,R=O.css,O.overwrite=!1),this.enable()},Ta=Sa.prototype=new a;Ta.constructor=Sa,Ta.pointerX=Ta.pointerY=0,Ta.isDragging=Ta.isPressed=!1,Sa.version="0.14.8",Sa.zIndex=1e3,Ia(s,"touchcancel",function(){}),Ia(s,"contextmenu",function(a){var b;for(b in E)E[b].isPressed&&E[b].endDrag()}),Sa.create=function(a,c){"string"==typeof a&&(a=b.selector(a));for(var d=a&&0!==a.length?Ea(a)?Fa(a):[a]:[],e=d.length;--e>-1;)d[e]=new Sa(d[e],c);return d},Sa.get=function(a){return E[(_(a)||{})._gsDragID]},Sa.timeSinceDrag=function(){return(A()-J)/1e3};var Ua={},Va=function(a){var b,c,d=0,e=0;for(a=_(a),b=a.offsetWidth,c=a.offsetHeight;a;)d+=a.offsetTop,e+=a.offsetLeft,a=a.offsetParent;return{top:d,left:e,width:b,height:c}},Wa=function(a,b){if(a===window)return Ua.left=Ua.top=0,Ua.width=Ua.right=t.clientWidth||a.innerWidth||s.body.clientWidth||0,Ua.height=Ua.bottom=(a.innerHeight||0)-20<t.clientHeight?t.clientHeight:a.innerHeight||s.body.clientHeight||0,Ua;var c=a.pageX!==b?{left:a.pageX-U(),top:a.pageY-T(),right:a.pageX-U()+1,bottom:a.pageY-T()+1}:a.nodeType||a.left===b||a.top===b?B?Va(a):_(a).getBoundingClientRect():a;return c.right===b&&c.width!==b?(c.right=c.left+c.width,c.bottom=c.top+c.height):c.width===b&&(c={width:c.right-c.left,height:c.bottom-c.top,right:c.right,left:c.left,bottom:c.bottom,top:c.top}),c};return Sa.hitTest=function(a,b,c){if(a===b)return!1;var d,e,f,g=Wa(a),h=Wa(b),i=h.left>g.right||h.right<g.left||h.top>g.bottom||h.bottom<g.top;return i||!c?!i:(f=-1!==(c+"").indexOf("%"),c=parseFloat(c)||0,d={left:Math.max(g.left,h.left),top:Math.max(g.top,h.top)},d.width=Math.min(g.right,h.right)-d.left,d.height=Math.min(g.bottom,h.bottom)-d.top,!(d.width<0||d.height<0)&&(f?(c*=.01,e=d.width*d.height,e>=g.width*g.height*c||e>=h.width*h.height*c):d.width>c&&d.height>c))},C.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Sa},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite","CSSPlugin"],b):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),require("../plugins/CSSPlugin.js"),module.exports=b())}("Draggable");var EPSY;!function(EPSY){!function(utils){!function(math){function toRad(deg){return Math.PI*deg/180}function isNumber(i){return"number"==typeof i}function isInteger(num){return num===(0|num)}function frandom(min,max){return Math.random()*(max-min)+min}function irandom(min,max){return Math.floor(Math.random()*(max-min+1)+min)}function normalize(vector){var length=Math.sqrt(vector.x*vector.x+vector.y*vector.y);vector.x/=length,vector.y/=length}math.toRad=toRad,math.isNumber=isNumber,math.isInteger=isInteger,math.frandom=frandom,math.irandom=irandom,math.normalize=normalize}(utils.math||(utils.math={}));utils.math}(EPSY.utils||(EPSY.utils={}));EPSY.utils}(EPSY||(EPSY={}));var EPSY;!function(EPSY){!function(utils){!function(_obj){function clone(obj,props){var clone={};return this.extend(clone,obj),clone}function extend(obj,config){for(var prop in config)config.hasOwnProperty(prop)&&(obj[prop]=config[prop])}function recursiveExtend(obj,config,exceptions){exceptions=exceptions||[];for(var prop in config)config.hasOwnProperty(prop)&&(exceptions.indexOf(prop)>-1?obj[prop]=config[prop]:"object"==typeof config[prop]?this.recursiveExtend(obj[prop],config[prop],exceptions):obj[prop]=config[prop])}function recursiveExtendInclusive(obj,config,whitelist){if(whitelist&&whitelist.length&&!(whitelist.length<=0))for(var prop in config)whitelist.indexOf(prop)>=0&&("object"==typeof config[prop]?(obj[prop]||(obj[prop]={}),this.recursiveExtend(obj[prop],config[prop])):obj[prop]=config[prop])}_obj.clone=clone,_obj.extend=extend,_obj.recursiveExtend=recursiveExtend,_obj.recursiveExtendInclusive=recursiveExtendInclusive}(utils.obj||(utils.obj={}));utils.obj}(EPSY.utils||(EPSY.utils={}));EPSY.utils}(EPSY||(EPSY={}));var EPSY;!function(EPSY){EPSY.EmitterParams=["id","border","duration","emissionRate","totalParticles","xFactor","aFactor","xEquation","yEquation","posTransform","zIndex"];var Emitter=function(){function Emitter(system){this.id=(1e20*Math.random()).toString(36),this.settings=new EPSY.EmitterEntity,this.time=Date.now(),this._totalParticles=0,this.emissionRate=0,this.allOrNone=!1,this.aFactor={x:0,y:0},this.xFactor={x:0,y:0},this._xEqName="",this._yEqName="",this.active=!1,this.duration=0,this.cycles=1/0,this._particlePool=[],this._particleCount=0,this._particleIndex=0,this._elapsed=0,this._curCycle=0,this._emitCounter=0,this.border={top:100,left:100,bottom:100,right:100},this.recyclable=[],this._baseSystem=EPSY.utils.obj.clone(system,["texture"]),this.load(system)}return Object.defineProperty(Emitter.prototype,"zIndex",{get:function(){return this.container?this.container.__z||0:0},set:function(value){this.container&&(this.container.__z=~~value)},enumerable:!0,configurable:!0}),Object.defineProperty(Emitter.prototype,"xEquation",{get:function(){return this._xEqName},set:function(value){"function"==typeof Math[value]?(this._xEqName=value,this._xEquation=Math[value]):(this._xEqName="",this._xEquation=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(Emitter.prototype,"yEquation",{get:function(){return this._yEqName},set:function(value){"function"==typeof Math[value]?(this._yEqName=value,this._yEquation=Math[value]):(this._yEqName="",this._yEquation=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(Emitter.prototype,"posTransform",{get:function(){if(this._posTransform){var code=this._posTransform.toString();return code.match(/[^{]+(.+)\}/g)[0]}},set:function(fn){"function"==typeof fn?this._posTransform=fn:this._posTransform=new Function("pos","particle",fn)},enumerable:!0,configurable:!0}),Object.defineProperty(Emitter.prototype,"particles",{get:function(){return this._particlePool},set:function(value){this._particlePool=value},enumerable:!0,configurable:!0}),Object.defineProperty(Emitter.prototype,"totalParticles",{get:function(){return this._totalParticles},set:function(tp){tp=0|tp,tp!==this._totalParticles&&(this._totalParticles=tp,this.restart())},enumerable:!0,configurable:!0}),Emitter.prototype.load=function(config){this._totalParticles=0,this.emissionRate=0,this.active=!1,this.duration=0,this.settings.pos.x=0,this.settings.pos.y=0,this.settings.posVar.x=0,this.settings.posVar.y=0,this.settings.speed=0,this.settings.speedVar=0,this.settings.angle=0,this.settings.angleVar=0,this.settings.life=0,this.settings.lifeVar=0,this.settings.radius=0,this.settings.radiusVar=0,this.settings.texture=null,this.settings.textureAdditive=!1,this.settings.startScale=0,this.settings.startScaleVar=0,this.settings.endScale=0,this.settings.endScaleVar=0,this.settings.startColor[0]=0,this.settings.startColor[1]=0,this.settings.startColor[2]=0,this.settings.startColor[3]=0,this.settings.startColorVar[0]=0,this.settings.startColorVar[1]=0,this.settings.startColorVar[2]=0,this.settings.startColorVar[3]=0,this.settings.endColor[0]=0,this.settings.endColor[1]=0,this.settings.endColor[2]=0,this.settings.endColor[3]=0,this.settings.endColorVar[0]=0,this.settings.endColorVar[1]=0,this.settings.endColorVar[2]=0,this.settings.endColorVar[3]=0,this.settings.gravity.x=0,this.settings.gravity.y=0,this.settings.radialAccel=0,this.settings.radialAccelVar=0,this.settings.tangentialAccel=0,this.settings.tangentialAccelVar=0,EPSY.utils.obj.recursiveExtend(this.settings,config,EPSY.EmitterParams),EPSY.utils.obj.recursiveExtendInclusive(this,config,EPSY.EmitterParams),isNaN(this.duration)&&(this.duration=1/0),this.id=config.name||this.id,this.restart()},Emitter.prototype.save=function(){var pconfig=JSON.parse(JSON.stringify(this.settings));return EPSY.utils.obj.recursiveExtendInclusive(pconfig,this,EPSY.EmitterParams),pconfig},Emitter.prototype.restart=function(){if(this._particlePool.length<this.totalParticles)for(var i=this._particlePool.length;i<this.totalParticles;++i)this._particlePool.push(new EPSY.Particle);if(this._particlePool.length>this.totalParticles){var spliced=this._particlePool.splice(this.totalParticles);this.recyclable=this.recyclable.concat(spliced)}for(var i=0;i<this.totalParticles;++i){var particle=this._particlePool[i];particle.recycled=!0}this._particleCount=0,this._particleIndex=0,this._elapsed=0,this._curCycle=0,this._emitCounter=0},Emitter.prototype.reset=function(){this.load(this._baseSystem)},Emitter.prototype._isFull=function(){return this._particleCount===this.totalParticles},Emitter.prototype.createParticle=function(){if(this._isFull())return!1;var p=this._particlePool[this._particleCount];return this.initParticle(p),this._particleCount++,!0},Emitter.prototype.initParticle=function(particle){particle.texture=this.settings.texture,particle.textureAdditive=this.settings.textureAdditive;var posVar={x:this.settings.posVar.x*EPSY.utils.math.frandom(-1,1),y:this.settings.posVar.y*EPSY.utils.math.frandom(-1,1)};this._posTransform&&(posVar=this._posTransform.call(this,posVar,particle)),particle.pos.x=this.settings.pos.x+posVar.x,particle.pos.y=this.settings.pos.y+posVar.y;var angle=this.settings.angle+this.settings.angleVar*EPSY.utils.math.frandom(-1,1),speed=this.settings.speed+this.settings.speedVar*EPSY.utils.math.frandom(-1,1);particle.setVelocity(angle,speed),particle.radialAccel=this.settings.radialAccel+this.settings.radialAccelVar*EPSY.utils.math.frandom(-1,1)||0,particle.tangentialAccel=this.settings.tangentialAccel+this.settings.tangentialAccelVar*EPSY.utils.math.frandom(-1,1)||0;var life=this.settings.life+this.settings.lifeVar*EPSY.utils.math.frandom(-1,1)||0;if(particle.life=Math.max(0,life),particle.scale=EPSY.utils.math.isNumber(this.settings.startScale)?this.settings.startScale:1,particle.deltaScale=EPSY.utils.math.isNumber(this.settings.endScale)?this.settings.endScale-this.settings.startScale:0,particle.deltaScale/=particle.life,particle.radius=EPSY.utils.math.isNumber(this.settings.radius)?this.settings.radius+(this.settings.radiusVar||0)*EPSY.utils.math.frandom(-1,1):0,this.settings.startColor){var startColor=[this.settings.startColor[0]+this.settings.startColorVar[0]*EPSY.utils.math.frandom(-1,1),this.settings.startColor[1]+this.settings.startColorVar[1]*EPSY.utils.math.frandom(-1,1),this.settings.startColor[2]+this.settings.startColorVar[2]*EPSY.utils.math.frandom(-1,1),this.settings.startColor[3]+this.settings.startColorVar[3]*EPSY.utils.math.frandom(-1,1)],endColor=startColor;this.settings.endColor&&(endColor=[this.settings.endColor[0]+this.settings.endColorVar[0]*EPSY.utils.math.frandom(-1,1),this.settings.endColor[1]+this.settings.endColorVar[1]*EPSY.utils.math.frandom(-1,1),this.settings.endColor[2]+this.settings.endColorVar[2]*EPSY.utils.math.frandom(-1,1),this.settings.endColor[3]+this.settings.endColorVar[3]*EPSY.utils.math.frandom(-1,1)]),particle.color=startColor,particle.deltaColor=[(endColor[0]-startColor[0])/particle.life,(endColor[1]-startColor[1])/particle.life,(endColor[2]-startColor[2])/particle.life,(endColor[3]-startColor[3])/particle.life];
for(var c=0;c<3;c++)particle.startColor[c]=~~particle.startColor[c],particle.endColor[c]=~~particle.endColor[c],particle.deltaColor[c]=~~particle.deltaColor[c]}},Emitter.prototype.updateParticle=function(p,delta,i){var inEdge=!this.border||p.pos.x>=this.settings.pos.x-this.border.left&&p.pos.y>=this.settings.pos.y-this.border.top&&p.pos.x<=this.settings.pos.x+this.border.right&&p.pos.y<=this.settings.pos.y+this.border.bottom;if(inEdge||(p.life=0),p.life>0){p.radial.x=0,p.radial.y=0,p.forces.x=0,p.forces.y=0,p.pos.x===this.settings.pos.x&&p.pos.y===this.settings.pos.y||!p.radialAccel&&!p.tangentialAccel||(p.radial.x=p.pos.x-this.settings.pos.x,p.radial.y=p.pos.y-this.settings.pos.y,EPSY.utils.math.normalize(p.radial)),p.tangential.x=p.radial.x,p.tangential.y=p.radial.y,p.radial.x*=p.radialAccel,p.radial.y*=p.radialAccel;var newy=p.tangential.x;p.tangential.x=-p.tangential.y,p.tangential.y=newy,p.tangential.x*=p.tangentialAccel,p.tangential.y*=p.tangentialAccel,p.forces.x=p.radial.x+p.tangential.x+this.settings.gravity.x,p.forces.y=p.radial.y+p.tangential.y+this.settings.gravity.y,p.forces.x*=delta,p.forces.y*=delta,p.vel.x+=p.forces.x,p.vel.y+=p.forces.y,p.lastpos.x=p.pos.x,p.lastpos.y=p.pos.y;var ax=0,ay=0;this._xEquation&&(ax=this.aFactor.x*this._xEquation(p.life*this.xFactor.x*Math.PI)),this._yEquation&&(ay=this.aFactor.y*this._yEquation(p.life*this.xFactor.y*Math.PI)),p.pos.x+=p.vel.x*delta+ax,p.pos.y+=p.vel.y*delta+ay,p.life-=delta,p.scale+=p.deltaScale*delta,p.color&&(this.settings.colorList.length>0?(p.color[0]=this.settings.colorList[p.colorIdx][0],p.color[1]=this.settings.colorList[p.colorIdx][1],p.color[2]=this.settings.colorList[p.colorIdx][2],p.color[3]=this.settings.colorList[p.colorIdx][3],p.colorIdx++,p.colorIdx>=this.settings.colorList.length&&(p.colorIdx=0)):(p.color[0]+=p.deltaColor[0]*delta,p.color[1]+=p.deltaColor[1]*delta,p.color[2]+=p.deltaColor[2]*delta,p.color[3]+=p.deltaColor[3]*delta)),++this._particleIndex}else{p.color[3]=0;var temp=this._particlePool[i];this._particlePool[i]=this._particlePool[this._particleCount-1],this._particlePool[this._particleCount-1]=temp,--this._particleCount}},Emitter.prototype.kill=function(){for(var i=0;i<this._particlePool.length;i++){var p=this._particlePool[i];p.life=0}this._particlePool=[],this.duration=-1,this._particleCount=0,this._particleIndex=0,this._elapsed=0,this._emitCounter=0},Emitter.prototype.update=function(delta){if(this._elapsed+=delta,this.active=this._elapsed<this.duration,this.active){if(this.emissionRate){var rate=1/this.emissionRate;if(this._emitCounter+=delta,this.allOrNone){if(0==this._particleCount&&this._curCycle<this.cycles){for(;!this._isFull();)this.createParticle();this._curCycle++}}else for(;!this._isFull()&&this._emitCounter>rate;)this.createParticle(),this._emitCounter-=rate}for(this._particleIndex=0;this._particleIndex<this._particleCount;){var p=this._particlePool[this._particleIndex];this.updateParticle(p,delta,this._particleIndex)}}},Emitter}();EPSY.Emitter=Emitter}(EPSY||(EPSY={}));var EPSY;!function(EPSY){var EmitterEntity=function(){function EmitterEntity(){this.pos={x:0,y:0},this.posVar={x:0,y:0},this.speed=0,this.speedVar=0,this.angle=0,this.angleVar=0,this.life=0,this.lifeVar=0,this.radius=0,this.radiusVar=0,this.textureAdditive=!1,this.startScale=0,this.startScaleVar=0,this.endScale=0,this.endScaleVar=0,this.startColor=[0,0,0,0],this.startColorVar=[0,0,0,0],this.endColor=[0,0,0,0],this.endColorVar=[0,0,0,0],this.colorList=[],this.gravity={x:0,y:0},this.radialAccel=0,this.radialAccelVar=0,this.tangentialAccel=0,this.tangentialAccelVar=0}return EmitterEntity}();EPSY.EmitterEntity=EmitterEntity}(EPSY||(EPSY={}));var __extends=this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);__.prototype=b.prototype,d.prototype=new __},EPSY;!function(EPSY){var Particle=function(_super){function Particle(){_super.call(this),this.lastpos={x:-1,y:-1},this.vel={x:0,y:0},this.forces={x:0,y:0},this.radial={x:0,y:0},this.tangential={x:0,y:0},this.colorIdx=0,this.recycled=!1,this.setVelocity(0,0)}return __extends(Particle,_super),Particle.prototype.setVelocity=function(angle,speed){this.vel.x=Math.cos(EPSY.utils.math.toRad(angle))*speed,this.vel.y=-Math.sin(EPSY.utils.math.toRad(angle))*speed},Particle}(EPSY.EmitterEntity);EPSY.Particle=Particle}(EPSY||(EPSY={}));var EPSY;!function(EPSY){function colorArrayToString(array,overrideAlpha){var r=0|array[0],g=0|array[1],b=0|array[2],a=overrideAlpha||array[3];return"rgba("+r+", "+g+", "+b+", "+a+")"}function getBuffer(particle){var img=particle.img;if(img||(img=new Image,particle.ready=!1,img.onload=function(){particle.ready=!0},img.src=particle.texture,particle.img=img),particle.ready){var size=""+img.width+"x"+img.height,canvas=bufferCache[size];return canvas||(canvas=document.createElement("canvas"),canvas.width=img.width,canvas.height=img.height,bufferCache[size]=canvas),canvas}}var bufferCache={},CanvasRenderer=function(){function CanvasRenderer(context){this.context=context,this.defaultTexture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACz0lEQVR42t2XP0hbURTGnfp/KK3QFiylCG11aRYpBQWFDiJCg266BNQtdnBQyOASQjp1KS4KGVw6iXMWEUdHUShkCBhSQpaQkJg/Jmm/H3xLEdtaWvLawMfJvfec79x77jnnvdfX96/9MpnM9VwudzOfz98qFAq3kYyZ/6tOi8XinVKpdLdSqfRXq9UHwsNarfYIyZh51tH7Y5s5Pj6+BqHI7+OsXq8/aTQag8LzZrM5JAwjGTPPOnroY4f9bzvPZrM3OBEnFPFTOXohvGy1WiPC6/Pz81FhDMmYedbRQx877OG5snPutFwu3zs7OxvQyZ6JPGSnE8KkMN1ut98KYSRjz094MyHssIcHviud3M4fE15OJuJxOZoSZoU5ISIsCIuWEc+zPoW+IzIED3y/FAnujLCxczt/JbI3Pum8sCQsCyudTmdVWEMy9vyS9cLYYe9NDMD705wgcbg7h33Ezmd8wqidrgtxISm8t4x7ns1ErT/jTYzABy/8Pyw1spcE4g4d9rDJ3ok8JiSED8KGsClsWW54nvUY+rYL+zpC8MJ/aYmyO0qILCaRfOfzPnnMJ/0opIRPwk63291FepzyetKbiNp+Cj544b80CtwRdUwpkc1OqCWHPWHybTtNS+5LHlimPb9tvYSvg5yYhQ9e+PFzWfj7aSa++0ln9bLvlvCm7GRP8lDySDhBerzn9ZT1152Yc/A5Fwbxc+EaqFPaKR3N9T7tO1xxgm04zJz0UPis/6fCFyRjbyJtPfTjro4IfPDCj58LfYEHCllKydDZ3GQWHP6kE23H4T6y05Jk1fLUkdh3TmzabtV9gmY1Cj9+8PfdBniqOQGHaa/O/kXXOaW25fAeOOycvPpVP6THJ86JXVcHdmtuVlTDGPz4wV+wItDzHOh5FfS8DwSiE/b8WdDzp2Eg3gd6/kYUiHfCQLwVB+K7IBBfRoH5Nvyvf98A3rZr7fen7G8AAAAASUVORK5CYII="}return CanvasRenderer.prototype.renderParticle=function(particle){if(particle.texture||(particle.texture=this.defaultTexture),particle.buffer=particle.buffer||getBuffer(particle),particle.buffer){var bufferContext=particle.buffer.getContext("2d"),w=particle.img.width*particle.scale|0,h=particle.img.height*particle.scale|0,x=particle.pos.x-w/2,y=particle.pos.y-h/2;bufferContext.clearRect(0,0,particle.buffer.width,particle.buffer.height),bufferContext.globalAlpha=particle.color[3],bufferContext.drawImage(particle.img,0,0),bufferContext.globalCompositeOperation="source-atop",bufferContext.fillStyle=colorArrayToString(particle.color,1),bufferContext.fillRect(0,0,particle.buffer.width,particle.buffer.height),bufferContext.globalCompositeOperation="source-over",bufferContext.globalAlpha=1,particle.textureAdditive?this.context.globalCompositeOperation="lighter":this.context.globalCompositeOperation="source-over",this.context.drawImage(particle.buffer,0,0,particle.buffer.width,particle.buffer.height,x,y,w,h)}},CanvasRenderer.prototype.render=function(emitter){for(var particles=emitter.particles,i=0;i<particles.length;++i){var p=particles[i];p.life>0&&p.color&&this.renderParticle(p)}this.context.globalCompositeOperation="source-over"},CanvasRenderer.prototype.reset=function(){},CanvasRenderer}();EPSY.CanvasRenderer=CanvasRenderer}(EPSY||(EPSY={}));var EPSY;!function(EPSY){var PixiRenderer=function(){function PixiRenderer(context){this.context=context,this.defaultTexture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACz0lEQVR42t2XP0hbURTGnfp/KK3QFiylCG11aRYpBQWFDiJCg266BNQtdnBQyOASQjp1KS4KGVw6iXMWEUdHUShkCBhSQpaQkJg/Jmm/H3xLEdtaWvLawMfJvfec79x77jnnvdfX96/9MpnM9VwudzOfz98qFAq3kYyZ/6tOi8XinVKpdLdSqfRXq9UHwsNarfYIyZh51tH7Y5s5Pj6+BqHI7+OsXq8/aTQag8LzZrM5JAwjGTPPOnroY4f9bzvPZrM3OBEnFPFTOXohvGy1WiPC6/Pz81FhDMmYedbRQx877OG5snPutFwu3zs7OxvQyZ6JPGSnE8KkMN1ut98KYSRjz094MyHssIcHviud3M4fE15OJuJxOZoSZoU5ISIsCIuWEc+zPoW+IzIED3y/FAnujLCxczt/JbI3Pum8sCQsCyudTmdVWEMy9vyS9cLYYe9NDMD705wgcbg7h33Ezmd8wqidrgtxISm8t4x7ns1ErT/jTYzABy/8Pyw1spcE4g4d9rDJ3ok8JiSED8KGsClsWW54nvUY+rYL+zpC8MJ/aYmyO0qILCaRfOfzPnnMJ/0opIRPwk63291FepzyetKbiNp+Cj544b80CtwRdUwpkc1OqCWHPWHybTtNS+5LHlimPb9tvYSvg5yYhQ9e+PFzWfj7aSa++0ln9bLvlvCm7GRP8lDySDhBerzn9ZT1152Yc/A5Fwbxc+EaqFPaKR3N9T7tO1xxgm04zJz0UPis/6fCFyRjbyJtPfTjro4IfPDCj58LfYEHCllKydDZ3GQWHP6kE23H4T6y05Jk1fLUkdh3TmzabtV9gmY1Cj9+8PfdBniqOQGHaa/O/kXXOaW25fAeOOycvPpVP6THJ86JXVcHdmtuVlTDGPz4wV+wItDzHOh5FfS8DwSiE/b8WdDzp2Eg3gd6/kYUiHfCQLwVB+K7IBBfRoH5Nvyvf98A3rZr7fen7G8AAAAASUVORK5CYII=",this.buffer=[],this._sortFn=function(a,b){return(a.__z||0)-(b.__z||0)}}return PixiRenderer.prototype.updateParticleSprite=function(emitter,particle){if(particle.life<=0&&particle.sprite)return void(particle.sprite.visible=!1);if(!particle.sprite||particle.recycled){var texture=PIXI.Texture.fromImage(particle.texture||this.defaultTexture);particle.recycled&&particle.sprite?particle.sprite.texture=texture:particle.sprite=new PIXI.Sprite(texture),particle.sprite.__parentParticle=particle,particle.sprite.anchor.x=.5,particle.sprite.anchor.y=.5,particle.sprite.tail=0}particle.inserted||(particle.inserted=!0,this.buffer.push(particle.sprite),emitter.container.addChild(particle.sprite)),particle.sprite.visible=particle.life>0,particle.sprite.width=particle.radius*particle.scale,particle.sprite.height=particle.radius*particle.scale,particle.sprite.position.x=particle.pos.x,particle.sprite.position.y=particle.pos.y,particle.textureAdditive?particle.sprite.blendMode=PIXI.blendModes.ADD:particle.sprite.blendMode=PIXI.blendModes.NORMAL,particle.sprite.tint=~~particle.color[2]+256*~~particle.color[1]+65536*~~particle.color[0],particle.sprite.alpha=particle.color[3]},PixiRenderer.prototype.render=function(emitter){var particles=emitter.particles;emitter.container||(emitter.container=new PIXI.DisplayObjectContainer,this.context.addChild(emitter.container));for(var i=0;i<particles.length;++i){var p=particles[i];p.color&&this.updateParticleSprite(emitter,p)}if(emitter.recyclable.length>0)for(var particle;particle=emitter.recyclable.pop();)particle.life=0,particle.sprite&&(particle.sprite.visible=!1,particle.sprite.__parentParticle&&(particle.sprite.__parentParticle.inserted=!1))},PixiRenderer.prototype.hideAllParticles=function(emitter){for(var i=0;i<emitter.particles.length;i++){var particle=emitter.particles[i];particle.life=0}},PixiRenderer.prototype.sort=function(){this.context.children.sort(this._sortFn)},PixiRenderer.prototype.reset=function(){var removed=0;do{var sprite=this.buffer.pop();if(sprite){for(var i=0;i<this.context.children.length;i++){var emitterContext=this.context.children[i];if(emitterContext)try{emitterContext.removeChild(sprite),removed++;continue}catch(ex){}}sprite.__parentParticle&&(sprite.__parentParticle.inserted=!1,sprite.__parentParticle.life=0)}}while(this.buffer.length>0)},PixiRenderer}();EPSY.PixiRenderer=PixiRenderer}(EPSY||(EPSY={})),Phaser.Plugin.EPSY=function(game,parent){Phaser.Plugin.call(this,game,parent),this.emitters=[],this.defaultTexture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACz0lEQVR42t2XP0hbURTGnfp/KK3QFiylCG11aRYpBQWFDiJCg266BNQtdnBQyOASQjp1KS4KGVw6iXMWEUdHUShkCBhSQpaQkJg/Jmm/H3xLEdtaWvLawMfJvfec79x77jnnvdfX96/9MpnM9VwudzOfz98qFAq3kYyZ/6tOi8XinVKpdLdSqfRXq9UHwsNarfYIyZh51tH7Y5s5Pj6+BqHI7+OsXq8/aTQag8LzZrM5JAwjGTPPOnroY4f9bzvPZrM3OBEnFPFTOXohvGy1WiPC6/Pz81FhDMmYedbRQx877OG5snPutFwu3zs7OxvQyZ6JPGSnE8KkMN1ut98KYSRjz094MyHssIcHviud3M4fE15OJuJxOZoSZoU5ISIsCIuWEc+zPoW+IzIED3y/FAnujLCxczt/JbI3Pum8sCQsCyudTmdVWEMy9vyS9cLYYe9NDMD705wgcbg7h33Ezmd8wqidrgtxISm8t4x7ns1ErT/jTYzABy/8Pyw1spcE4g4d9rDJ3ok8JiSED8KGsClsWW54nvUY+rYL+zpC8MJ/aYmyO0qILCaRfOfzPnnMJ/0opIRPwk63291FepzyetKbiNp+Cj544b80CtwRdUwpkc1OqCWHPWHybTtNS+5LHlimPb9tvYSvg5yYhQ9e+PFzWfj7aSa++0ln9bLvlvCm7GRP8lDySDhBerzn9ZT1152Yc/A5Fwbxc+EaqFPaKR3N9T7tO1xxgm04zJz0UPis/6fCFyRjbyJtPfTjro4IfPDCj58LfYEHCllKydDZ3GQWHP6kE23H4T6y05Jk1fLUkdh3TmzabtV9gmY1Cj9+8PfdBniqOQGHaa/O/kXXOaW25fAeOOycvPpVP6THJ86JXVcHdmtuVlTDGPz4wV+wItDzHOh5FfS8DwSiE/b8WdDzp2Eg3gd6/kYUiHfCQLwVB+K7IBBfRoH5Nvyvf98A3rZr7fen7G8AAAAASUVORK5CYII=",this._sortFn=function(a,b){return(a.__z||0)-(b.__z||0)};var _this=this;this._onResume=function(event){for(var i=0;i<_this.emitters.length;i++)_this.emitters[i].lastTimestamp=Date.now()},game.onResume.add(this._onResume,this),this.game.epsy=this},Phaser.Plugin.EPSY.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.EPSY.prototype.constructor=Phaser.Plugin.EPSY,Phaser.Plugin.EPSY.VERSION="0.5.1";var updateParticle=function(emitter,particle){hasFocus_&&(particle.sprite||(PIXI.Sprite.fromImage?particle.sprite=PIXI.Sprite.fromImage(particle.texture||this.defaultTexture):(PIXI.TextureCache=[],PIXI.BaseTextureCache=[],PIXI.Sprite.fromImage=function(imageId,crossorigin,scaleMode){var texture=PIXI.Texture.fromImage(imageId,crossorigin,scaleMode);return new PIXI.Sprite(texture)},PIXI.Texture.fromImage=function(imageUrl,crossorigin,scaleMode){var texture=PIXI.TextureCache[imageUrl];return texture||(texture=new PIXI.Texture(PIXI.BaseTexture.fromImage(imageUrl,crossorigin,scaleMode)),PIXI.TextureCache[imageUrl]=texture),texture},PIXI.BaseTexture.fromImage=function(imageUrl,crossorigin,scaleMode){var baseTexture=PIXI.BaseTextureCache[imageUrl];if(void 0===crossorigin&&imageUrl.indexOf("data:")===-1&&(crossorigin=!0),!baseTexture){var image=new Image;crossorigin&&(image.crossOrigin=""),image.src=imageUrl,baseTexture=new PIXI.BaseTexture(image,scaleMode),baseTexture.imageUrl=imageUrl,PIXI.BaseTextureCache[imageUrl]=baseTexture,imageUrl.indexOf(PIXI.RETINA_PREFIX+".")!==-1&&(baseTexture.resolution=2)}return baseTexture},particle.sprite=PIXI.Sprite.fromImage(particle.texture||this.defaultTexture)),particle.sprite.__parentParticle=particle,particle.sprite.anchor.x=.5,particle.sprite.anchor.y=.5,particle.sprite.tail=0,particle.ready=!0),particle.inserted||(particle.inserted=!0,emitter.buffer.push(particle.sprite),emitter.container.addChild(particle.sprite)),particle.sprite.width=particle.radius*particle.scale,particle.sprite.height=particle.radius*particle.scale,particle.sprite.position.x=particle.pos.x,particle.sprite.position.y=particle.pos.y,particle.textureAdditive?particle.sprite.blendMode=PIXI.blendModes.ADD:particle.sprite.blendMode=PIXI.blendModes.NORMAL,particle.sprite.tint=~~particle.color[2]+256*~~particle.color[1]+65536*~~particle.color[0],particle.sprite.alpha=particle.color[3])};Phaser.Plugin.EPSY.Emitter=function(particleSystem,emitter){PIXI.DisplayObjectContainer.call(this),this.particleSystem=particleSystem,this.emitter=emitter},Phaser.Plugin.EPSY.Emitter.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),Phaser.Plugin.EPSY.Emitter.prototype.constructor=Phaser.Plugin.EPSY.Emitter,Phaser.Plugin.EPSY.Emitter.prototype.preUpdate=function(){},Phaser.Plugin.EPSY.Emitter.prototype.postUpdate=function(){},Phaser.Plugin.EPSY.Emitter.prototype.destroy=function(){},Phaser.Plugin.EPSY.Emitter.prototype.update=function(){var timestamp=Date.now(),delta=timestamp-(this.__ez_parent.lastTimestamp||timestamp);this.__ez_parent.lastTimestamp=timestamp,delta/=1e3;var emitter=this.emitter;emitter.update(delta);for(var i=0;i<emitter.particles.length;++i){var p=emitter.particles[i];p.life>0&&p.color&&updateParticle.call(this.particleSystem,emitter,p)}},Phaser.Plugin.EPSY.Emitter.prototype.reset=function(){var buffer=this.emitter.buffer,container=this.emitter.container;do{var sprite=buffer.pop();sprite&&(container.removeChild(sprite),sprite.__parentParticle&&(sprite.__parentParticle.inserted=!1))}while(buffer.length>0)},Phaser.Plugin.EPSY.prototype.createEmitter=function(config,x,y){x=x||0,y=y||0;var emitter=new EPSY.Emitter(config);return emitter.buffer=[],emitter.settings.pos.x=0,emitter.settings.pos.y=0,this.emitters.push(emitter),emitter.container=new Phaser.Plugin.EPSY.Emitter(this,emitter),emitter.container.position.x=x,emitter.container.position.y=y,emitter.zIndex=config.zIndex,emitter.container.__ez_parent=emitter,emitter.lastTimestamp=Date.now(),emitter.container},Phaser.Plugin.EPSY.prototype.loadSystem=function(config,x,y){x=x||0,y=y||0;var parseddata,systemGroup=game.add.group();parseddata="string"==typeof config?JSON.parse(_data):"object"!=typeof config||config instanceof Array?config:[config];for(var i=0;i<parseddata.length;i++){var config=parseddata[i],emitter=this.createEmitter(config,config.pos.x,config.pos.y);systemGroup.add(emitter)}return systemGroup.position.x=x,systemGroup.position.y=y,systemGroup.children.sort(this._sortFn),systemGroup};var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(a,b,c,d){var e,f,g,h,i=function(b,c){a.call(this,"throwProps"),this._overwriteProps.length=0},j=999999999999999,k=1e-10,l=_gsScope._gsDefine.globals,m=!1,n={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},o=function(a,b,c,d){for(var e,f,g=b.length,h=0,i=j;--g>-1;)e=b[g],f=e-a,0>f&&(f=-f),i>f&&e>=d&&c>=e&&(h=g,i=f);return b[h]},p=function(a,b,c,d){if("auto"===a.end)return a;c=isNaN(c)?j:c,d=isNaN(d)?-j:d;var e="function"==typeof a.end?a.end(b):a.end instanceof Array?o(b,a.end,c,d):Number(a.end);return e>c?e=c:d>e&&(e=d),{max:e,min:e,unitFactor:a.unitFactor}},q=function(a,b,c){for(var d in b)void 0===a[d]&&d!==c&&(a[d]=b[d]);return a},r=i.calculateChange=function(a,d,e,f){null==f&&(f=.05);var g=d instanceof c?d:d?new c(d):b.defaultEase;return e*f*a/g.getRatio(f)},s=i.calculateDuration=function(a,d,e,f,g){g=g||.05;var h=f instanceof c?f:f?new c(f):b.defaultEase;return Math.abs((d-a)*h.getRatio(g)/e/g)},t=i.calculateTweenDuration=function(a,e,f,g,h,j){if("string"==typeof a&&(a=b.selector(a)),!a)return 0;null==f&&(f=10),null==g&&(g=.2),null==h&&(h=1),a.length&&(a=a[0]||a);var l,n,o,t,u,v,w,x,y,z,A=0,B=9999999999,C=e.throwProps||e,D=e.ease instanceof c?e.ease:e.ease?new c(e.ease):b.defaultEase,E=isNaN(C.checkpoint)?.05:Number(C.checkpoint),F=isNaN(C.resistance)?i.defaultResistance:Number(C.resistance);for(l in C)"resistance"!==l&&"checkpoint"!==l&&"preventOvershoot"!==l&&(n=C[l],"object"!=typeof n&&(y=y||d.getByTarget(a),y&&y.isTrackingProp(l)?n="number"==typeof n?{velocity:n}:{velocity:y.getVelocity(l)}:(t=Number(n)||0,o=t*F>0?t/F:t/-F)),"object"==typeof n&&(void 0!==n.velocity&&"number"==typeof n.velocity?t=Number(n.velocity)||0:(y=y||d.getByTarget(a),t=y&&y.isTrackingProp(l)?y.getVelocity(l):0),u=isNaN(n.resistance)?F:Number(n.resistance),o=t*u>0?t/u:t/-u,v="function"==typeof a[l]?a[l.indexOf("set")||"function"!=typeof a["get"+l.substr(3)]?l:"get"+l.substr(3)]():a[l]||0,w=v+r(t,D,o,E),void 0!==n.end&&(n=p(n,w,n.max,n.min),(j||m)&&(C[l]=q(n,C[l],"end"))),void 0!==n.max&&w>Number(n.max)+k?(z=n.unitFactor||i.defaultUnitFactors[l]||1,x=v>n.max&&n.min!==n.max||t*z>-15&&45>t*z?g+.1*(f-g):s(v,n.max,t,D,E),B>x+h&&(B=x+h)):void 0!==n.min&&w<Number(n.min)-k&&(z=n.unitFactor||i.defaultUnitFactors[l]||1,x=v<n.min&&n.min!==n.max||t*z>-45&&15>t*z?g+.1*(f-g):s(v,n.min,t,D,E),B>x+h&&(B=x+h)),x>A&&(A=x)),o>A&&(A=o));return A>B&&(A=B),A>f?f:g>A?g:A},u=i.prototype=new a("throwProps");return u.constructor=i,i.version="0.10.0",i.API=2,i._autoCSS=!0,i.defaultResistance=100,i.defaultUnitFactors={time:1e3,totalTime:1e3},i.track=function(a,b,c){return d.track(a,b,c)},i.untrack=function(a,b){d.untrack(a,b)},i.isTracking=function(a,b){return d.isTracking(a,b)},i.getVelocity=function(a,b){var c=d.getByTarget(a);return c?c.getVelocity(b):NaN},i._cssRegister=function(){var a=l.com.greensock.plugins.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,g=b._setPluginRatio,h=b.CSSPropTween;b._registerComplexSpecialProp("throwProps",{parser:function(a,b,j,k,l,m){m=new i;var o,p,q,r,s,t={},u={},v={},w={},x={},y={};f={};for(q in b)"resistance"!==q&&"preventOvershoot"!==q&&(p=b[q],"object"==typeof p?(void 0!==p.velocity&&"number"==typeof p.velocity?t[q]=Number(p.velocity)||0:(s=s||d.getByTarget(a),t[q]=s&&s.isTrackingProp(q)?s.getVelocity(q):0),void 0!==p.end&&(w[q]=p.end),void 0!==p.min&&(u[q]=p.min),void 0!==p.max&&(v[q]=p.max),p.preventOvershoot&&(y[q]=!0),void 0!==p.resistance&&(o=!0,x[q]=p.resistance)):"number"==typeof p?t[q]=p:(s=s||d.getByTarget(a),s&&s.isTrackingProp(q)?t[q]=s.getVelocity(q):t[q]=p||0),n[q]&&k._enableTransforms(2===n[q]));r=c(a,t,k,l,m),e=r.proxy,t=r.end;for(q in e)f[q]={velocity:t[q],min:u[q],max:v[q],end:w[q],resistance:x[q],preventOvershoot:y[q]};return null!=b.resistance&&(f.resistance=b.resistance),b.preventOvershoot&&(f.preventOvershoot=!0),l=new h(a,"throwProps",0,0,r.pt,2),k._overwriteProps.pop(),l.plugin=m,l.setRatio=g,l.data=r,m._onInitTween(e,f,k._tween),l}})}},i.to=function(a,c,d,i,j){c.throwProps||(c={throwProps:c}),0===j&&(c.throwProps.preventOvershoot=!0),m=!0;var k=new b(a,i||1,c);return k.render(0,!0,!0),k.vars.css?(k.duration(t(e,{throwProps:f,ease:c.ease},d,i,j)),k._delay&&!k.vars.immediateRender?k.invalidate():g._onInitTween(e,h,k),m=!1,k):(k.kill(),k=new b(a,t(a,c,d,i,j),c),m=!1,k)},u._onInitTween=function(a,b,c,e){this.target=a,this._props=[],g=this,h=b;var f,i,j,k,l,n,o,s,t,u=c._ease,v=isNaN(b.checkpoint)?.05:Number(b.checkpoint),w=c._duration,x=b.preventOvershoot,y=0;for(f in b)if("resistance"!==f&&"checkpoint"!==f&&"preventOvershoot"!==f){if(i=b[f],"function"==typeof i&&(i=i(e,a)),"number"==typeof i)l=Number(i)||0;else if("object"!=typeof i||isNaN(i.velocity)){if(t=t||d.getByTarget(a),!t||!t.isTrackingProp(f))throw"ERROR: No velocity was defined in the throwProps tween of "+a+" property: "+f;l=t.getVelocity(f)}else l=Number(i.velocity);n=r(l,u,w,v),s=0,k="function"==typeof a[f],j=k?a[f.indexOf("set")||"function"!=typeof a["get"+f.substr(3)]?f:"get"+f.substr(3)]():a[f],"object"==typeof i&&(o=j+n,void 0!==i.end&&(i=p(i,o,i.max,i.min),m&&(b[f]=q(i,b[f],"end"))),void 0!==i.max&&Number(i.max)<o?x||i.preventOvershoot?n=i.max-j:s=i.max-j-n:void 0!==i.min&&Number(i.min)>o&&(x||i.preventOvershoot?n=i.min-j:s=i.min-j-n)),this._overwriteProps[y]=f,this._props[y++]={p:f,s:j,c1:n,c2:s,f:k,r:!1}}return!0},u._kill=function(b){for(var c=this._props.length;--c>-1;)null!=b[this._props[c].p]&&this._props.splice(c,1);return a.prototype._kill.call(this,b)},u._mod=function(a){for(var b,c=this._props,d=c.length;--d>-1;)b=a[c[d].p]||a.throwProps,"function"==typeof b&&(c[d].m=b)},u.setRatio=function(a){for(var b,c,d=this._props.length;--d>-1;)b=this._props[d],c=b.s+b.c1*a+b.c2*a*a,b.m?c=b.m(c,this.target):1===a&&(c=(1e4*c+(0>c?-.5:.5)|0)/1e4),b.f?this.target[b.p](c):this.target[b.p]=c},a.activate([i]),i},!0),_gsScope._gsDefine("utils.VelocityTracker",["TweenLite"],function(a){var b,c,d,e,f=/([A-Z])/g,g={},h={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},i=document.defaultView?document.defaultView.getComputedStyle:function(){},j=function(a,b,c){var d=(a._gsTransform||g)[b];return d||0===d?d:(a.style[b]?d=a.style[b]:(c=c||i(a,null))?d=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(f,"-$1").toLowerCase()):a.currentStyle&&(d=a.currentStyle[b]),parseFloat(d)||0)},k=a.ticker,l=function(a,b,c){this.p=a,this.f=b,this.v1=this.v2=0,this.t1=this.t2=k.time,this.css=!1,this.type="",this._prev=null,c&&(this._next=c,c._prev=this)},m=function(){var a,c,f=b,g=k.time;if(g-d>=.03)for(e=d,d=g;f;){for(c=f._firstVP;c;)a=c.css?j(f.target,c.p):c.f?f.target[c.p]():f.target[c.p],(a!==c.v1||g-c.t1>.15)&&(c.v2=c.v1,c.v1=a,c.t2=c.t1,c.t1=g),c=c._next;f=f._next}},n=function(a){this._lookup={},this.target=a,this.elem=!(!a.style||!a.nodeType),c||(k.addEventListener("tick",m,null,!1,-100),d=e=k.time,c=!0),b&&(this._next=b,b._prev=this),b=this},o=n.getByTarget=function(a){for(var c=b;c;){if(c.target===a)return c;c=c._next}},p=n.prototype;return p.addProp=function(b,c){if(!this._lookup[b]){var d=this.target,e="function"==typeof d[b],f=e?this._altProp(b):b,g=this._firstVP;this._firstVP=this._lookup[b]=this._lookup[f]=g=new l(f!==b&&0===b.indexOf("set")?f:b,e,g),g.css=this.elem&&(void 0!==this.target.style[g.p]||h[g.p]),g.css&&h[g.p]&&!d._gsTransform&&a.set(d,{x:"+=0",overwrite:!1}),g.type=c||g.css&&0===b.indexOf("rotation")?"deg":"",g.v1=g.v2=g.css?j(d,g.p):e?d[g.p]():d[g.p]}},p.removeProp=function(a){var b=this._lookup[a];b&&(b._prev?b._prev._next=b._next:b===this._firstVP&&(this._firstVP=b._next),b._next&&(b._next._prev=b._prev),this._lookup[a]=0,b.f&&(this._lookup[this._altProp(a)]=0))},p.isTrackingProp=function(a){return this._lookup[a]instanceof l},p.getVelocity=function(a){var b,c,d,e=this._lookup[a],f=this.target;if(!e)throw"The velocity of "+a+" is not being tracked.";return b=e.css?j(f,e.p):e.f?f[e.p]():f[e.p],c=b-e.v2,("rad"===e.type||"deg"===e.type)&&(d="rad"===e.type?2*Math.PI:360,c%=d,c!==c%(d/2)&&(c=0>c?c+d:c-d)),c/(k.time-e.t2)},p._altProp=function(a){var b=a.substr(0,3),c=("get"===b?"set":"set"===b?"get":b)+a.substr(3);return"function"==typeof this.target[c]?c:a},n.getByTarget=function(c){var d=b;for("string"==typeof c&&(c=a.selector(c)),c.length&&c!==window&&c[0]&&c[0].style&&!c.nodeType&&(c=c[0]);d;){if(d.target===c)return d;d=d._next}},n.track=function(a,b,c){var d=o(a),e=b.split(","),f=e.length;for(c=(c||"").split(","),d||(d=new n(a));--f>-1;)d.addProp(e[f],c[f]||c[0]);return d},n.untrack=function(a,c){var d=o(a),e=(c||"").split(","),f=e.length;if(d){for(;--f>-1;)d.removeProp(e[f]);d._firstVP&&c||(d._prev?d._prev._next=d._next:d===b&&(b=d._next),d._next&&(d._next._prev=d._prev))}},n.isTracking=function(a,b){var c=o(a);return!!c&&(!(b||!c._firstVP)||c.isTrackingProp(b))},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite"],b):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=b())}("ThrowPropsPlugin"),function(){var PHASER_checkbox=window.PHASER_checkbox=function(_g,_x,_y,_labelObj,_sprite,_state,_cb){var texture=new Phaser.Sprite(game,_x,_y,_sprite),text=new Phaser.Text(game,_x+texture.width+15,_y+4,_labelObj.text,_labelObj.style),button=new Phaser.Sprite(game,_x-2,_y-2);_g.add(texture),_g.add(text),_g.add(button),button.width=texture.width+5+text.width+4,button.height=text.height>texture.height?text.height+8:texture.height+8,button.inputEnabled=!0,button.input.useHandCursor=!0,button.events.onInputDown.add(function(elm,pointer){change()},_g);var state=!1,change=function(){state?(state=!1,texture.frame=0):(state=!0,texture.frame=1),null!=_cb&&_cb(state)};return void 0!==arguments[4]&&!0===arguments[4]&&change(),{button:button,change:change,text:text,texture:texture,set enabled(bool){button.inputEnabled=bool,button.input.useHandCursor=bool,bool?(texture.tint=16777215,texture.alpha=1,text.tint=16777215,text.alpha=1):(texture.tint=10066329,texture.alpha=.5,text.tint=10066329,text.alpha=.5)},set inputEnabled(bool){button.inputEnabled=bool,text.inputEnabled=bool,texture.inputEnabled=bool},set useHandCursor(bool){button.input.useHandCursor=bool,text.input.useHandCursor=bool,texture.input.useHandCursor=bool},get state(){return state},set state(bool){bool?(state=!0,texture.frame=1):(state=!1,texture.frame=0)},get x(){return texture.x},get y(){return texture.y},set x(xpos){button.x=xpos-2,texture.x=xpos,text.x=texture.x+texture.width+5},set y(ypos){button.y=ypos-2,texture.y=ypos,text.y=ypos},events:{onInputOver:{add:function(_callback,_scope){button.events.onInputOver.add(_callback,_scope)}},onInputOut:{add:function(_callback,_scope){button.events.onInputOut.add(_callback,_scope)}},onInputUp:{add:function(_callback,_scope){button.events.onInputUp.add(_callback,_scope)}}},kill:function(){button.kill(),texture.kill(),text.kill()}}};void 0!==Phaser.GameObjectFactory&&"function"==typeof Phaser.GameObjectFactory&&(Phaser.GameObjectFactory.prototype.checkbox=PHASER_checkbox)}(),window.gameWrapper=function(){function onWrapperActivityChanged(gameWrapperBusy){return!!gameWrapper&&void(gameWrapperBusy?"function"==typeof gameWrapper.onWrapperActivated&&gameWrapper.onWrapperActivated():"function"==typeof gameWrapper.onWrapperDeactivated&&gameWrapper.onWrapperDeactivated())}function sendToWrapper(data){data&&window.parent.postMessage(JSON.stringify(data),"*")}var gameWrapper={gameLoadingStarted:function(){sendToWrapper({wrapperAction:"gameLoadingStarted"})},gameLoadingEnded:function(){sendToWrapper({wrapperAction:"gameLoadingEnded"})},setBusy:function(){sendToWrapper({idle:!1})},setIdle:function(){sendToWrapper({idle:!0})},exitGame:function(){sendToWrapper({wrapperAction:"exitGame"})},gotoAccountsPage:function(){sendToWrapper({wrapperAction:"gotoAccountsPage"})},gotoDepositPage:function(){sendToWrapper({wrapperAction:"gotoDepositPage"})},getOperatorInformation:function(){sendToWrapper({wrapperAction:"getOperatorInformation"})},sendCustomAction:function(action,data){var _data=data||{};sendToWrapper({customWrapperAction:action,data:_data})},onWrapperActivated:function(){},onWrapperDeactivated:function(){},onWrapperMessage:function(data){}};return window.addEventListener("message",function(message){var data;try{data=JSON.parse(message.data)}catch(e){return}void 0!==data.gameWrapper&&onWrapperActivityChanged(data.gameWrapper),void 0!==data.customMessage&&gameWrapper.onWrapperMessage(data.customMessage)},!1),gameWrapper}(),function(){function GameiomHandler(pause_,resume_){this.init(pause_,resume_)}function init_(pause_,resume_){var this_=this,details=window.gameParams||window.gameInfo||{},clientName=details.clientName||"";clientName.toUpperCase().match(/GAMEIOM/)&&(window.gameWrapper.onWrapperActivated=pause_||function(){},window.gameWrapper.onWrapperDeactivated=resume_||function(){},window.addEventListener("f1x2gan",function(_e){var msg="object"==typeof window.CustomEvent?_e.detail.detail:_e.detail,func=this_.funcs[msg];func&&window.gameWrapper[func]()}))}window.f1x2=window.f1x2||{};var p=GameiomHandler.prototype;p.funcs={playStarted:"setBusy",playStopped:"setIdle",gameClosing:"exitGame"},p.init=init_,window.f1x2.GameiomHandler=GameiomHandler}(),!function(){function GcmMessageSender_(iframe_){this.init(iframe_)}window.f1x2=window.f1x2||{};var p=GcmMessageSender_.prototype;p.init=function(iframe_){var this_=this;this_.iframe=iframe_,f1x2.gcmMuteOption=function(){},this_.iframe||window.addEventListener("message",function(e_){var msg;try{msg=JSON.parse(e_.data)}catch(e_){}msg&&msg.type&&this_.send(msg.type,msg.data)})},p.send=function(type_,data_){if(this.iframe)this.iframe.contentWindow.postMessage(JSON.stringify({type:type_,data:data_}),"*");else switch(type_){case"MUTE":f1x2.gcmMuteOption(data_)}},f1x2.GcmMessageSender=GcmMessageSender_}(),function(){function GcmFunctions_(pause_,resume_,balance_){this.init(pause_,resume_,balance_)}window.f1x2=window.f1x2||{},GcmFunctions_.prototype.init=function(pause_,resume_,balance_){var this_=this;if(this.pause=pause_,this.resume=resume_,this.balance=balance_,f1x2.gcmConnected){var device=f1x2.getParameterByName("NYX_GCM_DEVICE"),sDevice=sessionStorage.getItem("NYX_GCM_DEVICE");sDevice&&"null"!==sDevice&&(device=sDevice),"mobile"===device?(f1x2.gcmManager.game.pause=pause_,f1x2.gcmManager.game.resume=resume_,f1x2.gcmManager.game.balanceUpdate=function(d_){balance_(d_.v)}):window.addEventListener("message",function(e_){var f;e_.data.f?(f=this_[e_.data.f])&&f(e_.data.v):(f=this_[e_.data])&&f()})}},f1x2.GcmFunctions=GcmFunctions_}(),window.f1x2=window.f1x2||{},f1x2.GcmError=function(d_,e_){if(f1x2.gcmConnected){var d=String(d_),e=e_;if(d.match(/Error code:/i)){var v=decodeURIComponent(d),search=["Error code: "," -"],s1=v.indexOf(search[0])+search[0].length,s2=v.indexOf(search[1]);e=Number(v.slice(s1,s2));
}f1x2.GcmSendMessage(JSON.stringify({type:"ERROR",data:e}))}return f1x2.gcmConnected},window.f1x2=window.f1x2||{},f1x2.GcmSendMessage=function(d_){window.f1x2.gcmManager?f1x2.gcmManager.handler.handle(d_):parent.postMessage(d_,"*")},window.f1x2=window.f1x2||{},f1x2.getParameterByName=function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var results=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)").exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null},function(){function handler_(e_){f1x2.gcmConnected||"1X2_GCM_CONNECT"!==e_.data||(f1x2.gcmConnected=!0,f1x2.GcmSendMessage(JSON.stringify({type:"CONNECT"})),window.removeEventListener("message",handler_))}window.f1x2=window.f1x2||{},f1x2.gcmConnected=!1,window.addEventListener("message",handler_);var client=f1x2.getParameterByName("clientName")||"",mode=f1x2.getParameterByName("playMode")||"",device=f1x2.getParameterByName("NYX_GCM_DEVICE"),sClient=sessionStorage.getItem("clientName"),sMode=sessionStorage.getItem("playMode"),sDevice=sessionStorage.getItem("NYX_GCM_DEVICE");if(sClient&&"null"!==sClient&&(client=sClient),sMode&&"null"!==sMode&&(mode=sMode),sDevice&&"null"!==sDevice&&(device=sDevice),client.match(/NYX/))if("mobile"===device){var src;src=null!==f1x2.getParameterByName("dev",decodeURIComponent(f1x2.getParameterByName("NYX_GCM_PARAMS")))?"https://1x2uk.com/NYX/gcm-dev.js?q="+Date.now():"https://1x2uk.com/NYX/gcm.min.js";var script=document.createElement("script");script.type="text/javascript",script.async=!0,script.src=src,script.onload=function(){f1x2.gcmManager=new f1x2.GcmManager(null,mode,device),handler_({data:"1X2_GCM_CONNECT"})},window.addEventListener("load",function(event){document.body.appendChild(script)})}else f1x2.gcmMessageSender=new f1x2.GcmMessageSender}(),!function(t){function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var n={};r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=406)}([function(t,n,r){var e=r(2),i=r(8),o=r(13),u=r(10),c=r(21),f=function(t,n,r){var a,s,l,h,v=t&f.F,p=t&f.G,y=t&f.S,d=t&f.P,g=t&f.B,m=p?e:y?e[n]||(e[n]={}):(e[n]||{}).prototype,b=p?i:i[n]||(i[n]={}),w=b.prototype||(b.prototype={});for(a in p&&(r=n),r)l=((s=!v&&m&&void 0!==m[a])?m:r)[a],h=g&&s?c(l,e):d&&"function"==typeof l?c(Function.call,l):l,m&&u(m,a,l,t&f.U),b[a]!=l&&o(b,a,h),d&&w[a]!=l&&(w[a]=l)};e.core=i,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(3);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n,r){var e=r(67)("wks"),i=r(30),o=r(2).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(4),i=r(94),o=r(27),u=Object.defineProperty;n.f=r(7)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(25),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(2),i=r(13),o=r(12),u=r(30)("src"),c=Function.toString,f=(""+c).split("toString");r(8).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,c){var a="function"==typeof r;a&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(a&&(o(r,u)||i(r,u,t[n]?""+t[n]:f.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||c.call(this)})},function(t,n,r){var e=r(0),i=r(1),o=r(24),u=/"/g,c=function(t,n,r,e){var i=String(o(t)),c="<"+n;return""!==r&&(c+=" "+r+'="'+String(e).replace(u,"&quot;")+'"'),c+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(6),i=r(29);t.exports=r(7)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(47),i=r(24);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(24);t.exports=function(t){return Object(e(t))}},function(t,n,r){"use strict";var e=r(1);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},,function(t,n,r){var e=r(48),i=r(29),o=r(14),u=r(27),c=r(12),f=r(94),a=Object.getOwnPropertyDescriptor;n.f=r(7)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(0),i=r(8),o=r(1);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(21),i=r(47),o=r(15),u=r(9),c=r(220);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var y,d,g=o(n),m=i(g),b=e(c,p,3),w=u(m.length),S=0,x=r?v(n,w):f?v(n,0):void 0;w>S;S++)if((h||S in m)&&(d=b(y=m[S],S,g),t))if(r)x[S]=d;else if(d)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:x.push(y)}else if(s)return!1;return l?-1:a||s?s:x}}},function(t,n,r){var e=r(22);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){"use strict";if(r(7)){var e=r(31),i=r(2),o=r(1),u=r(0),c=r(60),f=r(90),a=r(21),s=r(41),l=r(29),h=r(13),v=r(42),p=r(25),y=r(9),d=r(119),g=r(33),m=r(27),b=r(12),w=r(52),S=r(3),x=r(15),_=r(83),O=r(34),E=r(36),P=r(35).f,F=r(85),M=r(30),j=r(5),A=r(20),N=r(50),I=r(57),L=r(87),T=r(38),R=r(54),k=r(40),C=r(86),D=r(111),W=r(6),U=r(18),V=W.f,G=U.f,B=i.RangeError,z=i.TypeError,q=i.Uint8Array,Y=Array.prototype,J=f.ArrayBuffer,H=f.DataView,K=A(0),X=A(2),Z=A(3),$=A(4),Q=A(5),tt=A(6),nt=N(!0),rt=N(!1),et=L.values,it=L.keys,ot=L.entries,ut=Y.lastIndexOf,ct=Y.reduce,ft=Y.reduceRight,at=Y.join,st=Y.sort,lt=Y.slice,ht=Y.toString,vt=Y.toLocaleString,pt=j("iterator"),yt=j("toStringTag"),dt=M("typed_constructor"),gt=M("def_constructor"),mt=c.CONSTR,bt=c.TYPED,wt=c.VIEW,St=A(1,function(t,n){return Pt(I(t,t[gt]),n)}),xt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),_t=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),Ot=function(t,n){var r=p(t);if(r<0||r%n)throw B("Wrong offset!");return r},Et=function(t){if(S(t)&&bt in t)return t;throw z(t+" is not a typed array!")},Pt=function(t,n){if(!(S(t)&&dt in t))throw z("It is not a typed array constructor!");return new t(n)},Ft=function(t,n){return Mt(I(t,t[gt]),n)},Mt=function(t,n){for(var r=0,e=n.length,i=Pt(t,e);e>r;)i[r]=n[r++];return i},jt=function(t,n,r){V(t,n,{get:function(){return this._d[r]}})},At=function(t){var n,r,e,i,o,u,c=x(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=F(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=y(c.length),i=Pt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Nt=function(){for(var t=0,n=arguments.length,r=Pt(this,n);n>t;)r[t]=arguments[t++];return r},It=!!q&&o(function(){vt.call(new q(1))}),Lt=function(){return vt.apply(It?lt.call(Et(this)):Et(this),arguments)},Tt={copyWithin:function(t,n){return D.call(Et(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return $(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Et(this),arguments)},filter:function(t){return Ft(this,X(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return at.apply(Et(this),arguments)},lastIndexOf:function(t){return ut.apply(Et(this),arguments)},map:function(t){return St(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(Et(this),arguments)},reduceRight:function(t){return ft.apply(Et(this),arguments)},reverse:function(){for(var t,n=Et(this).length,r=Math.floor(n/2),e=0;e<r;)t=this[e],this[e++]=this[--n],this[n]=t;return this},some:function(t){return Z(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return st.call(Et(this),t)},subarray:function(t,n){var r=Et(this),e=r.length,i=g(t,e);return new(I(r,r[gt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,y((void 0===n?e:g(n,e))-i))}},Rt=function(t,n){return Ft(this,lt.call(Et(this),t,n))},kt=function(t){Et(this);var n=Ot(arguments[1],1),r=this.length,e=x(t),i=y(e.length),o=0;if(i+n>r)throw B("Wrong length!");for(;o<i;)this[n+o]=e[o++]},Ct={entries:function(){return ot.call(Et(this))},keys:function(){return it.call(Et(this))},values:function(){return et.call(Et(this))}},Dt=function(t,n){return S(t)&&t[bt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Wt=function(t,n){return Dt(t,n=m(n,!0))?l(2,t[n]):G(t,n)},Ut=function(t,n,r){return!(Dt(t,n=m(n,!0))&&S(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?V(t,n,r):(t[n]=r.value,t)};mt||(U.f=Wt,W.f=Ut),u(u.S+u.F*!mt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Ut}),o(function(){ht.call({})})&&(ht=vt=function(){return at.call(this)});var Vt=v({},Tt);v(Vt,Ct),h(Vt,pt,Ct.values),v(Vt,{slice:Rt,set:kt,constructor:function(){},toString:ht,toLocaleString:Lt}),jt(Vt,"buffer","b"),jt(Vt,"byteOffset","o"),jt(Vt,"byteLength","l"),jt(Vt,"length","e"),V(Vt,yt,{get:function(){return this[bt]}}),t.exports=function(t,n,r,f){var a=t+((f=!!f)?"Clamped":"")+"Array",l="get"+t,v="set"+t,p=i[a],g=p||{},m=p&&E(p),b=!p||!c.ABV,x={},_=p&&p.prototype,F=function(t,r){V(t,r,{get:function(){return function(t,r){var e=t._d;return e.v[l](r*n+e.o,xt)}(this,r)},set:function(t){return function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[v](r*n+i.o,e,xt)}(this,r,t)},enumerable:!0})};b?(p=r(function(t,r,e,i){s(t,p,a,"_d");var o,u,c,f,l=0,v=0;if(S(r)){if(!(r instanceof J||"ArrayBuffer"==(f=w(r))||"SharedArrayBuffer"==f))return bt in r?Mt(p,r):At.call(p,r);o=r,v=Ot(e,n);var g=r.byteLength;if(void 0===i){if(g%n)throw B("Wrong length!");if((u=g-v)<0)throw B("Wrong length!")}else if((u=y(i)*n)+v>g)throw B("Wrong length!");c=u/n}else c=d(r),o=new J(u=c*n);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new H(o)});l<c;)F(t,l++)}),_=p.prototype=O(Vt),h(_,"constructor",p)):o(function(){p(1)})&&o(function(){new p((-1))})&&R(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=r(function(t,r,e,i){var o;return s(t,p,a),S(r)?r instanceof J||"ArrayBuffer"==(o=w(r))||"SharedArrayBuffer"==o?void 0!==i?new g(r,Ot(e,n),i):void 0!==e?new g(r,Ot(e,n)):new g(r):bt in r?Mt(p,r):At.call(p,r):new g(d(r))}),K(m!==Function.prototype?P(g).concat(P(m)):P(g),function(t){t in p||h(p,t,g[t])}),p.prototype=_,e||(_.constructor=p));var M=_[pt],j=!!M&&("values"==M.name||void 0==M.name),A=Ct.values;h(p,dt,!0),h(_,bt,a),h(_,wt,!0),h(_,gt,p),(f?new p(1)[yt]==a:yt in _)||V(_,yt,{get:function(){return a}}),x[a]=p,u(u.G+u.W+u.F*(p!=g),x),u(u.S,a,{BYTES_PER_ELEMENT:n}),u(u.S+u.F*o(function(){g.of.call(p,1)}),a,{from:At,of:Nt}),"BYTES_PER_ELEMENT"in _||h(_,"BYTES_PER_ELEMENT",n),u(u.P,a,Tt),k(a),u(u.P+u.F*_t,a,{set:kt}),u(u.P+u.F*!j,a,Ct),e||_.toString==ht||(_.toString=ht),u(u.P+u.F*o(function(){new p(1).slice()}),a,{slice:Rt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Lt}),T[a]=j?M:A,e||j||h(_,pt,A)}}else t.exports=function(){}},function(t,n,r){var e=r(3);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(30)("meta"),i=r(3),o=r(12),u=r(6).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(1)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return a&&l.NEED&&f(t)&&!o(t,e)&&s(t),t}}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){t.exports=!1},function(t,n,r){var e=r(96),i=r(70);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(25),i=Math.max,o=Math.min;t.exports=function(t,n){return(t=e(t))<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(4),i=r(97),o=r(70),u=r(69)("IE_PROTO"),c=function(){},f=function(){var t,n=r(66)("iframe"),e=o.length;for(n.style.display="none",r(72).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object</script>"),t.close(),f=t.F;e--;)delete f.prototype[o[e]];return f()};t.exports=Object.create||function(t,n){var r;return null!==t?(c.prototype=e(t),r=new c,c.prototype=null,r[u]=t):r=f(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(96),i=r(70).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(12),i=r(15),o=r(69)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(6).f,i=r(12),o=r(5)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n){t.exports={}},function(t,n,r){var e=r(5)("unscopables"),i=Array.prototype;void 0==i[e]&&r(13)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){"use strict";var e=r(2),i=r(6),o=r(7),u=r(5)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){var e=r(10);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){var e=r(3);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},,,function(t,n,r){"use strict";function e(t,n,r){var e="?"===t.slice(-1)?t.slice(0,-1):t,i=n?"?"===n.slice(0,1)?n:"?".concat(n):"",o="".concat(e).concat(i);return new Promise(function(t,n){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&t(this.responseText),4==this.readyState&&404==this.status&&n(this.status)},e.open(r?"POST":"GET",o,!0),e.send()})}r.d(n,"a",function(){return e})},function(t,n,r){var e=r(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},,function(t,n,r){var e=r(14),i=r(9),o=r(33);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(23),i=r(5)("toStringTag"),o="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),i))?r:o?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){var e=r(0),i=r(24),o=r(1),u=r(74),c="["+u+"]",f=RegExp("^"+c+c+"*"),a=RegExp(c+c+"*$"),s=function(t,n,r){var i={},c=o(function(){return!!u[t]()||"\u200b\x85"!="\u200b\x85"[t]()}),f=i[t]=c?n(l):u[t];r&&(i[r]=f),e(e.P+e.F*c,"String",i)},l=s.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(f,"")),2&n&&(t=t.replace(a,"")),t};t.exports=s},function(t,n,r){var e=r(5)("iterator"),i=!1;try{var o=[7][e]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(13),i=r(10),o=r(1),u=r(24),c=r(5);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}},function(t,n,r){var e=r(21),i=r(109),o=r(83),u=r(4),c=r(9),f=r(85),a={},s={};(n=t.exports=function(t,n,r,l,h){var v,p,y,d,g=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>b;b++)if((d=n?m(u(p=t[b])[0],p[1]):m(t[b]))===a||d===s)return d}else for(y=g.call(t);!(p=y.next()).done;)if((d=i(y,m,p.value,n))===a||d===s)return d}).BREAK=a,n.RETURN=s},function(t,n,r){var e=r(4),i=r(22),o=r(5)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(2).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(2),i=r(0),o=r(10),u=r(42),c=r(28),f=r(56),a=r(41),s=r(3),l=r(1),h=r(54),v=r(37),p=r(75);t.exports=function(t,n,r,y,d,g){var m=e[t],b=m,w=d?"set":"add",S=b&&b.prototype,x={},_=function(t){var n=S[t];o(S,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(g||S.forEach&&!l(function(){(new b).entries().next()}))){var O=new b,E=O[w](g?{}:-0,1)!=O,P=l(function(){O.has(1)}),F=h(function(t){new b(t)}),M=!g&&l(function(){for(var t=new b,n=5;n--;)t[w](n,n);return!t.has(-0)});F||((b=n(function(n,r){a(n,b,t);var e=p(new m,n,b);return void 0!=r&&f(r,d,e[w],e),e})).prototype=S,S.constructor=b),(P||M)&&(_("delete"),_("has"),d&&_("get")),(M||E)&&_(w),g&&S.clear&&delete S.clear}else b=y.getConstructor(n,t,d,w),u(b.prototype,r),c.NEED=!0;return v(b,t),x[t]=b,i(i.G+i.W+i.F*(b!=m),x),g||y.setStrong(b,t,d),b}},function(t,n,r){for(var e,i=r(2),o=r(13),u=r(30),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},,function(t,n,r){"use strict";function i(t,n){return Object(e.a)(t,n).then(function(t){return JSON.parse(t)})["catch"](function(t){return JSON.parse(t)})}r.d(n,"a",function(){return i});var e=r(46)},,,,function(t,n,r){var e=r(3),i=r(2).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){var e=r(8),i=r(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(31)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(5)},function(t,n,r){var e=r(67)("keys"),i=r(30);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(23);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(2).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(3),i=r(4),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{(e=r(21)(Function.call,r(18).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n){t.exports="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,n,r){var e=r(3),i=r(73).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){"use strict";var e=r(25),i=r(24);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n,r){"use strict";var e=r(31),i=r(0),o=r(10),u=r(13),c=r(38),f=r(108),a=r(37),s=r(36),l=r(5)("iterator"),h=!([].keys&&"next"in[].keys()),v=function(){return this};t.exports=function(t,n,r,p,y,d,g){f(r,n,p);var m,b,w,S=function(t){if(!h&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},x=n+" Iterator",_="values"==y,O=!1,E=t.prototype,P=E[l]||E["@@iterator"]||y&&E[y],F=P||S(y),M=y?_?S("entries"):F:void 0,j="Array"==n&&E.entries||P;if(j&&(w=s(j.call(new t)))!==Object.prototype&&w.next&&(a(w,x,!0),e||"function"==typeof w[l]||u(w,l,v)),_&&P&&"values"!==P.name&&(O=!0,F=function(){return P.call(this)}),e&&!g||!h&&!O&&E[l]||u(E,l,F),c[n]=F,c[x]=v,y)if(m={values:_?F:S("values"),keys:d?F:S("keys"),entries:M},g)for(b in m)b in E||o(E,b,m[b]);else i(i.P+i.F*(h||O),n,m);return m}},function(t,n,r){var e=r(81),i=r(24);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){var e=r(3),i=r(23),o=r(5)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(5)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){var e=r(38),i=r(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){"use strict";var e=r(6),i=r(29);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(52),i=r(5)("iterator"),o=r(38);t.exports=r(8).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(15),i=r(33),o=r(9);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(39),i=r(112),o=r(38),u=r(14);t.exports=r(79)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n,r){"use strict";var e=r(4);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,r){var e,i,o,u=r(21),c=r(101),f=r(72),a=r(66),s=r(2),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,y=s.Dispatch,d=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},b=function(t){m.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++d]=function(){c("function"==typeof t?t:Function(t),n)},e(d),d},v=function(t){delete g[t]},"process"==r(23)(l)?e=function(t){l.nextTick(u(m,t,1))}:y&&y.now?e=function(t){y.now(u(m,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",b,!1)):e="onreadystatechange"in a("script")?function(t){f.appendChild(a("script")).onreadystatechange=function(){f.removeChild(this),m.call(t)}}:function(t){setTimeout(u(m,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";function T(t,n,r){var e,i,o,u=new Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?F(2,-24)-F(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===O?(i=t!=t?1:0,e=f):(e=M(j(t)/A),t*(o=F(2,-e))<1&&(e--,o*=2),(t+=e+a>=1?s/o:s*F(2,1-a))*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*F(2,n),e+=a):(i=t*F(2,a-1)*F(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u}function R(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-O:O;e+=F(2,n),s-=u}return(a?-1:1)*e*F(2,s-n)}function k(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function C(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return T(t,52,8)}function V(t){return T(t,23,4)}function G(t,n,r){y(t[m],n,{get:function(){return this[r]}})}function B(t,n,r,e){var i=v(+r);if(i+n>t[I])throw _(b);var o=t[N]._b,u=i+t[L],c=o.slice(u,u+n);return e?c:c.reverse()}function z(t,n,r,e,i,o){var u=v(+r);if(u+n>t[I])throw _(b);for(var c=t[N]._b,f=u+t[L],a=e(+i),s=0;s<n;s++)c[f+s]=a[o?s:n-s-1]}var e=r(2),i=r(7),o=r(31),u=r(60),c=r(13),f=r(42),a=r(1),s=r(41),l=r(25),h=r(9),v=r(119),p=r(35).f,y=r(6).f,d=r(86),g=r(37),m="prototype",b="Wrong index!",w=e.ArrayBuffer,S=e.DataView,x=e.Math,_=e.RangeError,O=e.Infinity,E=w,P=x.abs,F=x.pow,M=x.floor,j=x.log,A=x.LN2,N=i?"_b":"buffer",I=i?"_l":"byteLength",L=i?"_o":"byteOffset";if(u.ABV){if(!a(function(){w(1)})||!a(function(){new w((-1))})||a(function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name})){for(var q,Y=(w=function(t){return s(this,w),new E(v(t))})[m]=E[m],J=p(E),H=0;J.length>H;)(q=J[H++])in w||c(w,q,E[q]);o||(Y.constructor=w)}var K=new S(new w(2)),X=S[m].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||f(S[m],{setInt8:function(t,n){X.call(this,t,n<<24>>24)},setUint8:function(t,n){X.call(this,t,n<<24>>24)}},!0)}else w=function(t){s(this,w,"ArrayBuffer");var n=v(t);this._b=d.call(new Array(n),0),this[I]=n},S=function(t,n,r){s(this,S,"DataView"),s(t,w,"DataView");var e=t[I],i=l(n);if(i<0||i>e)throw _("Wrong offset!");if(i+(r=void 0===r?e-i:h(r))>e)throw _("Wrong length!");this[N]=t,this[L]=i,this[I]=r},i&&(G(w,"byteLength","_l"),G(S,"buffer","_b"),G(S,"byteLength","_l"),G(S,"byteOffset","_o")),f(S[m],{getInt8:function(t){return B(this,1,t)[0]<<24>>24},getUint8:function(t){return B(this,1,t)[0]},getInt16:function(t){var n=B(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=B(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return k(B(this,4,t,arguments[1]))},getUint32:function(t){return k(B(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R(B(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R(B(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){z(this,1,t,C,n)},setUint8:function(t,n){z(this,1,t,C,n)},setInt16:function(t,n){z(this,2,t,D,n,arguments[2])},setUint16:function(t,n){z(this,2,t,D,n,arguments[2])},setInt32:function(t,n){z(this,4,t,W,n,arguments[2])},setUint32:function(t,n){z(this,4,t,W,n,arguments[2])},setFloat32:function(t,n){z(this,4,t,V,n,arguments[2])},setFloat64:function(t,n){z(this,8,t,U,n,arguments[2])}});g(w,"ArrayBuffer"),g(S,"DataView"),c(S[m],u.VIEW,!0),n.ArrayBuffer=w,n.DataView=S},,function(t,n,r){"use strict";function e(t){return new Promise(function(n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.onload=n,r.src=t,document.body.appendChild(r)})}r.d(n,"a",function(){return e})},,function(t,n,r){t.exports=!r(7)&&!r(1)(function(){return 7!=Object.defineProperty(r(66)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(8),o=r(31),u=r(68),c=r(6).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(12),i=r(14),o=r(50)(!1),u=r(69)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(6),i=r(4),o=r(32);t.exports=r(7)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(14),i=r(35).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(e(t))}},function(t,n,r){"use strict";var e=r(32),i=r(51),o=r(48),u=r(15),c=r(47),f=Object.assign;t.exports=!f||r(1)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),y=p.length,d=0;y>d;)l.call(v,h=p[d++])&&(r[h]=v[h]);return r}:f},function(t,n,r){"use strict";var e=r(22),i=r(3),o=r(101),u=[].slice,c={};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),f=function(){
var e=r.concat(u.call(arguments));return this instanceof f?function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)}(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(f.prototype=n.prototype),f}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(2).parseInt,i=r(53).trim,o=r(74),u=/^[-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n,r){var e=r(2).parseFloat,i=r(53).trim;t.exports=1/e(r(74)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(23);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){var e=r(3),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){var e=r(25),i=r(24);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f))<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(34),i=r(29),o=r(37),u={};r(13)(u,r(5)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){var e=r(4);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t["return"];throw void 0!==o&&e(o.call(t)),n}}},function(t,n,r){var e=r(22),i=r(15),o=r(47),u=r(9);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(15),i=r(33),o=r(9);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){r(7)&&"g"!=/./g.flags&&r(6).f(RegExp.prototype,"flags",{configurable:!0,get:r(88)})},function(t,n,r){"use strict";var e,i,o,u,c=r(31),f=r(2),a=r(21),s=r(52),l=r(0),h=r(3),v=r(22),p=r(41),y=r(56),d=r(57),g=r(89).set,m=r(241)(),b=r(115),w=r(242),S=r(58),x=r(116),_=f.TypeError,O=f.process,E=O&&O.versions,P=E&&E.v8||"",F=f.Promise,M="process"==s(O),j=function(){},A=i=b.f,N=!!function(){try{var t=F.resolve(1),n=(t.constructor={})[r(5)("species")]=function(t){t(j,j)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof n&&0!==P.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},L=function(t,n){if(!t._n){t._n=!0;var r=t._c;m(function(){for(var e=t._v,i=1==t._s,o=0,u=function(n){var r,o,u,c=i?n.ok:n.fail,f=n.resolve,a=n.reject,s=n.domain;try{c?(i||(2==t._h&&k(t),t._h=1),!0===c?r=e:(s&&s.enter(),r=c(e),s&&(s.exit(),u=!0)),r===n.promise?a(_("Promise-chain cycle")):(o=I(r))?o.call(r,f,a):f(r)):a(e)}catch(t){s&&!u&&s.exit(),a(t)}};r.length>o;)u(r[o++]);t._c=[],t._n=!1,n&&!t._h&&T(t)})}},T=function(t){g.call(f,function(){var n,r,e,i=t._v,o=R(t);if(o&&(n=w(function(){M?O.emit("unhandledRejection",i,t):(r=f.onunhandledrejection)?r({promise:t,reason:i}):(e=f.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=M||R(t)?2:1),t._a=void 0,o&&n.e)throw n.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(t){g.call(f,function(){var n;M?O.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})})},C=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),L(n,!0))},D=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw _("Promise can't be resolved itself");(n=I(t))?m(function(){var e={_w:r,_d:!1};try{n.call(t,a(D,e,1),a(C,e,1))}catch(t){C.call(e,t)}}):(r._v=t,r._s=1,L(r,!1))}catch(t){C.call({_w:r,_d:!1},t)}}};N||(F=function(t){p(this,F,"Promise","_h"),v(t),e.call(this);try{t(a(D,this,1),a(C,this,1))}catch(t){C.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(42)(F.prototype,{then:function(t,n){var r=A(d(this,F));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=M?O.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&L(this,!1),r.promise},"catch":function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=a(D,t,1),this.reject=a(C,t,1)},b.f=A=function(t){return t===F||t===u?new o(t):i(t)}),l(l.G+l.W+l.F*!N,{Promise:F}),r(37)(F,"Promise"),r(40)("Promise"),u=r(8).Promise,l(l.S+l.F*!N,"Promise",{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(c||!N),"Promise",{resolve:function(t){return x(c&&this===u?F:this,t)}}),l(l.S+l.F*!(N&&r(54)(function(t){F.all(t)["catch"](j)})),"Promise",{all:function(t){var n=this,r=A(n),e=r.resolve,i=r.reject,o=w(function(){var r=[],o=0,u=1;y(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o.e&&i(o.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,i=w(function(){y(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i.e&&e(i.v),r.promise}})},function(t,n,r){"use strict";var e=r(22);t.exports.f=function(t){return new function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=e(n),this.reject=e(r)}(t)}},function(t,n,r){var e=r(4),i=r(3),o=r(115);t.exports=function(t,n){if(e(t),i(n)&&n.constructor===t)return n;var r=o.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";var e=r(6).f,i=r(34),o=r(42),u=r(21),c=r(41),f=r(56),a=r(79),s=r(112),l=r(40),h=r(7),v=r(28).fastKey,p=r(43),y=h?"_s":"size",d=function(t,n){var r,e=v(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,a){var s=t(function(t,e){c(t,s,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=e&&f(e,r,t[a],t)});return o(s.prototype,{clear:function(){for(var t=p(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[y]=0},"delete":function(t){var r=p(this,n),e=d(r,t);if(e){var i=e.n,o=e.p;delete r._i[e.i],e.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==e&&(r._f=i),r._l==e&&(r._l=o),r[y]--}return!!e},forEach:function(t){p(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!d(p(this,n),t)}}),h&&e(s.prototype,"size",{get:function(){return p(this,n)[y]}}),s},def:function(t,n,r){var e,i,o=d(t,n);return o?o.v=r:(t._l=o={i:i=v(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:d,setStrong:function(t,n,r){a(t,n,function(t,r){this._t=p(t,n),this._k=r,this._l=void 0},function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?s(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=void 0,s(1))},r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(42),i=r(28).getWeak,o=r(4),u=r(3),c=r(41),f=r(56),a=r(20),s=r(12),l=r(43),h=a(5),v=a(6),p=0,y=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},g=function(t,n){return h(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},"delete":function(t){var n=v(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._t=n,t._i=p++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{"delete":function(t){if(!u(t))return!1;var r=i(t);return!0===r?y(l(this,n))["delete"](t):r&&s(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=i(t);return!0===r?y(l(this,n)).has(t):r&&s(r,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?y(t).set(n,r):e[t._i]=r,t},ufstore:y}},function(t,n,r){var e=r(25),i=r(9);t.exports=function(t){if(void 0===t)return 0;var n=e(t),r=i(n);if(n!==r)throw RangeError("Wrong length!");return r}},function(t,n,r){var e=r(35),i=r(51),o=r(4),u=r(2).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(9),i=r(76),o=r(24);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){var e=r(32),i=r(14),o=r(48).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},,,,function(t,n,r){r(127)},function(t,n,r){"use strict";r(128),r(272),r(274),r(276),r(278),r(280),r(282),r(284),r(286),r(288),r(292)},function(t,n,r){r(129),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(143),r(144),r(145),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(198),r(199),r(200),r(201),r(202),r(203),r(204),r(205),r(206),r(207),r(208),r(210),r(211),r(213),r(214),r(215),r(216),r(217),r(218),r(219),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(87),r(235),r(236),r(113),r(237),r(238),r(239),r(240),r(114),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),t.exports=r(8)},function(t,n,r){"use strict";var e=r(2),i=r(12),o=r(7),u=r(0),c=r(10),f=r(28).KEY,a=r(1),s=r(67),l=r(37),h=r(30),v=r(5),p=r(68),y=r(95),d=r(130),g=r(71),m=r(4),b=r(3),w=r(14),S=r(27),x=r(29),_=r(34),O=r(98),E=r(18),P=r(6),F=r(32),M=E.f,j=P.f,A=O.f,N=e.Symbol,I=e.JSON,L=I&&I.stringify,T=v("_hidden"),R=v("toPrimitive"),k={}.propertyIsEnumerable,C=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),U=Object.prototype,V="function"==typeof N,G=e.QObject,B=!G||!G.prototype||!G.prototype.findChild,z=o&&a(function(){return 7!=_(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=M(U,n);e&&delete U[n],j(t,n,r),e&&t!==U&&j(U,n,e)}:j,q=function(t){var n=D[t]=_(N.prototype);return n._k=t,n},Y=V&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},J=function(t,n,r){return t===U&&J(W,n,r),m(t),n=S(n,!0),m(r),i(D,n)?(r.enumerable?(i(t,T)&&t[T][n]&&(t[T][n]=!1),r=_(r,{enumerable:x(0,!1)})):(i(t,T)||j(t,T,x(1,{})),t[T][n]=!0),z(t,n,r)):j(t,n,r)},H=function(t,n){m(t);for(var r,e=d(n=w(n)),i=0,o=e.length;o>i;)J(t,r=e[i++],n[r]);return t},K=function(t){var n=k.call(this,t=S(t,!0));return!(this===U&&i(D,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(D,t)||i(this,T)&&this[T][t])||n)},X=function(t,n){if(t=w(t),n=S(n,!0),t!==U||!i(D,n)||i(W,n)){var r=M(t,n);return!r||!i(D,n)||i(t,T)&&t[T][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(w(t)),e=[],o=0;r.length>o;)i(D,n=r[o++])||n==T||n==f||e.push(n);return e},$=function(t){for(var n,r=t===U,e=A(r?W:w(t)),o=[],u=0;e.length>u;)!i(D,n=e[u++])||r&&!i(U,n)||o.push(D[n]);return o};V||(c((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===U&&n.call(W,r),i(this,T)&&i(this[T],t)&&(this[T][t]=!1),z(this,t,x(1,r))};return o&&B&&z(U,t,{configurable:!0,set:n}),q(t)}).prototype,"toString",function(){return this._k}),E.f=X,P.f=J,r(35).f=O.f=Z,r(48).f=K,r(51).f=$,o&&!r(31)&&c(U,"propertyIsEnumerable",K,!0),p.f=function(t){return q(v(t))}),u(u.G+u.W+u.F*!V,{Symbol:N});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)v(Q[tt++]);for(var nt=F(v.store),rt=0;nt.length>rt;)y(nt[rt++]);u(u.S+u.F*!V,"Symbol",{"for":function(t){return i(C,t+="")?C[t]:C[t]=N(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in C)if(C[n]===t)return n},useSetter:function(){B=!0},useSimple:function(){B=!1}}),u(u.S+u.F*!V,"Object",{create:function(t,n){return void 0===n?_(t):H(_(t),n)},defineProperty:J,defineProperties:H,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),I&&u(u.S+u.F*(!V||a(function(){var t=N();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);if(r=n=e[1],(b(n)||void 0!==t)&&!Y(t))return g(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!Y(n))return n}),e[1]=n,L.apply(I,e)}}),N.prototype[R]||r(13)(N.prototype,R,N.prototype.valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(32),i=r(51),o=r(48);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(0);e(e.S,"Object",{create:r(34)})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(7),"Object",{defineProperty:r(6).f})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(7),"Object",{defineProperties:r(97)})},function(t,n,r){var e=r(14),i=r(18).f;r(19)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){var e=r(15),i=r(36);r(19)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(15),i=r(32);r(19)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){r(19)("getOwnPropertyNames",function(){return r(98).f})},function(t,n,r){var e=r(3),i=r(28).onFreeze;r(19)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(3),i=r(28).onFreeze;r(19)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(3),i=r(28).onFreeze;r(19)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(3);r(19)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(3);r(19)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(3);r(19)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(0);e(e.S+e.F,"Object",{assign:r(99)})},function(t,n,r){var e=r(0);e(e.S,"Object",{is:r(146)})},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(0);e(e.S,"Object",{setPrototypeOf:r(73).set})},function(t,n,r){"use strict";var e=r(52),i={};i[r(5)("toStringTag")]="z",i+""!="[object z]"&&r(10)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(0);e(e.P,"Function",{bind:r(100)})},function(t,n,r){var e=r(6).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(7)&&e(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,r){"use strict";var e=r(3),i=r(36),o=r(5)("hasInstance"),u=Function.prototype;o in u||r(6).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(0),i=r(102);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){var e=r(0),i=r(103);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){"use strict";var e=r(2),i=r(12),o=r(23),u=r(75),c=r(27),f=r(1),a=r(35).f,s=r(18).f,l=r(6).f,h=r(53).trim,v=e.Number,p=v,y=v.prototype,d="Number"==o(r(34)(y)),g="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){var r,e,i,o=(n=g?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof v&&(d?f(function(){y.valueOf.call(r)}):"Number"!=o(r))?u(new p(m(n)),r,v):m(n)};for(var b,w=r(7)?a(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(p,b=w[S])&&!i(v,b)&&l(v,b,s(p,b));v.prototype=y,y.constructor=v,r(10)(e,"Number",v)}},function(t,n,r){"use strict";var e=r(0),i=r(25),o=r(104),u=r(76),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},h=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},v=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call("0",7-r.length)+r}return n},p=function(t,n,r){return 0===n?r:n%2==1?p(t,n-1,r*t):p(t*t,n/2,r)};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(1)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),y="",d="0";if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(y="-",f=-f),f>1e-21)if(r=(n=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n}(f*p(2,69,1))-69)<0?f*p(2,-n,1):f/p(2,n,1),r*=4503599627370496,(n=52-n)>0){for(l(0,r),e=a;e>=7;)l(1e7,0),e-=7;for(l(p(10,e,1),0),e=n-1;e>=23;)h(1<<23),e-=23;h(1<<e),l(1,1),h(2),d=v()}else l(0,r),l(1<<-n,0),d=v()+u.call("0",a);return d=a>0?y+((c=d.length)<=a?"0."+u.call("0",a-c)+d:d.slice(0,c-a)+"."+d.slice(c-a)):y+d}})},function(t,n,r){"use strict";var e=r(0),i=r(1),o=r(104),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(0);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(0),i=r(2).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(0);e(e.S,"Number",{isInteger:r(105)})},function(t,n,r){var e=r(0);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(0),i=r(105),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(0);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(0);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(0),i=r(103);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(0),i=r(102);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){var e=r(0),i=r(106),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){var e=r(0),i=Math.asinh;e(e.S+e.F*!(i&&1/i(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(t,n,r){var e=r(0),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(0),i=r(77);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(0),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(0),i=r(78);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(0);e(e.S,"Math",{fround:r(174)})},function(t,n,r){var e=r(77),i=Math.pow,o=i(2,-52),u=i(2,-23),c=i(2,127)*(2-u),f=i(2,-126);t.exports=Math.fround||function(t){var n,r,i=Math.abs(t),a=e(t);return i<f?a*function(t){return t+1/o-1/o}(i/f/u)*f*u:(r=(n=(1+u/o)*i)-(n-i))>c||r!=r?a*(1/0):a*r}},function(t,n,r){var e=r(0),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)f<(r=i(arguments[u++]))?(o=o*(e=f/r)*e+1,f=r):o+=r>0?(e=r/f)*e:r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(0),i=Math.imul;e(e.S+e.F*r(1)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=+t,e=+n,i=65535&r,o=65535&e;return 0|i*o+((65535&r>>>16)*o+i*(65535&e>>>16)<<16>>>0)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){var e=r(0);e(e.S,"Math",{log1p:r(106)})},function(t,n,r){var e=r(0);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(0);e(e.S,"Math",{sign:r(77)})},function(t,n,r){var e=r(0),i=r(78),o=Math.exp;e(e.S+e.F*r(1)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(0),i=r(78),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(0);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){var e=r(0),i=r(33),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){var e=r(0),i=r(14),o=r(9);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){"use strict";r(53)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(107)(!0);r(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(0),i=r(107)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(80),u="".endsWith;e(e.P+e.F*r(82)("endsWith"),"String",{endsWith:function(t){var n=o(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),c=void 0===r?e:Math.min(i(r),e),f=String(t);return u?u.call(n,f,c):n.slice(c-f.length,c)===f}})},function(t,n,r){"use strict";var e=r(0),i=r(80);e(e.P+e.F*r(82)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){var e=r(0);e(e.P,"String",{repeat:r(76)})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(80),u="".startsWith;e(e.P+e.F*r(82)("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return u?u.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(11)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(11)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(11)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(11)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";r(11)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(11)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(11)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){"use strict";r(11)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";r(11)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){"use strict";r(11)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";r(11)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(11)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(11)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){var e=r(0);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(0),i=r(15),o=r(27);e(e.P+e.F*r(1)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(0),i=r(209);e(e.P+e.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,n,r){"use strict";var e=r(1),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=e(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!e(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}:o},function(t,n,r){var e=Date.prototype,i=e.toString,o=e.getTime;new Date(NaN)+""!="Invalid Date"&&r(10)(e,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,n,r){var e=r(5)("toPrimitive"),i=Date.prototype;e in i||r(13)(i,e,r(212))},function(t,n,r){"use strict";var e=r(4),i=r(27);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),"number"!=t)}},function(t,n,r){var e=r(0);e(e.S,"Array",{isArray:r(71)})},function(t,n,r){"use strict";var e=r(21),i=r(0),o=r(15),u=r(109),c=r(83),f=r(9),a=r(84),s=r(85);i(i.S+i.F*!r(54)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,d=void 0!==y,g=0,m=s(h);if(d&&(y=e(y,p>2?arguments[2]:void 0,2)),void 0==m||v==Array&&c(m))for(r=new v(n=f(h.length));n>g;g++)a(r,g,d?y(h[g],g):h[g]);else for(l=m.call(h),r=new v;!(i=l.next()).done;g++)a(r,g,d?u(l,y,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(0),i=r(84);e(e.S+e.F*r(1)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(0),i=r(14),o=[].join;e(e.P+e.F*(r(47)!=Object||!r(16)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(0),i=r(72),o=r(23),u=r(33),c=r(9),f=[].slice;e(e.P+e.F*r(1)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=new Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(0),i=r(22),o=r(15),u=r(1),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(16)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){"use strict";var e=r(0),i=r(20)(0),o=r(16)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(221);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(3),i=r(71),o=r(5)("species");t.exports=function(t){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(0),i=r(20)(1);e(e.P+e.F*!r(16)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(20)(2);e(e.P+e.F*!r(16)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(20)(3);e(e.P+e.F*!r(16)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(20)(4);e(e.P+e.F*!r(16)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(110);e(e.P+e.F*!r(16)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(0),i=r(110);e(e.P+e.F*!r(16)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(0),i=r(50)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(16)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(14),o=r(25),u=r(9),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(16)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){var e=r(0);e(e.P,"Array",{copyWithin:r(111)}),r(39)("copyWithin")},function(t,n,r){var e=r(0);e(e.P,"Array",{fill:r(86)}),r(39)("fill")},function(t,n,r){"use strict";var e=r(0),i=r(20)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),e(e.P+e.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(39)("find")},function(t,n,r){"use strict";var e=r(0),i=r(20)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(39)(o)},function(t,n,r){r(40)("Array")},function(t,n,r){var e=r(2),i=r(75),o=r(6).f,u=r(35).f,c=r(81),f=r(88),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(7)&&(!p||r(1)(function(){return v[r(5)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var y=(function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}),d=u(s),g=0;d.length>g;)y(d[g++]);l.constructor=a,a.prototype=l,r(10)(e,"RegExp",a)}r(40)("RegExp")},function(t,n,r){"use strict";r(113);
var e=r(4),i=r(88),o=r(7),u=/./.toString,c=function(t){r(10)(RegExp.prototype,"toString",t,!0)};r(1)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?c(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=u.name&&c(function(){return u.call(this)})},function(t,n,r){r(55)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(55)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(55)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(55)("split",2,function(t,n,e){"use strict";var i=r(81),o=e,u=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var c=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,f,a,s,l,h=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,y=void 0===n?4294967295:n>>>0,d=new RegExp(t.source,v+"g");for(c||(e=new RegExp("^"+d.source+"$(?!\\s)",v));(f=d.exec(r))&&!((a=f.index+f[0].length)>p&&(h.push(r.slice(p,f.index)),!c&&f.length>1&&f[0].replace(e,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(f[l]=void 0)}),f.length>1&&f.index<r.length&&u.apply(h,f.slice(1)),s=f[0].length,p=a,h.length>=y));)d.lastIndex===f.index&&d.lastIndex++;return p===r.length?!s&&d.test("")||h.push(""):h.push(r.slice(p)),h.length>y?h.slice(0,y):h}}else"0".split(void 0,0).length&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){var e=r(2),i=r(89).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(23)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(!o||e.navigator&&e.navigator.standalone)if(c&&c.resolve){var s=c.resolve(void 0);r=function(){s.then(a)}}else r=function(){i.call(e,a)};else{var l=!0,h=document.createTextNode("");new o(a).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){"use strict";var e=r(117),i=r(43);t.exports=r(59)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(i(this,"Map"),t);return n&&n.v},set:function(t,n){return e.def(i(this,"Map"),0===t?0:t,n)}},e,!0)},function(t,n,r){"use strict";var e=r(117),i=r(43);t.exports=r(59)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(i(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(20)(0),o=r(10),u=r(28),c=r(99),f=r(118),a=r(3),s=r(1),l=r(43),h=u.getWeak,v=Object.isExtensible,p=f.ufstore,y={},d=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(a(t)){var n=h(t);return!0===n?p(l(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(l(this,"WeakMap"),t,n)}},m=t.exports=r(59)("WeakMap",d,g,f,!0,!0);s(function(){return 7!=(new m).set((Object.freeze||Object)(y),7).get(y)})&&(c((e=f.getConstructor(d,"WeakMap")).prototype,g),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=m.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!v(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},function(t,n,r){"use strict";var e=r(118),i=r(43);r(59)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(i(this,"WeakSet"),t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(0),i=r(60),o=r(90),u=r(4),c=r(33),f=r(9),a=r(3),s=r(2).ArrayBuffer,l=r(57),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,y=h.prototype.slice,d=i.VIEW;e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||a(t)&&d in t}}),e(e.P+e.U+e.F*r(1)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,n){if(void 0!==y&&void 0===n)return y.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(40)("ArrayBuffer")},function(t,n,r){var e=r(0);e(e.G+e.W+e.F*!r(60).ABV,{DataView:r(90).DataView})},function(t,n,r){r(26)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){r(26)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){var e=r(0),i=r(22),o=r(4),u=(r(2).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(1)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(0),i=r(34),o=r(22),u=r(4),c=r(3),f=r(1),a=r(100),s=(r(2).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(6),i=r(0),o=r(4),u=r(27);i(i.S+i.F*r(1)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(0),i=r(18).f,o=r(4);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(0),i=r(4),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(108)(o,"Object",function(){var t,n=this._k;do if(this._i>=n.length)return{value:void 0,done:!0};while(!((t=n[this._i++])in this._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(18),i=r(36),o=r(12),u=r(0),c=r(3),f=r(4);u(u.S,"Reflect",{get:function t(n,r){var u,a,s=arguments.length<3?n:arguments[2];return f(n)===s?n[r]:(u=e.f(n,r))?o(u,"value")?u.value:void 0!==u.get?u.get.call(s):void 0:c(a=i(n))?t(a,r,s):void 0}})},function(t,n,r){var e=r(18),i=r(0),o=r(4);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(0),i=r(36),o=r(4);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){var e=r(0);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(0),i=r(4),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(0);e(e.S,"Reflect",{ownKeys:r(120)})},function(t,n,r){var e=r(0),i=r(4),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(6),i=r(18),o=r(36),u=r(12),c=r(0),f=r(29),a=r(4),s=r(3);c(c.S,"Reflect",{set:function t(n,r,c){var l,h,v=arguments.length<4?n:arguments[3],p=i.f(a(n),r);if(!p){if(s(h=o(n)))return t(h,r,c,v);p=f(0)}if(u(p,"value")){if(!1===p.writable||!s(v))return!1;if(l=i.f(v,r)){if(l.get||l.set||!1===l.writable)return!1;l.value=c,e.f(v,r,l)}else e.f(v,r,f(0,c));return!0}return void 0!==p.set&&(p.set.call(v,c),!0)}})},function(t,n,r){var e=r(0),i=r(73);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){r(273),t.exports=r(8).Array.includes},function(t,n,r){"use strict";var e=r(0),i=r(50)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(39)("includes")},function(t,n,r){r(275),t.exports=r(8).String.padStart},function(t,n,r){"use strict";var e=r(0),i=r(121),o=r(58);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){r(277),t.exports=r(8).String.padEnd},function(t,n,r){"use strict";var e=r(0),i=r(121),o=r(58);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){r(279),t.exports=r(68).f("asyncIterator")},function(t,n,r){r(95)("asyncIterator")},function(t,n,r){r(281),t.exports=r(8).Object.getOwnPropertyDescriptors},function(t,n,r){var e=r(0),i=r(120),o=r(14),u=r(18),c=r(84);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r,e=o(t),f=u.f,a=i(e),s={},l=0;a.length>l;)void 0!==(r=f(e,n=a[l++]))&&c(s,n,r);return s}})},function(t,n,r){r(283),t.exports=r(8).Object.values},function(t,n,r){var e=r(0),i=r(122)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){r(285),t.exports=r(8).Object.entries},function(t,n,r){var e=r(0),i=r(122)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){"use strict";r(114),r(287),t.exports=r(8).Promise["finally"]},function(t,n,r){"use strict";var e=r(0),i=r(8),o=r(2),u=r(57),c=r(116);e(e.P+e.R,"Promise",{"finally":function(t){var n=u(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return c(n,t()).then(function(){return r})}:t,r?function(r){return c(n,t()).then(function(){throw r})}:t)}})},function(t,n,r){r(289),r(290),r(291),t.exports=r(8)},function(t,n,r){var e=r(2),i=r(0),o=r(58),u=[].slice,c=/MSIE .\./.test(o),f=function(t){return function(n,r){var e=arguments.length>2,i=!!e&&u.call(arguments,2);return t(e?function(){("function"==typeof n?n:Function(n)).apply(this,i)}:n,r)}};i(i.G+i.B+i.F*c,{setTimeout:f(e.setTimeout),setInterval:f(e.setInterval)})},function(t,n,r){var e=r(0),i=r(89);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){for(var e=r(87),i=r(32),o=r(10),u=r(2),c=r(13),f=r(38),a=r(5),s=a("iterator"),l=a("toStringTag"),h=f.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(v),y=0;y<p.length;y++){var d,g=p[y],m=v[g],b=u[g],w=b&&b.prototype;if(w&&(w[s]||c(w,s,h),w[l]||c(w,l,g),f[g]=h,m))for(d in e)w[d]||o(w,d,e[d],!0)}},function(t,n){!function(n){"use strict";function w(t,n,r,e){var i=n&&n.prototype instanceof x?n:x,o=Object.create(i.prototype),u=new A(e||[]);return o._invoke=function(t,n,r){var e=l;return function(i,o){if(e===v)throw new Error("Generator is already running");if(e===p){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var u=r.delegate;if(u){var c=F(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=v;var f=S(t,n,r);if("normal"===f.type){if(e=r.done?p:h,f.arg===y)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=p,r.method="throw",r.arg=f.arg)}}}(t,r,u),o}function S(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function _(){}function O(){}function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function P(t){var n;this._invoke=function(r,e){function o(){return new Promise(function(n,o){!function n(r,e,o,u){var c=S(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&i.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}(r,e,n,o)})}return n=n?n.then(o,o):o()}}function F(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=r,F(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=S(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function M(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function j(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function N(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function n(){for(;++e<t.length;)if(i.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}var r,e=Object.prototype,i=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag",a="object"==typeof t,s=n.regeneratorRuntime;if(s)a&&(t.exports=s);else{(s=n.regeneratorRuntime=a?t.exports:{}).wrap=w;var l="suspendedStart",h="suspendedYield",v="executing",p="completed",y={},d={};d[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(N([])));m&&m!==e&&i.call(m,u)&&(d=m);var b=O.prototype=x.prototype=Object.create(d);_.prototype=b.constructor=O,O.constructor=_,O[f]=_.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},s.awrap=function(t){return{__await:t}},E(P.prototype),P.prototype[c]=function(){return this},s.AsyncIterator=P,s.async=function(t,n,r,e){var i=new P(w(t,n,r,e));return s.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},s.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},s.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,i){return c.type="throw",c.arg=t,n.next=e,i&&(n.method="next",n.arg=r),!!i}if(this.done)throw t;for(var n=this,o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],c=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=i.call(u,"catchLoc"),a=i.call(u,"finallyLoc");if(f&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var o=e;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),y}},"catch":function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:N(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),y}}}}(function(){return this}()||Function("return this")())},,,,function(t,n,r){"use strict";function e(t,n){for(var r=0;r<t.length;r++)if(+t[r]==+n)return!0;return!1}r.d(n,"a",function(){return e})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,r){"use strict";function u(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function c(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}r.d(n,"a",function(){return f});var e=r(62),i=r(92),o=r(296);window.f1x2=window.f1x2||Object.create(null);var f=function(){function t(n,r,u,f){var a=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"_handler",void 0),c(this,"_queue",[]),c(this,"_use",!0),c(this,"_callbacks",void 0),c(this,"_ready",void 0);var s=n.pathCDN,l=n.siteID;s="".concat(s).concat("/"===s.slice(-1)?"":"/");var h=String(n.clientName).toUpperCase(),v="".concat(s).concat(t.baseURL,"list.json"),p="".concat(s).concat(t.baseURL,"legacy.json");this._callbacks=r;var y=u?Object(e.a)(p):Promise.resolve(Object.create(null)),d=h;n.pathCDN=s,this._ready=new Promise(function(u){Promise.all([Object(e.a)(v),y]).then(function(e){if(e[0][h]||e[1][h]){if(isNaN(e[0][h])){if(!Object(o.a)(e[0][h].sites,l))return a._use=!1,void u();d+="_".concat(l)}Object(i.a)("".concat(s).concat(t.baseURL,"main.min.js")).then(function(){a._handler=new window.f1x2.CLIENT_WRAPPER_HANDLERS[d](n,r),a._handler.ready.then(function(){a._queue.map(function(){var t=a._queue.shift();a.send(t[0],t[1])}),u()})})}else a._use=!1,u()})})}return function(t,n,r){n&&u(t.prototype,n),r&&u(t,r)}(t,[{key:"send",value:function(t,n){this._handler&&0===this._queue.length?this._handler.send(t,n):this._use&&this._queue.push([t,n])}},{key:"use",get:function(){return this._use&&(!this._handler||this._handler.use)}},{key:"callbacks",get:function(){return this._callbacks}},{key:"ready",get:function(){return this._ready}},{key:"user",set:function(t){this._handler&&(this._handler.user=t)}},{key:"doLobbyURLNavigate",get:function(){return!this._handler||this._handler.doLobbyURLNavigate}}]),t}();c(f,"baseURL","infrastr_generic-framework/client-wrapper.")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,r){r(126),t.exports=r(407)},function(t,n,r){"use strict";r.r(n);var e=r(346);window.f1x2=window.f1x2||Object.create(null),window.f1x2.ClientWrapperInit=e.a}]),!function(t){function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var n={};r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=377)}([function(t,n,r){var e=r(2),i=r(8),o=r(13),u=r(10),c=r(20),f=function(t,n,r){var a,s,l,h,v=t&f.F,p=t&f.G,y=t&f.S,g=t&f.P,d=t&f.B,m=p?e:y?e[n]||(e[n]={}):(e[n]||{}).prototype,b=p?i:i[n]||(i[n]={}),w=b.prototype||(b.prototype={});for(a in p&&(r=n),r)l=((s=!v&&m&&void 0!==m[a])?m:r)[a],h=d&&s?c(l,e):g&&"function"==typeof l?c(Function.call,l):l,m&&u(m,a,l,t&f.U),b[a]!=l&&o(b,a,h),g&&w[a]!=l&&(w[a]=l)};e.core=i,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(3);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n,r){var e=r(63)("wks"),i=r(29),o=r(2).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(4),i=r(89),o=r(26),u=Object.defineProperty;n.f=r(7)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(24),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(2),i=r(13),o=r(12),u=r(29)("src"),c=Function.toString,f=(""+c).split("toString");r(8).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,c){var a="function"==typeof r;a&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(a&&(o(r,u)||i(r,u,t[n]?""+t[n]:f.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||c.call(this)})},function(t,n,r){var e=r(0),i=r(1),o=r(23),u=/"/g,c=function(t,n,r,e){var i=String(o(t)),c="<"+n;return""!==r&&(c+=" "+r+'="'+String(e).replace(u,"&quot;")+'"'),c+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(6),i=r(28);t.exports=r(7)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(45),i=r(23);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(23);t.exports=function(t){return Object(e(t))}},function(t,n,r){"use strict";var e=r(1);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(46),i=r(28),o=r(14),u=r(26),c=r(12),f=r(89),a=Object.getOwnPropertyDescriptor;n.f=r(7)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(0),i=r(8),o=r(1);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(20),i=r(45),o=r(15),u=r(9),c=r(217);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var y,g,d=o(n),m=i(d),b=e(c,p,3),w=u(m.length),x=0,S=r?v(n,w):f?v(n,0):void 0;w>x;x++)if((h||x in m)&&(g=b(y=m[x],x,d),t))if(r)S[x]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:S.push(y)}else if(s)return!1;return l?-1:a||s?s:S}}},function(t,n,r){var e=r(21);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){"use strict";if(r(7)){var e=r(30),i=r(2),o=r(1),u=r(0),c=r(57),f=r(86),a=r(20),s=r(41),l=r(28),h=r(13),v=r(42),p=r(24),y=r(9),g=r(114),d=r(32),m=r(26),b=r(12),w=r(49),x=r(3),S=r(15),_=r(79),O=r(33),E=r(35),P=r(34).f,F=r(81),M=r(29),j=r(5),A=r(19),N=r(47),I=r(54),L=r(83),T=r(38),R=r(51),k=r(40),C=r(82),D=r(106),W=r(6),U=r(17),V=W.f,G=U.f,B=i.RangeError,z=i.TypeError,Y=i.Uint8Array,H=Array.prototype,J=f.ArrayBuffer,q=f.DataView,K=A(0),X=A(2),Z=A(3),$=A(4),Q=A(5),tt=A(6),nt=N(!0),rt=N(!1),et=L.values,it=L.keys,ot=L.entries,ut=H.lastIndexOf,ct=H.reduce,ft=H.reduceRight,at=H.join,st=H.sort,lt=H.slice,ht=H.toString,vt=H.toLocaleString,pt=j("iterator"),yt=j("toStringTag"),gt=M("typed_constructor"),dt=M("def_constructor"),mt=c.CONSTR,bt=c.TYPED,wt=c.VIEW,xt=A(1,function(t,n){return Pt(I(t,t[dt]),n)}),St=o(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),_t=!!Y&&!!Y.prototype.set&&o(function(){new Y(1).set({})}),Ot=function(t,n){var r=p(t);if(r<0||r%n)throw B("Wrong offset!");return r},Et=function(t){if(x(t)&&bt in t)return t;throw z(t+" is not a typed array!")},Pt=function(t,n){if(!(x(t)&&gt in t))throw z("It is not a typed array constructor!");return new t(n)},Ft=function(t,n){return Mt(I(t,t[dt]),n)},Mt=function(t,n){for(var r=0,e=n.length,i=Pt(t,e);e>r;)i[r]=n[r++];return i},jt=function(t,n,r){V(t,n,{get:function(){return this._d[r]}})},At=function(t){var n,r,e,i,o,u,c=S(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=F(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=y(c.length),i=Pt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Nt=function(){for(var t=0,n=arguments.length,r=Pt(this,n);n>t;)r[t]=arguments[t++];return r},It=!!Y&&o(function(){vt.call(new Y(1))}),Lt=function(){return vt.apply(It?lt.call(Et(this)):Et(this),arguments)},Tt={copyWithin:function(t,n){return D.call(Et(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return $(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Et(this),arguments)},filter:function(t){return Ft(this,X(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return at.apply(Et(this),arguments)},lastIndexOf:function(t){return ut.apply(Et(this),arguments)},map:function(t){return xt(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(Et(this),arguments)},reduceRight:function(t){return ft.apply(Et(this),arguments)},reverse:function(){for(var t,n=Et(this).length,r=Math.floor(n/2),e=0;e<r;)t=this[e],this[e++]=this[--n],this[n]=t;return this},some:function(t){return Z(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return st.call(Et(this),t)},subarray:function(t,n){var r=Et(this),e=r.length,i=d(t,e);return new(I(r,r[dt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,y((void 0===n?e:d(n,e))-i))}},Rt=function(t,n){return Ft(this,lt.call(Et(this),t,n))},kt=function(t){Et(this);var n=Ot(arguments[1],1),r=this.length,e=S(t),i=y(e.length),o=0;if(i+n>r)throw B("Wrong length!");for(;o<i;)this[n+o]=e[o++]},Ct={entries:function(){return ot.call(Et(this))},keys:function(){return it.call(Et(this))},values:function(){return et.call(Et(this))}},Dt=function(t,n){return x(t)&&t[bt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Wt=function(t,n){return Dt(t,n=m(n,!0))?l(2,t[n]):G(t,n)},Ut=function(t,n,r){return!(Dt(t,n=m(n,!0))&&x(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?V(t,n,r):(t[n]=r.value,t)};mt||(U.f=Wt,W.f=Ut),u(u.S+u.F*!mt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Ut}),o(function(){ht.call({})})&&(ht=vt=function(){return at.call(this)});var Vt=v({},Tt);v(Vt,Ct),h(Vt,pt,Ct.values),v(Vt,{slice:Rt,set:kt,constructor:function(){},toString:ht,toLocaleString:Lt}),jt(Vt,"buffer","b"),jt(Vt,"byteOffset","o"),jt(Vt,"byteLength","l"),jt(Vt,"length","e"),V(Vt,yt,{get:function(){return this[bt]}}),t.exports=function(t,n,r,f){var a=t+((f=!!f)?"Clamped":"")+"Array",l="get"+t,v="set"+t,p=i[a],d=p||{},m=p&&E(p),b=!p||!c.ABV,S={},_=p&&p.prototype,F=function(t,r){V(t,r,{get:function(){return function(t,r){var e=t._d;return e.v[l](r*n+e.o,St)}(this,r)},set:function(t){return function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[v](r*n+i.o,e,St)}(this,r,t)},enumerable:!0})};b?(p=r(function(t,r,e,i){s(t,p,a,"_d");var o,u,c,f,l=0,v=0;if(x(r)){if(!(r instanceof J||"ArrayBuffer"==(f=w(r))||"SharedArrayBuffer"==f))return bt in r?Mt(p,r):At.call(p,r);o=r,v=Ot(e,n);var d=r.byteLength;if(void 0===i){if(d%n)throw B("Wrong length!");if((u=d-v)<0)throw B("Wrong length!")}else if((u=y(i)*n)+v>d)throw B("Wrong length!");c=u/n}else c=g(r),o=new J(u=c*n);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new q(o)});l<c;)F(t,l++)}),_=p.prototype=O(Vt),h(_,"constructor",p)):o(function(){p(1)})&&o(function(){new p((-1))})&&R(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=r(function(t,r,e,i){var o;return s(t,p,a),x(r)?r instanceof J||"ArrayBuffer"==(o=w(r))||"SharedArrayBuffer"==o?void 0!==i?new d(r,Ot(e,n),i):void 0!==e?new d(r,Ot(e,n)):new d(r):bt in r?Mt(p,r):At.call(p,r):new d(g(r))}),K(m!==Function.prototype?P(d).concat(P(m)):P(d),function(t){t in p||h(p,t,d[t])}),p.prototype=_,e||(_.constructor=p));var M=_[pt],j=!!M&&("values"==M.name||void 0==M.name),A=Ct.values;
h(p,gt,!0),h(_,bt,a),h(_,wt,!0),h(_,dt,p),(f?new p(1)[yt]==a:yt in _)||V(_,yt,{get:function(){return a}}),S[a]=p,u(u.G+u.W+u.F*(p!=d),S),u(u.S,a,{BYTES_PER_ELEMENT:n}),u(u.S+u.F*o(function(){d.of.call(p,1)}),a,{from:At,of:Nt}),"BYTES_PER_ELEMENT"in _||h(_,"BYTES_PER_ELEMENT",n),u(u.P,a,Tt),k(a),u(u.P+u.F*_t,a,{set:kt}),u(u.P+u.F*!j,a,Ct),e||_.toString==ht||(_.toString=ht),u(u.P+u.F*o(function(){new p(1).slice()}),a,{slice:Rt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Lt}),T[a]=j?M:A,e||j||h(_,pt,A)}}else t.exports=function(){}},function(t,n,r){var e=r(3);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(29)("meta"),i=r(3),o=r(12),u=r(6).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(1)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return a&&l.NEED&&f(t)&&!o(t,e)&&s(t),t}}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){t.exports=!1},function(t,n,r){var e=r(91),i=r(66);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(24),i=Math.max,o=Math.min;t.exports=function(t,n){return(t=e(t))<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(4),i=r(92),o=r(66),u=r(65)("IE_PROTO"),c=function(){},f=function(){var t,n=r(62)("iframe"),e=o.length;for(n.style.display="none",r(68).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object</script>"),t.close(),f=t.F;e--;)delete f.prototype[o[e]];return f()};t.exports=Object.create||function(t,n){var r;return null!==t?(c.prototype=e(t),r=new c,c.prototype=null,r[u]=t):r=f(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(91),i=r(66).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(12),i=r(15),o=r(65)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},,function(t,n,r){var e=r(6).f,i=r(12),o=r(5)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n){t.exports={}},function(t,n,r){var e=r(5)("unscopables"),i=Array.prototype;void 0==i[e]&&r(13)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){"use strict";var e=r(2),i=r(6),o=r(7),u=r(5)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){var e=r(10);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){var e=r(3);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,r){"use strict";function e(t,n,r){var e="?"===t.slice(-1)?t.slice(0,-1):t,i=n?"?"===n.slice(0,1)?n:"?".concat(n):"",o="".concat(e).concat(i);return new Promise(function(t,n){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&t(this.responseText),4==this.readyState&&404==this.status&&n(this.status)},e.open(r?"POST":"GET",o,!0),e.send()})}r.d(n,"a",function(){return e})},function(t,n,r){var e=r(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(14),i=r(9),o=r(32);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(22),i=r(5)("toStringTag"),o="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),i))?r:o?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){var e=r(0),i=r(23),o=r(1),u=r(70),c="["+u+"]",f=RegExp("^"+c+c+"*"),a=RegExp(c+c+"*$"),s=function(t,n,r){var i={},c=o(function(){return!!u[t]()||"\u200b\x85"!="\u200b\x85"[t]()}),f=i[t]=c?n(l):u[t];r&&(i[r]=f),e(e.P+e.F*c,"String",i)},l=s.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(f,"")),2&n&&(t=t.replace(a,"")),t};t.exports=s},function(t,n,r){var e=r(5)("iterator"),i=!1;try{var o=[7][e]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(13),i=r(10),o=r(1),u=r(23),c=r(5);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}},function(t,n,r){var e=r(20),i=r(104),o=r(79),u=r(4),c=r(9),f=r(81),a={},s={};(n=t.exports=function(t,n,r,l,h){var v,p,y,g,d=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(o(d)){for(v=c(t.length);v>b;b++)if((g=n?m(u(p=t[b])[0],p[1]):m(t[b]))===a||g===s)return g}else for(y=d.call(t);!(p=y.next()).done;)if((g=i(y,m,p.value,n))===a||g===s)return g}).BREAK=a,n.RETURN=s},function(t,n,r){var e=r(4),i=r(21),o=r(5)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(2).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(2),i=r(0),o=r(10),u=r(42),c=r(27),f=r(53),a=r(41),s=r(3),l=r(1),h=r(51),v=r(37),p=r(71);t.exports=function(t,n,r,y,g,d){var m=e[t],b=m,w=g?"set":"add",x=b&&b.prototype,S={},_=function(t){var n=x[t];o(x,t,"delete"==t?function(t){return!(d&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(d&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return d&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(d||x.forEach&&!l(function(){(new b).entries().next()}))){var O=new b,E=O[w](d?{}:-0,1)!=O,P=l(function(){O.has(1)}),F=h(function(t){new b(t)}),M=!d&&l(function(){for(var t=new b,n=5;n--;)t[w](n,n);return!t.has(-0)});F||((b=n(function(n,r){a(n,b,t);var e=p(new m,n,b);return void 0!=r&&f(r,g,e[w],e),e})).prototype=x,x.constructor=b),(P||M)&&(_("delete"),_("has"),g&&_("get")),(M||E)&&_(w),d&&x.clear&&delete x.clear}else b=y.getConstructor(n,t,g,w),u(b.prototype,r),c.NEED=!0;return v(b,t),S[t]=b,i(i.G+i.W+i.F*(b!=m),S),d||y.setStrong(b,t,g),b}},function(t,n,r){for(var e,i=r(2),o=r(13),u=r(29),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},,,,,function(t,n,r){var e=r(3),i=r(2).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){var e=r(8),i=r(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(30)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(5)},function(t,n,r){var e=r(63)("keys"),i=r(29);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(22);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(2).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(3),i=r(4),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{(e=r(20)(Function.call,r(17).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n){t.exports="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,n,r){var e=r(3),i=r(69).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){"use strict";var e=r(24),i=r(23);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n,r){"use strict";var e=r(30),i=r(0),o=r(10),u=r(13),c=r(38),f=r(103),a=r(37),s=r(35),l=r(5)("iterator"),h=!([].keys&&"next"in[].keys()),v=function(){return this};t.exports=function(t,n,r,p,y,g,d){f(r,n,p);var m,b,w,x=function(t){if(!h&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},S=n+" Iterator",_="values"==y,O=!1,E=t.prototype,P=E[l]||E["@@iterator"]||y&&E[y],F=P||x(y),M=y?_?x("entries"):F:void 0,j="Array"==n&&E.entries||P;if(j&&(w=s(j.call(new t)))!==Object.prototype&&w.next&&(a(w,S,!0),e||"function"==typeof w[l]||u(w,l,v)),_&&P&&"values"!==P.name&&(O=!0,F=function(){return P.call(this)}),e&&!d||!h&&!O&&E[l]||u(E,l,F),c[n]=F,c[S]=v,y)if(m={values:_?F:x("values"),keys:g?F:x("keys"),entries:M},d)for(b in m)b in E||o(E,b,m[b]);else i(i.P+i.F*(h||O),n,m);return m}},function(t,n,r){var e=r(77),i=r(23);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){var e=r(3),i=r(22),o=r(5)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(5)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){var e=r(38),i=r(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){"use strict";var e=r(6),i=r(28);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(49),i=r(5)("iterator"),o=r(38);t.exports=r(8).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(15),i=r(32),o=r(9);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(39),i=r(107),o=r(38),u=r(14);t.exports=r(75)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n,r){"use strict";var e=r(4);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,r){var e,i,o,u=r(20),c=r(96),f=r(68),a=r(62),s=r(2),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,y=s.Dispatch,g=0,d={},m=function(){var t=+this;if(d.hasOwnProperty(t)){var n=d[t];delete d[t],n()}},b=function(t){m.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return d[++g]=function(){c("function"==typeof t?t:Function(t),n)},e(g),g},v=function(t){delete d[t]},"process"==r(22)(l)?e=function(t){l.nextTick(u(m,t,1))}:y&&y.now?e=function(t){y.now(u(m,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",b,!1)):e="onreadystatechange"in a("script")?function(t){f.appendChild(a("script")).onreadystatechange=function(){f.removeChild(this),m.call(t)}}:function(t){setTimeout(u(m,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";function T(t,n,r){var e,i,o,u=new Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?F(2,-24)-F(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===O?(i=t!=t?1:0,e=f):(e=M(j(t)/A),t*(o=F(2,-e))<1&&(e--,o*=2),(t+=e+a>=1?s/o:s*F(2,1-a))*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*F(2,n),e+=a):(i=t*F(2,a-1)*F(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u}function R(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-O:O;e+=F(2,n),s-=u}return(a?-1:1)*e*F(2,s-n)}function k(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function C(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return T(t,52,8)}function V(t){return T(t,23,4)}function G(t,n,r){y(t[m],n,{get:function(){return this[r]}})}function B(t,n,r,e){var i=v(+r);if(i+n>t[I])throw _(b);var o=t[N]._b,u=i+t[L],c=o.slice(u,u+n);return e?c:c.reverse()}function z(t,n,r,e,i,o){var u=v(+r);if(u+n>t[I])throw _(b);for(var c=t[N]._b,f=u+t[L],a=e(+i),s=0;s<n;s++)c[f+s]=a[o?s:n-s-1]}var e=r(2),i=r(7),o=r(30),u=r(57),c=r(13),f=r(42),a=r(1),s=r(41),l=r(24),h=r(9),v=r(114),p=r(34).f,y=r(6).f,g=r(82),d=r(37),m="prototype",b="Wrong index!",w=e.ArrayBuffer,x=e.DataView,S=e.Math,_=e.RangeError,O=e.Infinity,E=w,P=S.abs,F=S.pow,M=S.floor,j=S.log,A=S.LN2,N=i?"_b":"buffer",I=i?"_l":"byteLength",L=i?"_o":"byteOffset";if(u.ABV){if(!a(function(){w(1)})||!a(function(){new w((-1))})||a(function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name})){for(var Y,H=(w=function(t){return s(this,w),new E(v(t))})[m]=E[m],J=p(E),q=0;J.length>q;)(Y=J[q++])in w||c(w,Y,E[Y]);o||(H.constructor=w)}var K=new x(new w(2)),X=x[m].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||f(x[m],{setInt8:function(t,n){X.call(this,t,n<<24>>24)},setUint8:function(t,n){X.call(this,t,n<<24>>24)}},!0)}else w=function(t){s(this,w,"ArrayBuffer");var n=v(t);this._b=g.call(new Array(n),0),this[I]=n},x=function(t,n,r){s(this,x,"DataView"),s(t,w,"DataView");var e=t[I],i=l(n);if(i<0||i>e)throw _("Wrong offset!");if(i+(r=void 0===r?e-i:h(r))>e)throw _("Wrong length!");this[N]=t,this[L]=i,this[I]=r},i&&(G(w,"byteLength","_l"),G(x,"buffer","_b"),G(x,"byteLength","_l"),G(x,"byteOffset","_o")),f(x[m],{getInt8:function(t){return B(this,1,t)[0]<<24>>24},getUint8:function(t){return B(this,1,t)[0]},getInt16:function(t){var n=B(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=B(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return k(B(this,4,t,arguments[1]))},getUint32:function(t){return k(B(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R(B(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R(B(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){z(this,1,t,C,n)},setUint8:function(t,n){z(this,1,t,C,n)},setInt16:function(t,n){z(this,2,t,D,n,arguments[2])},setUint16:function(t,n){z(this,2,t,D,n,arguments[2])},setInt32:function(t,n){z(this,4,t,W,n,arguments[2])},setUint32:function(t,n){z(this,4,t,W,n,arguments[2])},setFloat32:function(t,n){z(this,4,t,V,n,arguments[2])},setFloat64:function(t,n){z(this,8,t,U,n,arguments[2])}});d(w,"ArrayBuffer"),d(x,"DataView"),c(x[m],u.VIEW,!0),n.ArrayBuffer=w,n.DataView=x},function(t,n,r){"use strict";function i(t,n){return Object(e.a)(t,n).then(function(t){return JSON.parse(t)})["catch"](function(t){return JSON.parse(t)})}r.d(n,"a",function(){return i});var e=r(44)},function(t,n,r){"use strict";function e(t){return new Promise(function(n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.onload=n,r.src=t,document.body.appendChild(r)})}r.d(n,"a",function(){return e})},function(t,n,r){t.exports=!r(7)&&!r(1)(function(){return 7!=Object.defineProperty(r(62)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(8),o=r(30),u=r(64),c=r(6).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(12),i=r(14),o=r(47)(!1),u=r(65)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(6),i=r(4),o=r(31);t.exports=r(7)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(14),i=r(34).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(e(t))}},function(t,n,r){"use strict";var e=r(31),i=r(48),o=r(46),u=r(15),c=r(45),f=Object.assign;t.exports=!f||r(1)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),y=p.length,g=0;y>g;)l.call(v,h=p[g++])&&(r[h]=v[h]);return r}:f},function(t,n,r){"use strict";var e=r(21),i=r(3),o=r(96),u=[].slice,c={};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),f=function(){var e=r.concat(u.call(arguments));return this instanceof f?function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)}(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(f.prototype=n.prototype),f}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(2).parseInt,i=r(50).trim,o=r(70),u=/^[-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n,r){var e=r(2).parseFloat,i=r(50).trim;t.exports=1/e(r(70)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(22);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){var e=r(3),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){var e=r(24),i=r(23);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f))<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(33),i=r(28),o=r(37),u={};r(13)(u,r(5)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){var e=r(4);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t["return"];throw void 0!==o&&e(o.call(t)),n}}},function(t,n,r){var e=r(21),i=r(15),o=r(45),u=r(9);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(15),i=r(32),o=r(9);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){r(7)&&"g"!=/./g.flags&&r(6).f(RegExp.prototype,"flags",{configurable:!0,get:r(84)})},function(t,n,r){"use strict";var e,i,o,u,c=r(30),f=r(2),a=r(20),s=r(49),l=r(0),h=r(3),v=r(21),p=r(41),y=r(53),g=r(54),d=r(85).set,m=r(238)(),b=r(110),w=r(239),x=r(55),S=r(111),_=f.TypeError,O=f.process,E=O&&O.versions,P=E&&E.v8||"",F=f.Promise,M="process"==s(O),j=function(){},A=i=b.f,N=!!function(){try{var t=F.resolve(1),n=(t.constructor={})[r(5)("species")]=function(t){t(j,j)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof n&&0!==P.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},L=function(t,n){if(!t._n){t._n=!0;var r=t._c;m(function(){for(var e=t._v,i=1==t._s,o=0,u=function(n){var r,o,u,c=i?n.ok:n.fail,f=n.resolve,a=n.reject,s=n.domain;try{c?(i||(2==t._h&&k(t),t._h=1),!0===c?r=e:(s&&s.enter(),r=c(e),s&&(s.exit(),u=!0)),r===n.promise?a(_("Promise-chain cycle")):(o=I(r))?o.call(r,f,a):f(r)):a(e)}catch(t){s&&!u&&s.exit(),a(t)}};r.length>o;)u(r[o++]);t._c=[],t._n=!1,n&&!t._h&&T(t)})}},T=function(t){d.call(f,function(){var n,r,e,i=t._v,o=R(t);if(o&&(n=w(function(){M?O.emit("unhandledRejection",i,t):(r=f.onunhandledrejection)?r({promise:t,reason:i}):(e=f.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=M||R(t)?2:1),t._a=void 0,o&&n.e)throw n.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(t){d.call(f,function(){var n;M?O.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})})},C=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),L(n,!0))},D=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw _("Promise can't be resolved itself");(n=I(t))?m(function(){var e={_w:r,_d:!1};try{n.call(t,a(D,e,1),a(C,e,1))}catch(t){C.call(e,t)}}):(r._v=t,r._s=1,L(r,!1))}catch(t){C.call({_w:r,_d:!1},t)}}};N||(F=function(t){p(this,F,"Promise","_h"),v(t),e.call(this);try{t(a(D,this,1),a(C,this,1))}catch(t){C.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(42)(F.prototype,{then:function(t,n){var r=A(g(this,F));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=M?O.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&L(this,!1),r.promise},"catch":function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=a(D,t,1),this.reject=a(C,t,1)},b.f=A=function(t){return t===F||t===u?new o(t):i(t)}),l(l.G+l.W+l.F*!N,{Promise:F}),r(37)(F,"Promise"),r(40)("Promise"),u=r(8).Promise,l(l.S+l.F*!N,"Promise",{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(c||!N),"Promise",{resolve:function(t){return S(c&&this===u?F:this,t)}}),l(l.S+l.F*!(N&&r(51)(function(t){F.all(t)["catch"](j)})),"Promise",{all:function(t){var n=this,r=A(n),e=r.resolve,i=r.reject,o=w(function(){var r=[],o=0,u=1;y(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o.e&&i(o.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,i=w(function(){y(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i.e&&e(i.v),r.promise}})},function(t,n,r){"use strict";var e=r(21);t.exports.f=function(t){return new function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=e(n),this.reject=e(r)}(t)}},function(t,n,r){var e=r(4),i=r(3),o=r(110);t.exports=function(t,n){if(e(t),i(n)&&n.constructor===t)return n;var r=o.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";var e=r(6).f,i=r(33),o=r(42),u=r(20),c=r(41),f=r(53),a=r(75),s=r(107),l=r(40),h=r(7),v=r(27).fastKey,p=r(43),y=h?"_s":"size",g=function(t,n){var r,e=v(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,a){var s=t(function(t,e){c(t,s,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=e&&f(e,r,t[a],t)});return o(s.prototype,{clear:function(){for(var t=p(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[y]=0},"delete":function(t){var r=p(this,n),e=g(r,t);if(e){var i=e.n,o=e.p;delete r._i[e.i],e.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==e&&(r._f=i),r._l==e&&(r._l=o),r[y]--}return!!e},forEach:function(t){p(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(p(this,n),t)}}),h&&e(s.prototype,"size",{get:function(){return p(this,n)[y]}}),s},def:function(t,n,r){var e,i,o=g(t,n);return o?o.v=r:(t._l=o={i:i=v(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,n,r){a(t,n,function(t,r){this._t=p(t,n),this._k=r,this._l=void 0},function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?s(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=void 0,s(1))},r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(42),i=r(27).getWeak,o=r(4),u=r(3),c=r(41),f=r(53),a=r(19),s=r(12),l=r(43),h=a(5),v=a(6),p=0,y=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},d=function(t,n){return h(t.a,function(t){return t[0]===n})};g.prototype={get:function(t){var n=d(this,t);if(n)return n[1]},has:function(t){return!!d(this,t)},set:function(t,n){var r=d(this,t);r?r[1]=n:this.a.push([t,n])},"delete":function(t){var n=v(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._t=n,t._i=p++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{"delete":function(t){if(!u(t))return!1;var r=i(t);return!0===r?y(l(this,n))["delete"](t):r&&s(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=i(t);return!0===r?y(l(this,n)).has(t):r&&s(r,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?y(t).set(n,r):e[t._i]=r,t},ufstore:y}},function(t,n,r){var e=r(24),i=r(9);t.exports=function(t){if(void 0===t)return 0;var n=e(t),r=i(n);if(n!==r)throw RangeError("Wrong length!");return r}},function(t,n,r){var e=r(34),i=r(48),o=r(4),u=r(2).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(9),i=r(72),o=r(23);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){var e=r(31),i=r(14),o=r(46).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},,,,,,function(t,n,r){r(124)},function(t,n,r){"use strict";r(125),r(269),r(271),r(273),r(275),r(277),r(279),r(281),r(283),r(285),r(289)},function(t,n,r){r(126),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(198),r(199),r(200),r(201),r(202),r(203),r(204),r(205),r(207),r(208),r(210),r(211),r(212),r(213),r(214),r(215),r(216),r(219),r(220),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(83),r(232),r(233),r(108),r(234),r(235),r(236),r(237),r(109),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),t.exports=r(8)},function(t,n,r){"use strict";var e=r(2),i=r(12),o=r(7),u=r(0),c=r(10),f=r(27).KEY,a=r(1),s=r(63),l=r(37),h=r(29),v=r(5),p=r(64),y=r(90),g=r(127),d=r(67),m=r(4),b=r(3),w=r(14),x=r(26),S=r(28),_=r(33),O=r(93),E=r(17),P=r(6),F=r(31),M=E.f,j=P.f,A=O.f,N=e.Symbol,I=e.JSON,L=I&&I.stringify,T=v("_hidden"),R=v("toPrimitive"),k={}.propertyIsEnumerable,C=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),U=Object.prototype,V="function"==typeof N,G=e.QObject,B=!G||!G.prototype||!G.prototype.findChild,z=o&&a(function(){return 7!=_(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=M(U,n);e&&delete U[n],j(t,n,r),e&&t!==U&&j(U,n,e)}:j,Y=function(t){var n=D[t]=_(N.prototype);return n._k=t,n},H=V&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},J=function(t,n,r){return t===U&&J(W,n,r),m(t),n=x(n,!0),m(r),i(D,n)?(r.enumerable?(i(t,T)&&t[T][n]&&(t[T][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,T)||j(t,T,S(1,{})),t[T][n]=!0),z(t,n,r)):j(t,n,r)},q=function(t,n){m(t);for(var r,e=g(n=w(n)),i=0,o=e.length;o>i;)J(t,r=e[i++],n[r]);return t},K=function(t){var n=k.call(this,t=x(t,!0));return!(this===U&&i(D,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(D,t)||i(this,T)&&this[T][t])||n)},X=function(t,n){if(t=w(t),n=x(n,!0),t!==U||!i(D,n)||i(W,n)){var r=M(t,n);return!r||!i(D,n)||i(t,T)&&t[T][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(w(t)),e=[],o=0;r.length>o;)i(D,n=r[o++])||n==T||n==f||e.push(n);return e},$=function(t){for(var n,r=t===U,e=A(r?W:w(t)),o=[],u=0;e.length>u;)!i(D,n=e[u++])||r&&!i(U,n)||o.push(D[n]);return o};V||(c((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===U&&n.call(W,r),i(this,T)&&i(this[T],t)&&(this[T][t]=!1),z(this,t,S(1,r))};return o&&B&&z(U,t,{configurable:!0,set:n}),Y(t)}).prototype,"toString",function(){return this._k}),E.f=X,P.f=J,r(34).f=O.f=Z,r(46).f=K,r(48).f=$,o&&!r(30)&&c(U,"propertyIsEnumerable",K,!0),p.f=function(t){return Y(v(t))}),u(u.G+u.W+u.F*!V,{Symbol:N});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)v(Q[tt++]);for(var nt=F(v.store),rt=0;nt.length>rt;)y(nt[rt++]);u(u.S+u.F*!V,"Symbol",{"for":function(t){return i(C,t+="")?C[t]:C[t]=N(t)},keyFor:function(t){
if(!H(t))throw TypeError(t+" is not a symbol!");for(var n in C)if(C[n]===t)return n},useSetter:function(){B=!0},useSimple:function(){B=!1}}),u(u.S+u.F*!V,"Object",{create:function(t,n){return void 0===n?_(t):q(_(t),n)},defineProperty:J,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),I&&u(u.S+u.F*(!V||a(function(){var t=N();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);if(r=n=e[1],(b(n)||void 0!==t)&&!H(t))return d(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!H(n))return n}),e[1]=n,L.apply(I,e)}}),N.prototype[R]||r(13)(N.prototype,R,N.prototype.valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(31),i=r(48),o=r(46);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(0);e(e.S,"Object",{create:r(33)})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(7),"Object",{defineProperty:r(6).f})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(7),"Object",{defineProperties:r(92)})},function(t,n,r){var e=r(14),i=r(17).f;r(18)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){var e=r(15),i=r(35);r(18)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(15),i=r(31);r(18)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){r(18)("getOwnPropertyNames",function(){return r(93).f})},function(t,n,r){var e=r(3),i=r(27).onFreeze;r(18)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(3),i=r(27).onFreeze;r(18)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(3),i=r(27).onFreeze;r(18)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(3);r(18)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(3);r(18)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(3);r(18)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(0);e(e.S+e.F,"Object",{assign:r(94)})},function(t,n,r){var e=r(0);e(e.S,"Object",{is:r(143)})},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(0);e(e.S,"Object",{setPrototypeOf:r(69).set})},function(t,n,r){"use strict";var e=r(49),i={};i[r(5)("toStringTag")]="z",i+""!="[object z]"&&r(10)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(0);e(e.P,"Function",{bind:r(95)})},function(t,n,r){var e=r(6).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(7)&&e(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,r){"use strict";var e=r(3),i=r(35),o=r(5)("hasInstance"),u=Function.prototype;o in u||r(6).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(0),i=r(97);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){var e=r(0),i=r(98);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){"use strict";var e=r(2),i=r(12),o=r(22),u=r(71),c=r(26),f=r(1),a=r(34).f,s=r(17).f,l=r(6).f,h=r(50).trim,v=e.Number,p=v,y=v.prototype,g="Number"==o(r(33)(y)),d="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){var r,e,i,o=(n=d?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof v&&(g?f(function(){y.valueOf.call(r)}):"Number"!=o(r))?u(new p(m(n)),r,v):m(n)};for(var b,w=r(7)?a(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(p,b=w[x])&&!i(v,b)&&l(v,b,s(p,b));v.prototype=y,y.constructor=v,r(10)(e,"Number",v)}},function(t,n,r){"use strict";var e=r(0),i=r(24),o=r(99),u=r(72),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},h=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},v=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call("0",7-r.length)+r}return n},p=function(t,n,r){return 0===n?r:n%2==1?p(t,n-1,r*t):p(t*t,n/2,r)};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(1)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),y="",g="0";if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(y="-",f=-f),f>1e-21)if(r=(n=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n}(f*p(2,69,1))-69)<0?f*p(2,-n,1):f/p(2,n,1),r*=4503599627370496,(n=52-n)>0){for(l(0,r),e=a;e>=7;)l(1e7,0),e-=7;for(l(p(10,e,1),0),e=n-1;e>=23;)h(1<<23),e-=23;h(1<<e),l(1,1),h(2),g=v()}else l(0,r),l(1<<-n,0),g=v()+u.call("0",a);return g=a>0?y+((c=g.length)<=a?"0."+u.call("0",a-c)+g:g.slice(0,c-a)+"."+g.slice(c-a)):y+g}})},function(t,n,r){"use strict";var e=r(0),i=r(1),o=r(99),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(0);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(0),i=r(2).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(0);e(e.S,"Number",{isInteger:r(100)})},function(t,n,r){var e=r(0);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(0),i=r(100),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(0);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(0);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(0),i=r(98);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(0),i=r(97);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){var e=r(0),i=r(101),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){var e=r(0),i=Math.asinh;e(e.S+e.F*!(i&&1/i(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(t,n,r){var e=r(0),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(0),i=r(73);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(0),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(0),i=r(74);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(0);e(e.S,"Math",{fround:r(171)})},function(t,n,r){var e=r(73),i=Math.pow,o=i(2,-52),u=i(2,-23),c=i(2,127)*(2-u),f=i(2,-126);t.exports=Math.fround||function(t){var n,r,i=Math.abs(t),a=e(t);return i<f?a*function(t){return t+1/o-1/o}(i/f/u)*f*u:(r=(n=(1+u/o)*i)-(n-i))>c||r!=r?a*(1/0):a*r}},function(t,n,r){var e=r(0),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)f<(r=i(arguments[u++]))?(o=o*(e=f/r)*e+1,f=r):o+=r>0?(e=r/f)*e:r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(0),i=Math.imul;e(e.S+e.F*r(1)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=+t,e=+n,i=65535&r,o=65535&e;return 0|i*o+((65535&r>>>16)*o+i*(65535&e>>>16)<<16>>>0)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){var e=r(0);e(e.S,"Math",{log1p:r(101)})},function(t,n,r){var e=r(0);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(0);e(e.S,"Math",{sign:r(73)})},function(t,n,r){var e=r(0),i=r(74),o=Math.exp;e(e.S+e.F*r(1)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(0),i=r(74),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(0);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){var e=r(0),i=r(32),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){var e=r(0),i=r(14),o=r(9);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){"use strict";r(50)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(102)(!0);r(75)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(0),i=r(102)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(76),u="".endsWith;e(e.P+e.F*r(78)("endsWith"),"String",{endsWith:function(t){var n=o(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),c=void 0===r?e:Math.min(i(r),e),f=String(t);return u?u.call(n,f,c):n.slice(c-f.length,c)===f}})},function(t,n,r){"use strict";var e=r(0),i=r(76);e(e.P+e.F*r(78)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){var e=r(0);e(e.P,"String",{repeat:r(72)})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(76),u="".startsWith;e(e.P+e.F*r(78)("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return u?u.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(11)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(11)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(11)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(11)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";r(11)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(11)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(11)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){"use strict";r(11)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";r(11)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){"use strict";r(11)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";r(11)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(11)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(11)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){var e=r(0);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(0),i=r(15),o=r(26);e(e.P+e.F*r(1)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(0),i=r(206);e(e.P+e.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,n,r){"use strict";var e=r(1),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=e(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!e(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}:o},function(t,n,r){var e=Date.prototype,i=e.toString,o=e.getTime;new Date(NaN)+""!="Invalid Date"&&r(10)(e,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,n,r){var e=r(5)("toPrimitive"),i=Date.prototype;e in i||r(13)(i,e,r(209))},function(t,n,r){"use strict";var e=r(4),i=r(26);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),"number"!=t)}},function(t,n,r){var e=r(0);e(e.S,"Array",{isArray:r(67)})},function(t,n,r){"use strict";var e=r(20),i=r(0),o=r(15),u=r(104),c=r(79),f=r(9),a=r(80),s=r(81);i(i.S+i.F*!r(51)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,g=void 0!==y,d=0,m=s(h);if(g&&(y=e(y,p>2?arguments[2]:void 0,2)),void 0==m||v==Array&&c(m))for(r=new v(n=f(h.length));n>d;d++)a(r,d,g?y(h[d],d):h[d]);else for(l=m.call(h),r=new v;!(i=l.next()).done;d++)a(r,d,g?u(l,y,[i.value,d],!0):i.value);return r.length=d,r}})},function(t,n,r){"use strict";var e=r(0),i=r(80);e(e.S+e.F*r(1)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(0),i=r(14),o=[].join;e(e.P+e.F*(r(45)!=Object||!r(16)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(0),i=r(68),o=r(22),u=r(32),c=r(9),f=[].slice;e(e.P+e.F*r(1)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=new Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(0),i=r(21),o=r(15),u=r(1),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(16)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){"use strict";var e=r(0),i=r(19)(0),o=r(16)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(218);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(3),i=r(67),o=r(5)("species");t.exports=function(t){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(0),i=r(19)(1);e(e.P+e.F*!r(16)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(19)(2);e(e.P+e.F*!r(16)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(19)(3);e(e.P+e.F*!r(16)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(19)(4);e(e.P+e.F*!r(16)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(105);e(e.P+e.F*!r(16)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(0),i=r(105);e(e.P+e.F*!r(16)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(0),i=r(47)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(16)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(14),o=r(24),u=r(9),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(16)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){var e=r(0);e(e.P,"Array",{copyWithin:r(106)}),r(39)("copyWithin")},function(t,n,r){var e=r(0);e(e.P,"Array",{fill:r(82)}),r(39)("fill")},function(t,n,r){"use strict";var e=r(0),i=r(19)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),e(e.P+e.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(39)("find")},function(t,n,r){"use strict";var e=r(0),i=r(19)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(39)(o)},function(t,n,r){r(40)("Array")},function(t,n,r){var e=r(2),i=r(71),o=r(6).f,u=r(34).f,c=r(77),f=r(84),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(7)&&(!p||r(1)(function(){return v[r(5)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var y=(function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}),g=u(s),d=0;g.length>d;)y(g[d++]);l.constructor=a,a.prototype=l,r(10)(e,"RegExp",a)}r(40)("RegExp")},function(t,n,r){"use strict";r(108);var e=r(4),i=r(84),o=r(7),u=/./.toString,c=function(t){r(10)(RegExp.prototype,"toString",t,!0)};r(1)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?c(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=u.name&&c(function(){return u.call(this)})},function(t,n,r){r(52)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(52)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(52)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(52)("split",2,function(t,n,e){"use strict";var i=r(77),o=e,u=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var c=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,f,a,s,l,h=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,y=void 0===n?4294967295:n>>>0,g=new RegExp(t.source,v+"g");for(c||(e=new RegExp("^"+g.source+"$(?!\\s)",v));(f=g.exec(r))&&!((a=f.index+f[0].length)>p&&(h.push(r.slice(p,f.index)),!c&&f.length>1&&f[0].replace(e,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(f[l]=void 0)}),f.length>1&&f.index<r.length&&u.apply(h,f.slice(1)),s=f[0].length,p=a,h.length>=y));)g.lastIndex===f.index&&g.lastIndex++;return p===r.length?!s&&g.test("")||h.push(""):h.push(r.slice(p)),h.length>y?h.slice(0,y):h}}else"0".split(void 0,0).length&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){var e=r(2),i=r(85).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(22)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(!o||e.navigator&&e.navigator.standalone)if(c&&c.resolve){var s=c.resolve(void 0);r=function(){s.then(a)}}else r=function(){i.call(e,a)};else{var l=!0,h=document.createTextNode("");new o(a).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){"use strict";var e=r(112),i=r(43);t.exports=r(56)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(i(this,"Map"),t);return n&&n.v},set:function(t,n){return e.def(i(this,"Map"),0===t?0:t,n)}},e,!0)},function(t,n,r){"use strict";var e=r(112),i=r(43);t.exports=r(56)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(i(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(19)(0),o=r(10),u=r(27),c=r(94),f=r(113),a=r(3),s=r(1),l=r(43),h=u.getWeak,v=Object.isExtensible,p=f.ufstore,y={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=h(t);return!0===n?p(l(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(l(this,"WeakMap"),t,n)}},m=t.exports=r(56)("WeakMap",g,d,f,!0,!0);s(function(){return 7!=(new m).set((Object.freeze||Object)(y),7).get(y)})&&(c((e=f.getConstructor(g,"WeakMap")).prototype,d),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=m.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!v(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},function(t,n,r){"use strict";var e=r(113),i=r(43);r(56)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(i(this,"WeakSet"),t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(0),i=r(57),o=r(86),u=r(4),c=r(32),f=r(9),a=r(3),s=r(2).ArrayBuffer,l=r(54),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,y=h.prototype.slice,g=i.VIEW;e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||a(t)&&g in t}}),e(e.P+e.U+e.F*r(1)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,n){if(void 0!==y&&void 0===n)return y.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(40)("ArrayBuffer")},function(t,n,r){var e=r(0);e(e.G+e.W+e.F*!r(57).ABV,{DataView:r(86).DataView})},function(t,n,r){r(25)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(25)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(25)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){r(25)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(25)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(25)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(25)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(25)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(25)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){var e=r(0),i=r(21),o=r(4),u=(r(2).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(1)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(0),i=r(33),o=r(21),u=r(4),c=r(3),f=r(1),a=r(95),s=(r(2).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(6),i=r(0),o=r(4),u=r(26);i(i.S+i.F*r(1)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(0),i=r(17).f,o=r(4);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(0),i=r(4),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(103)(o,"Object",function(){var t,n=this._k;do if(this._i>=n.length)return{value:void 0,done:!0};while(!((t=n[this._i++])in this._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(17),i=r(35),o=r(12),u=r(0),c=r(3),f=r(4);u(u.S,"Reflect",{get:function t(n,r){var u,a,s=arguments.length<3?n:arguments[2];return f(n)===s?n[r]:(u=e.f(n,r))?o(u,"value")?u.value:void 0!==u.get?u.get.call(s):void 0:c(a=i(n))?t(a,r,s):void 0}})},function(t,n,r){var e=r(17),i=r(0),o=r(4);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(0),i=r(35),o=r(4);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){var e=r(0);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(0),i=r(4),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(0);e(e.S,"Reflect",{ownKeys:r(115)})},function(t,n,r){var e=r(0),i=r(4),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(6),i=r(17),o=r(35),u=r(12),c=r(0),f=r(28),a=r(4),s=r(3);c(c.S,"Reflect",{set:function t(n,r,c){var l,h,v=arguments.length<4?n:arguments[3],p=i.f(a(n),r);if(!p){if(s(h=o(n)))return t(h,r,c,v);p=f(0)}if(u(p,"value")){if(!1===p.writable||!s(v))return!1;if(l=i.f(v,r)){if(l.get||l.set||!1===l.writable)return!1;l.value=c,e.f(v,r,l)}else e.f(v,r,f(0,c));return!0}return void 0!==p.set&&(p.set.call(v,c),!0)}})},function(t,n,r){var e=r(0),i=r(69);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){r(270),t.exports=r(8).Array.includes},function(t,n,r){"use strict";var e=r(0),i=r(47)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(39)("includes")},function(t,n,r){r(272),t.exports=r(8).String.padStart},function(t,n,r){"use strict";var e=r(0),i=r(116),o=r(55);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){r(274),t.exports=r(8).String.padEnd},function(t,n,r){"use strict";var e=r(0),i=r(116),o=r(55);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){r(276),t.exports=r(64).f("asyncIterator")},function(t,n,r){r(90)("asyncIterator")},function(t,n,r){r(278),t.exports=r(8).Object.getOwnPropertyDescriptors},function(t,n,r){var e=r(0),i=r(115),o=r(14),u=r(17),c=r(80);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r,e=o(t),f=u.f,a=i(e),s={},l=0;a.length>l;)void 0!==(r=f(e,n=a[l++]))&&c(s,n,r);return s}})},function(t,n,r){r(280),t.exports=r(8).Object.values},function(t,n,r){var e=r(0),i=r(117)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){r(282),t.exports=r(8).Object.entries},function(t,n,r){var e=r(0),i=r(117)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){"use strict";r(109),r(284),t.exports=r(8).Promise["finally"]},function(t,n,r){"use strict";var e=r(0),i=r(8),o=r(2),u=r(54),c=r(111);e(e.P+e.R,"Promise",{"finally":function(t){var n=u(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return c(n,t()).then(function(){return r})}:t,r?function(r){return c(n,t()).then(function(){throw r})}:t)}})},function(t,n,r){r(286),r(287),r(288),t.exports=r(8)},function(t,n,r){var e=r(2),i=r(0),o=r(55),u=[].slice,c=/MSIE .\./.test(o),f=function(t){return function(n,r){var e=arguments.length>2,i=!!e&&u.call(arguments,2);return t(e?function(){("function"==typeof n?n:Function(n)).apply(this,i)}:n,r)}};i(i.G+i.B+i.F*c,{setTimeout:f(e.setTimeout),setInterval:f(e.setInterval)})},function(t,n,r){var e=r(0),i=r(85);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){for(var e=r(83),i=r(31),o=r(10),u=r(2),c=r(13),f=r(38),a=r(5),s=a("iterator"),l=a("toStringTag"),h=f.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(v),y=0;y<p.length;y++){var g,d=p[y],m=v[d],b=u[d],w=b&&b.prototype;if(w&&(w[s]||c(w,s,h),w[l]||c(w,l,d),f[d]=h,m))for(g in e)w[g]||o(w,g,e[g],!0)}},function(t,n){!function(n){"use strict";function w(t,n,r,e){var i=n&&n.prototype instanceof S?n:S,o=Object.create(i.prototype),u=new A(e||[]);return o._invoke=function(t,n,r){var e=l;return function(i,o){if(e===v)throw new Error("Generator is already running");if(e===p){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var u=r.delegate;if(u){var c=F(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=v;var f=x(t,n,r);if("normal"===f.type){if(e=r.done?p:h,f.arg===y)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=p,r.method="throw",r.arg=f.arg)}}}(t,r,u),o}function x(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function S(){}function _(){}function O(){}
function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function P(t){var n;this._invoke=function(r,e){function o(){return new Promise(function(n,o){!function n(r,e,o,u){var c=x(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&i.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}(r,e,n,o)})}return n=n?n.then(o,o):o()}}function F(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=r,F(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=x(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function M(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function j(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function N(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function n(){for(;++e<t.length;)if(i.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}var r,e=Object.prototype,i=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag",a="object"==typeof t,s=n.regeneratorRuntime;if(s)a&&(t.exports=s);else{(s=n.regeneratorRuntime=a?t.exports:{}).wrap=w;var l="suspendedStart",h="suspendedYield",v="executing",p="completed",y={},g={};g[u]=function(){return this};var d=Object.getPrototypeOf,m=d&&d(d(N([])));m&&m!==e&&i.call(m,u)&&(g=m);var b=O.prototype=S.prototype=Object.create(g);_.prototype=b.constructor=O,O.constructor=_,O[f]=_.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},s.awrap=function(t){return{__await:t}},E(P.prototype),P.prototype[c]=function(){return this},s.AsyncIterator=P,s.async=function(t,n,r,e){var i=new P(w(t,n,r,e));return s.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},s.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},s.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,i){return c.type="throw",c.arg=t,n.next=e,i&&(n.method="next",n.arg=r),!!i}if(this.done)throw t;for(var n=this,o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],c=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=i.call(u,"catchLoc"),a=i.call(u,"finallyLoc");if(f&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var o=e;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),y}},"catch":function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:N(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),y}}}}(function(){return this}()||Function("return this")())},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,r){"use strict";function o(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function u(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}r.d(n,"a",function(){return c});var e=r(87),i=r(88);window.f1x2=window.f1x2||Object.create(null);var c=function(){function t(n,r,o,c,f){var a=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"_handler",void 0),u(this,"_use",!0);var s="".concat(r).concat("/"===r.slice(-1)?"":"/"),l=String(o).toUpperCase(),h="".concat(s).concat(t.baseURL,"list.json");Object(e.a)(h).then(function(r){r[l]?0===r[l].sites.length?Object(i.a)("".concat(s).concat(t.baseURL,"main.min.js")).then(function(){a._handler=new window.f1x2.MessageHandler(n,c,f,r[l])}):a.siteInArray(r[l].sites,Math.abs(c[5]))?Object(i.a)("".concat(s).concat(t.baseURL,"main.min.js")).then(function(){a._handler=new window.f1x2.MessageHandler(n,c,f,r[l])}):a._use=!1:a._use=!1})}return function(t,n,r){n&&o(t.prototype,n),r&&o(t,r)}(t,[{key:"use",value:function(){return this._use}},{key:"check",value:function(t,n){this._handler&&this._handler.check(t,n)}},{key:"siteInArray",value:function(t,n){for(var r=0;r<t.length;r++)if(t[r]===Number(n))return!0;return!1}}]),t}();u(c,"baseURL","infrastr_generic-framework/message-handler.")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,r){r(123),t.exports=r(378)},function(t,n,r){"use strict";r.r(n);var e=r(322);window.f1x2=window.f1x2||Object.create(null),window.f1x2.MessageHandlerInit=e.a}]),!function(A,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NoSleep=e():A.NoSleep=e()}("undefined"!=typeof self?self:this,function(){return function(A){function e(B){if(o[B])return o[B].exports;var Q=o[B]={i:B,l:!1,exports:{}};return A[B].call(Q.exports,Q,Q.exports,e),Q.l=!0,Q.exports}var o={};return e.m=A,e.c=o,e.d=function(A,o,B){e.o(A,o)||Object.defineProperty(A,o,{configurable:!1,enumerable:!0,get:B})},e.n=function(A){var o=A&&A.__esModule?function(){return A["default"]}:function(){return A};return e.d(o,"a",o),o},e.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},e.p="",e(e.s=0)}([function(A,e,o){"use strict";function B(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}var Q=function(){function A(A,e){for(var o=0;o<e.length;o++){var B=e[o];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}return function(e,o,B){return o&&A(e.prototype,o),B&&A(e,B),e}}(),t=o(1),n=t.webm,c=t.mp4,E="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,l=function(){function A(){var e=this;B(this,A),E?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("muted",""),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",n),this._addSourceToVideo(this.noSleepVideo,"mp4",c),this.noSleepVideo.addEventListener("loadedmetadata",function(){e.noSleepVideo.duration<=1?e.noSleepVideo.setAttribute("loop",""):e.noSleepVideo.addEventListener("timeupdate",function(){e.noSleepVideo.currentTime>.5&&(e.noSleepVideo.currentTime=Math.random())})}))}return Q(A,[{key:"_addSourceToVideo",value:function(A,e,o){var B=document.createElement("source");B.src=o,B.type="video/"+e,A.appendChild(B)}},{key:"enable",value:function(){E?(this.disable(),this.noSleepTimer=window.setInterval(function(){document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){E?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),A}();A.exports=l},function(A,e,o){"use strict";A.exports={webm:"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",mp4:"data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}}])}),function(){function exitGame(){if(window.sendCustomEvent("f1x2gan",{detail:"gameClosing"}),gameInfo){var page=gameInfo.path+"/closeSession.jsp",params="sessionID="+gameInfo.username+"&gameID="+gameInfo.gameID+"&accountID="+gameInfo.accountID+"&siteID="+gameInfo.site+"&customerID="+gameInfo.customerID;if(navigator.sendBeacon)navigator.sendBeacon(page+"?beacon=true",params);else{var client=new XMLHttpRequest;client.open("POST",page,!1),client.setRequestHeader("Content-type","application/x-www-form-urlencoded"),client.send("beacon=false&"+params)}}}function doKeepAlivePing(interval,page){interval>0&&doPing&&window.setTimeout(function(){$.ajax({type:"GET",url:page,dataType:"jsonp text xml"}).error(function(jqXHR,textStatus,errorThrown){}).always(function(){doKeepAlivePing(interval,page)})},interval)}if(window.addEventListener("unload",exitGame,!1),"ScomesseItalia"===sessionStorage.getItem("clientName"))setInterval(function(){var url=gameParams.path+"/KeepAlive?sessionID="+gameInfo.username+"&customerID="+gameInfo.customerID+"&username="+gameInfo.username+"&siteID="+gameParams.site;$.post(url,function(data){logger("KeepAlive")})},3e4);else if(sessionStorage.getItem("keepAliveInterval")&&sessionStorage.getItem("keepAliveURL")){var keepAliveInterval=sessionStorage.getItem("keepAliveInterval"),keepAliveURL=sessionStorage.getItem("keepAliveURL"),doPing="0"!==keepAliveInterval&&null!==keepAliveInterval&&!isNaN(keepAliveInterval)&&null!==keepAliveURL&&"null"!==keepAliveURL&&keepAliveURL.length>0;if(doPing){var interval=1e3*Number(keepAliveInterval);interval<30&&(interval=6e4*Number(keepAliveInterval)),doKeepAlivePing(interval,keepAliveURL)}}}(),AutoPanelValueBox.prototype=Object.create(ConsoleValueBox.prototype),AutoPanelValueBox.prototype.constructor=AutoPanelValueBox,BetConsoleValueBox.prototype=Object.create(ConsoleValueBox.prototype),BetConsoleValueBox.prototype.constructor=BetConsoleValueBox,ConsoleValueBox.prototype.constructor=ConsoleValueBox,function(){function GridInput(){function _init(){_this.value="0";var template="";template+='<section id="numberInput">',template+='<div class="wrapper">',template+='<h2 id="numberInputValue">\xa30.00</h2>',template+="<ul>";for(var value in _this.inputs)template+="Delete"===_this.inputs[value]||"Ok"===_this.inputs[value]?'<li id="numberInput'+_this.inputs[value]+'" class="number__input__control">'+_this.inputs[value].toUpperCase()+"</li>":'<li class="number__input'+("."===_this.inputs[value]||0===_this.inputs[value]?" decimal__point":"")+'" data-number="'+value+'">'+_this.inputs[value]+"</li>";template+="</ul>",template+="</div>",template+="</section>",$("#gameFramework").append(template),$(".number__input").on("touchstart",function(e){_this.add(_this.inputs[$(e.target).data("number")])}),$("#numberInputDelete").on("touchstart",function(e){_this.remove()})}var _this=this;_init()}var p=GridInput.prototype;p.inputs=[1,2,3,4,5,6,7,8,9,"Delete",".",0,"Ok"],p.show=function(_callback){var _this=this,callback=_callback||function(){};_this.value="0",$("#numberInputValue").html(loginVars.getCurrencySmb()+"0"),$("#numberInputOk").on("touchstart",function(e){callback(Number(_this.value)),$("#numberInputOk").off("touchstart"),fadeElement($("#numberInput"),"out")}),fadeElement($("#numberInput"),"in")},p.add=function(value){this.value.length<12&&("."===value?this.value.indexOf(".")===-1&&(this.value+=value):"0"===this.value?this.value=""+value:this.value.indexOf(".")>-1?this.value.slice(this.value.indexOf(".")+1).length<2&&(this.value+=value):this.value+=value,$("#numberInputValue").html(loginVars.getCurrencySmb()+this.value))},p.remove=function(){this.value=1===this.value.length?"0":this.value.slice(0,-1),$("#numberInputValue").html(loginVars.getCurrencySmb()+this.value)},window.gridInput=new GridInput}(),function(){window.addEventListener("load",function(){var lastTouchEnd=0;document.documentElement.addEventListener("touchend",function(event){var now=(new Date).getTime();now-lastTouchEnd<=500&&event.preventDefault(),lastTouchEnd=now},!1)})}(),function(){function CherryBlastBonusTable(_bonus,_symbol,_curSymb,_stake){var bonusHTML="";return bonusHTML+='<p class="__bonus__heading">'+Translate["do"]("Bonus")+" "+Translate["do"]("Winnings")+"</p>",bonusHTML+='<section class="cherry__blast__bonus__table">',bonusHTML+='<img src="'+_symbol+'">',bonusHTML+="<p>",bonusHTML+=Translate["do"]("Tier")+" "+_bonus.tier+" | ",bonusHTML+=Translate["do"]("Winnings")+": "+_stake+" x "+_bonus.picks[0].value+" = "+_curSymb+(Number(_stake)*Number(_bonus.picks[0].value)).toFixed(2),bonusHTML+="</p>",bonusHTML+="</section>"}window.f1x2=window.f1x2||{},window.f1x2.CherryBlastBonusTable=CherryBlastBonusTable}(),function(){function CuriousCabinetFreespin(_spin,_assets,_curSymb,_coinValue){var html="";html+='<p class="__bonus__heading">'+Translate["do"]("freespins")+"</p>",html+='<section class="cherry__blast__bonus__table cabinet">';for(var i=0;i<_spin.drawers.length;i++){var type,num,drawer=_spin.drawers[i],match=drawer.match(/[0-9]+/),win=!1;switch(match?(type=drawer.slice(0,match.index),num=match[0]):type=drawer,type){case"silvercoin":win='<img src="'+_assets["silver-coin"]+'" />',win+="<p>"+Translate["do"]("Winnings")+": "+_curSymb+(Number(num)*Number(_coinValue)).toFixed(2)+"</p>";break;case"silvermult":win='<img src="'+_assets["silver-mult"]+'" />',win+="<p>"+Translate["do"]("Multiplier")+": x"+num+"</p>";break;case"goldcoin":win='<img src="'+_assets["gold-coin"]+'" />',win+="<p>"+Translate["do"]("Winnings")+": "+_curSymb+(Number(num)*Number(_coinValue)).toFixed(2)+"</p>";break;case"goldcoin":win='<img src="'+_assets["gold-mult"]+'" />',win+="<p>"+Translate["do"]("Multiplier")+": x"+num+"</p>"}win&&(html+="<div>"+win+"</div>")}return html+="</section>"}window.f1x2=window.f1x2||{},window.f1x2.CuriousCabinetFreespin=CuriousCabinetFreespin}(),MainMenu.prototype.constructor=MainMenu,MenuDesktop.prototype=Object.create(MainMenu.prototype),MenuDesktop.prototype.constructor=MenuDesktop,MenuMobile.prototype=Object.create(MainMenu.prototype),MenuMobile.prototype.constructor=MenuMobile,function(){function MoiraiBlazeFreespin(_spinObj){var html="";return html+='<p class="__bonus__heading">'+Translate["do"]("freespins")+"</p>",html+='<section class="rainbow__wild__freespin">',_spinObj.multiplier&&(html+="<p>",html+=Translate["do"]("Multiplier")+": x"+_spinObj.multiplier,html+="</p>"),html+="</section>"}window.f1x2=window.f1x2||{},window.f1x2.MoiraiBlazeFreespin=MoiraiBlazeFreespin}(),function(){function NeonJungleBonusTable(bonus,img,curSymb){bonus.picks.sort(function(_lhs,_rhs){return Number(_lhs)-Number(_rhs)}),bonus.drawn.sort(function(_lhs,_rhs){return Number(_lhs)-Number(_rhs)});var matches=0,html='<section class="neon__jungle__bonus__table">';html+='<img src="'+img+'" alt="Neon Jungle Bonus Symbol" />',html+="<ul>",html+="<li><h2>"+Translate["do"]("Picks")+":</h2><div>";for(var i=0;i<bonus.picks.length;i++){var v=bonus.picks[i];html+="<span"+(bonus.drawn.indexOf(v)>-1?' class="won"':"")+">"+v+"</span>",bonus.drawn.indexOf(v)>-1&&matches++}html+="</div></li>",html+="<li><h2>"+Translate["do"]("Drawn")+":</h2><div>";for(var i=0;i<bonus.drawn.length;i++){var v=bonus.drawn[i];html+="<span"+(bonus.picks.indexOf(v)>-1?' class="won"':"")+">"+v+"</span>"}return html+="</div></li>",html+="<li><h2>"+Translate["do"]("Matches")+":</h2><div>"+matches+"</div></li>",html+="<li><h2>"+Translate["do"]("Bonus")+" "+Translate["do"]("win")+":</h2><div>"+curSymb+(Number(bonus.win)/100).toFixed(2)+"</div></li>",html+="</ul>",html+="</section>"}window.f1x2=window.f1x2||{},window.f1x2.NeonJungleBonusTable=NeonJungleBonusTable}(),function(){function PaintBonusTable(bonus,assetPaths,curSymb,stake){var splatColours=["blue","green","purple","red","yellow","red","green","blue"],totalMult=0,bonusHTML="<table>";return bonusHTML+="<tr><td>#</td><td>"+Translate["do"]("Selection")+"</td><td>"+Translate["do"]("Outcome")+"</td></tr>",$.each(bonus.picks,function(pickIndex,pick){totalMult+=pick.value==-1?0:pick.value;var colourPath=assetPaths[splatColours[pick.id-1]+"Splat"];bonusHTML+="<tr>",bonusHTML+="<td>"+(pickIndex+1)+"</td>",bonusHTML+='<td><img style="width: 75px;" src="'+colourPath+'" alt="'+splatColours[pick.id]+'Splat" /></td>',bonusHTML+="<td>"+(pick.value==-1?Translate["do"]("END"):"X"+pick.value)+"</td>",bonusHTML+="</tr>"}),bonusHTML+='<tr><td>&nbsp;</td><td>&nbsp;</td><td style="font-weight: bold;">X'+totalMult+"</td></tr>",bonusHTML+='<tr><td style="font-weight: bold;" colspan="2">'+Translate["do"]("Base Multiplier:")+" X"+bonus.tier+'</td><td style="font-weight: bold;">X'+totalMult*bonus.tier+"</td></tr>",bonusHTML+="</table>",bonusHTML='<p class="__bonus__heading">'+Translate["do"]("Total Bonus Winnings:")+" "+curSymb+(stake*totalMult*bonus.tier).toFixed(2)+"</p>"+bonusHTML}window.f1x2=window.f1x2||{},window.f1x2.PaintBonusTable=PaintBonusTable}(),function(){function RainbowWildFreespin(_spinObj,_spinNum,_assets){var html="";if(html+='<p class="__bonus__heading">'+Translate["do"]("freespins")+"</p>",html+='<section class="rainbow__wild__freespin">',_spinObj.bonus){var _fs=_spinObj.freeSpin;html+=7017==gameParams.gameID?'<img class="aw__bonus" src="aztecWilds/img/paytable/feature_'+_spinNum+'_sectors.png">':'<img class="rw__bonus" src="rainbowGold/img/paytable/shamrock_'+_spinNum+'.png">',html+="<p>",html+=Translate["do"]("Win")+": "+_fs.num+" | ",html+=Translate["do"]("Multiplier")+": x"+(0===Number(_fs.multiplier)?1:_fs.multiplier),html+="</p>"}else _spinObj.multiplier&&(7017!=gameParams.gameID&&(html+='<img class="rw__freespin" src="rainbowGold/img/paytable/rainbow.png">'),html+="<p>",html+=Translate["do"]("Multiplier")+": x"+_spinObj.multiplier,html+="</p>");return html+="</section>"}window.f1x2=window.f1x2||{},window.f1x2.RainbowWildFreespin=RainbowWildFreespin}(),function(){function VikingwWildsFreespin(_spinObj,_spinNum,_assets){var html="";if(html+='<p class="__bonus__heading">'+Translate["do"]("freespins")+"</p>",html+='<section class="rainbow__wild__freespin">',_spinObj.bonus){var _fs=_spinObj.freeSpin;html+="<p>",html+=Translate["do"]("Win")+": "+_fs.num+" | ",html+=Translate["do"]("Multiplier")+": x"+(0===Number(_fs.multiplier)?1:_fs.multiplier),html+="</p>"}else _spinObj.multiplier&&(html+="<p>",html+=Translate["do"]("Multiplier")+": x"+_spinObj.multiplier,html+="</p>");return html+="</section>"}window.f1x2=window.f1x2||{},window.f1x2.VikingwWildsFreespin=VikingwWildsFreespin}(),function(){function WaiKikiBonusTable(_conf){var bonusHTML="";return _conf.fs&&(bonusHTML+='<p class="__bonus__heading">'+Translate["do"]("freespins")+"</p>",bonusHTML+='<section class="cherry__blast__bonus__table">',bonusHTML+='<img src="'+_conf.assets[0]+'">',bonusHTML+="<p>",bonusHTML+=Translate["do"]("Total Win")+": "+_conf.fs.num,bonusHTML+="</p>",bonusHTML+="</section>"),_conf.tk&&(bonusHTML+='<p class="__bonus__heading">'+Translate["do"]("Token Win")+"</p>",bonusHTML+='<section class="cherry__blast__bonus__table">',bonusHTML+='<img src="'+_conf.assets[1]+'">',bonusHTML+="<p>",bonusHTML+=Translate["do"]("Total Win")+": "+_conf.tk,bonusHTML+=_conf.cw?" | "+Translate["do"]("Winnings")+": "+_conf.cw:"",bonusHTML+="</p>",bonusHTML+="</section>"),bonusHTML}window.f1x2=window.f1x2||{},window.f1x2.WaiKikiBonusTable=WaiKikiBonusTable}(),function(){function fadeElement(_elem,_mode,_callback){var elem=$(_elem),mode="in"===_mode||_mode===!0?1:"out"===_mode||_mode===!1?0:-1,callback=_callback||function(){};if(elem&&mode>-1){logger("Fade Element",elem,mode);var func,classFunc,display,visibility,fromVars={},toVars={opacity:mode};1===mode?(fromVars.opacity=0,func="onStart",classFunc="remove",display=!ReelConfig.newUI||"settingsTabPage"!==elem.attr("id")&&"gameHistoryPage"!==elem.attr("id")?"block":"flex",visibility="visible"):(fromVars.opacity=1,func="onComplete",classFunc="add",display="none",visibility="hidden"),toVars[func]=function(){elem.css("display",display),elem.css("visibility",visibility),elem[classFunc+"Class"]("hidden"),callback()},TweenMax.fromTo(elem,.4,fromVars,toVars)}}window.fadeElement=fadeElement}(),MessageScreen.showGenericError=function(value){var value_=value||"Apparently we\u2019re having some trouble, please try again later.";void 0!=autoPlayManager_&&autoPlayManager_.getIsInAutoPlay()&&(autoPlayManager_.toggleAutoPlay(),framework.setAutoPlayState(0),ReelConfig.newUI&&!framework.isTouch()&&(window.newUI.autospin().state="START")),void 0!=spinManager_&&spinManager_.getSpinned()&&spinManager_.stopSpinForError(),void 0!=buttonManager_&&buttonManager_.applyState("NH");var message_=new MessageScreen(value_,"error","Something went wrong!",[{label:"Lobby",action:function(){message_.destroy(),window.sendCustomEvent("f1x2gan",{detail:"gameClosing"}),f1x2.clientWrapperInit.send("game-close"),f1x2.clientWrapperInit.doLobbyURLNavigate&&window.top.location.replace(gameParams.lobbyurl)}}],(!1))},MessageScreen.showMessageFromServer=function(value,errorCode){var buttons=[{label:"Lobby",action:function(){message_.destroy(),window.sendCustomEvent("f1x2gan",{detail:"gameClosing"}),f1x2.clientWrapperInit.send("game-close"),f1x2.clientWrapperInit.doLobbyURLNavigate&&window.top.location.replace(gameParams.lobbyurl)}}];50089==errorCode&&(buttons=[{label:"OK",action:function(){message_.destroy(),window.location.reload()}}]);var value_=value;void 0!=autoPlayManager_&&autoPlayManager_.getIsInAutoPlay()&&(autoPlayManager_.toggleAutoPlay(),framework.setAutoPlayState(0)),void 0!=spinManager_&&spinManager_.getSpinned()&&spinManager_.stopSpinForError(),void 0!=buttonManager_&&(50089==errorCode?buttonManager_.applyState("NH"):buttonManager_.applyState("AFTERSPIN"));var message_=new MessageScreen(value_,"error","Something went wrong!",buttons,(!1))};var animationManager_,loaderManager_,loader_,spriteManager_,lineManager_,lineWinAmtManager_,displayManager_,buttonManager_,spinManager_,soundManager_,balanceManager_,winAmtManager_,autoPlayManager_,freeSpinsManager_,winManager_,previewManager_,multiplierManager_,wildManager_,scatterManager_,bonusManager_,freeRoundsManager_,paytableManager_,timeHandle_,messageBox_,freeRoundMessageReq_,featureMessageReq_,twinReelManager_,guiBottomBar_,epsy_,communicationManager_,idleCycleManager_,creditCardDisplay_,centralWinStages_,loaderManager_,framework,Translate={translationsGame:null,translationsGeneral:null,tObj:null,tLangObj:null,parseLang:function(){tObj=[],tLangObj=[];for(var a in this.translationsGeneral)for(var key in this.translationsGeneral[a])tObj[key]=this.translationsGeneral[a][key],tLangObj[key]=null;for(var a in this.translationsGame){var index=0,baseKey="";for(var key in this.translationsGame[a])index++,""==baseKey&&(tObj[key]=this.translationsGame[a][key],baseKey=key),index>1&&(null==tLangObj[baseKey]&&(tLangObj[baseKey]={}),tLangObj[baseKey][key]=this.translationsGame[a][key])}},"do":function(msg){if(void 0==msg||void 0==tObj)return"";logger("Translate message "+msg);var ret=msg;return null!=tObj[msg]&&(ret=tObj[msg]),ret},langModifier:function(group,text,msg){if(void 0==msg||void 0==tLangObj)return null;var ret=null;return null!=tLangObj[msg]&&null!=tLangObj[msg][group+"_"+text]&&(ret=tLangObj[msg][group+"_"+text]),ret}},Util={decSep:".",thoSep:"",getNumericValue:function(str){return str=str.toString(),0==str.length?str:","==this.thoSep?str.indexOf(",")<0?str:Number(str.replace(/,/g,"")):Number(str)},formatNumber:function(num,decimal){num=Number(num)>0?Number(num)+.001:Number(num);var str=num.toString(),sep=".",sep_t="",result=str.split("."),base=result[0],newBase="";null==base&&(base="0");
for(var ar=base.split(""),cont=0,i=ar.length-1;i>=0;i--)cont++,3==cont&&0!=i&&(num>=1e3||num<=-1e3)?(newBase=sep_t+ar[i]+newBase,cont=0):newBase=ar[i]+newBase;var dec=result[1];null==dec&&(dec=""),dec+="00000000000000000000000000000",dec=dec.substr(0,decimal);var nStr;nStr=decimal>0?newBase+sep+dec:newBase,nStr+="",x=nStr.split("."),x1=x[0],x2=x.length>1?this.decSep+x[1]:"";var rgx=/(\d+)(\d{3})/;if(""!=this.thoSep)for(;rgx.test(x1);)x1=x1.replace(rgx,"$1"+this.thoSep+"$2");return x1+x2},formatNumb:function(num,decimal){num=Number(num)+1e-13;var str=num.toString(),sep=".",sep_t="",result=str.split("."),base=result[0],newBase="";null==base&&(base="0");for(var ar=base.split(""),cont=0,i=ar.length-1;i>=0;i--)cont++,3==cont&&0!=i&&(num>=1e3||num<=-1e3)?(newBase=sep_t+ar[i]+newBase,cont=0):newBase=ar[i]+newBase;var dec=result[1];null==dec&&(dec=""),dec+="00000000000000000000000000000",dec=dec.substr(0,decimal);var nStr;return nStr=decimal>0?newBase+sep+dec:newBase},formatTwoDigit:function(num){var _num="00"+num;return _num.substr(_num.length-2,2)},getRandomInt:function(min,max){return Math.floor(Math.random()*(max-min+1))+min},getNubersOfDecimal:function(){return balanceManager_.getShowIncredits()?0:2}},isBST=isBSTinEffect();Phaser.Filter.FloatingLines=function(game){Phaser.Filter.call(this,game),this.uniforms.line={type:"1f",value:-1},this.fragmentSrc=["#ifdef GL_ES","precision mediump float;","#endif","uniform float time;","uniform vec2 resolution;","uniform float line;","float A;","float K;","float Phi;","float deltaY;","float deltaX;","const float limitSx=.17;","const float limitDx=.83;","const float limitTop=.87;","const float limitBott=.33;","const float decreaseSize=.51;","const float glowSize=5.0;","float exper(float x, float time){","float A_factor=10.0*(sin(time)/2000.0);","float K_factor=10.0*(sin(time)/1000.0);","float Phi_factor=0.00;//10.0*(sin(time)/1000.0);","float deltaY_factor=10.0*(sin(time)/2000.0);","float yCoord=0.0;","float sinxs;","A=.02;","K=12.3;","Phi=1.3;","deltaY=.56;","if (line==0.0)","yCoord= ((A +A_factor)*(sin((K +K_factor)*(x+(Phi+Phi_factor))))+deltaY + deltaY_factor-.1);","return yCoord;","}","void main(void) {","vec2 pos = gl_FragCoord.xy / vec2(1920,1080);","float pixelCol = 0.0;","if (pos.x>limitSx && pos.x<limitDx && pos.y<limitTop && pos.y>limitBott){","if (pos.x>decreaseSize)","pixelCol = 1.0*((1.005-pos.x-limitSx)*glowSize)/distance(pos,vec2(pos.x,exper(pos.x,time)));","else","pixelCol = 1.0*((pos.x-limitSx)*glowSize)/distance(pos,vec2(pos.x,exper(pos.x,time)));","}","gl_FragColor =vec4(vec3(pixelCol * vec3(.001, 0.002, 0.006)),0.1);","}"]},Phaser.Filter.FloatingLines.prototype=Object.create(Phaser.Filter.prototype),Phaser.Filter.FloatingLines.prototype.constructor=Phaser.Filter.FloatingLines,Object.defineProperty(Phaser.Filter.FloatingLines.prototype,"line",{get:function(){return this.uniforms.line.value},set:function(value){this.uniforms.line.value=value}}),function(){window.sendCustomEvent=function(_name,_params){if(window.CustomEvent){var evt;"object"==typeof window.CustomEvent?(evt=document.createEvent("CustomEvent"),evt.initCustomEvent(_name,!0,!0,_params)):evt=new CustomEvent(_name,_params),window.dispatchEvent(evt)}}}();var gameClass_,gameGUI,game,mainDivWrapper,mainDiv,hasFocus_=!0,created_=!1,barDisabled=!1,iDisableBarTime_=1e3,loadingAssNum_=0,loaded_=!1,gameInfo,iOS,message,messagesSE,phaserVer_=2,canRotate_=!0,buyFeatureAvailable_=!1,clientName_="",clientDispName_="",loginVars=new LaunchParams,gameParams=loginVars.getGameParams(),noSleep=new NoSleep;framework=new Framework(gameParams.forceMobile),loginVars.setMobile(framework.isTouch());var scriptConfigPath="../gameJs/"+gameParams.folderName+"/config.js";framework.isTouch()&&(scriptConfigPath="../gameJs/"+gameParams.folderName+"/mobile/config.js");var scriptsToLoad=[scriptConfigPath,"../gameJs/"+gameParams.folderName+"/game.js"];if("real"!==gameParams.fun_real){var scriptConfigForce="../gameJs/"+gameParams.folderName+"/force.js";$.getScript(scriptConfigForce,function(){})}if("GAN"===gameParams.clientName&&"real"===gameParams.fun_real){var _context=window,ganScript=document.createElement("script");ganScript.type="text/javascript",ganScript.async=!0,ganScript.onload=function(){var localGanScript=document.createElement("script");localGanScript.type="text/javascript",localGanScript.async=!0,localGanScript.src="../../../f1x2games/gan/main.min.js",document.body.appendChild(localGanScript),localGanScript.onload=function(){function resume(){function _do(){buttonManager_?buttonManager_.applyRestore():setTimeout(_do,250)}firstCallR?(firstCallR=!1,_do()):buttonManager_.applyRestore()}function hide(){function _do(){buttonManager_?buttonManager_.applyHide():setTimeout(_do,250)}firstCallH?(firstCallH=!1,_do()):buttonManager_.applyHide()}function balance(){function _do(){balanceManager_?communicationManager_.sendBalanceReq():setTimeout(_do,250)}firstCallB?(firstCallB=!1,_do()):communicationManager_.sendBalanceReq()}var firstCallR=!0,firstCallH=!0,firstCallB=!0;f1x2gan.main=new f1x2gan.Main(_context,function(_value){gameInfo.username+=_value},resume,hide,balance,function(_x,_y){var sX=_x/framework.GAME_WIDTH,sY=_y/framework.GAME_HEIGHT,s=sX*framework.GAME_HEIGHT>_y?sY:sX;framework.resize(_x,_y,s),document.getElementById("gameContainer").style.height=_y+"px";var aams=document.getElementsByClassName("aams__container");aams.length>0&&(aams[0].outerHTML="")})}},ganScript.src="https://itapi.alpha.gameaccount.com/js/ganSlipstream.js",document.body.appendChild(ganScript)}for(var loadCount=0,numScripts=scriptsToLoad.length,i=0;i<numScripts;i++)$.getScript(scriptsToLoad[i],function(){loadCount++,loadCount===numScripts&&start_()});$("#debug").click(function(e){}),$(window).blur(function(){hasFocus_=!1,noSleep.disable(),1==created_&&1==loaded_&&void 0!=communicationManager_&&null!=gameClass_&&null!=gameClass_.getOnGame&&1==gameClass_.getOnGame()&&soundManager_.stopAllFocus()}),$(window).focus(function(){hasFocus_=!0,1==created_&&1==loaded_&&void 0==communicationManager_?setTimeout(initGame_,500):1==created_&&1==loaded_&&void 0!=communicationManager_&&null!=gameClass_&&null!=gameClass_.getOnGame&&1==gameClass_.getOnGame()&&soundManager_.resumeAllFocus()}),window.addEventListener("resize",function(){1==ReelConfig.newUI?(null!=framework&&1==framework.isTouch()&&null!=gameClass_&&null!=gameClass_.hideGame&&gameClass_.hideGame(!0),new Debounce(function(){adjust()},500).guaranteedFire()):adjust()}),$(window).on("orientationchange",function(){if(1==ReelConfig.newUI){if(void 0==gameGUI||null==spinManager_)return;gameGUI.askFull()}}),new window.f1x2.GameiomHandler(function(){buttonManager_.applyHide()},function(){buttonManager_.applyRestore()}),f1x2.gcmMuteOption=function(v_){f1x2.gcmConnected&&(1==v_?soundManager_.stopAll():soundManager_.resumeAll())},window.f1x2.clientWrapperInit=new window.f1x2.ClientWrapperInit({path:gameParams.path,pathCDN:gameParams.pathCDN+"f1x2games",clientName:gameParams.clientName,lobbyURL:gameParams.lobbyurl,jurisdiction:loginVars.getRegParams().jurisdiction,siteID:gameParams.site,gameID:gameParams.gameID,gcmEnv:gameParams.gcmEnv,gcmParams:gameParams.gcmParams,ukgcURL:gameParams.ukGCLink},{"game-pause":function(){buttonManager_.applyHide()},"game-resume":function(){buttonManager_.applyRestore()},"audio-enable":function(){soundManager_.resumeAll()},"audio-disable":function(){soundManager_.stopAll()},"update-balance":function(balance){balanceManager_.setBalance(balance),balanceManager_.forceBalanceUpdate()},"autoplay-disable":function(){autoPlayManager_.getIsInAutoPlay()&&autoPlayManager_.toggleAutoPlay(),framework.setAutoPlayState(0),framework.setAutoPlayState(0),framework.hideApSettings()}}),document.body.onkeyup=function(e){if(32==e.keyCode){if(1==created_&&1==loaded_&&void 0!=communicationManager_&&null!=gameClass_&&null!=gameClass_.getOnGame&&1==gameClass_.getOnGame()&&framework.getSettings().getSpaceEnabled()&&void 0!=autoPlayManager_&&0==autoPlayManager_.getIsInAutoPlay())if(null!=gameClass_.isSpinning&&gameClass_.isSpinning())null!=gameClass_.doStop&&"es"!=loginVars.getRegParams().jurisdiction&&"se"!=loginVars.getRegParams().jurisdiction&&"co"!=loginVars.getRegParams().jurisdiction&&0==spinManager_.getCompulsivePlayer()&&void 0!=freeSpinsManager_&&0==freeSpinsManager_.getIsInFs()&&gameClass_.doStop(),"7015"==gameParams.gameID&&null!=gameClass_.doWheel&&gameClass_.doWheel();else if(void 0!=freeSpinsManager_&&0==freeSpinsManager_.getIsInFs()){if(null!=gameClass_.getWasBuyIn&&gameClass_.getWasBuyIn()>0)return;resetAp_(),gameClass_.doSpin()}return e.preventDefault(),!(32==e.keyCode)}49==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(1):50==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(2):51==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(3):52==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(4):53==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(5):54==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(6):55==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(7):56==e.keyCode&&e.ctrlKey&&e.altKey?void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(8):57==e.keyCode&&e.ctrlKey&&e.altKey&&void 0!=gameClass_.startForcing&&"real"!=gameParams.fun_real&&gameClass_.startForcing(9)};
//# sourceMappingURL=main.min.js.map